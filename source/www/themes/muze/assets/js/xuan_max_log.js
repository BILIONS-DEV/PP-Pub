/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 95);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

function _typeof(obj) {
  "@babel/helpers - typeof";

  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    module.exports = _typeof = function _typeof(obj) {
      return typeof obj;
    };

    module.exports["default"] = module.exports, module.exports.__esModule = true;
  } else {
    module.exports = _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };

    module.exports["default"] = module.exports, module.exports.__esModule = true;
  }

  return _typeof(obj);
}

module.exports = _typeof;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 1 */
/***/ (function(module, exports) {

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

module.exports = _classCallCheck;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 2 */
/***/ (function(module, exports) {

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

module.exports = _createClass;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return handleBarsCustom; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return classListRegister; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return browserSniff; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return deepCompare; });
/* unused harmony export shuffle */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return isNode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return isElement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return getTextShow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SiemaDefine; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return SplideDefine; });
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);

function handleBarsCustom(template, objData) {
  if (!template) {
    return null;
  }

  function escapeRegExp(string) {
    return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // $& means the whole matched string
  }

  function replaceAll(str, match, replacement) {
    return str.replace(new RegExp(escapeRegExp(match), 'g'), function () {
      return replacement;
    });
  }

  for (var key in objData) {
    template = replaceAll(template, "{{{" + key + "}}}", objData[key]);
  }

  return template;
} //Register classlist with old browser

function classListRegister() {
  // helpers
  var regExp = function regExp(name) {
    return new RegExp('(^| )' + name + '( |$)');
  };

  var forEach = function forEach(list, fn, scope) {
    for (var i = 0; i < list.length; i++) {
      fn.call(scope, list[i]);
    }
  }; // class list object with basic methods


  function ClassList(element) {
    this.element = element;
  }

  ClassList.prototype = {
    add: function add() {
      forEach(arguments, function (name) {
        if (!this.contains(name)) {
          this.element.className += ' ' + name;
        }
      }, this);
    },
    remove: function remove() {
      forEach(arguments, function (name) {
        this.element.className = this.element.className.replace(regExp(name), '');
      }, this);
    },
    toggle: function toggle(name) {
      return this.contains(name) ? (this.remove(name), false) : (this.add(name), true);
    },
    contains: function contains(name) {
      return regExp(name).test(this.element.className);
    },
    // bonus..
    replace: function replace(oldName, newName) {
      this.remove(oldName), this.add(newName);
    }
  }; // IE8/9, Safari

  if (!('classList' in Element.prototype)) {
    Object.defineProperty(Element.prototype, 'classList', {
      get: function get() {
        return new ClassList(this);
      }
    });
  } // replace() support for others


  if (window.DOMTokenList && DOMTokenList.prototype.replace == null) {
    DOMTokenList.prototype.replace = ClassList.prototype.replace;
  }

  (function () {
    if (typeof NodeList.prototype.forEach === "function") return false;
    NodeList.prototype.forEach = Array.prototype.forEach;
  })();
} //check browser

function browserSniff() {
  var nVer = navigator.appVersion,
      nAgt = navigator.userAgent,
      browserName = navigator.appName,
      fullVersion = '' + parseFloat(navigator.appVersion),
      majorVersion = parseInt(navigator.appVersion, 10),
      nameOffset,
      verOffset,
      ix; // MSIE 11

  if (navigator.appVersion.indexOf("Windows NT") !== -1 && navigator.appVersion.indexOf("rv:11") !== -1) {
    browserName = "IE";
    fullVersion = "11;";
  } // MSIE
  else if ((verOffset = nAgt.indexOf("MSIE")) !== -1) {
      browserName = "IE";
      fullVersion = nAgt.substring(verOffset + 5);
    } // Chrome
    else if ((verOffset = nAgt.indexOf("Chrome")) !== -1) {
        browserName = "Chrome";
        fullVersion = nAgt.substring(verOffset + 7);
      } // Safari
      else if ((verOffset = nAgt.indexOf("Safari")) !== -1) {
          browserName = "Safari";
          fullVersion = nAgt.substring(verOffset + 7);

          if ((verOffset = nAgt.indexOf("Version")) !== -1) {
            fullVersion = nAgt.substring(verOffset + 8);
          }
        } // Firefox
        else if ((verOffset = nAgt.indexOf("Firefox")) !== -1) {
            browserName = "Firefox";
            fullVersion = nAgt.substring(verOffset + 8);
          } // In most other browsers, "name/version" is at the end of userAgent
          else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {
              browserName = nAgt.substring(nameOffset, verOffset);
              fullVersion = nAgt.substring(verOffset + 1);

              if (browserName.toLowerCase() == browserName.toUpperCase()) {
                browserName = navigator.appName;
              }
            } // Trim the fullVersion string at semicolon/space if present


  if ((ix = fullVersion.indexOf(";")) !== -1) {
    fullVersion = fullVersion.substring(0, ix);
  }

  if ((ix = fullVersion.indexOf(" ")) !== -1) {
    fullVersion = fullVersion.substring(0, ix);
  } // Get major version


  majorVersion = parseInt('' + fullVersion, 10);

  if (isNaN(majorVersion)) {
    fullVersion = '' + parseFloat(navigator.appVersion);
    majorVersion = parseInt(navigator.appVersion, 10);
  } // Return data


  return [browserName, majorVersion];
}
; //Compare object

function deepCompare() {
  var i, l, leftChain, rightChain;

  function compare2Objects(x, y) {
    var p; // remember that NaN === NaN returns false
    // and isNaN(undefined) returns true

    if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {
      return true;
    } // Compare primitives and functions.     
    // Check if both arguments link to the same object.
    // Especially useful on the step where we compare prototypes


    if (x === y) {
      return true;
    } // Works in case when functions are created in constructor.
    // Comparing dates is a common scenario. Another built-ins?
    // We can even handle functions passed across iframes


    if (typeof x === 'function' && typeof y === 'function' || x instanceof Date && y instanceof Date || x instanceof RegExp && y instanceof RegExp || x instanceof String && y instanceof String || x instanceof Number && y instanceof Number) {
      return x.toString() === y.toString();
    } // At last checking prototypes as good as we can


    if (!(x instanceof Object && y instanceof Object)) {
      return false;
    }

    if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {
      return false;
    }

    if (x.constructor !== y.constructor) {
      return false;
    }

    if (x.prototype !== y.prototype) {
      return false;
    } // Check for infinitive linking loops


    if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {
      return false;
    } // Quick checking of one object being a subset of another.
    // todo: cache the structure of arguments[0] for performance


    for (p in y) {
      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {
        return false;
      } else if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(y[p]) !== _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(x[p])) {
        return false;
      }
    }

    for (p in x) {
      if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {
        return false;
      } else if (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(y[p]) !== _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(x[p])) {
        return false;
      }

      switch (_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(x[p])) {
        case 'object':
        case 'function':
          leftChain.push(x);
          rightChain.push(y);

          if (!compare2Objects(x[p], y[p])) {
            return false;
          }

          leftChain.pop();
          rightChain.pop();
          break;

        default:
          if (x[p] !== y[p]) {
            return false;
          }

          break;
      }
    }

    return true;
  }

  if (arguments.length < 1) {
    return true; //Die silently? Don't know how to handle such case, please help...
    // throw "Need two or more arguments to compare";
  }

  for (i = 1, l = arguments.length; i < l; i++) {
    leftChain = []; //Todo: this can be cached

    rightChain = [];

    if (!compare2Objects(arguments[0], arguments[i])) {
      return false;
    }
  }

  return true;
} //shuffle array

function shuffle(array) {
  var currentIndex = array.length,
      temporaryValue,
      randomIndex; // While there remain elements to shuffle...

  while (0 !== currentIndex) {
    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1; // And swap it with the current element.

    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
} // Returns true if it is a DOM node

function isNode(o) {
  return (typeof Node === "undefined" ? "undefined" : _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Node)) === "object" ? o instanceof Node : o && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(o) === "object" && typeof o.nodeType === "number" && typeof o.nodeName === "string";
} //Returns true if it is a DOM element    

function isElement(o) {
  return (typeof HTMLElement === "undefined" ? "undefined" : _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(HTMLElement)) === "object" ? o instanceof HTMLElement : //DOM2
  o && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(o) === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string";
}
function getTextShow(language) {
  var textShowList = {
    english: {
      play: 'Play',
      pause: 'Pause',
      next: 'Next',
      prev: 'Previous',
      fullscreen: 'Fullscreen',
      collapse: 'Collapse',
      enableVolume: 'Enable Volume',
      disableVolume: 'Disable Volume',
      nowPlaying: 'Now Playing',
      readMore: 'Read More',
      powerBy: 'Powered by'
    },
    espanol: {
      play: 'Tocar',
      pause: 'Pausa',
      next: 'Próximo',
      prev: 'Previo',
      fullscreen: 'Pantalla Completa',
      collapse: 'Colapso',
      enableVolume: 'Habilitar Volumen',
      disableVolume: 'Desactivar Volumen',
      nowPlaying: 'Jugando ahora',
      readMore: 'Leer Más',
      powerBy: 'Desarrollada por'
    },
    vietnamese: {
      play: 'Phát',
      pause: 'Tạm Dừng',
      next: 'Tiếp Theo',
      prev: 'Trước',
      fullscreen: 'Toàn Màn Hình',
      collapse: 'Thu Nhỏ',
      enableVolume: 'Mở Tiếng',
      disableVolume: 'Tắt Tiếng',
      nowPlaying: 'Đang Chạy',
      readMore: 'Đọc Thêm',
      powerBy: 'Cung Cấp Bởi'
    },
    japanese: {
      play: '演奏する',
      pause: '一時停止',
      next: '次',
      prev: '前',
      fullscreen: '全画面表示',
      collapse: '崩壊',
      enableVolume: 'ボリュームを有効にする',
      disableVolume: 'ボリュームを無効にする',
      nowPlaying: '再生中',
      readMore: '続きを読む',
      powerBy: '搭載'
    }
  };
  var languageList = Object.keys(textShowList);

  if (typeof language != 'string' || !languageList.includes(language)) {
    language = languageList[0];
  }

  return textShowList[language];
}
function SiemaDefine() {
  !function (e, t) {
    "object" == (typeof exports === "undefined" ? "undefined" : _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(exports)) && "object" == ( false ? undefined : _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(module)) ? module.exports = t() : "function" == typeof define && __webpack_require__(94) ? define("Siema", [], t) : "object" == (typeof exports === "undefined" ? "undefined" : _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(exports)) ? exports.Siema = t() : e.Siema = t();
  }("undefined" != typeof self ? self : this, function () {
    return function (e) {
      function t(r) {
        if (i[r]) return i[r].exports;
        var n = i[r] = {
          i: r,
          l: !1,
          exports: {}
        };
        return e[r].call(n.exports, n, n.exports, t), n.l = !0, n.exports;
      }

      var i = {};
      return t.m = e, t.c = i, t.d = function (e, i, r) {
        t.o(e, i) || Object.defineProperty(e, i, {
          configurable: !1,
          enumerable: !0,
          get: r
        });
      }, t.n = function (e) {
        var i = e && e.__esModule ? function () {
          return e["default"];
        } : function () {
          return e;
        };
        return t.d(i, "a", i), i;
      }, t.o = function (e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
      }, t.p = "", t(t.s = 0);
    }([function (e, t, i) {
      "use strict";

      Object.defineProperty(t, "__esModule", {
        value: !0
      });

      var r = "function" == typeof Symbol && "symbol" == _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(Symbol.iterator) ? function (e) {
        return _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);
      } : function (e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(e);
      },
          n = function () {
        function e(e, t) {
          for (var i = 0; i < t.length; i++) {
            var r = t[i];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);
          }
        }

        return function (t, i, r) {
          return i && e(t.prototype, i), r && e(t, r), t;
        };
      }(),
          s = function () {
        function e(t) {
          var i = this;
          if (function (e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
          }(this, e), this.config = e.mergeSettings(t), this.selector = "string" == typeof this.config.selector ? this.config.root.querySelector(this.config.selector) : this.config.selector, null === this.selector) throw new Error("Something wrong with your selector ÃƒÆ’Ã¢â‚¬Å¾ÃƒÂ¢Ã¢â€šÂ¬Ã‹Å“ÃƒÆ’Ã¢â‚¬Â¦Ãƒâ€šÃ‚Â¸ÃƒÆ’Ã¢â‚¬Â¹Ãƒâ€¦Ã¢â‚¬Å“ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â­");
          this.resolveSlidesNumber(), this.selectorWidth = this.selector.offsetWidth + 5, this.innerElements = [].slice.call(this.selector.children), this.currentSlide = this.config.loop ? this.config.startIndex % this.innerElements.length : Math.max(0, Math.min(this.config.startIndex, this.innerElements.length - this.perPage)), this.transformProperty = e.webkitOrNot(), ["resizeHandler", "touchstartHandler", "touchendHandler", "touchmoveHandler", "mousedownHandler", "mouseupHandler", "mouseleaveHandler", "mousemoveHandler", "clickHandler"].forEach(function (e) {
            i[e] = i[e].bind(i);
          }), this.init();
        }

        return n(e, [{
          key: "attachEvents",
          value: function value() {
            window.addEventListener("resize", this.resizeHandler), this.config.draggable && (this.pointerDown = !1, this.drag = {
              startX: 0,
              endX: 0,
              startY: 0,
              letItGo: null,
              preventClick: !1
            }, this.selector.addEventListener("touchstart", this.touchstartHandler), this.selector.addEventListener("touchend", this.touchendHandler), this.selector.addEventListener("touchmove", this.touchmoveHandler), this.selector.addEventListener("mousedown", this.mousedownHandler), this.selector.addEventListener("mouseup", this.mouseupHandler), this.selector.addEventListener("mouseleave", this.mouseleaveHandler), this.selector.addEventListener("mousemove", this.mousemoveHandler), this.selector.addEventListener("click", this.clickHandler));
          }
        }, {
          key: "detachEvents",
          value: function value() {
            window.removeEventListener("resize", this.resizeHandler), this.selector.removeEventListener("touchstart", this.touchstartHandler), this.selector.removeEventListener("touchend", this.touchendHandler), this.selector.removeEventListener("touchmove", this.touchmoveHandler), this.selector.removeEventListener("mousedown", this.mousedownHandler), this.selector.removeEventListener("mouseup", this.mouseupHandler), this.selector.removeEventListener("mouseleave", this.mouseleaveHandler), this.selector.removeEventListener("mousemove", this.mousemoveHandler), this.selector.removeEventListener("click", this.clickHandler);
          }
        }, {
          key: "init",
          value: function value() {
            this.attachEvents(), this.selector.style.overflow = "hidden", this.selector.style.direction = this.config.rtl ? "rtl" : "ltr", this.buildSliderFrame(), this.config.onInit.call(this);
          }
        }, {
          key: "buildSliderFrame",
          value: function value() {
            var e = this.selectorWidth / this.perPage,
                t = this.config.loop ? this.innerElements.length + 2 * this.perPage : this.innerElements.length;
            this.sliderFrame = document.createElement("vli"), this.sliderFrame.style.width = e * t + "px", this.enableTransition(), this.config.draggable && (this.selector.style.cursor = "-webkit-grab");
            var i = document.createDocumentFragment();
            if (this.config.loop) for (var r = this.innerElements.length - this.perPage; r < this.innerElements.length; r++) {
              var n = this.buildSliderFrameItem(this.innerElements[r].cloneNode(!0));
              i.appendChild(n);
            }

            for (var s = 0; s < this.innerElements.length; s++) {
              var l = this.buildSliderFrameItem(this.innerElements[s]);
              i.appendChild(l);
            }

            if (this.config.loop) for (var o = 0; o < this.perPage; o++) {
              var a = this.buildSliderFrameItem(this.innerElements[o].cloneNode(!0));
              i.appendChild(a);
            }
            this.sliderFrame.appendChild(i), this.selector.innerHTML = "", this.selector.appendChild(this.sliderFrame), this.slideToCurrent();
          }
        }, {
          key: "buildSliderFrameItem",
          value: function value(e) {
            var t = document.createElement("vli");
            return t.style.cssFloat = this.config.rtl ? "right" : "left", t.style["float"] = this.config.rtl ? "right" : "left", t.style.width = (this.config.loop ? 100 / (this.innerElements.length + 2 * this.perPage) : 100 / this.innerElements.length) + "%", t.appendChild(e), t;
          }
        }, {
          key: "resolveSlidesNumber",
          value: function value() {
            if ("number" == typeof this.config.perPage) this.perPage = this.config.perPage;else if ("object" === r(this.config.perPage)) for (var e in this.perPage = 1, this.config.perPage) {
              window.innerWidth >= e && (this.perPage = this.config.perPage[e]);
            }
          }
        }, {
          key: "prev",
          value: function value() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                t = arguments[1];

            if (!(this.innerElements.length <= this.perPage)) {
              var i = this.currentSlide;
              if (this.config.loop) {
                if (this.currentSlide - e < 0) {
                  this.disableTransition();
                  var r = this.currentSlide + this.innerElements.length,
                      n = r + this.perPage,
                      s = (this.config.rtl ? 1 : -1) * n * (this.selectorWidth / this.perPage),
                      l = this.config.draggable ? this.drag.endX - this.drag.startX : 0;
                  this.sliderFrame.style[this.transformProperty] = "translate3d(" + (s + l) + "px, 0, 0)", this.currentSlide = r - e;
                } else this.currentSlide = this.currentSlide - e;
              } else this.currentSlide = Math.max(this.currentSlide - e, 0);
              i !== this.currentSlide && (this.slideToCurrent(this.config.loop), this.config.onChange.call(this), t && t.call(this));
            }
          }
        }, {
          key: "next",
          value: function value() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                t = arguments[1];

            if (!(this.innerElements.length <= this.perPage)) {
              var i = this.currentSlide;
              if (this.config.loop) {
                if (this.currentSlide + e > this.innerElements.length - this.perPage) {
                  this.disableTransition();
                  var r = this.currentSlide - this.innerElements.length,
                      n = r + this.perPage,
                      s = (this.config.rtl ? 1 : -1) * n * (this.selectorWidth / this.perPage),
                      l = this.config.draggable ? this.drag.endX - this.drag.startX : 0;
                  this.sliderFrame.style[this.transformProperty] = "translate3d(" + (s + l) + "px, 0, 0)", this.currentSlide = r + e;
                } else this.currentSlide = this.currentSlide + e;
              } else this.currentSlide = Math.min(this.currentSlide + e, this.innerElements.length - this.perPage);
              i !== this.currentSlide && (this.slideToCurrent(this.config.loop), this.config.onChange.call(this), t && t.call(this));
            }
          }
        }, {
          key: "disableTransition",
          value: function value() {
            this.sliderFrame.style.webkitTransition = "all 0ms " + this.config.easing, this.sliderFrame.style.transition = "all 0ms " + this.config.easing;
          }
        }, {
          key: "enableTransition",
          value: function value() {
            this.sliderFrame.style.webkitTransition = "all " + this.config.duration + "ms " + this.config.easing, this.sliderFrame.style.transition = "all " + this.config.duration + "ms " + this.config.easing;
          }
        }, {
          key: "goTo",
          value: function value(e, t) {
            if (!(this.innerElements.length <= this.perPage)) {
              var i = this.currentSlide;
              this.currentSlide = this.config.loop ? e % this.innerElements.length : Math.min(Math.max(e, 0), this.innerElements.length - this.perPage), i !== this.currentSlide && (this.slideToCurrent(), this.config.onChange.call(this), t && t.call(this));
            }
          }
        }, {
          key: "slideToCurrent",
          value: function value(e) {
            var t = this,
                i = this.config.loop ? this.currentSlide + this.perPage : this.currentSlide,
                r = (this.config.rtl ? 1 : -1) * i * (this.selectorWidth / this.perPage);
            e ? requestAnimationFrame(function () {
              requestAnimationFrame(function () {
                t.enableTransition(), t.sliderFrame.style[t.transformProperty] = "translate3d(" + r + "px, 0, 0)";
              });
            }) : this.sliderFrame.style[this.transformProperty] = "translate3d(" + r + "px, 0, 0)";
          }
        }, {
          key: "updateAfterDrag",
          value: function value() {
            var e = (this.config.rtl ? -1 : 1) * (this.drag.endX - this.drag.startX),
                t = Math.abs(e),
                i = this.config.multipleDrag ? Math.ceil(t / (this.selectorWidth / this.perPage)) : 1,
                r = e > 0 && this.currentSlide - i < 0,
                n = e < 0 && this.currentSlide + i > this.innerElements.length - this.perPage;
            e > 0 && t > this.config.threshold && this.innerElements.length > this.perPage ? this.prev(i) : e < 0 && t > this.config.threshold && this.innerElements.length > this.perPage && this.next(i), this.slideToCurrent(r || n);
          }
        }, {
          key: "resizeHandler",
          value: function value() {
            this.resolveSlidesNumber(), this.currentSlide + this.perPage > this.innerElements.length && (this.currentSlide = this.innerElements.length <= this.perPage ? 0 : this.innerElements.length - this.perPage), this.selectorWidth = this.selector.offsetWidth + 5, this.buildSliderFrame();
          }
        }, {
          key: "clearDrag",
          value: function value() {
            this.drag = {
              startX: 0,
              endX: 0,
              startY: 0,
              letItGo: null,
              preventClick: this.drag.preventClick
            };
          }
        }, {
          key: "touchstartHandler",
          value: function value(e) {
            -1 !== ["TEXTAREA", "OPTION", "INPUT", "SELECT"].indexOf(e.target.nodeName) || (e.stopPropagation(), this.pointerDown = !0, this.drag.startX = e.touches[0].pageX, this.drag.startY = e.touches[0].pageY);
          }
        }, {
          key: "touchendHandler",
          value: function value(e) {
            e.stopPropagation(), this.pointerDown = !1, this.enableTransition(), this.drag.endX && this.updateAfterDrag(), this.clearDrag();
          }
        }, {
          key: "touchmoveHandler",
          value: function value(e) {
            if (e.stopPropagation(), null === this.drag.letItGo && (this.drag.letItGo = Math.abs(this.drag.startY - e.touches[0].pageY) < Math.abs(this.drag.startX - e.touches[0].pageX)), this.pointerDown && this.drag.letItGo) {
              e.preventDefault(), this.drag.endX = e.touches[0].pageX, this.sliderFrame.style.webkitTransition = "all 0ms " + this.config.easing, this.sliderFrame.style.transition = "all 0ms " + this.config.easing;
              var t = (this.config.loop ? this.currentSlide + this.perPage : this.currentSlide) * (this.selectorWidth / this.perPage),
                  i = this.drag.endX - this.drag.startX,
                  r = this.config.rtl ? t + i : t - i;
              this.sliderFrame.style[this.transformProperty] = "translate3d(" + (this.config.rtl ? 1 : -1) * r + "px, 0, 0)";
            }
          }
        }, {
          key: "mousedownHandler",
          value: function value(e) {
            -1 !== ["TEXTAREA", "OPTION", "INPUT", "SELECT"].indexOf(e.target.nodeName) || (e.preventDefault(), e.stopPropagation(), this.pointerDown = !0, this.drag.startX = e.pageX);
          }
        }, {
          key: "mouseupHandler",
          value: function value(e) {
            e.stopPropagation(), this.pointerDown = !1, this.selector.style.cursor = "-webkit-grab", this.enableTransition(), this.drag.endX && this.updateAfterDrag(), this.clearDrag();
          }
        }, {
          key: "mousemoveHandler",
          value: function value(e) {
            if (e.preventDefault(), this.pointerDown) {
              "A" === e.target.nodeName && (this.drag.preventClick = !0), this.drag.endX = e.pageX, this.selector.style.cursor = "-webkit-grabbing", this.sliderFrame.style.webkitTransition = "all 0ms " + this.config.easing, this.sliderFrame.style.transition = "all 0ms " + this.config.easing;
              var t = (this.config.loop ? this.currentSlide + this.perPage : this.currentSlide) * (this.selectorWidth / this.perPage),
                  i = this.drag.endX - this.drag.startX,
                  r = this.config.rtl ? t + i : t - i;
              this.sliderFrame.style[this.transformProperty] = "translate3d(" + (this.config.rtl ? 1 : -1) * r + "px, 0, 0)";
            }
          }
        }, {
          key: "mouseleaveHandler",
          value: function value(e) {
            this.pointerDown && (this.pointerDown = !1, this.selector.style.cursor = "-webkit-grab", this.drag.endX = e.pageX, this.drag.preventClick = !1, this.enableTransition(), this.updateAfterDrag(), this.clearDrag());
          }
        }, {
          key: "clickHandler",
          value: function value(e) {
            this.drag.preventClick && e.preventDefault(), this.drag.preventClick = !1;
          }
        }, {
          key: "remove",
          value: function value(e, t) {
            if (e < 0 || e >= this.innerElements.length) throw new Error("Item to remove doesn't exist ÃƒÆ’Ã¢â‚¬Å¾ÃƒÂ¢Ã¢â€šÂ¬Ã‹Å“ÃƒÆ’Ã¢â‚¬Â¦Ãƒâ€šÃ‚Â¸ÃƒÆ’Ã¢â‚¬Â¹Ãƒâ€¦Ã¢â‚¬Å“ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â­");
            var i = e < this.currentSlide,
                r = this.currentSlide + this.perPage - 1 === e;
            (i || r) && this.currentSlide--, this.innerElements.splice(e, 1), this.buildSliderFrame(), t && t.call(this);
          }
        }, {
          key: "insert",
          value: function value(e, t, i) {
            if (t < 0 || t > this.innerElements.length + 1) throw new Error("Unable to inset it at this index ÃƒÆ’Ã¢â‚¬Å¾ÃƒÂ¢Ã¢â€šÂ¬Ã‹Å“ÃƒÆ’Ã¢â‚¬Â¦Ãƒâ€šÃ‚Â¸ÃƒÆ’Ã¢â‚¬Â¹Ãƒâ€¦Ã¢â‚¬Å“ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â­");
            if (-1 !== this.innerElements.indexOf(e)) throw new Error("The same item in a carousel? Really? Nope ÃƒÆ’Ã¢â‚¬Å¾ÃƒÂ¢Ã¢â€šÂ¬Ã‹Å“ÃƒÆ’Ã¢â‚¬Â¦Ãƒâ€šÃ‚Â¸ÃƒÆ’Ã¢â‚¬Â¹Ãƒâ€¦Ã¢â‚¬Å“ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â­");
            var r = t <= this.currentSlide > 0 && this.innerElements.length;
            this.currentSlide = r ? this.currentSlide + 1 : this.currentSlide, this.innerElements.splice(t, 0, e), this.buildSliderFrame(), i && i.call(this);
          }
        }, {
          key: "prepend",
          value: function value(e, t) {
            this.insert(e, 0), t && t.call(this);
          }
        }, {
          key: "append",
          value: function value(e, t) {
            this.insert(e, this.innerElements.length + 1), t && t.call(this);
          }
        }, {
          key: "destroy",
          value: function value() {
            var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                t = arguments[1];

            if (this.detachEvents(), this.selector.style.cursor = "auto", e) {
              for (var i = document.createDocumentFragment(), r = 0; r < this.innerElements.length; r++) {
                i.appendChild(this.innerElements[r]);
              }

              this.selector.innerHTML = "", this.selector.appendChild(i), this.selector.removeAttribute("style");
            }

            t && t.call(this);
          }
        }], [{
          key: "mergeSettings",
          value: function value(e) {
            var t = {
              selector: ".siema",
              duration: 200,
              easing: "ease-out",
              perPage: 1,
              startIndex: 0,
              draggable: !0,
              multipleDrag: !0,
              threshold: 20,
              loop: !1,
              rtl: !1,
              onInit: function onInit() {},
              onChange: function onChange() {}
            },
                i = e;

            for (var r in i) {
              t[r] = i[r];
            }

            return t;
          }
        }, {
          key: "webkitOrNot",
          value: function value() {
            return "string" == typeof document.documentElement.style.transform ? "transform" : "WebkitTransform";
          }
        }]), e;
      }();

      t["default"] = s, e.exports = t["default"];
    }]);
  });
}
function SplideDefine() {
  !function (t) {
    var n = {};

    function e(i) {
      if (n[i]) return n[i].exports;
      var o = n[i] = {
        i: i,
        l: !1,
        exports: {}
      };
      return t[i].call(o.exports, o, o.exports, e), o.l = !0, o.exports;
    }

    e.m = t, e.c = n, e.d = function (t, n, i) {
      e.o(t, n) || Object.defineProperty(t, n, {
        enumerable: !0,
        get: i
      });
    }, e.r = function (t) {
      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
        value: "Module"
      }), Object.defineProperty(t, "__esModule", {
        value: !0
      });
    }, e.t = function (t, n) {
      if (1 & n && (t = e(t)), 8 & n) return t;
      if (4 & n && "object" == _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t) && t && t.__esModule) return t;
      var i = Object.create(null);
      if (e.r(i), Object.defineProperty(i, "default", {
        enumerable: !0,
        value: t
      }), 2 & n && "string" != typeof t) for (var o in t) {
        e.d(i, o, function (n) {
          return t[n];
        }.bind(null, o));
      }
      return i;
    }, e.n = function (t) {
      var n = t && t.__esModule ? function () {
        return t["default"];
      } : function () {
        return t;
      };
      return e.d(n, "a", n), n;
    }, e.o = function (t, n) {
      return Object.prototype.hasOwnProperty.call(t, n);
    }, e.p = "", e(e.s = 0);
  }([function (t, n, e) {
    "use strict";

    e.r(n), e.d(n, "Splide", function () {
      return ft;
    });
    var i = {};

    function o() {
      return (o = Object.assign || function (t) {
        for (var n = 1; n < arguments.length; n++) {
          var e = arguments[n];

          for (var i in e) {
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
          }
        }

        return t;
      }).apply(this, arguments);
    }

    function r(t, n) {
      Object.keys(t).some(function (e, i) {
        return n(t[e], e, i);
      });
    }

    function s(t) {
      return Object.keys(t).map(function (n) {
        return t[n];
      });
    }

    function a(t) {
      return "object" == _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t);
    }

    function u(t, n) {
      var e = o({}, t);
      return r(n, function (t, n) {
        a(t) ? (a(e[n]) || (e[n] = {}), e[n] = u(e[n], t)) : e[n] = t;
      }), e;
    }

    function c(t, n) {
      return t._s = n, Object.keys(n).forEach(function (e) {
        t[e] || Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
      }), t;
    }

    function d(t) {
      return Array.isArray(t) ? t : [t];
    }

    function l(t, n, e) {
      return Math.min(Math.max(t, e < n ? e : n), e < n ? n : e);
    }

    function f(t, n) {
      var e = 0;
      return t.replace(/%s/g, function () {
        return d(n)[e++];
      });
    }

    function h(t) {
      var n = _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(t);

      return "number" == n && 0 < t ? parseFloat(t) + "px" : "string" == n ? t : "";
    }

    function p(t) {
      return t < 10 ? "0" + t : t;
    }

    function g(t, n) {
      if ("string" == typeof n) {
        var e = y("div", {});
        _(e, {
          position: "absolute",
          width: n
        }), x(t, e), n = e.clientWidth, b(e);
      }

      return n;
    }

    function v(t, n) {
      return t ? t.querySelector(n.split(" ")[0]) : null;
    }

    function m(t, n) {
      return t && s(t.children).filter(function (t) {
        return C(t, n.split(" ")[0]) || t.tagName.toLowerCase() === n;
      })[0] || null;
    }

    function y(t, n) {
      var e = document.createElement(t);
      return r(n, function (t, n) {
        return I(e, n, t);
      }), e;
    }

    function w(t) {
      var n = y("div", {});
      return n.innerHTML = t, n.firstChild;
    }

    function b(t) {
      d(t).forEach(function (t) {
        t && t.parentElement && t.parentElement.removeChild(t);
      });
    }

    function x(t, n) {
      t && t.appendChild(n);
    }

    function E(t, n) {
      t && n && n.parentElement && n.parentElement.insertBefore(t, n);
    }

    function _(t, n) {
      t && r(n, function (n, e) {
        null !== n && (t.style[e] = n);
      });
    }

    function k(t, n, e) {
      t && d(n).forEach(function (n) {
        n && t.classList[e ? "remove" : "add"](n);
      });
    }

    function S(t, n) {
      k(t, n, !1);
    }

    function P(t, n) {
      k(t, n, !0);
    }

    function C(t, n) {
      return !!t && t.classList.contains(n);
    }

    function I(t, n, e) {
      t && t.setAttribute(n, e);
    }

    function O(t, n) {
      return t ? t.getAttribute(n) : "";
    }

    function M(t, n) {
      d(n).forEach(function (n) {
        d(t).forEach(function (t) {
          return t && t.removeAttribute(n);
        });
      });
    }

    function A(t, n) {
      var e, i;
      return {
        mount: function mount() {
          e = n.Elements.list, t.on("transitionend", function (t) {
            t.target === e && i && i();
          }, e);
        },
        start: function start(o, r, s, a, u) {
          var c = t.options,
              d = n.Controller.edgeIndex,
              l = c.speed;
          i = u, t.is(W) && (0 === s && d <= r || d <= s && 0 === r) && (l = c.rewindSpeed || l), _(e, {
            transition: "transform " + l + "ms " + c.easing,
            transform: "translate(" + a.x + "px," + a.y + "px)"
          });
        }
      };
    }

    function L(t, n) {
      function e(e) {
        var i = t.options;

        _(n.Elements.slides[e], {
          transition: "opacity " + i.speed + "ms " + i.easing
        });
      }

      return n.Drag && (n.Drag.required = !1), {
        mount: function mount() {
          e(t.index);
        },
        start: function start(t, i, o, r, s) {
          var a = n.Elements.track;
          _(a, {
            height: h(a.clientHeight)
          }), e(i), s(), _(a, {
            height: ""
          });
        }
      };
    }

    e.r(i), e.d(i, "CREATED", function () {
      return B;
    }), e.d(i, "MOUNTED", function () {
      return X;
    }), e.d(i, "IDLE", function () {
      return G;
    }), e.d(i, "MOVING", function () {
      return V;
    }), e.d(i, "DESTROYED", function () {
      return F;
    });
    var W = "slide",
        T = "loop",
        j = "fade",
        q = "[SPLIDE]";

    function H(t) {
      console.error(q + " " + t);
    }

    function D(t, n) {
      if (!t) throw new Error(n);
    }

    var z = "splide",
        N = {
      active: "is-active",
      visible: "is-visible",
      loading: "is-loading"
    },
        R = {
      type: "slide",
      rewind: !1,
      speed: 400,
      rewindSpeed: 0,
      width: 0,
      height: 0,
      fixedWidth: 0,
      fixedHeight: 0,
      heightRatio: 0,
      autoWidth: !1,
      perPage: 1,
      perMove: 0,
      start: 0,
      focus: !1,
      gap: 0,
      padding: 0,
      arrows: !0,
      arrowPath: "",
      pagination: !0,
      autoplay: !1,
      interval: 5e3,
      pauseOnHover: !0,
      pauseOnFocus: !0,
      resetProgress: !0,
      lazyLoad: !1,
      preloadPages: 1,
      easing: "cubic-bezier(.42,.65,.27,.99)",
      keyboard: !0,
      drag: !0,
      dragAngleThreshold: 30,
      swipeDistanceThreshold: 150,
      flickVelocityThreshold: .6,
      flickPower: 600,
      flickMaxPages: 1,
      direction: "ltr",
      cover: !1,
      accessibility: !0,
      isNavigation: !1,
      trimSpace: !0,
      updateOnMove: !1,
      throttle: 100,
      breakpoints: !1,
      classes: {
        root: z,
        slider: z + "__slider",
        track: z + "__track",
        list: z + "__list",
        slide: z + "__slide",
        container: z + "__slide__container",
        arrows: z + "__arrows",
        arrow: z + "__arrow",
        prev: z + "__arrow--prev",
        next: z + "__arrow--next",
        pagination: z + "__pagination",
        page: z + "__pagination__page",
        clone: z + "__slide--clone",
        progress: z + "__progress",
        bar: z + "__progress__bar",
        autoplay: z + "__autoplay",
        play: z + "__play",
        pause: z + "__pause",
        spinner: z + "__spinner",
        sr: z + "__sr"
      },
      i18n: {
        prev: "Previous slide",
        next: "Next slide",
        first: "Go to first slide",
        last: "Go to last slide",
        slideX: "Go to slide %s",
        pageX: "Go to page %s",
        play: "Start autoplay",
        pause: "Pause autoplay"
      }
    },
        B = 1,
        X = 2,
        G = 3,
        V = 4,
        F = 5;

    function U(t, n) {
      for (var e = 0; e < n.length; e++) {
        var i = n[e];
        i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i);
      }
    }

    var Y = function () {
      function t(t, n, e) {
        function o(t) {
          t.elm && t.elm.removeEventListener(t.event, t.handler, t.options);
        }

        var r,
            s,
            a = n.rootElement ? n.rootElement : document;
        void 0 === n && (n = {}), void 0 === e && (e = {}), this.root = t instanceof Element ? t : a.querySelector(t), D(this.root, "An invalid element/selector was given."), this.Components = null, this.Event = (r = [], {
          on: function on(t, n, e, i) {
            void 0 === e && (e = null), void 0 === i && (i = {}), t.split(" ").forEach(function (t) {
              e && e.addEventListener(t, n, i), r.push({
                event: t,
                handler: n,
                elm: e,
                options: i
              });
            });
          },
          off: function off(t, n) {
            void 0 === n && (n = null), t.split(" ").forEach(function (t) {
              r = r.filter(function (e) {
                return !e || e.event !== t || e.elm !== n || (o(e), !1);
              });
            });
          },
          emit: function emit(t) {
            for (var n = arguments.length, e = new Array(1 < n ? n - 1 : 0), i = 1; i < n; i++) {
              e[i - 1] = arguments[i];
            }

            r.forEach(function (n) {
              n.elm || n.event.split(".")[0] !== t || n.handler.apply(n, e);
            });
          },
          destroy: function destroy() {
            r.forEach(o), r = [];
          }
        }), this.State = (s = B, {
          set: function set(t) {
            s = t;
          },
          is: function is(t) {
            return t === s;
          }
        }), this.STATES = i, this._o = u(R, n), this._i = 0, this._c = e;
      }

      var n,
          e,
          o = t.prototype;
      return o.mount = function (t, n) {
        var e,
            i,
            o,
            s,
            a = this;
        void 0 === t && (t = {}), void 0 === n && (n = null), this.Components = this.Components || (i = u((e = this)._c, t), o = n, s = {}, r(i, function (t, n) {
          s[n] = t(e, s, n.toLowerCase());
        }), o = o || (e.is(j) ? L : A), s.Transition = o(e, s), s);

        try {
          r(this.Components, function (t, n) {
            var e = t.required;
            void 0 === e || e ? t.mount && t.mount() : delete a.Components[n];
          });
        } catch (t) {
          return H(t.message), null;
        }

        return this.State.set(X), r(this.Components, function (t) {
          t.mounted && t.mounted();
        }), this.emit("mounted"), this.State.set(G), this.emit("ready"), _(this.root, {
          visibility: "visible"
        }), this.on("move drag", function () {
          return a.State.set(V);
        }).on("moved dragged", function () {
          return a.State.set(G);
        }), this;
      }, o.sync = function (t) {
        return this.sibling = t, this;
      }, o.on = function (t, n, e, i) {
        return void 0 === e && (e = null), void 0 === i && (i = {}), this.Event.on(t, n, e, i), this;
      }, o.off = function (t, n) {
        return void 0 === n && (n = null), this.Event.off(t, n), this;
      }, o.emit = function (t) {
        for (var n, e = arguments.length, i = new Array(1 < e ? e - 1 : 0), o = 1; o < e; o++) {
          i[o - 1] = arguments[o];
        }

        return (n = this.Event).emit.apply(n, [t].concat(i)), this;
      }, o.go = function (t, n) {
        return void 0 === n && (n = !0), (this.State.is(G) || this.State.is(V) && !n) && this.Components.Controller.go(t, !1), this;
      }, o.is = function (t) {
        return t === this._o.type;
      }, o.add = function (t, n) {
        return void 0 === n && (n = -1), this.Components.Elements.add(t, n, this.refresh.bind(this)), this;
      }, o.remove = function (t) {
        return this.Components.Elements.remove(t), this.refresh(), this;
      }, o.refresh = function () {
        return this.emit("refresh").emit("resize"), this;
      }, o.destroy = function (t) {
        var n = this;
        if (void 0 === t && (t = !0), !this.State.is(B)) return s(this.Components).reverse().forEach(function (n) {
          n.destroy && n.destroy(t);
        }), this.emit("destroy", t), this.Event.destroy(), this.State.set(F), this;
        this.on("ready", function () {
          return n.destroy(t);
        });
      }, n = t, (e = [{
        key: "index",
        get: function get() {
          return this._i;
        },
        set: function set(t) {
          this._i = parseInt(t);
        }
      }, {
        key: "length",
        get: function get() {
          return this.Components.Elements.length;
        }
      }, {
        key: "options",
        get: function get() {
          return this._o;
        },
        set: function set(t) {
          var n = this.State.is(B);
          n || this.emit("update"), this._o = u(this._o, t), n || this.emit("updated", this._o);
        }
      }, {
        key: "classes",
        get: function get() {
          return this._o.classes;
        }
      }, {
        key: "i18n",
        get: function get() {
          return this._o.i18n;
        }
      }]) && U(n.prototype, e), t;
    }(),
        J = "ttb",
        K = "update.slide",
        Q = Math.floor;

    function Z(t, n) {
      var e;
      return function () {
        e = e || setTimeout(function () {
          t(), e = null;
        }, n);
      };
    }

    var $ = Math.abs,
        tt = "move.page",
        nt = "updated.page refresh.page",
        et = "data-splide-lazy",
        it = {
      ltr: {
        ArrowLeft: "<",
        ArrowRight: ">",
        Left: "<",
        Right: ">"
      },
      rtl: {
        ArrowLeft: ">",
        ArrowRight: "<",
        Left: ">",
        Right: "<"
      },
      ttb: {
        ArrowUp: "<",
        ArrowDown: ">",
        Up: "<",
        Down: ">"
      }
    },
        ot = "aria-current",
        rt = "aria-controls",
        st = "aria-label",
        at = "aria-hidden",
        ut = "tabindex",
        ct = "move.sync",
        dt = [" ", "Enter", "Spacebar"],
        lt = {
      Options: function Options(t) {
        var n = O(t.root, "data-splide");
        if (n) try {
          t.options = JSON.parse(n);
        } catch (t) {
          H(t.message);
        }
        return {
          mount: function mount() {
            t.State.is(B) && (t.index = t.options.start);
          }
        };
      },
      Breakpoints: function Breakpoints(t) {
        var n,
            e,
            i = t.options.breakpoints,
            o = Z(s, 50),
            r = [];

        function s() {
          var o,
              s = (o = r.filter(function (t) {
            return t.mql.matches;
          })[0]) ? o.point : -1;

          if (s !== e) {
            e = s;
            var a = t.State,
                u = i[s] || n,
                c = u.destroy;
            c ? (t.options = n, t.destroy("completely" === c)) : (a.is(F) && (a.set(B), t.mount()), t.options = u);
          }
        }

        return {
          required: i && matchMedia,
          mount: function mount() {
            r = Object.keys(i).sort(function (t, n) {
              return parseInt(t) - parseInt(n);
            }).map(function (t) {
              return {
                point: t,
                mql: matchMedia("(max-width:" + t + "px)")
              };
            }), this.destroy(!0), addEventListener("resize", o), n = t.options, s();
          },
          destroy: function destroy(t) {
            t && removeEventListener("resize", o);
          }
        };
      },
      Controller: function Controller(t, n) {
        var e,
            i,
            o = {
          mount: function mount() {
            e = t.options, i = t.is(T), t.on("move", function (n) {
              t.index = n;
            }).on("updated refresh", function (n) {
              e = n || e, t.index = l(t.index, 0, o.edgeIndex);
            });
          },
          go: function go(t, e) {
            var i = this.trim(this.parse(t));
            n.Track.go(i, this.rewind(i), e);
          },
          parse: function parse(n) {
            var e = t.index,
                i = String(n).match(/([+\-<>])(\d+)?/),
                o = i ? i[1] : "",
                r = i ? parseInt(i[2]) : 0;

            switch (o) {
              case "+":
                e += r || 1;
                break;

              case "-":
                e -= r || 1;
                break;

              case ">":
                e = this.toIndex(-1 < r ? r : this.toPage(e) + 1);
                break;

              case "<":
                e = this.toIndex(-1 < r ? r : this.toPage(e) - 1);
                break;

              default:
                e = parseInt(n);
            }

            return e;
          },
          toIndex: function toIndex(n) {
            if (r()) return n;
            var i = t.length,
                o = e.perPage,
                s = n * o;
            return i - o <= (s -= (this.pageLength * o - i) * Q(s / i)) && s < i && (s = i - o), s;
          },
          toPage: function toPage(n) {
            if (r()) return n;
            var i = t.length,
                o = e.perPage;
            return Q(i - o <= n && n < i ? (i - 1) / o : n / o);
          },
          trim: function trim(t) {
            return i || (t = e.rewind ? this.rewind(t) : l(t, 0, this.edgeIndex)), t;
          },
          rewind: function rewind(t) {
            var n = this.edgeIndex;

            if (i) {
              for (; n < t;) {
                t -= n + 1;
              }

              for (; t < 0;) {
                t += n + 1;
              }
            } else n < t ? t = 0 : t < 0 && (t = n);

            return t;
          },
          isRtl: function isRtl() {
            return "rtl" === e.direction;
          },

          get pageLength() {
            var n = t.length;
            return r() ? n : Math.ceil(n / e.perPage);
          },

          get edgeIndex() {
            var n = t.length;
            return n ? r() || e.isNavigation || i ? n - 1 : n - e.perPage : 0;
          },

          get prevIndex() {
            var n = t.index - 1;
            return (i || e.rewind) && (n = this.rewind(n)), -1 < n ? n : -1;
          },

          get nextIndex() {
            var n = t.index + 1;
            return (i || e.rewind) && (n = this.rewind(n)), t.index < n && n <= this.edgeIndex || 0 === n ? n : -1;
          }

        };

        function r() {
          return !1 !== e.focus;
        }

        return o;
      },
      Elements: function Elements(t, n) {
        var e = t.root,
            i = t.classes,
            o = [];

        if (!e.id) {
          window.splide = window.splide || {};
          var a = window.splide.uid || 0;
          window.splide.uid = ++a, e.id = "splide" + p(a);
        }

        var u = {
          mount: function mount() {
            var n = this;
            !function () {
              u.slider = m(e, i.slider), u.track = v(e, "." + i.track), u.list = m(u.track, i.list), D(u.track && u.list, "Track or list was not found."), u.slides = s(u.list.children);
              var t = d(i.arrows);
              u.arrows = {
                prev: v(t, "." + i.prev),
                next: v(t, "." + i.next)
              };
              var n = d(i.autoplay);
              u.bar = v(d(i.progress), "." + i.bar), u.play = v(n, "." + i.play), u.pause = v(n, "." + i.pause), u.track.id = u.track.id || e.id + "-track", u.list.id = u.list.id || e.id + "-list";
            }(), this.init(), t.on("refresh", function () {
              n.destroy(), n.init();
            }), t.on("updated", function () {
              P(e, c()), S(e, c());
            });
          },
          destroy: function destroy() {
            o.forEach(function (t) {
              t.destroy();
            }), o = [], P(e, c());
          },
          init: function init() {
            S(e, c()), u.slides.forEach(function (t, n) {
              u.register(t, n, -1);
            });
          },
          register: function register(n, e, i) {
            var r,
                a,
                u,
                c,
                d,
                l,
                f,
                h = (a = e, u = i, c = n, d = (r = t).options.updateOnMove, l = "ready.slide updated.slide resize.slide moved.slide" + (d ? " move.slide" : ""), f = {
              slide: c,
              index: a,
              realIndex: u,
              container: v(c, "." + r.classes.container),
              isClone: -1 < u,
              styles: O(c, "style") || "",
              mount: function mount() {
                var t = this;
                this.isClone || (c.id = r.root.id + "-slide" + p(a + 1)), r.on(l, function () {
                  return t.update();
                }).on(K, m), d && r.on("move.slide", function () {
                  r.index === u && g(!0, !1);
                });
              },
              destroy: function destroy() {
                r.off(l).off(K), P(c, s(N)), m();
              },
              update: function update() {
                g(this.isActive(), !1), g(this.isVisible(), !0);
              },
              isActive: function isActive() {
                return r.index === a;
              },
              isVisible: function isVisible() {
                var t = this.isActive();
                if (r.is(j) || t) return t;
                var n = Math.floor,
                    e = r.Components,
                    i = e.Track,
                    o = e.Layout,
                    s = r.options.direction === J,
                    u = n((i.toPosition(a) + i.offset(a) - i.position) * i.sign),
                    c = n(u + o[s ? "slideHeight" : "slideWidth"](a)),
                    d = o[s ? "height" : "width"];
                return 0 <= u && u <= d && 0 <= c && c <= d;
              },
              isWithin: function isWithin(t, n) {
                var e = Math.abs(t - a);
                return r.is(W) || this.isClone || (e = Math.min(e, r.length - e)), e < n;
              }
            });

            function g(t, n) {
              var e = n ? "visible" : "active",
                  i = N[e];
              t ? (S(c, i), r.emit(e, f)) : C(c, i) && (P(c, i), r.emit(n ? "hidden" : "inactive", f));
            }

            function m() {
              I(c, "style", f.styles);
            }

            h.mount(), o.push(h);
          },
          getSlide: function getSlide(t) {
            return o.filter(function (n) {
              return n.index === t;
            })[0];
          },
          getSlides: function getSlides(t) {
            return t ? o : o.filter(function (t) {
              return !t.isClone;
            });
          },
          getSlidesByPage: function getSlidesByPage(e) {
            var i = n.Controller.toIndex(e),
                r = t.options,
                s = !1 !== r.focus ? 1 : r.perPage;
            return o.filter(function (t) {
              var n = t.index;
              return i <= n && n < i + s;
            });
          },
          add: function add(t, n, e) {
            if ("string" == typeof t && (t = w(t)), t instanceof Element) {
              var i = this.slides[n];
              _(t, {
                display: "none"
              }), i ? (E(t, i), this.slides.splice(n, 0, t)) : (x(this.list, t), this.slides.push(t)), function (t, n) {
                var e = t.querySelectorAll("img"),
                    i = e.length;

                if (i) {
                  var o = 0;
                  r(e, function (t) {
                    t.onload = t.onerror = function () {
                      ++o === i && n();
                    };
                  });
                } else n();
              }(t, function () {
                _(t, {
                  display: ""
                }), e && e(t);
              });
            }
          },
          remove: function remove(t) {
            b(this.slides.splice(t, 1)[0]);
          },
          each: function each(t) {
            o.forEach(t);
          },

          get length() {
            return this.slides.length;
          },

          get total() {
            return o.length;
          }

        };

        function c() {
          var n = i.root,
              e = t.options;
          return [n + "--" + e.type, n + "--" + e.direction, e.drag ? n + "--draggable" : "", e.isNavigation ? n + "--nav" : ""];
        }

        function d(t) {
          return m(e, t) || m(u.slider, t);
        }

        return u;
      },
      Track: function Track(t, n) {
        var e,
            i,
            o,
            r,
            s,
            a,
            u,
            d,
            f = 0,
            h = t.options.direction === J,
            p = t.is(j),
            g = c({
          mount: function mount() {
            e = n.Elements.list, this.init();
          },
          mounted: function mounted() {
            var n = this;
            p || t.on("mounted resize updated", function () {
              n.jump(t.index);
            });
          },
          go: function go(e, i, o) {
            var r = this,
                s = v(e),
                a = t.index;
            o || t.emit("move", i, a, e), 1 <= Math.abs(s - f) || p ? n.Transition.start(e, i, a, this.toCoord(s), function () {
              r.end(e, i, a, o);
            }) : e !== a && "move" === t.options.trimSpace ? n.Controller.go(e + e - a, o) : this.end(e, i, a, o);
          },
          end: function end(n, i, o, r) {
            _(e, {
              transition: ""
            }), p || this.jump(i), r || t.emit("moved", i, o, n);
          },
          jump: function jump(t) {
            this.translate(v(t));
          },
          translate: function translate(t) {
            f = t, _(e, {
              transform: "translate" + this.axis + "(" + t + "px)"
            });
          },
          trim: function trim(n) {
            return !t.options.trimSpace || t.is(T) ? n : this._s.trim(n);
          },
          toCoord: function toCoord(t) {
            return {
              x: h ? 0 : t,
              y: h ? t : 0
            };
          },

          get position() {
            return f;
          }

        }, h ? (a = t, u = n, {
          axis: "Y",
          sign: -1,
          init: function init() {
            d = u.Layout;
          },
          toPosition: function toPosition(t) {
            return -((t + u.Clones.length / 2) * (d.slideHeight() + d.gap) + this.offset());
          },
          toIndex: function toIndex(t) {
            var n = d.slideHeight(),
                e = (n + d.gap) * u.Clones.length / 2;
            return Math.round(-(t + e + this.offset()) / (n + d.gap));
          },
          trim: function trim(t) {
            return l(t, -(d.listHeight - (d.height + d.gap)), 0);
          },
          offset: function offset() {
            var t = a.options.focus,
                n = d.slideHeight();
            return "center" === t ? -(d.height - n) / 2 : -(parseInt(t) || 0) * (n + d.gap);
          }
        }) : (o = n, {
          axis: "X",
          sign: "rtl" === (i = t).options.direction ? 1 : -1,
          init: function init() {
            r = o.Layout, s = o.Elements;
          },
          toPosition: function toPosition(t) {
            return this.sign * (r.totalWidth(t - 1) + this.offset(t));
          },
          toIndex: function toIndex(t) {
            t *= this.sign, i.is(W) && (t = l(t, r.totalWidth(s.total), 0));
            var n = s.getSlides(!0);

            for (var e in n) {
              var o = n[e].index,
                  a = this.sign * this.toPosition(o);
              if (a < t && t <= a + r.slideWidth(o) + r.gap) return o;
            }

            return 0;
          },
          trim: function trim(t) {
            return l(t, this.sign * (r.totalWidth(s.total) - (r.width + r.gap)), 0);
          },
          offset: function offset(t) {
            var n = i.options.focus,
                e = r.slideWidth(t);
            return "center" === n ? -(r.width - e) / 2 : -(parseInt(n) || 0) * (e + r.gap);
          }
        }));

        function v(t) {
          return g.trim(g.toPosition(t));
        }

        return g;
      },
      Clones: function Clones(t, n) {
        var e = [],
            i = n.Elements;

        function o() {
          var n,
              o = i.length;

          if (o) {
            for (var s = (n = void 0, (n = t.options).autoWidth ? i.length : n.perPage * (n.drag ? n.flickMaxPages + 1 : 1)), a = i.slides; a.length < s;) {
              a = a.concat(a);
            }

            a.slice(0, s).forEach(function (t, n) {
              var s = r(t);
              x(i.list, s), e.push(s), i.register(s, n + o, n);
            }), a.slice(-s).forEach(function (t, n) {
              var u = r(t);
              E(u, a[0]), e.push(u), i.register(u, n - s, o + n - s);
            });
          }
        }

        function r(n) {
          var e = n.cloneNode(!0);
          return S(e, t.classes.clone), M(e, "id"), e;
        }

        return {
          mount: function mount() {
            var n = this;
            t.is(T) && (o(), t.on("refresh", function () {
              n.destroy(), o();
            }));
          },
          destroy: function destroy() {
            b(e), e = [];
          },

          get clones() {
            return e;
          },

          get length() {
            return e.length;
          }

        };
      },
      Layout: function Layout(t, n) {
        var e,
            i,
            o,
            r,
            s,
            a,
            u,
            d,
            l,
            f,
            p = n.Elements,
            v = c({
          mount: function mount() {
            t.on("resize load", Z(function () {
              t.emit("resize");
            }, t.options.throttle), window).on("resize", y).on("updated refresh", m), m();
          },
          destroy: function destroy() {
            M([p.list, p.track], "style");
          }
        }, t.options.direction === J ? (a = t, l = n.Elements, f = a.root, {
          margin: "marginBottom",
          init: function init() {
            d = a.options, u = l.track, this.gap = g(f, d.gap);
            var t = d.padding,
                n = t.top,
                e = void 0 === n ? t : n,
                i = t.bottom,
                o = void 0 === i ? t : i;
            this.padding = {
              top: g(f, e),
              bottom: g(f, o)
            }, _(u, {
              paddingTop: h(e),
              paddingBottom: h(o)
            });
          },
          slideWidth: function slideWidth() {
            return g(f, d.fixedWidth || this.width);
          },
          slideHeight: function slideHeight() {
            var t = d.fixedHeight || (this.height + this.gap) / d.perPage - this.gap;
            return g(f, t);
          },

          get width() {
            return u.clientWidth;
          },

          get height() {
            var t = d.height || this.width * d.heightRatio;
            return D(t, '"height" or "heightRatio" is missing.'), g(f, t) - this.padding.top - this.padding.bottom;
          },

          get listWidth() {
            return this.width;
          },

          get listHeight() {
            return (this.slideHeight() + this.gap) * l.total;
          }

        }) : (e = t, o = n.Elements, r = e.root, {
          margin: "margin" + ("rtl" === (s = e.options).direction ? "Left" : "Right"),
          height: 0,
          listHeight: 0,
          init: function init() {
            s = e.options, i = o.track, this.gap = g(r, s.gap);
            var t = s.padding,
                n = t.left,
                a = void 0 === n ? t : n,
                u = t.right,
                c = void 0 === u ? t : u;
            this.padding = {
              left: g(r, a),
              right: g(r, c)
            }, _(i, {
              paddingLeft: h(a),
              paddingRight: h(c)
            });
          },
          totalWidth: function totalWidth(t) {
            var n = this;
            return o.getSlides(!0).filter(function (n) {
              return n.index <= t;
            }).reduce(function (t, e) {
              return t + n.slideWidth(e.index) + n.gap;
            }, 0);
          },
          slideWidth: function slideWidth(t) {
            if (s.autoWidth) {
              var n = o.getSlide(t);
              return n ? n.slide.offsetWidth : 0;
            }

            var e = s.fixedWidth || (this.width + this.gap) / s.perPage - this.gap;
            return g(r, e);
          },
          slideHeight: function slideHeight() {
            var t = s.height || s.fixedHeight || this.width * s.heightRatio;
            return g(r, t);
          },

          get width() {
            return i.clientWidth - this.padding.left - this.padding.right;
          },

          get listWidth() {
            var t = o.total;
            return s.autoWidth ? 5e3 * t : this.totalWidth(t);
          }

        }));

        function m() {
          v.init(), _(t.root, {
            maxWidth: h(t.options.width)
          }), p.each(function (t) {
            t.slide.style[v.margin] = h(v.gap);
          }), y();
        }

        function y() {
          _(p.list, {
            width: h(v.listWidth),
            height: h(v.listHeight)
          }), _(p.track, {
            height: h(v.height)
          });
          var n = h(v.slideHeight()),
              e = v.width;
          p.each(function (e) {
            _(e.container, {
              height: n
            }), _(e.slide, {
              width: t.options.autoWidth ? null : h(v.slideWidth(e.index)),
              height: e.container ? null : n
            });
          }), e !== v.width && y();
        }

        return v;
      },
      Drag: function Drag(t, n) {
        var e,
            i,
            o,
            s,
            a = n.Track,
            u = n.Controller,
            c = t.options.direction === J,
            d = c ? "y" : "x",
            f = {
          disabled: !t.options.drag,
          mount: function mount() {
            var e = this,
                i = n.Elements.list;
            t.on("touchstart mousedown", h, i).on("touchmove mousemove", p, i, {
              passive: !1
            }).on("touchend touchcancel mouseleave mouseup dragend", g, i).on("mounted refresh", function () {
              r(i.querySelectorAll("img, a"), function (n) {
                t.off("dragstart", n).on("dragstart", function (t) {
                  t.preventDefault();
                }, n, {
                  passive: !1
                });
              });
            }).on("mounted updated", function () {
              e.disabled = !t.options.drag;
            });
          }
        };

        function h(n) {
          f.disabled || s || !t.State.is(G) || (e = a.toCoord(a.position), i = v(n, {}), o = i);
        }

        function p(n) {
          if (i) if (o = v(n, i), s) {
            n.cancelable && n.preventDefault();
            var r = e[d] + o.offset[d];
            a.translate(function (n) {
              if (!t.is(T)) {
                var e = a.sign,
                    i = e * a.trim(a.toPosition(0)),
                    o = e * a.trim(a.toPosition(u.edgeIndex));
                (n *= e) < i ? n = i - 7 * Math.log(i - n) : o < n && (n = o + 7 * Math.log(n - o)), n *= e;
              }

              return n;
            }(r));
          } else !function (n) {
            var e = o.offset;

            if (t.State.is(G)) {
              var i = 180 * Math.atan($(e.y) / $(e.x)) / Math.PI;
              return c && (i = 90 - i), i < t.options.dragAngleThreshold;
            }
          }() || (t.emit("drag", i), s = !0);
        }

        function g() {
          i = null, s && (t.emit("dragged", o), function (e) {
            var i = e.velocity[d],
                o = $(i);

            if (0 < o) {
              var r = n.Layout,
                  s = t.options,
                  c = i < 0 ? -1 : 1,
                  f = a.position;
              o > s.flickVelocityThreshold && $(e.offset[d]) < s.swipeDistanceThreshold && (f += c * Math.min(o * s.flickPower, r.width * (s.flickMaxPages || 1)));
              var h = a.toIndex(f);
              h === t.index && (h += c * a.sign), t.is(T) || (h = l(h, 0, u.edgeIndex)), u.go(h, s.isNavigation);
            }
          }(o), s = !1);
        }

        function v(t, n) {
          var e = t.timeStamp,
              i = t.touches,
              o = i ? i[0] : t,
              r = o.clientX,
              s = o.clientY,
              a = n.to || {},
              u = a.x,
              c = a.y,
              d = {
            x: r - (void 0 === u ? r : u),
            y: s - (void 0 === c ? s : c)
          },
              l = e - (n.time || 0);
          return {
            to: {
              x: r,
              y: s
            },
            offset: d,
            time: e,
            velocity: {
              x: d.x / l,
              y: d.y / l
            }
          };
        }

        return f;
      },
      Click: function Click(t, n) {
        var e = !1;

        function i(t) {
          e && (t.preventDefault(), t.stopPropagation(), t.stopImmediatePropagation());
        }

        return {
          required: t.options.drag && !t.is(j),
          mount: function mount() {
            t.on("click", i, n.Elements.track, {
              capture: !0
            }).on("drag", function () {
              e = !0;
            }).on("moved", function () {
              e = !1;
            });
          }
        };
      },
      Autoplay: function Autoplay(t, n, e) {
        var i,
            o = [],
            r = n.Elements,
            s = {
          required: t.options.autoplay,
          mount: function mount() {
            var n = t.options;
            r.slides.length > n.perPage && (i = function (t, n, e) {
              function i(c) {
                u || (o || (o = c, s && s < 1 && (o -= s * n)), s = (r = c - o) / n, n <= r && (o = 0, s = 1, t()), e && e(s), a(i));
              }

              var o,
                  r,
                  s,
                  a = window.requestAnimationFrame,
                  u = !0;
              return {
                pause: function pause() {
                  u = !0, o = 0;
                },
                play: function play(t) {
                  o = 0, u && (u = !1, t && (s = 0), a(i));
                }
              };
            }(function () {
              t.go(">");
            }, n.interval, function (n) {
              t.emit(e + ":playing", n), r.bar && _(r.bar, {
                width: 100 * n + "%"
              });
            }), function () {
              var n = t.options,
                  e = t.sibling,
                  i = [t.root, e ? e.root : null];
              n.pauseOnHover && (a(i, "mouseleave", 1, !0), a(i, "mouseenter", 1, !1)), n.pauseOnFocus && (a(i, "focusout", 2, !0), a(i, "focusin", 2, !1)), t.on("click", function () {
                s.play(2), s.play(3);
              }, r.play).on("move refresh", function () {
                s.play();
              }).on("destroy", function () {
                s.pause();
              }), a([r.pause], "click", 3, !1);
            }(), this.play());
          },
          play: function play(n) {
            void 0 === n && (n = 0), (o = o.filter(function (t) {
              return t !== n;
            })).length || (t.emit(e + ":play"), i.play(t.options.resetProgress));
          },
          pause: function pause(n) {
            void 0 === n && (n = 0), i.pause(), -1 === o.indexOf(n) && o.push(n), 1 === o.length && t.emit(e + ":pause");
          }
        };

        function a(n, e, i, o) {
          n.forEach(function (n) {
            t.on(e, function () {
              s[o ? "play" : "pause"](i);
            }, n);
          });
        }

        return s;
      },
      Cover: function Cover(t, n) {
        function e(t) {
          n.Elements.each(function (n) {
            var e = m(n.slide, "img") || m(n.container, "img");
            e && e.src && i(e, t);
          });
        }

        function i(t, n) {
          _(t.parentElement, {
            background: n ? "" : 'center/cover no-repeat url("' + t.src + '")'
          }), _(t, {
            display: n ? "" : "none"
          });
        }

        return {
          required: t.options.cover,
          mount: function mount() {
            t.on("lazyload:loaded", function (t) {
              i(t, !1);
            }), t.on("mounted updated refresh", function () {
              return e(!1);
            });
          },
          destroy: function destroy() {
            e(!0);
          }
        };
      },
      Arrows: function Arrows(t, n, e) {
        var i,
            o,
            r,
            s = t.classes,
            a = t.root,
            u = n.Elements;

        function c(n) {
          var e = t.options.perMove;
          t.go(e ? (n ? "-" : "+") + e : n ? "<" : ">");
        }

        function d() {
          var r = n.Controller,
              s = r.prevIndex,
              a = r.nextIndex,
              u = t.length > t.options.perPage || t.is(T);
          i.disabled = s < 0 || !u, o.disabled = a < 0 || !u, t.emit(e + ":updated", i, o, s, a);
        }

        function l(n) {
          return w('<button class="' + s.arrow + " " + (n ? s.prev : s.next) + '" type="button"><svg xmlns="http://www.w3.org/2000/svg"\tviewBox="0 0 40 40"\twidth="40"\theight="40"><path d="' + (t.options.arrowPath || "m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z") + '" />');
        }

        return {
          required: t.options.arrows,
          mount: function mount() {
            i = u.arrows.prev, o = u.arrows.next, i && o || !t.options.arrows || (i = l(!0), o = l(!1), r = !0, function () {
              var n = y("div", {
                "class": s.arrows
              });
              x(n, i), x(n, o);
              var e = u.slider;
              E(n, ("slider" === t.options.arrows && e ? e : a).firstElementChild);
            }()), i && o && t.on("click", function () {
              return c(!0);
            }, i).on("click", function () {
              return c(!1);
            }, o).on("mounted move updated refresh", d), this.arrows = {
              prev: i,
              next: o
            };
          },
          mounted: function mounted() {
            t.emit(e + ":mounted", i, o);
          },
          destroy: function destroy() {
            M([i, o], "disabled"), r && b(i.parentElement);
          }
        };
      },
      Pagination: function Pagination(t, n, e) {
        var i = {},
            o = n.Elements,
            r = {
          mount: function mount() {
            var n,
                e,
                a,
                u,
                c = t.options.pagination;

            if (c) {
              n = t.options, e = t.classes, a = y("ul", {
                "class": e.pagination
              }), u = o.getSlides(!1).filter(function (t) {
                return !1 !== n.focus || t.index % n.perPage == 0;
              }).map(function (n, i) {
                var r = y("li", {}),
                    s = y("button", {
                  "class": e.page,
                  type: "button"
                });
                return x(r, s), x(a, r), t.on("click", function () {
                  t.go(">" + i);
                }, s), {
                  li: r,
                  button: s,
                  page: i,
                  Slides: o.getSlidesByPage(i)
                };
              }), i = {
                list: a,
                items: u
              };
              var d = o.slider;
              x("slider" === c && d ? d : t.root, i.list), t.on(tt, s);
            }

            t.off(nt).on(nt, function () {
              r.destroy(), t.options.pagination && (r.mount(), r.mounted());
            });
          },
          mounted: function mounted() {
            if (t.options.pagination) {
              var n = t.index;
              t.emit(e + ":mounted", i, this.getItem(n)), s(n, -1);
            }
          },
          destroy: function destroy() {
            b(i.list), i.items && i.items.forEach(function (n) {
              t.off("click", n.button);
            }), t.off(tt), i = {};
          },
          getItem: function getItem(t) {
            return i.items[n.Controller.toPage(t)];
          },

          get data() {
            return i;
          }

        };

        function s(n, o) {
          var s = r.getItem(o),
              a = r.getItem(n),
              u = N.active;
          s && P(s.button, u), a && S(a.button, u), t.emit(e + ":updated", i, s, a);
        }

        return r;
      },
      LazyLoad: function LazyLoad(t, n, e) {
        var i,
            o,
            s = t.options,
            a = "sequential" === s.lazyLoad;

        function u() {
          o = [], i = 0;
        }

        function c(n) {
          n = isNaN(n) ? t.index : n, (o = o.filter(function (t) {
            return !t.Slide.isWithin(n, s.perPage * (s.preloadPages + 1)) || (d(t.img, t.Slide), !1);
          }))[0] || t.off("moved." + e);
        }

        function d(n, e) {
          S(e.slide, N.loading);
          var i = y("span", {
            "class": t.classes.spinner
          });
          x(n.parentElement, i), n.onload = function () {
            f(n, i, e, !1);
          }, n.onerror = function () {
            f(n, i, e, !0);
          }, I(n, "src", O(n, et));
        }

        function l() {
          if (i < o.length) {
            var t = o[i];
            d(t.img, t.Slide);
          }

          i++;
        }

        function f(n, i, o, r) {
          P(o.slide, N.loading), r || (b(i), _(n, {
            display: ""
          }), t.emit(e + ":loaded", n).emit("resize")), a && l();
        }

        return {
          required: s.lazyLoad,
          mount: function mount() {
            t.on("mounted refresh", function () {
              u(), n.Elements.each(function (t) {
                r(t.slide.querySelectorAll("[" + et + "]"), function (n) {
                  n.src || (o.push({
                    img: n,
                    Slide: t
                  }), _(n, {
                    display: "none"
                  }));
                });
              }), a && l();
            }), a || t.on("mounted refresh moved." + e, c);
          },
          destroy: u
        };
      },
      Keyboard: function Keyboard(t) {
        var n = t.root;
        return {
          mount: function mount() {
            var e = it[t.options.direction];
            t.on("mounted updated", function () {
              t.off("keydown", n), t.options.keyboard && t.on("keydown", function (n) {
                e[n.key] && t.go(e[n.key]);
              }, n);
            });
          }
        };
      },
      Sync: function Sync(t) {
        var n = t.sibling,
            e = n && n.options.isNavigation;

        function i() {
          t.on(ct, function (t, e, i) {
            n.off(ct).go(n.is(T) ? i : t, !1), o();
          });
        }

        function o() {
          n.on(ct, function (n, e, o) {
            t.off(ct).go(t.is(T) ? o : n, !1), i();
          });
        }

        function r(e) {
          t.State.is(G) && n.go(e);
        }

        return {
          required: !!n,
          mount: function mount() {
            i(), o(), e && n.Components.Elements.each(function (n) {
              var e = n.slide,
                  i = n.index;
              t.on("mouseup touchend", function (t) {
                t.button && 0 !== t.button || r(i);
              }, e), t.on("keyup", function (t) {
                -1 < dt.indexOf(t.key) && (t.preventDefault(), r(i));
              }, e, {
                passive: !1
              });
            });
          },
          mounted: function mounted() {
            e && n.emit("navigation:mounted", t);
          }
        };
      },
      A11y: function A11y(t, n) {
        var e = t.i18n,
            i = n.Elements;

        function o(t, n) {
          I(t, at, !n), I(t, ut, n ? 0 : -1);
        }

        function r(t, n) {
          var e = i.track.id;
          I(t, rt, e), I(n, rt, e);
        }

        function s(n, i, o, r) {
          var s = t.index,
              a = -1 < o && s < o ? e.last : e.prev,
              u = -1 < r && r < s ? e.first : e.next;
          I(n, st, a), I(i, st, u);
        }

        function a(n, i) {
          i && I(i.button, ot, !0), n.items.forEach(function (n) {
            var i = t.options,
                o = f(!1 === i.focus && 1 < i.perPage ? e.pageX : e.slideX, n.page + 1),
                r = n.button,
                s = n.Slides.map(function (t) {
              return t.slide.id;
            });
            I(r, rt, s.join(" ")), I(r, st, o);
          });
        }

        function u(t, n, e) {
          n && M(n.button, ot), e && I(e.button, ot, !0);
        }

        function c(t) {
          i.each(function (n) {
            var i = n.slide,
                o = n.realIndex,
                r = n.index;
            l(i) || I(i, "role", "button");
            var s = -1 < o ? o : r,
                a = f(e.slideX, s + 1),
                u = t.Components.Elements.getSlide(s);
            I(i, st, a), u && I(i, rt, u.slide.id);
          });
        }

        function d(t, n) {
          var e = t.slide;
          n ? I(e, ot, !0) : M(e, ot);
        }

        function l(t) {
          return "button" === t.tagName.toLowerCase();
        }

        return {
          required: t.options.accessibility,
          mount: function mount() {
            t.on("visible", function (t) {
              o(t.slide, !0);
            }).on("hidden", function (t) {
              o(t.slide, !1);
            }).on("arrows:mounted", r).on("arrows:updated", s).on("pagination:mounted", a).on("pagination:updated", u), t.options.isNavigation && t.on("navigation:mounted", c).on("active", function (t) {
              d(t, !0);
            }).on("inactive", function (t) {
              d(t, !1);
            }), ["play", "pause"].forEach(function (t) {
              var n = i[t];
              n && (l(n) || I(n, "role", "button"), I(n, rt, i.track.id), I(n, st, e[t]));
            });
          },
          destroy: function destroy() {
            var t = n.Arrows ? n.Arrows.arrows : {};
            M(i.slides.concat([t.prev, t.next, i.play, i.pause]), [at, ut, rt, st, ot, "role"]);
          }
        };
      }
    },
        ft = function (t) {
      var n, e;

      function i(n, e) {
        return t.call(this, n, e, lt) || this;
      }

      return e = t, (n = i).prototype = Object.create(e.prototype), (n.prototype.constructor = n).__proto__ = e, i;
    }(Y);

    window.Splide = ft;
  }]);
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(93)(module)))

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var check = function (it) {
  return it && it.Math == Math && it;
};

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
module.exports =
  // eslint-disable-next-line es/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) ||
  check(typeof window == 'object' && window) ||
  // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) ||
  check(typeof global == 'object' && global) ||
  // eslint-disable-next-line no-new-func -- fallback
  (function () { return this; })() || Function('return this')();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(67)))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

var arrayWithHoles = __webpack_require__(58);

var iterableToArrayLimit = __webpack_require__(59);

var unsupportedIterableToArray = __webpack_require__(60);

var nonIterableRest = __webpack_require__(62);

function _slicedToArray(arr, i) {
  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();
}

module.exports = _slicedToArray;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (error) {
    return true;
  }
};


/***/ }),
/* 7 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliFloatingCloseBtn\" class=\"vli-floating-close vli-hidden\" style=\"position:absolute;width:20px;height:20px;background-color:rgba(0,0,0,.65);border-radius:50%\"> <svg style=\"transform:scale(.5)\" enable-background=\"new 0 0 92.132 92.132\" viewBox=\"0 0 92.132 92.132\"> <path class=\"active-path\" d=\"m2.141 89.13c1.425 1.429 3.299 2.142 5.167 2.142 1.869 0 3.742-0.713 5.167-2.142l33.591-33.592 33.591 33.592c1.426 1.429 3.299 2.142 5.167 2.142 1.867 0 3.74-0.713 5.167-2.142 2.854-2.854 2.854-7.48 0-10.334l-33.593-33.591 31.869-31.869c2.855-2.853 2.855-7.481 0-10.334-2.853-2.855-7.479-2.855-10.334 0l-31.868 31.868-31.867-31.869c-2.854-2.855-7.481-2.855-10.333 0-2.855 2.853-2.855 7.481 0 10.334l31.868 31.869-33.59 33.591c-2.857 2.853-2.857 7.479-2e-3 10.335z\" fill=\"#fff\" data-old_color=\"#ffffff\" data-original=\"#000000\"> </path> </svg> </div>";
// Exports
module.exports = code;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(6);

// Detect IE8's incomplete defineProperty implementation
module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;
});


/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};


/***/ }),
/* 10 */
/***/ (function(module, exports) {

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

module.exports = _defineProperty;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 11 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliVideoContainer\" class=\"vli-video-container\"> <div id=\"vliVideoWrapper\" class=\"{{{floatingVideoWrapper}}}\"> <a class=\"img-logo\" href=\"{{{logoClickThrough}}}\"> <img id=\"publisherLogo\" style=\"max-width:86px;max-height:24px;transform:translate(50%,50%) scale(1.2)\" class=\"{{{logoOn}}}\" src=\"{{{logoCustomLink}}}\"> </a> <div class=\"vli-video-placeholder\"> <div class=\"video-cover\" style=\"position:absolute;top:0;left:0;background-color:#000\"></div> <video id=\"vliVideo\" class=\"vli-video-iframe {{{floatingVideoCenter}}}\" preload=\"metadata\"> <source src=\"https://storage.googleapis.com/media-session/caminandes/short.mp4\" type=\"video/mp4\">  </video> </div> <div id=\"vliVideoControls\" class=\"video-controller vli-show ads-logo-active\"> <div class=\"video-cover\"></div> <div class=\"video-preload-wapper\"> <div class=\"video-preload\"> <svg viewBox=\"0 0 140 140\" preserveAspectRatio=\"xMinYMin meet\"> <g> <circle r=\"45%\" cx=\"50%\" cy=\"50%\" class=\"circle-back\"></circle> </g> </svg> </div> </div> <div class=\"ads-wapper\"> <div class=\"ads-cover\"></div> <div class=\"ads-transparent-cover\"> <div class=\"ads-transparent-inner\"></div> </div> </div> <div class=\"top-left-video {{{titleOn}}}\"> <div class=\"title-video-wapper\"> <div id=\"vliTitleVideo\" class=\"title-video\">21 Brilliant October Baby Names</div> <div class=\"title-icon\"> <svg width=\"100%\" height=\"100%\" style=\"width:100%;height:100%\" viewBox=\"-22 0 512 512.00667\"> <path fill=\"#fff\" d=\"M422.188 98.813h-44.91a8.986 8.986 0 0 0-8.985 8.984c0 4.957 4.023 8.98 8.984 8.98h44.91c14.856 0 26.95 12.09 26.95 26.95v323.367c0 14.86-12.094 26.949-26.95 26.949H98.82c-14.86 0-26.949-12.09-26.949-26.95V251.517c0-4.957-4.023-8.985-8.98-8.985-4.961 0-8.985 4.028-8.985 8.985v215.578c0 24.765 20.149 44.914 44.914 44.914h323.368c24.765 0 44.914-20.149 44.914-44.914V143.727c0-24.766-20.149-44.914-44.914-44.914zm0 0\"> </path> <path fill=\"#fff\" d=\"M156.566 250.645a8.971 8.971 0 0 0 5.121-8.114v-53.894h8.985c108.531 0 156.437 53.07 198.539 138.699a8.974 8.974 0 0 0 10.094 4.789 8.98 8.98 0 0 0 6.945-8.75c0-228.938-103.613-260.492-215.578-260.492h-8.984V8.988a8.979 8.979 0 0 0-5.122-8.11 8.939 8.939 0 0 0-9.52 1.142L3.329 118.79c-2.101 1.698-3.324 4.269-3.324 6.972s1.223 5.261 3.324 6.968l143.719 116.774a8.942 8.942 0 0 0 9.52 1.14zm0 0\"> </path> </svg> </div> </div> </div> <div class=\"{{{likeViewConfig}}} {{{viewsLikesOn}}}\"> <div class=\"view-info-icon\"> <svg width=\"100%\" height=\"100%\" style=\"width:100%;height:100%\" viewBox=\"0 0 511.999 511.999\"> <path fill=\"#fff\" d=\"M508.745 246.041c-4.574-6.257-113.557-153.206-252.748-153.206S7.818 239.784 3.249 246.035a16.896 16.896 0 0 0 0 19.923c4.569 6.257 113.557 153.206 252.748 153.206s248.174-146.95 252.748-153.201a16.875 16.875 0 0 0 0-19.922zM255.997 385.406c-102.529 0-191.33-97.533-217.617-129.418 26.253-31.913 114.868-129.395 217.617-129.395 102.524 0 191.319 97.516 217.617 129.418-26.253 31.912-114.868 129.395-217.617 129.395z\"> </path> <path fill=\"#fff\" d=\"M255.997 154.725c-55.842 0-101.275 45.433-101.275 101.275s45.433 101.275 101.275 101.275S357.272 311.842 357.272 256s-45.433-101.275-101.275-101.275zm0 168.791c-37.23 0-67.516-30.287-67.516-67.516s30.287-67.516 67.516-67.516 67.516 30.287 67.516 67.516-30.286 67.516-67.516 67.516z\"> </path> </svg> </div> <div id=\"vliViewInfoNum\" class=\"view-info-num\">311.8K</div> <div class=\"view-like-icon\"> <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 850 768\" style=\"pointer-events:none;width:100%;height:100%\"> <path fill=\"#fff\" d=\"M775.9,522.1c15.7-20.1,23.3-41.6,22.3-63.8c-1-24.4-11.9-43.5-20.9-55.2c10.4-26,14.5-67-20.4-98.8c-25.5-23.3-68.9-33.7-129-30.8c-42.2,1.9-77.6,9.8-79,10.1h-0.2c-8,1.4-16.5,3.2-25.2,5.1c-0.6-10.3,1.1-35.8,20.1-93.3c22.5-68.4,21.2-120.8-4.2-155.8C512.8,2.9,470.2,0,457.7,0c-12,0-23.1,5-31,14.1c-17.8,20.7-15.7,58.9-13.5,76.6c-21.2,56.9-80.6,196.3-130.9,235c-1,0.6-1.8,1.4-2.6,2.2c-14.8,15.6-24.7,32.4-31.5,47.2c-9.5-5.1-20.2-8-31.8-8h-98c-36.9,0-66.8,30-66.8,66.8v261c0,36.9,30,66.8,66.8,66.8h98c14.3,0,27.6-4.5,38.5-12.2l37.7,4.5c5.8,0.8,108.6,13.8,214.1,11.7c19.1,1.4,37.1,2.2,53.8,2.2c28.7,0,53.8-2.2,74.7-6.7c49.1-10.4,82.7-31.3,99.7-62c13-23.4,13-46.7,10.9-61.5c32-28.9,37.6-60.9,36.5-83.4C781.8,541.4,778.9,530.3,775.9,522.1L775.9,522.1z M118.5,718.4c-13,0-23.4-10.6-23.4-23.4V433.8c0-13,10.6-23.4,23.4-23.4h98c13,0,23.4,10.6,23.4,23.4v261c0,13-10.6,23.4-23.4,23.4h-98V718.4L118.5,718.4z M734.8,503.3c-6.7,7.1-8,17.8-2.9,26.2c0,0.2,6.6,11.4,7.4,26.8c1.1,21-9,39.7-30.2,55.6c-7.5,5.8-10.6,15.7-7.4,24.7c0,0.2,6.9,21.4-4.3,41.4c-10.8,19.3-34.7,33.1-71,40.8c-29.1,6.3-68.6,7.4-117.1,3.5H507c-103.3,2.2-207.7-11.2-208.8-11.4h-0.2l-16.2-1.9c1-4.5,1.4-9.3,1.4-14.1V433.8c0-6.9-1.1-13.7-3.1-19.9c2.9-10.8,10.9-34.7,29.9-55.1c72.1-57.2,142.6-250.1,145.7-258.4c1.3-3.4,1.6-7.1,1-10.8c-2.7-18-1.8-40,2.1-46.6c8.5,0.2,31.5,2.6,45.3,21.7c16.4,22.6,15.7,63.1-1.9,116.8c-27,81.7-29.2,124.8-7.9,143.7c10.6,9.5,24.7,10,35,6.3c9.8-2.2,19.1-4.2,27.9-5.6c0.6-0.2,1.4-0.3,2.1-0.5C608.7,314.6,697,308,727.7,336c26,23.8,7.5,55.2,5.5,58.6c-5.9,9-4.2,20.7,3.9,27.9c0.2,0.2,17,16.1,17.8,37.4C755.5,474.3,748.7,488.9,734.8,503.3L734.8,503.3z\"> </path> <path fill=\"#000\" fill-opacity=\"0\" d=\"M118.5,718.4c-13,0-23.4-10.6-23.4-23.4V433.8c0-13,10.6-23.4,23.4-23.4h98c13,0,23.4,10.6,23.4,23.4v261c0,13-10.6,23.4-23.4,23.4h-98V718.4L118.5,718.4z M734.8,503.3c-6.7,7.1-8,17.8-2.9,26.2c0,0.2,6.6,11.4,7.4,26.8c1.1,21-9,39.7-30.2,55.6c-7.5,5.8-10.6,15.7-7.4,24.7c0,0.2,6.9,21.4-4.3,41.4c-10.8,19.3-34.7,33.1-71,40.8c-29.1,6.3-68.6,7.4-117.1,3.5H507c-103.3,2.2-207.7-11.2-208.8-11.4h-0.2l-16.2-1.9c1-4.5,1.4-9.3,1.4-14.1V433.8c0-6.9-1.1-13.7-3.1-19.9c2.9-10.8,10.9-34.7,29.9-55.1c72.1-57.2,142.6-250.1,145.7-258.4c1.3-3.4,1.6-7.1,1-10.8c-2.7-18-1.8-40,2.1-46.6c8.5,0.2,31.5,2.6,45.3,21.7c16.4,22.6,15.7,63.1-1.9,116.8c-27,81.7-29.2,124.8-7.9,143.7c10.6,9.5,24.7,10,35,6.3c9.8-2.2,19.1-4.2,27.9-5.6c0.6-0.2,1.4-0.3,2.1-0.5C608.7,314.6,697,308,727.7,336c26,23.8,7.5,55.2,5.5,58.6c-5.9,9-4.2,20.7,3.9,27.9c0.2,0.2,17,16.1,17.8,37.4C755.5,474.3,748.7,488.9,734.8,503.3L734.8,503.3z\"> </path> </svg> </div> <div id=\"vliViewLikeNum\" class=\"view-like-num\">42</div> </div> <div class=\"top-right-video\"> <div class=\"logo-wrapper\"> <div class=\"ads-logo\"> <div class=\"ads-logo-corner left-coner\"> <svg viewBox=\"0 0 121.4 228.7\" style=\"enable-background:new 0 0 121.4 228.7\"> <path fill=\"#ffc107\" d=\"M81.9,195L75,228.8H0L46.5,0h74.9l-6.9,33.8H77.3L44.6,195H81.9z\"> </path> </svg> </div> <div class=\"ads-logo-text-wrap\"> <div class=\"ads-logo-text\"> <svg style=\"transform:scale(1.25,1.4)\" viewBox=\"-19.154333496093727 -13.008770751953122 538.3086669921875 176.01754150390624\"> <g transform=\"translate(95, 95)\"> <path fill=\"#FFFFFF\" stroke=\"#FFFFFF\" stroke-width=\"8px\" d=\"M0.60 0.30L0.60 0.30Q-0.30 0.30-0.75-0.35L-0.75-0.35L-0.75-0.35Q-1.20-1-1.20-1.90L-1.20-1.90L-1.20-1.90Q-1.10-3.40-0.60-3.70L-0.60-3.70L-0.60-3.70Q-0.10-4 0.60-4L0.60-4L0.60-4Q1.30-4 1.50-4L1.50-4L1.50-4Q4.50-4 5.90-5.55L5.90-5.55L5.90-5.55Q7.30-7.10 8.15-9.05L8.15-9.05L8.15-9.05Q9-11 9.30-11.70L9.30-11.70L26.80-53.10L26.80-53.10Q27.40-54.60 27.40-55.50L27.40-55.50L27.40-55.50Q27.40-57.30 26-58.10L26-58.10L26-58.10Q24.60-58.90 22.10-59.40L22.10-59.40L22.10-59.40Q20.40-59.70 20-60L20-60L20-60Q19.60-60.30 19.60-61.70L19.60-61.70L19.60-61.70Q19.60-62.90 20.25-63.30L20.25-63.30L20.25-63.30Q20.90-63.70 22.30-63.70L22.30-63.70L22.30-63.70Q27.30-63.70 30.25-62.95L30.25-62.95L30.25-62.95Q33.20-62.20 35.40-59.95L35.40-59.95L35.40-59.95Q37.60-57.70 39.50-53.10L39.50-53.10L56.30-11.70L56.30-11.70Q57.80-7.90 59.20-6L59.20-6L59.20-6Q60.60-4.10 63.40-4L63.40-4L64-4L64-4Q65-4 65.40-3.65L65.40-3.65L65.40-3.65Q65.80-3.30 65.90-1.90L65.90-1.90L65.90-1.90Q65.90-1 65.45-0.35L65.45-0.35L65.45-0.35Q65 0.30 64.10 0.30L64.10 0.30L64.10 0.30Q57.70 0 53.10 0L53.10 0L53.10 0Q47.10 0 40.70 0.30L40.70 0.30L40.70 0.30Q39.80 0.30 39.35-0.35L39.35-0.35L39.35-0.35Q38.90-1 38.90-1.90L38.90-1.90L38.90-1.90Q39-3.30 39.40-3.65L39.40-3.65L39.40-3.65Q39.80-4 40.80-4L40.80-4L40.80-4Q44.20-4 45.60-4.65L45.60-4.65L45.60-4.65Q47-5.30 47-7L47-7L47-7Q47-8.30 45.80-11.70L45.80-11.70L42.40-20L17.70-20L17.70-20Q15.20-13.80 14.85-12.80L14.85-12.80L14.85-12.80Q14.50-11.80 14.50-11.70L14.50-11.70L14.50-11.70Q13.30-7.90 13.30-6.80L13.30-6.80L13.30-6.80Q13.30-5.10 14.80-4.55L14.80-4.55L14.80-4.55Q16.30-4 20.50-4L20.50-4L21.10-4L21.10-4Q22.10-4 22.50-3.65L22.50-3.65L22.50-3.65Q22.90-3.30 23-1.90L23-1.90L23-1.90Q23-1 22.55-0.35L22.55-0.35L22.55-0.35Q22.10 0.30 21.20 0.30L21.20 0.30L21.20 0.30Q14.80 0 10.30 0L10.30 0L10.30 0Q7.10 0 0.60 0.30L0.60 0.30ZM30.20-50L19.60-24.30L40.60-24.30L30.50-50L30.20-50ZM69.20 20.80L69.20 20.80Q68.50 20.80 68.05 20.20L68.05 20.20L68.05 20.20Q67.60 19.60 67.60 18.80L67.60 18.80L67.60 18.80Q67.70 17.50 68.15 17.25L68.15 17.25L68.15 17.25Q68.60 17 69.90 17L69.90 17L69.90 17Q72.40 17 73.50 16.10L73.50 16.10L73.50 16.10Q74.60 15.20 74.85 13.90L74.85 13.90L74.85 13.90Q75.10 12.60 75.10 10.20L75.10 10.20L75.10-33.20L75.10-33.20Q75.10-35.80 74.95-37L74.95-37L74.95-37Q74.80-38.20 73.70-39.10L73.70-39.10L73.70-39.10Q72.60-40 70-40L70-40L70-40Q68.80-40 68.20-40.35L68.20-40.35L68.20-40.35Q67.60-40.70 67.60-42L67.60-42L67.60-42Q67.60-42.60 68-43.15L68-43.15L68-43.15Q68.40-43.70 69.20-43.80L69.20-43.80L69.20-43.80Q75.70-44.80 79.90-46.40L79.90-46.40L79.90-46.40Q81.60-46.90 82.20-47L82.20-47L82.50-47L82.50-47Q84.10-47 84.10-45.10L84.10-45.10L84.10-40.30L84.40-40.30L84.40-40.30Q87.30-43 91.20-44.75L91.20-44.75L91.20-44.75Q95.10-46.50 98.60-46.50L98.60-46.50L98.60-46.50Q104.60-46.50 109.35-43.50L109.35-43.50L109.35-43.50Q114.10-40.50 116.80-35.05L116.80-35.05L116.80-35.05Q119.50-29.60 119.50-22.70L119.50-22.70L119.50-22.70Q119.50-15.70 116.30-10.25L116.30-10.25L116.30-10.25Q113.10-4.80 107.80-1.80L107.80-1.80L107.80-1.80Q102.50 1.20 96.60 1.20L96.60 1.20L96.60 1.20Q92.50 1.20 89.70 0.35L89.70 0.35L89.70 0.35Q86.90-0.50 84.60-1.90L84.60-1.90L84.20-1.90L84.20 10.20L84.20 10.20Q84.20 12.60 84.45 13.90L84.45 13.90L84.45 13.90Q84.70 15.20 85.80 16.10L85.80 16.10L85.80 16.10Q86.90 17 89.40 17L89.40 17L90 17L90 17Q90.80 17 91.20 17.30L91.20 17.30L91.20 17.30Q91.60 17.60 91.70 18.80L91.70 18.80L91.70 18.80Q91.70 19.60 91.30 20.20L91.30 20.20L91.30 20.20Q90.90 20.80 90.10 20.80L90.10 20.80L90.10 20.80Q84.30 20.50 79.60 20.50L79.60 20.50L79.60 20.50Q75.10 20.50 69.20 20.80L69.20 20.80ZM95.80-2.20L95.80-2.20Q102.80-2.20 106.05-8.40L106.05-8.40L106.05-8.40Q109.30-14.60 109.30-22.40L109.30-22.40L109.30-22.40Q109.30-30.20 105.70-35.85L105.70-35.85L105.70-35.85Q102.10-41.50 95-41.50L95-41.50L95-41.50Q91.50-41.50 89.05-40.15L89.05-40.15L89.05-40.15Q86.60-38.80 84.20-36.30L84.20-36.30L84.20-9.50L84.20-9.50Q85.40-6.50 88.45-4.35L88.45-4.35L88.45-4.35Q91.50-2.20 95.80-2.20L95.80-2.20ZM140.50 1.20L140.50 1.20Q134.50 1.20 130.80-2.20L130.80-2.20L130.80-2.20Q127.10-5.60 127.10-10.70L127.10-10.70L127.10-10.70Q127.10-17 131.30-20.15L131.30-20.15L131.30-20.15Q135.50-23.30 141.30-24.25L141.30-24.25L141.30-24.25Q147.10-25.20 156.30-25.70L156.30-25.70L156.30-33.60L156.30-33.60Q156.30-38.50 153.85-41.05L153.85-41.05L153.85-41.05Q151.40-43.60 146-43.60L146-43.60L146-43.60Q142.90-43.60 140.60-41.70L140.60-41.70L140.60-41.70Q138.30-39.80 138.30-36.60L138.30-36.60L138.30-36.60Q138.30-35 139.05-33.95L139.05-33.95L139.05-33.95Q139.80-32.90 140.65-32.20L140.65-32.20L140.65-32.20Q141.50-31.50 141.50-31.40L141.50-31.40L141.50-31.40Q141.50-30.80 140.25-29.85L140.25-29.85L140.25-29.85Q139-28.90 137.20-28.90L137.20-28.90L137.20-28.90Q134.20-28.90 132.45-31.10L132.45-31.10L132.45-31.10Q130.70-33.30 130.70-36.30L130.70-36.30L130.70-36.30Q130.70-41.50 135.35-44L135.35-44L135.35-44Q140-46.50 146.60-46.50L146.60-46.50L146.60-46.50Q154.80-46.50 159.95-43.40L159.95-43.40L159.95-43.40Q165.10-40.30 165.10-31.90L165.10-31.90L165.10-8.60L165.10-8.60Q165.20-6.50 166.40-4.60L166.40-4.60L166.40-4.60Q167.60-2.70 170.30-2.70L170.30-2.70L170.30-2.70Q171.10-2.70 171.45-2.40L171.45-2.40L171.45-2.40Q171.80-2.10 171.80-1.10L171.80-1.10L171.80-1.10Q171.80 0.10 169.95 0.65L169.95 0.65L169.95 0.65Q168.10 1.20 166.30 1.20L166.30 1.20L166.30 1.20Q162.50 1.20 159.60-1L159.60-1L159.60-1Q156.70-3.20 156.30-6.90L156.30-6.90L156.30-6.90Q154.20-3 149.85-0.90L149.85-0.90L149.85-0.90Q145.50 1.20 140.50 1.20L140.50 1.20ZM143.70-4.20L143.70-4.20Q147.10-4.20 150-5.90L150-5.90L150-5.90Q152.90-7.60 154.60-10.55L154.60-10.55L154.60-10.55Q156.30-13.50 156.30-17.10L156.30-17.10L156.30-22.80L156.30-22.80Q145.80-22 141.50-19.40L141.50-19.40L141.50-19.40Q137.20-16.80 137.20-11L137.20-11L137.20-11Q137.20-4.20 143.70-4.20L143.70-4.20ZM199.70 1.20L199.70 1.20Q189.50 1.20 183.70-5.30L183.70-5.30L183.70-5.30Q177.90-11.80 177.90-22.70L177.90-22.70L177.90-22.70Q178.10-29.50 181.25-34.85L181.25-34.85L181.25-34.85Q184.40-40.20 189.70-43.25L189.70-43.25L189.70-43.25Q195-46.30 201.40-46.50L201.40-46.50L201.40-46.50Q207.80-46.50 212.45-44.10L212.45-44.10L212.45-44.10Q217.10-41.70 217.10-36.10L217.10-36.10L217.10-36.10Q217.10-33 215.25-30.65L215.25-30.65L215.25-30.65Q213.40-28.30 210.30-28.30L210.30-28.30L210.30-28.30Q208.40-28.30 207.05-29.30L207.05-29.30L207.05-29.30Q205.70-30.30 205.70-31L205.70-31L205.70-31Q205.70-31.10 206.60-31.90L206.60-31.90L206.60-31.90Q207.50-32.70 208.25-33.85L208.25-33.85L208.25-33.85Q209-35 209-36.50L209-36.50L209-36.50Q209-39.60 206.75-41.20L206.75-41.20L206.75-41.20Q204.50-42.80 201.30-42.80L201.30-42.80L201.30-42.80Q193.60-42.80 190.85-37.15L190.85-37.15L190.85-37.15Q188.10-31.50 188.10-23L188.10-23L188.10-23Q188.10-14.60 191.90-9.20L191.90-9.20L191.90-9.20Q195.70-3.80 202-3.80L202-3.80L202-3.80Q206.30-3.80 209.35-5.65L209.35-5.65L209.35-5.65Q212.40-7.50 214.90-11.30L214.90-11.30L214.90-11.30Q215.20-11.80 215.90-11.80L215.90-11.80L215.90-11.80Q216.40-11.80 217-11.50L217-11.50L217-11.50Q217.50-11.30 217.80-10.80L217.80-10.80L217.80-10.80Q218.10-10.30 218.10-9.80L218.10-9.80L218.10-9.80Q218.10-9.50 217.80-9L217.80-9L217.80-9Q214.50-4.30 209.60-1.55L209.60-1.55L209.60-1.55Q204.70 1.20 199.70 1.20L199.70 1.20ZM246.40 1.20L246.40 1.20Q240.80 1.20 236-1.85L236-1.85L236-1.85Q231.20-4.90 228.30-10.35L228.30-10.35L228.30-10.35Q225.40-15.80 225.40-22.70L225.40-22.70L225.40-22.70Q225.40-28.90 228.40-34.40L228.40-34.40L228.40-34.40Q231.40-39.90 236.70-43.20L236.70-43.20L236.70-43.20Q242-46.50 248.50-46.50L248.50-46.50L248.50-46.50Q251.60-46.50 254.70-45.75L254.70-45.75L254.70-45.75Q257.80-45 260.10-43.70L260.10-43.70L260.40-43.70L260.40-59L260.40-59Q260.40-61.60 260.25-62.80L260.25-62.80L260.25-62.80Q260.10-64 259-64.90L259-64.90L259-64.90Q257.90-65.80 255.30-65.80L255.30-65.80L255.30-65.80Q254.10-65.80 253.50-66.15L253.50-66.15L253.50-66.15Q252.90-66.50 252.90-67.80L252.90-67.80L252.90-67.80Q252.90-68.40 253.30-68.95L253.30-68.95L253.30-68.95Q253.70-69.50 254.50-69.60L254.50-69.60L254.50-69.60Q260.80-70.50 265.30-72.20L265.30-72.20L265.30-72.20Q266.70-72.70 267.60-72.80L267.60-72.80L267.90-72.80L267.90-72.80Q269.50-72.80 269.50-70.90L269.50-70.90L269.50-9.20L269.50-9.20Q269.50-3.30 277.30-3.30L277.30-3.30L277.30-3.30Q279-3.30 279-1.70L279-1.70L279-1.70Q279-0.30 277.30 0L277.30 0L261.40 1.10L261.40 1.10Q260.70 1.10 260.60 0.65L260.60 0.65L260.60 0.65Q260.50 0.20 260.50-0.90L260.50-0.90L260.50-4.90L260.20-4.90L260.20-4.90Q257.60-2.20 253.85-0.50L253.85-0.50L253.85-0.50Q250.10 1.20 246.40 1.20L246.40 1.20ZM249.80-3.80L249.80-3.80Q253.30-3.80 255.75-5.15L255.75-5.15L255.75-5.15Q258.20-6.50 260.40-8.80L260.40-8.80L260.40-35.20L260.40-35.20Q259.50-38.10 256.65-40.50L256.65-40.50L256.65-40.50Q253.80-42.90 249.50-42.90L249.50-42.90L249.50-42.90Q245.60-42.90 242.45-40.45L242.45-40.45L242.45-40.45Q239.30-38 237.50-33.30L237.50-33.30L237.50-33.30Q235.70-28.60 235.70-22.20L235.70-22.20L235.70-22.20Q235.70-14.50 239.35-9.15L239.35-9.15L239.35-9.15Q243-3.80 249.80-3.80L249.80-3.80ZM306.80 1.20L306.80 1.20Q299.30 1.20 294.05-2L294.05-2L294.05-2Q288.80-5.20 286.10-10.70L286.10-10.70L286.10-10.70Q283.40-16.20 283.40-22.90L283.40-22.90L283.40-22.90Q283.40-28.80 286.15-34.25L286.15-34.25L286.15-34.25Q288.90-39.70 294-43.10L294-43.10L294-43.10Q299.10-46.50 305.70-46.50L305.70-46.50L305.70-46.50Q314.60-46.50 319.40-41.95L319.40-41.95L319.40-41.95Q324.20-37.40 324.90-29.70L324.90-29.70L324.90-29.70Q324.90-26.40 323.10-25.20L323.10-25.20L323.10-25.20Q321.30-24 317.90-24L317.90-24L293.60-24L293.60-24Q293.60-14.70 297.45-9.25L297.45-9.25L297.45-9.25Q301.30-3.80 309.40-3.80L309.40-3.80L309.40-3.80Q313.70-3.80 316.70-5.65L316.70-5.65L316.70-5.65Q319.70-7.50 322.40-11.90L322.40-11.90L322.40-11.90Q322.90-12.40 323.40-12.40L323.40-12.40L323.40-12.40Q324.10-12.40 324.60-12L324.60-12L324.60-12Q325.60-11.40 325.60-10.20L325.60-10.20L325.60-10.20Q325.60-9.60 325.40-9.30L325.40-9.30L325.40-9.30Q322.30-4.30 317.55-1.55L317.55-1.55L317.55-1.55Q312.80 1.20 306.80 1.20L306.80 1.20ZM293.60-27.80L309.90-27.80L309.90-27.80Q315-27.80 315.30-32L315.30-32L315.30-32Q315.30-36.60 312.80-39.80L312.80-39.80L312.80-39.80Q310.30-43 305.70-43L305.70-43L305.70-43Q300.60-43 297.30-38.95L297.30-38.95L297.30-38.95Q294-34.90 293.60-27.80L293.60-27.80ZM332.70 0.30L332.70 0.30Q332 0.30 331.60-0.35L331.60-0.35L331.60-0.35Q331.20-1 331.20-1.70L331.20-1.70L331.20-1.70Q331.30-2.90 331.70-3.20L331.70-3.20L331.70-3.20Q332.10-3.50 332.90-3.50L332.90-3.50L332.90-3.50Q335.10-3.50 336.50-4.10L336.50-4.10L336.50-4.10Q337.90-4.70 338.90-5.70L338.90-5.70L338.90-5.70Q339.90-6.70 342.10-9.40L342.10-9.40L342.10-9.40Q344.60-12.20 352.20-21.60L352.20-21.60L340.80-37.70L340.80-37.70Q339.50-39.40 338.05-40.35L338.05-40.35L338.05-40.35Q336.60-41.30 334.50-41.70L334.50-41.70L334.50-41.70Q334.20-41.80 333.40-41.90L333.40-41.90L333.40-41.90Q332.60-42 332.40-42.40L332.40-42.40L332.40-42.40Q332.20-42.80 332.20-43.80L332.20-43.80L332.20-43.80Q332.20-45 332.85-45.30L332.85-45.30L332.85-45.30Q333.50-45.60 334.45-45.65L334.45-45.65L334.45-45.65Q335.40-45.70 335.70-45.70L335.70-45.70L335.70-45.70Q345.90-46.20 350.50-40.10L350.50-40.10L352.40-37.30L352.40-37.30Q355-32.90 358.10-28.80L358.10-28.80L364.80-37.50L364.80-37.50Q366.50-39.80 366.50-40.70L366.50-40.70L366.50-40.70Q366.50-41.30 365.60-41.50L365.60-41.50L365.60-41.50Q364.70-41.70 362.30-41.80L362.30-41.80L361.70-41.80L361.70-41.80Q360.90-41.80 360.55-42.10L360.55-42.10L360.55-42.10Q360.20-42.40 360.10-43.60L360.10-43.60L360.10-43.60Q360.10-44.30 360.45-44.95L360.45-44.95L360.45-44.95Q360.80-45.60 361.50-45.60L361.50-45.60L361.50-45.60Q367.20-45.30 369.90-45.30L369.90-45.30L369.90-45.30Q372.70-45.30 378.50-45.60L378.50-45.60L378.50-45.60Q379.20-45.60 379.60-44.95L379.60-44.95L379.60-44.95Q380-44.30 380-43.60L380-43.60L380-43.60Q379.90-42.50 379.50-42.20L379.50-42.20L379.50-42.20Q379.10-41.90 378.55-41.85L378.55-41.85L378.55-41.85Q378-41.80 377.80-41.80L377.80-41.80L377.80-41.80Q374.90-41.70 373.45-40.65L373.45-40.65L373.45-40.65Q372-39.60 369.10-35.90L369.10-35.90L369.10-35.90Q368.10-34.80 365.90-31.90L365.90-31.90L365.90-31.90Q362-27 360.70-25.40L360.70-25.40L360.70-25.40Q368.90-14.80 372.90-9.40L372.90-9.40L372.90-9.40Q374.80-6.70 376.70-5.10L376.70-5.10L376.70-5.10Q378.60-3.50 380.90-3.50L380.90-3.50L381.50-3.50L381.50-3.50Q382.30-3.50 382.70-3.20L382.70-3.20L382.70-3.20Q383.10-2.90 383.20-1.70L383.20-1.70L383.20-1.70Q383.20-0.90 382.75-0.30L382.75-0.30L382.75-0.30Q382.30 0.30 381.60 0.30L381.60 0.30L381.60 0.30Q375.70 0 372 0L372 0L372 0Q367.30 0 361.40 0.30L361.40 0.30L361.40 0.30Q360.70 0.30 360.25-0.30L360.25-0.30L360.25-0.30Q359.80-0.90 359.80-1.70L359.80-1.70L359.80-1.70Q359.90-3 360.35-3.25L360.35-3.25L360.35-3.25Q360.80-3.50 362.10-3.50L362.10-3.50L362.10-3.50Q364.20-3.50 364.20-4.90L364.20-4.90L364.20-4.90Q364.20-5.90 362.80-7.80L362.80-7.80L355-18.20L346.40-7.80L346.40-7.80Q344.70-5.60 344.70-4.80L344.70-4.80L344.70-4.80Q344.70-4.10 345.70-3.80L345.70-3.80L345.70-3.80Q346.70-3.50 348.90-3.50L348.90-3.50L349.50-3.50L349.50-3.50Q350.30-3.50 350.65-3.20L350.65-3.20L350.65-3.20Q351-2.90 351.10-1.70L351.10-1.70L351.10-1.70Q351.10-1 350.75-0.35L350.75-0.35L350.75-0.35Q350.40 0.30 349.70 0.30L349.70 0.30L349.70 0.30Q344 0 341.30 0L341.30 0L341.30 0Q338.60 0 332.70 0.30L332.70 0.30Z\"> </path> </g> </svg> </div> </div> <div class=\"ads-logo-corner right-coner\"> <svg viewBox=\"0 0 121.5 228.7\" style=\"enable-background:new 0 0 121.5 228.7\"> <path fill=\"#ffc107\" d=\"M39.6,33.7L46.5,0h74.9L75,228.7H0L7,195h37.3L76.9,33.8L39.6,33.7z\"> </path> </svg> </div> </div> </div> <div class=\"share-wapper {{{shareOn}}}\"> <div class=\"share-wapper-bg\"></div> <div class=\"share-group share-share\"> <button> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 481.6 481.6\"> <path fill=\"#fff\" d=\"M381.6 309.4c-27.7 0-52.4 13.2-68.2 33.6l-132.3-73.9c3.1-8.9 4.8-18.5 4.8-28.4 0-10-1.7-19.5-4.9-28.5l132.2-73.8c15.7 20.5 40.5 33.8 68.3 33.8 47.4 0 86.1-38.6 86.1-86.1S429 0 381.5 0s-86.1 38.6-86.1 86.1c0 10 1.7 19.6 4.9 28.5l-132.1 73.8c-15.7-20.6-40.5-33.8-68.3-33.8-47.4 0-86.1 38.6-86.1 86.1s38.7 86.1 86.2 86.1c27.8 0 52.6-13.3 68.4-33.9l132.2 73.9c-3.2 9-5 18.7-5 28.7 0 47.4 38.6 86.1 86.1 86.1s86.1-38.6 86.1-86.1-38.7-86.1-86.2-86.1zm0-282.3c32.6 0 59.1 26.5 59.1 59.1s-26.5 59.1-59.1 59.1-59.1-26.5-59.1-59.1 26.6-59.1 59.1-59.1zM100 299.8c-32.6 0-59.1-26.5-59.1-59.1s26.5-59.1 59.1-59.1 59.1 26.5 59.1 59.1-26.6 59.1-59.1 59.1zm281.6 154.7c-32.6 0-59.1-26.5-59.1-59.1s26.5-59.1 59.1-59.1 59.1 26.5 59.1 59.1-26.5 59.1-59.1 59.1z\"> </path> </svg> </button> </div> <div id=\"vliShareBtnAnim\" class=\"share-group share-fb\"> <button id=\"vliFbBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"-110 1 511 511.99996\"> <path fill=\"#fff\" d=\"M180 512H98.008c-13.695 0-24.836-11.14-24.836-24.836V302.227H25.336C11.64 302.227.5 291.082.5 277.39v-79.246c0-13.696 11.14-24.836 24.836-24.836h47.836v-39.684c0-39.348 12.355-72.824 35.726-96.805C132.375 12.73 165.184 0 203.778 0l62.53.102c13.672.023 24.794 11.164 24.794 24.835v73.579c0 13.695-11.137 24.836-24.829 24.836l-42.101.015c-12.84 0-16.11 2.574-16.809 3.363-1.152 1.31-2.523 5.008-2.523 15.223v31.352h58.27c4.386 0 8.636 1.082 12.288 3.12 7.88 4.403 12.778 12.727 12.778 21.723l-.031 79.247c0 13.687-11.141 24.828-24.836 24.828h-58.47v184.941C204.84 500.86 193.696 512 180 512zm-76.813-30.016h71.633V288.79c0-9.144 7.442-16.582 16.582-16.582h66.727l.027-68.883h-66.758c-9.14 0-16.578-7.437-16.578-16.582v-44.789c0-11.726 1.192-25.062 10.043-35.086 10.696-12.117 27.551-13.515 39.301-13.515l36.922-.016V30.109l-57.332-.093c-62.024 0-100.566 39.703-100.566 103.609v53.117c0 9.14-7.438 16.582-16.579 16.582H30.516v68.883h56.093c9.141 0 16.579 7.438 16.579 16.582zM266.25 30.117h.004zm0 0\"> </path> </svg> </button> </div> <div id=\"vliShareBtnAnim\" class=\"share-group share-twitter\"> <button id=\"vliTwitterBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 511.999 511.999\"> <path fill=\"#fff\" d=\"M509.738 109.538a15.263 15.263 0 0 0-14.332-7.215l-25.53 2.224 24.403-49.193a15.268 15.268 0 1 0-20.393-20.498l-64.587 31.631c-39.903-21.066-89.756-14.813-124.06 16.436-28.63 26.08-43.679 66.187-40.873 106.183-74.829-7.5-138.169-50.331-175.623-119.537a15.269 15.269 0 0 0-25.7-1.817c-23.23 31.382-24.86 74.41-6.649 109.809-5.02-1.268-10.362-2.984-16.286-4.963A15.266 15.266 0 0 0 .205 189.564c7.206 43.688 32.682 77.264 72.926 97.138a128.229 128.229 0 0 1-16.024 4.44 15.267 15.267 0 0 0-8.034 25.378c28.981 30.978 70.845 46.225 100.581 53.539-33.81 26.477-70.307 30.908-123.341 29.087-6.139-.186-11.795 3.272-14.376 8.837a15.27 15.27 0 0 0 2.544 16.681c22.108 24.369 102.654 51.847 187.326 53.907 3.349.081 6.765.125 10.253.125 59.451-.001 138.022-12.745 194.419-69.142 42.687-42.686 69.387-91.827 79.356-146.053 8.052-43.797 2.963-78.869.518-95.725-.18-1.239-.372-2.554-.528-3.704l23.881-38.49a15.267 15.267 0 0 0 .032-16.044zm-53.606 62.622c4.531 31.224 18.316 126.24-71.245 215.801-52.06 52.059-127.888 61.407-182.338 60.084-46.461-1.13-88.019-10.016-118.139-20.15 12.229-1.5 23.127-3.814 33.414-7.011 28.359-8.815 52.317-24.676 75.395-49.915a15.268 15.268 0 0 0-9.327-25.447c-14.559-1.866-58.305-9.23-92.753-32.992 9.927-4.06 19.501-9.141 28.643-15.205a15.27 15.27 0 0 0-4.569-27.494c-28.195-7.392-62.223-23.932-77.914-60.855 10.02 1.756 20.915 2.181 32.535-.424a15.268 15.268 0 0 0 7.645-25.504c-19.524-20.222-26.825-49.364-20.561-74.301 20.514 29.981 46.503 55.213 76.279 73.868 38.091 23.865 82.549 37.054 128.57 38.137a15.32 15.32 0 0 0 12.157-5.573 15.27 15.27 0 0 0 3.107-13.007c-7.918-35.595 3.375-73.541 28.771-96.674 26.34-23.995 65.269-27.635 94.666-8.846a15.27 15.27 0 0 0 14.938.846l31.541-15.448-16.509 33.281a15.265 15.265 0 0 0 1.065 15.388 15.252 15.252 0 0 0 13.938 6.607l22.242-1.937-10.246 16.515c-3.439 5.543-2.726 10.461-1.305 20.256z\"> </path> </svg> </button> </div> <div id=\"vliShareBtnAnim\" class=\"share-group share-linkedin\"> <button id=\"vliLinkedinBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 510 510\"> <path fill=\"#fff\" stroke=\"none\" d=\" M 29.4 170.55 Q 25.0033203125 174.9400390625 25 181.15 L 25 478.95 Q 25.0033203125 485.1599609375 29.4 489.55 33.7900390625 493.9466796875 40 493.95 L 132.7 493.95 Q 138.9099609375 493.9466796875 143.3 489.55 147.6966796875 485.1599609375 147.7 478.95 L 147.7 181.15 Q 147.6966796875 174.9400390625 143.3 170.55 138.9099609375 166.1533203125 132.7 166.15 L 40 166.15 Q 33.7900390625 166.1533203125 29.4 170.55 M 55 196.15 L 117.7 196.15 117.7 463.95 55 463.95 55 196.15 M 134.85 38.35 L 134.85 38.35 Q 114.7173828125 18.1341796875 86.3 18.15 57.823828125 18.1466796875 37.7 38.35 L 37.7 38.35 Q 17.70234375 58.46015625 17.7 86.85 17.694921875 115.2359375 37.7 135.35 L 37.7 135.4 Q 57.82109375 155.55390625 86.3 155.55 114.702734375 155.55390625 134.85 135.4 L 134.85 135.4 Q 154.954296875 115.2505859375 154.95 86.85 154.9470703125 58.4404296875 134.85 38.35 M 113.6 59.55 L 113.65 59.55 Q 124.9529296875 70.8595703125 124.95 86.85 124.9453125 102.8494140625 113.6 114.2 L 113.65 114.2 Q 102.297265625 125.54609375 86.3 125.55 70.296875 125.54609375 59 114.2 L 58.95 114.2 Q 47.7052734375 102.846484375 47.7 86.85 47.69765625 70.857421875 58.95 59.55 L 59 59.5 Q 70.2935546875 48.1533203125 86.3 48.15 102.2828125 48.166015625 113.6 59.55 M 366.55 287.35 L 366.55 287.35 Q 369.8208984375 295.9189453125 370.95 308.6 371.6982421875 317.625 371.7 334.2 L 371.7 479.05 Q 371.7033203125 485.2599609375 376.1 489.65 380.4900390625 494.0466796875 386.7 494.05 L 479.35 494.05 Q 485.5599609375 494.0466796875 489.95 489.65 494.3466796875 485.2599609375 494.35 479.05 L 494.35 315.75 Q 494.346484375 281.159765625 489.9 257 484.36796875 226.735546875 471.6 206.7 442.5888671875 158.8494140625 368.25 158.85 332.56171875 158.936328125 304.3 176.4 L 304.3 176.35 Q 299.108203125 179.589453125 294.45 183.15 L 294.45 181.15 Q 294.4466796875 174.9400390625 290.05 170.55 285.6599609375 166.1533203125 279.45 166.15 L 190.75 166.15 Q 184.5400390625 166.1533203125 180.15 170.55 175.7533203125 174.9400390625 175.75 181.15 L 175.75 479.05 Q 175.7533203125 485.2599609375 180.15 489.65 184.5400390625 494.0466796875 190.75 494.05 L 283.15 494.05 Q 289.3599609375 494.0466796875 293.75 489.65 298.1466796875 485.2599609375 298.15 479.05 L 298.15 331.75 Q 298.1484375 301.451171875 305.95 286.25 L 306 286.2 Q 315.576171875 270.294921875 338.65 270.3 359.621484375 269.85 366.55 287.35 M 446.2 222.7 Q 456.0318359375 238.5634765625 460.4 262.4 464.353515625 284.340625 464.35 315.75 L 464.35 464.05 401.7 464.05 401.7 334.2 Q 401.7017578125 315.975 400.85 306.05 L 400.85 306 Q 399.27265625 288.264453125 394.45 276.35 L 394.45 276.3 Q 380.37734375 240.7470703125 338.65 240.3 296.2140625 240.305078125 279.7 271.75 L 279.7 271.75 Q 268.1515625 291.6453125 268.15 331.75 L 268.15 464.05 205.75 464.05 205.75 196.15 264.45 196.15 264.45 221.9 Q 264.4533203125 228.1099609375 268.85 232.5 273.2400390625 236.8966796875 279.45 236.9 L 280.65 236.9 Q 284.8103515625 236.90390625 288.35 234.75 291.9462890625 232.5927734375 293.9 228.9 302.626171875 212.6734375 320.05 201.9 L 320.05 201.9 Q 341.3384765625 188.7634765625 368.25 188.85 423.7208984375 188.8505859375 446.2 222.7 Z\"> </path> </svg> </button> </div> <div id=\"vliShareBtnAnim\" class=\"share-group share-pinterest\"> <button id=\"vliPinterestBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 520 520\"> <path fill=\"#fff\" stroke=\"none\" d=\" M 340.95 115.95 L 341 115.95 Q 366.8947265625 141.594921875 366.9 183.05 366.915234375 211.75390625 360.8 237.75 354.941796875 262.813671875 344.05 281.85 L 344 281.9 Q 333.6970703125 299.9265625 319.95 309.8 L 319.9 309.8 Q 306.843359375 319.0630859375 291.8 319.15 276.2375 319.3591796875 267 308.4 L 266.95 308.35 Q 258.0572265625 297.5625 261.55 282.85 L 261.55 282.8 Q 264.0701171875 272.1232421875 268.85 256.55 L 268.8 256.55 Q 274.4572265625 238.3400390625 277.05 229.6 L 277.05 229.55 Q 287.273828125 195.3291015625 287.05 178.6 287.04765625 154.2626953125 274.2 139.05 L 274.2 139 Q 259.7958984375 120.948046875 233.7 120.95 203.5919921875 120.5439453125 182.95 147.95 L 182.9 147.95 Q 163.8544921875 172.7755859375 163.85 209.55 163.86328125 228.55703125 169 246.3 L 169 246.35 Q 170.6 251.8517578125 172.2 255.95 L 136.75 406 136.75 406 Q 129.925 434.76171875 131.35 475.2 131.394921875 476.27890625 131.6 477.4 136.5583984375 504.404296875 152.8 508.05 166.89921875 515.028515625 189.1 498.8 191.389453125 497.1279296875 192.9 494.7 215.4203125 459.2328125 223.35 429.8 L 223.35 429.8 Q 225.5431640625 421.843359375 234.7 385.7 L 234.65 385.75 236.6 378.25 Q 242.115234375 382.219140625 248.75 385.75 L 248.8 385.75 Q 272.2091796875 398.1158203125 298.3 398.1 335.6607421875 398.0712890625 367.6 381.65 367.625 381.6623046875 367.65 381.65 398.4412109375 366.0109375 421.1 336.7 443.12890625 308.362890625 454.85 270.2 466.613671875 232.165625 466.65 188.35 466.666796875 153.6826171875 452.5 121.3 L 452.5 121.35 Q 438.5078125 89.2806640625 412.7 64.5 386.191796875 39.1021484375 351.05 25.2 314.0994140625 10.583984375 271.65 10.55 220.0044921875 10.5455078125 177.2 28.05 137.6974609375 44.1279296875 108.65 73.55 L 108.7 73.55 Q 81.7677734375 100.7685546875 67.35 135.6 L 67.35 135.55 Q 53.3587890625 169.0849609375 53.4 203.15 53.3939453125 245.4220703125 69.25 276.45 L 69.25 276.45 Q 87.139453125 311.978515625 120.9 325.6 L 120.8 325.6 Q 132.50859375 330.494140625 141.95 325.4 L 142 325.35 Q 152.0927734375 321.062109375 155.3 308.35 L 155.35 308.3 Q 159.7423828125 290.978125 161.1 285.65 161.11328125 285.6248046875 161.1 285.55 163.7869140625 275.45 161.7 269.65 L 161.7 269.7 Q 160.8388671875 264.51171875 153.95 256.35 146.6896484375 247.687109375 142.95 237.3 L 142.95 237.25 Q 138.7033203125 225.1880859375 138.7 210.25 138.6919921875 186.1400390625 147.4 164.15 156.05078125 142.311328125 172.1 125.65 L 172.05 125.65 Q 188.7466796875 108.4470703125 211.15 99.1 L 211.15 99.1 Q 235.3005859375 89.054296875 263.65 89.1 312.636328125 89.1048828125 340.95 115.95 M 361.9 94.45 L 361.9 94.4 Q 326.141796875 59.094921875 263.65 59.1 229.098828125 59.1458984375 199.65 71.4 L 199.6 71.4 Q 171.452734375 83.152734375 150.5 104.8 L 150.5 104.8 Q 130.3490234375 125.688671875 119.5 153.1 108.7078125 180.359765625 108.7 210.25 108.6966796875 230.8119140625 114.7 247.4 L 114.7 247.4 Q 120.2103515625 262.812890625 131 275.65 132.08984375 276.9224609375 132.7 277.35 L 132.7 277.4 Q 132.23984375 277.4806640625 132.1 278 L 132.05 278.1 Q 130.9310546875 282.5537109375 127.55 295.7 107.378125 285.471875 96.05 262.95 L 96.05 262.9 Q 83.4060546875 237.577734375 83.4 203.15 83.44140625 174.9146484375 95.05 147.1 L 95.05 147.05 Q 107.23203125 117.6318359375 130 94.65 L 130 94.65 Q 154.801953125 69.5720703125 188.5 55.85 226.1953125 40.554296875 271.65 40.55 308.2 40.515625 340 53.1 369.607421875 64.7974609375 391.95 86.15 413.3921875 106.719140625 425 133.35 L 425 133.35 Q 436.6330078125 159.9173828125 436.65 188.35 436.6861328125 227.4341796875 426.2 261.35 416.1708984375 294.0369140625 397.4 318.35 378.9775390625 342.1642578125 354 354.9 L 353.95 354.95 Q 328.31015625 368.1287109375 298.3 368.1 279.590625 368.0841796875 262.8 359.2 L 262.8 359.25 Q 248.23359375 351.52578125 242.15 340.75 240.01015625 336.640625 235.9 334.45 231.778125 332.262890625 227.15 332.8 222.568359375 333.3482421875 219.05 336.4 215.540625 339.491015625 214.35 343.95 L 205.6 378.3 205.6 378.35 Q 196.5568359375 414.055859375 194.4 421.9 L 194.4 421.85 Q 187.5673828125 446.5330078125 169.15 476.15 164.917578125 479.0849609375 162.8 479.75 162.223828125 477.9609375 161.3 473.15 160.1587890625 437.973828125 165.95 412.85 L 202.55 258 Q 203.8064453125 252.7384765625 201.35 247.85 199.6349609375 244.2423828125 197.8 237.95 L 197.8 237.95 Q 193.8365234375 224.242578125 193.85 209.55 193.8453125 183.644921875 206.85 166.05 L 206.85 166 Q 217.9248046875 151.3541015625 233.7 150.95 244.7080078125 150.951953125 251 158.05 L 250.95 158 Q 257.0521484375 166.033984375 257.05 178.6 256.8263671875 192.469921875 248.3 221 L 248.3 221 Q 245.7427734375 229.6599609375 240.15 247.7 L 240.15 247.75 Q 235.0298828125 264.476953125 232.35 275.95 225.2498046875 305.946875 244.1 327.8 L 244.1 327.75 Q 261.9630859375 348.94140625 291.8 349.15 316.1564453125 349.2369140625 337.25 334.3 L 337.25 334.3 Q 356.102734375 321.1734375 370.05 296.8 L 370.05 296.8 Q 383.0583984375 274.2859375 390 244.6 396.884765625 215.3458984375 396.9 183.05 396.9052734375 128.1248046875 361.9 94.45 Z\"> </path> </svg> </button> </div> <div id=\"vliShareBtnAnim\" class=\"share-group share-whatsapp\"> <button id=\"vliWhatsappBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 520 520\"> <path fill=\"#fff\" stroke=\"none\" d=\" M 438.75 79.25 Q 404.5 45 360.1 26.25 314.15 6.8 263.8 6.8 213.45 6.8 167.45 26.25 123.1 45 88.8 79.25 54.55 113.5 35.8 157.9 16.35 203.85 16.35 254.2 16.35 288.75 25.65 321.65 34.7 353.6 51.85 381.95 52.2 382.5 52.3 383.15 L 52.3 383.2 Q 52.35 383.8 52.15 384.45 L 8.8 513.25 141.8 470.7 Q 142.35 470.5 143 470.55 143.6 470.6 144.15 470.9 171.15 485.85 200.95 493.65 231.65 501.65 263.7 501.65 314.05 501.65 360.05 482.2 404.45 463.45 438.75 429.15 473 394.9 491.75 350.5 511.2 304.55 511.2 254.2 511.2 203.85 491.75 157.9 473 113.5 438.75 79.25 M 413.3 104.8 Q 442.55 134.05 458.65 172 475.3 211.3 475.3 254.25 475.25 297.2 458.6 336.45 442.5 374.4 413.2 403.7 383.95 432.95 346 449.05 306.7 465.7 263.8 465.7 232.1 465.7 202.05 456.5 173.6 447.8 148.65 431.5 L 69.9 456.7 69.95 456.7 Q 68.85 457.05 67.8 456.6 L 67.75 456.6 Q 66.7 456.1 66.25 455.05 65.8 454 66.15 452.9 L 91.65 376.95 Q 72.95 350.85 62.95 320.5 52.3 288.4 52.3 254.25 52.3 211.3 68.95 172 85.05 134.05 114.35 104.8 143.6 75.5 181.55 59.4 220.85 42.75 263.8 42.75 306.75 42.75 346.05 59.4 384 75.5 413.3 104.8 M 338.3 288.7 Q 333.05 286.65 330.55 286.85 326.85 287.15 323.8 291.45 320.8 295.6 312.95 304.4 306.5 311.65 302.55 315.7 299.65 318.8 296.55 319.1 293.4 319.35 288.7 316.85 278.9 312.4 270.05 307.25 253.3 297.45 238.5 283.2 226.65 271.8 215.95 256.2 209.85 247.25 204.55 237.6 202.2 233.25 203.65 229.85 204.55 227.7 207.85 224.7 209.75 222.95 212.75 219.6 216.2 215.75 217.85 213.9 220 211.55 221.65 208.95 221.7 208.9 224.7 203.55 227.45 198.55 224.55 192.35 223.45 190.05 206.7 144.15 203.55 135.75 199.3 133.7 198 133.1 192.7 132.95 190.75 132.9 186.8 132.5 182.5 132.05 180.5 131.95 176.6 131.75 172.5 133.25 167.3 135.15 163.2 139.35 153.35 149.3 149.15 156.1 139.55 171.65 138.8 191.85 138.05 211.7 149.05 235.5 154.5 247.35 162.4 258.95 163.15 260.05 171.15 272.6 181.05 287.2 192.35 300.4 227.85 342 268 359.55 308.9 377.45 325.65 379.75 331.35 380.5 336.25 379.7 343.6 378.5 344.1 378.45 354.05 377.95 368.45 369.35 384.3 359.9 388.4 349.65 392.4 339.65 393.65 330.05 394.65 321.9 393.3 319.45 392.25 317.45 389 315.45 384.35 312.85 381.2 311.1 343.7 290.85 338.3 288.7 Z\"> </path> </svg> </button> </div> <div id=\"vliShareBtnAnim\" class=\"share-group share-email\"> <button id=\"vliEmailBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 483.3 483.3\"> <g fill=\"#fff\"> <path d=\"M424.3 57.75H59.1c-32.6 0-59.1 26.5-59.1 59.1v249.6c0 32.6 26.5 59.1 59.1 59.1h365.1c32.6 0 59.1-26.5 59.1-59.1v-249.5c.1-32.6-26.4-59.2-59-59.2zm32.1 308.7c0 17.7-14.4 32.1-32.1 32.1H59.1c-17.7 0-32.1-14.4-32.1-32.1v-249.5c0-17.7 14.4-32.1 32.1-32.1h365.1c17.7 0 32.1 14.4 32.1 32.1v249.5h.1z\"> </path> <path d=\"M304.8 238.55l118.2-106c5.5-5 6-13.5 1-19.1-5-5.5-13.5-6-19.1-1l-163 146.3-31.8-28.4c-.1-.1-.2-.2-.2-.3-.7-.7-1.4-1.3-2.2-1.9L78.3 112.35c-5.6-5-14.1-4.5-19.1 1.1-5 5.6-4.5 14.1 1.1 19.1l119.6 106.9-119.1 111.5c-5.4 5.1-5.7 13.6-.6 19.1 2.7 2.8 6.3 4.3 9.9 4.3 3.3 0 6.6-1.2 9.2-3.6l120.9-113.1 32.8 29.3c2.6 2.3 5.8 3.4 9 3.4s6.5-1.2 9-3.5l33.7-30.2 120.2 114.2c2.6 2.5 6 3.7 9.3 3.7 3.6 0 7.1-1.4 9.8-4.2 5.1-5.4 4.9-14-.5-19.1l-118.7-112.7z\"> </path> </g> </svg> </button> </div> </div> </div> <div class=\"center-video-wapper\"> <div id=\"vliPlayPauseBtn\" class=\"play-pause-btn\"> <button id=\"vliPlay\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 512 512\"> <path fill=\"#fff\" d=\"M256 0C114.617 0 0 114.615 0 256s114.617 256 256 256 256-114.615 256-256S397.383 0 256 0zm88.48 269.57l-128 80a16.008 16.008 0 0 1-16.238.422A15.994 15.994 0 0 1 192 336V176c0-5.82 3.156-11.172 8.242-13.992a15.957 15.957 0 0 1 16.238.422l128 80c4.676 2.93 7.52 8.055 7.52 13.57s-2.844 10.641-7.52 13.57z\"> </path> </svg> <svg class=\"vli-hidden\" width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 300.003 300.003\"> <path fill=\"#fff\" d=\"M150.001 0c-82.838 0-150 67.159-150 150 0 82.838 67.162 150.003 150 150.003 82.843 0 150-67.165 150-150.003 0-82.841-67.155-150-150-150zM134.41 194.538c0 9.498-7.7 17.198-17.198 17.198s-17.198-7.7-17.198-17.198V105.46c0-9.498 7.7-17.198 17.198-17.198s17.198 7.7 17.198 17.198v89.078zm64.545 0c0 9.498-7.701 17.198-17.198 17.198-9.498 0-17.198-7.7-17.198-17.198V105.46c0-9.498 7.7-17.198 17.198-17.198s17.198 7.7 17.198 17.198v89.078z\" class=\"active-path\" data-old_color=\"#ffffff\" data-original=\"#000000\"> </path> </svg> </button> </div> <div class=\"back-next-btn-group back-btn-wapper {{{nextPrevArrowOn}}}\"> <div class=\"back-btn-size back-btn\"> <button id=\"vliVideoBackBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 42 42\"> <path fill=\"#fff\" d=\"M35.965.114a1.005 1.005 0 0 0-1.033.063L7.5 19.095V1a1 1 0 1 0-2 0v40a1 1 0 1 0 2 0V22.905l27.432 18.919a1.012 1.012 0 0 0 1.033.062A1 1 0 0 0 36.5 41V1a1 1 0 0 0-.535-.886z\"> </path> </svg> </button> </div> </div> <div class=\"back-next-btn-group next-btn-wapper {{{nextPrevArrowOn}}}\"> <div class=\"back-btn-size next-btn\"> <button id=\"vliVideoNextBtn\"> <svg width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 42 42\"> <path fill=\"#fff\" d=\"M35.965.114a1.005 1.005 0 0 0-1.033.063L7.5 19.095V1a1 1 0 1 0-2 0v40a1 1 0 1 0 2 0V22.905l27.432 18.919a1.012 1.012 0 0 0 1.033.062A1 1 0 0 0 36.5 41V1a1 1 0 0 0-.535-.886z\"> </path> </svg> </button> </div> </div> </div> <div class=\"bottom-video-wapper\"> <div class=\"video-progress\"> <progress id=\"vliVideoProgressBar\" value=\"0\" min=\"0\"></progress> <input id=\"vliSeek\" class=\"seek\" type=\"range\" value=\"0\" min=\"0\" step=\"1\"> <div id=\"vliSeekTooltip\" class=\"seek-tooltip\">00:00</div> </div> <div class=\"fullscreen-btn {{{fullscreenOn}}}\"> <div class=\"fullscreen-icon\"> <button id=\"vliFullscreenBtn\"> <svg viewBox=\"0 0 18 18\"> <g> <g fill=\"#fff\"> <path d=\"M17,17h-6v1h6v0h1v-7h-1V17z M1,11H0v7h1v0h6v-1H1V11z M17,0L17,0l-6,0v1h6v6h1V0H17z M1,0H0v7h1V1h6V0L1,0    L1,0z\"> </path> </g> </g> </svg> <svg class=\"vli-hidden\" viewBox=\"0 0 18 18\"> <g> <g fill=\"#fff\"> <path d=\"M11,11v1v6h1v-6h6v-1h-6H11z M0,11v1h6v6h1v-6v-1H6H0z M12,6V0h-1v6v1h1h6V6H12z M6,6H0v1h6h1V6V0H6V6z\"> </path> </g> </g> </svg> </button> </div> </div> <div class=\"sound-controll\"> <div id=\"vliSoundScrabberWrapper\" class=\"sound-scrabber-wapper\"> <div class=\"sound-scrabber-bg\"></div> <div class=\"sound-scrabber-hit-wapper\"> <progress id=\"vliVolumeProcessBar\" min=\"0\" max=\"1\" step=\"0.01\"></progress> <input id=\"vliVolumeBar\" type=\"range\" min=\"0\" max=\"1\" step=\"0.01\"> </div> </div> <div class=\"sound-btn\"> <button id=\"vliVolumeBtn\"> <svg id=\"vliVolumeOn\" width=\"100%\" height=\"100%\" class=\"vli-svg\" viewBox=\"0 0 489.6 489.6\"> <g fill=\"#fff\"> <path d=\"M361.1 337.6c2.2 1.5 4.6 2.3 7.1 2.3 3.8 0 7.6-1.8 10-5.2 18.7-26.3 28.5-57.4 28.5-89.9s-9.9-63.6-28.5-89.9c-3.9-5.5-11.6-6.8-17.1-2.9-5.5 3.9-6.8 11.6-2.9 17.1 15.7 22.1 24 48.3 24 75.8 0 27.4-8.3 53.6-24 75.8-3.9 5.4-2.6 13 2.9 16.9zM425.4 396.3c2.2 1.5 4.6 2.3 7.1 2.3 3.8 0 7.6-1.8 10-5.2 30.8-43.4 47.1-94.8 47.1-148.6s-16.3-105.1-47.1-148.6c-3.9-5.5-11.6-6.8-17.1-2.9-5.5 3.9-6.8 11.6-2.9 17.1 27.9 39.3 42.6 85.7 42.6 134.4 0 48.6-14.7 95.1-42.6 134.4-3.9 5.5-2.6 13.1 2.9 17.1zM254.7 415.7c4.3 2.5 9.2 3.8 14.2 3.8 7.4 0 14.4-2.8 19.7-7.9 5.6-5.4 8.7-12.6 8.7-20.4V98.5c0-15.7-12.7-28.4-28.4-28.4-4.9 0-9.8 1.3-14.2 3.8-.3.2-.6.3-.8.5l-100.1 69.2H73.3C32.9 143.6 0 176.5 0 216.9v55.6c0 40.4 32.9 73.3 73.3 73.3h84.5l95.9 69.2c.3.3.7.5 1 .7zm-92.9-94.4H73.3c-26.9 0-48.8-21.9-48.8-48.8v-55.6c0-26.9 21.9-48.8 48.8-48.8h84.3c2.5 0 4.9-.8 7-2.2l102.7-71c.5-.3 1.1-.4 1.6-.4 1.6 0 3.9 1.2 3.9 3.9v292.7c0 1.1-.4 2-1.1 2.8-.7.7-1.8 1.1-2.7 1.1-.5 0-1-.1-1.5-.3l-98.4-71.1c-2.2-1.5-4.7-2.3-7.3-2.3z\"> </path> </g> </svg> <svg id=\"vliVolumeOff\" class=\"vli-svg vli-hidden\" width=\"100%\" height=\"100%\" viewBox=\"0 0 612 612\"> <defs> <g id=\"Layer0_0_FILL\"> <path fill=\"#fff\" stroke=\"none\" d=\" M 371.65 292.8 L 341.1 330.45 341.1 488.8 Q 341.1 490.75 339.7 492.3 338.35 493.75 336.3 493.75 335.15 493.75 334.4 493.3 L 255.4 436.2 252.2 440.15 235.9 460.2 317.1 518.75 Q 317.8 519.35 318.35 519.6 326.7 524.4 336.15 524.4 343.15 524.4 349.45 521.85 355.8 519.3 360.75 514.5 366 509.4 368.85 502.85 371.65 496.25 371.65 489 L 371.65 292.8 M 472.75 193.65 Q 469.1 188.5 462.8 187.45 459.8009765625 186.922265625 457.05 187.5 454.0548828125 188.125390625 451.35 190.05 446.2 193.75 445.15 200 444.9408203125 201.255078125 444.9 202.45 444.8271484375 207.3259765625 447.75 211.45 462.45 232.15 470.1 256.3 477.75 280.45 477.75 306.25 477.75 312.15 477.35 318 476 337.45 470.1 356.05 462.45 380.15 447.75 401 444.1 406 445.15 412.2 446.2 418.35 451.35 422 455.6 424.95 460.25 424.95 463.9 424.95 467.2 423.3 470.55 421.55 472.75 418.45 490.25 393.8 499.35 365.2 506.6 342.25 508 318 508.35 312.05 508.35 306.05 508.35 275.55 499.25 246.95 490.2 218.35 472.75 193.65 M 361.25 98.05 Q 350.85 87.65 336.15 87.65 326.75 87.65 318.35 92.45 317.6 92.85 317.35 93.05 L 192.25 179.5 91.55 179.5 Q 72.95 179.5 55.95 186.7 39.5 193.7 26.85 206.4 14.15 219.1 7.2 235.55 0 252.55 0 271.15 L 0 340.65 Q 0 359.25 7.2 376.25 14.15 392.7 26.85 405.4 39.5 418.1 55.95 425.05 72.95 432.25 91.55 432.25 L 139.65 432.25 164.45 401.65 91.55 401.65 Q 66.4 401.65 48.45 383.75 30.55 365.85 30.55 340.65 L 30.55 271.15 Q 30.55 245.95 48.45 228.05 66.35 210.15 91.55 210.15 L 197 210.15 Q 201.6 210.15 205.8 207.35 L 334.2 118.55 Q 334.95 118.05 336.2 118.05 337.95 118.05 339.4 119.25 341.1 120.6 341.1 122.95 L 341.1 183.7 371.65 146.05 371.65 123.15 Q 371.65 108.4 361.25 98.05 M 558 127.4 Q 555.6 123.8 553.05 120.2 549.35 115.05 543.1 114 536.8 112.95 531.65 116.6 526.5 120.25 525.45 126.55 524.35 132.8 528.05 138 546 163.2 558 191.2 563.55 204.1 567.8 217.6 581.35 260.3 581.35 306 581.35 351.6 567.8 394.4 554.2 437.25 528.05 474 524.45 479.2 525.55 485.45 526.6 491.7 531.75 495.45 536 498.35 540.7 498.35 544.35 498.35 547.65 496.7 551 494.95 553.2 491.85 582 451.05 597 403.75 612 356.35 612 306 612 255.65 596.95 208.3 583.25 165.25 558 127.4 M 513.6 10.4 Q 507.15 8.05 500.5 9.7 493.1 11.55 488.8 17.85 L 37.15 574.05 Q 32.15 581.4 33.85 588.05 35.3 593.95 41.15 597.25 46.9 600.5 53.25 599.4 60.2 598.25 64.2 592.3 L 520.9 29.05 Q 524.85 23 522.3 17.65 519.95 12.75 513.6 10.4 Z\"> </path> </g> </defs> <g transform=\"matrix( 1, 0, 0, 1, 0,0) \"> <use xlink:href=\"#Layer0_0_FILL\"></use> </g> </svg> </button> </div> </div> <div class=\"progress-txt\"> <time id=\"vliTimeElapsed\">00:00</time> <span> / </span> <time id=\"vliDuration\">00:00</time> </div> <div class=\"skipxsec-wapper\"> <div class=\"skipxsec-btn skipxsec-back-btn {{{nextPrevSkipOn}}}\"> <div class=\"skipxsec-icon\"> <button id=\"vliSkipSecBack\"> <svg width=\"100%\" height=\"100%\" enable-background=\"new 0 0 512.004 512.004\" viewBox=\"0 0 512.004 512.004\" style=\"pointer-events:none\"> <path fill=\"#fff\" d=\"M464.004 98.346h-368v32h368c14.544 0 15.92 15.92 16 20.688v128c0 3.072-.448 7.152-2.608 9.056-2.816 2.496-8.784 2.624-11.072 2.416-.768-.096-1.552-.16-2.32-.16H54.628l68.688-68.688-22.624-22.624-96 96c-6.256 6.256-6.256 16.368 0 22.624l96 96 22.624-22.624-68.688-68.688h408.464c1.168.112 2.896.24 5.024.24 7.536 0 20.064-1.52 30.144-10.224 6.272-5.424 13.744-15.6 13.744-33.328v-128c0-21.168-12.784-52.688-48-52.688z\"> </path> </svg> </button> </div> </div> <div class=\"skipxsec-btn skipxsec-forward-btn {{{nextPrevSkipOn}}}\"> <div class=\"skipxsec-icon\"> <button id=\"vliSkipSecForward\"> <svg width=\"100%\" height=\"100%\" enable-background=\"new 0 0 512.004 512.004\" viewBox=\"0 0 512.004 512.004\" style=\"pointer-events:none\"> <path fill=\"#fff\" d=\"M464.004 98.346h-368v32h368c14.544 0 15.92 15.92 16 20.688v128c0 3.072-.448 7.152-2.608 9.056-2.816 2.496-8.784 2.624-11.072 2.416-.768-.096-1.552-.16-2.32-.16H54.628l68.688-68.688-22.624-22.624-96 96c-6.256 6.256-6.256 16.368 0 22.624l96 96 22.624-22.624-68.688-68.688h408.464c1.168.112 2.896.24 5.024.24 7.536 0 20.064-1.52 30.144-10.224 6.272-5.424 13.744-15.6 13.744-33.328v-128c0-21.168-12.784-52.688-48-52.688z\"> </path> </svg> </button> </div> </div> <div class=\"skipxsec-num {{{nextPrevSkipOn}}}\">10 Sec</div> </div> </div> </div> </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 12 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

var toObject = __webpack_require__(25);

var hasOwnProperty = {}.hasOwnProperty;

module.exports = function hasOwn(it, key) {
  return hasOwnProperty.call(toObject(it), key);
};


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(63);


/***/ }),
/* 15 */
/***/ (function(module, exports) {

// Module
var code = "<style>.vi__slider #vi__top{position:relative;height:auto!important}.vi__slider #vi__content{width:calc(100% + 2px);height:99px;position:relative;padding-top:7px}.vi__slider .vi__flx{height:100%}.vi__slider .vi__post{margin-right:7px;height:100%}.vi__slider .vi__post a{position:relative;display:block;height:100%}.vi__slider .vi__thumbctn{height:100%}.vi__slider .vi__title{position:absolute;top:1px;left:3px;width:calc(100% - 6px);text-align:center;display:none;height:auto!important}.vi__slider #vi__content .vi__flx:hover .vi__title{display:block}.vi__slider #vi__content .vi__flx:hover .vi__mask{background-color:rgba(0,0,0,.4);-webkit-transition:background-color .6s linear;-ms-transition:background-color .6s linear;transition:background-color .6s linear}.vi__slider .vi__title span{color:#fff;display:block;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.vi__slider .vi__featured .vi__title span{display:none}.vi__slider .vi__mask{width:100%;height:100%;position:absolute;top:0;bottom:0;left:0;right:0;background:0 0}.vi__slider .vi__mask:hover>svg{display:block}.vi__slider .vi__featured .vi__mask>svg{display:none}.vi__slider .vi__featured .vi__mask{background-color:rgba(0,0,0,.4)}.vi__slider .vi__mask>svg{display:none;width:30px;height:30px;position:absolute;top:50%;left:50%;transform:translate(-50%,-28%)}.vi__slider .vi__featured a:after{content:'Now\\aPlaying';position:absolute;white-space:pre-wrap;color:#fff;text-transform:uppercase;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;font-size:12px}.vi__slider .siema_next,.vi__slider .siema_prev{width:10px;height:16px;top:50%;position:absolute;transform:translateY(-50%);cursor:pointer;padding:5px;box-sizing:initial!important}.vi__slider .siema_next:hover,.vi__slider .siema_prev:hover{background:rgba(0,0,0,.5)}.vi__slider .siema_prev{left:7px}.vi__slider .siema_next{right:10px}.player-fixed #vi__content{display:none}.playerWrapper.videoDiscovery{margin:0;padding:0;font-family:Source Sans Pro,sans-serif}#vi__wrapper img{width:100%;height:auto}#vi__adcontainer{width:100%;height:506.25px;position:relative;overflow:hidden}#vi__adplayer{width:100%;height:100%;position:relative}.vi__thumb{width:100%;height:100%;background-position:center;background-size:cover;background-repeat:no-repeat;position:relative}#vi__toggle_fullscreen{display:none;flex-direction:row-reverse;height:auto}#vi__toggle_fullscreen_btn{width:105px;border-bottom:20px solid rgba(0,0,0,.7);border-left:10px solid transparent;position:relative}#vi__toggle_fullscreen_btn vli{position:absolute;top:0;left:0;height:16px;display:flex;padding:2px}#vi__toggle_fullscreen_icon{cursor:pointer}#vi__btn_pbs{line-height:1;border-top:1px solid #e6e6e663;background-color:#fff;position:absolute;left:50%;transform:translate(-50%,0);bottom:-26px;height:25px;width:100%;display:flex;justify-content:center;z-index:2}.vi__player{width:100%;height:100%;background-color:#eee}video{width:100%;height:100%!important}[class*=\" vi-\"],[class^=vi-]{font-family:\"Helvetica Neue\",\"Calibri Light\",Roboto,sans-serif!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.default{border:0 solid rgba(0,0,0,.2);box-shadow:0 0 20px rgba(0,0,0,.2);position:relative;overflow:hidden;font-family:\"Helvetica Neue\",\"Calibri Light\",Roboto,sans-serif;letter-spacing:.02em}.vi__player.vi__fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;height:100%;width:100%;z-index:10000000;background:#000;border-radius:0!important;display:-ms-flexbox;display:flex}.lds-dual-ring{display:none;width:40px;height:40px!important;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.lds-dual-ring:after{content:\" \";display:none;width:25px;height:25px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent #fff transparent;animation:lds-dual-ring 1.2s linear infinite;-webkit-animation:lds-dual-ring 1.2s linear infinite;-moz-animation:lds-dual-ring 1.2s linear infinite;-o-animation:lds-dual-ring 1.2s linear infinite}.vi__loading .lds-dual-ring,.vi__loading .lds-dual-ring:after{display:inline-block}@keyframes lds-dual-ring{0%{transform:rotate(0);-ms-transform:rotate(0)}100%{transform:rotate(360deg);-ms-transform:rotate(360deg)}}@-webkit-keyframes lds-dual-ring{0%{transform:rotate(0);-ms-transform:rotate(0)}100%{transform:rotate(360deg);-ms-transform:rotate(360deg)}}@-moz-keyframes lds-dual-ring{0%{transform:rotate(0);-ms-transform:rotate(0)}100%{transform:rotate(360deg);-ms-transform:rotate(360deg)}}@-o-keyframes lds-dual-ring{0%{transform:rotate(0);-ms-transform:rotate(0)}100%{transform:rotate(360deg);-ms-transform:rotate(360deg)}}.default__control button{background:no-repeat;border:none;outline:0;padding:0;display:inline-block;cursor:pointer}.default__control.vi_control_overlay{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.5)}.default__control{opacity:0;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;-ms-transition:opacity .3s ease-in-out;-o-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out}.vi__player:hover .default__control{opacity:1}.default__control.vi__control__top{position:absolute;top:0;left:0;width:100%}.vi__control__top #vi__video_title{text-align:left!important}.vi__button{font-size:14px!important}.vi__control__top #vi__video_title a{color:#fff;text-decoration:none;font-size:15px;margin:10px;display:inline-block;white-space:nowrap;overflow:hidden;width:calc(100% - 150px);text-overflow:ellipsis}.default__control.vi__control__middle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.default__control.vi__control__middle .vi__middle_button{display:-ms-flexbox;display:flex;justify-content:center;-ms-flex-align:center;align-items:center;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.default__control.vi__control__middle .vi__middle_button button{width:14px;height:14px;margin:0 5px}.default__control.vi__control__middle .vi__middle_button button.big{width:26px;height:26px}.vi__loading .vi__control__middle .vi__middle_button{display:none}.default__control.vi__control__bottom{position:absolute;bottom:0;left:0;width:100%;height:auto!important}.vi__control__bottom .progress{margin-bottom:8px;position:relative;height:5px;transition:height .3s;background:rgba(0,0,0,.5);cursor:pointer;flex:none;-ms-flex:none;display:flex;width:100%}.vi__control__bottom .progress .progress__filled{width:0%;background:#ddd;-ms-flex:0;flex:0;-ms-flex-preferred-size:0;flex-basis:0%}.vi__control__bottom button{float:right;margin-bottom:10px;margin-right:10px}.vi__control__bottom .vi__time{color:#ddd;margin-left:5px;margin-bottom:10px;font-size:13px;display:inline-block}.vi__control__bottom .vi__time.vi__current_time{margin-left:10px}.vi__custom_logo{position:absolute;top:10px;right:10px;height:20px;max-width:20px;overflow:hidden;-webkit-transition:max-width .5s ease-in-out;transition:max-width .5s ease-in-out;display:block}.vi__custom_logo a{display:-webkit-box;height:20px;text-decoration:none;color:#fff}.vi__custom_logo .vi__svg_content{display:block;width:20px;height:20px;overflow:hidden}.vi__custom_logo .vi__text_content{margin-left:5px;font-size:13px;white-space:nowrap}.vi__player:hover .vi__custom_logo{max-width:150px}.vi__fullscreen .vi__custom_logo,.vi__player_fixed .vi__custom_logo{display:none}#vi_toggleVolVideoDiscovery{padding:initial;background-color:transparent;z-index:9999;left:10px;bottom:6px;cursor:pointer}#vi_toggleVolVideoDiscovery svg{font-size:initial;padding:initial;background-color:transparent}.sound_on .vi__mutedVideo{display:none!important}.sound_off .vi__volVideo{display:none!important}.videoDiscovery vli{display:block;height:100%}.videoWrapper .videoDiscovery vli{display:block;height:initial}.vi__wgcontainer{height:auto!important}</style> {{{nowPlaying}}} {{{fullscreen}}} <vli id=\"vi__wrapper\" class=\"vi__slider\"> <vli class=\"vi__wgcontainer\"> <vli id=\"vi__top\"> <vli id=\"vi__adcontainer\" {{{styleAdContainer}}}> <vli id=\"vi__adplayer\" style=\"z-index:9997\"> <vli id=\"vi__player\" style=\"width:100%;height:100%\"> <vli class=\"vi__player {{{viPC}}} default is_playing\" style=\"position:relative\"> <video preload=\"auto\" {{{loop}}} {{{controls}}} playsinline muted style=\"background:url(//assets.bilsyndication.com/widget/2020/07/30/1596163502.jpg) 0 0/cover no-repeat transparent\"> </video> <img id=\"vi_poster__videoDiscovery\" style=\"position:absolute;top:0;left:0;width:inherit!important;height:inherit!important;visibility:hidden;opacity:0\" src=\"//assets.bilsyndication.com/widget/2020/07/30/1596163502.jpg\"/> {{{control}}} </vli> </vli> {{{power_by}}} </vli> <div id=\"vi__adwrapper\"></div> </vli> </vli> {{{content}}} </vli> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 16 */
/***/ (function(module, exports) {

// Module
var code = "<style>.vi_svg{cursor:pointer;width:20px!important;height:20px!important;display:none;margin:0!important}.vislider__control__bottom .progress{margin-bottom:6px;position:relative;height:5px!important;transition:height .3s;background:rgba(0,0,0,.5);cursor:pointer;flex:none;-ms-flex:none;display:flex;width:100%}.vislider__control__bottom .progress .progress__filled{width:0%;background:#ddd;-ms-flex:0;flex:0;-ms-flex-preferred-size:0;flex-basis:0%}.vislider__control__bottom button{float:right;margin-bottom:6px;margin-right:12px}.vislider__control__bottom .vi__time{color:#ddd;margin-left:5px;margin-bottom:10px;font-size:13px;display:inline-block}.vi_slider_control_custom{font-family:\"Helvetica Neue\",\"Calibri Light\",Roboto,sans-serif;letter-spacing:.02em}.vislider__control__bottom .vi__time.vi__current_time{margin-left:10px}.vi__player.vi__played:hover .opacity__control{visibility:visible;opacity:1}.playerWrapper button{background:no-repeat;border:none;outline:0;padding:0;display:inline-block;cursor:pointer;font-size:14px!important;background-color:transparent!important}.vi_slider_control_custom .vislider__control__middle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.vi_slider_control_custom .vislider__control__middle .vi__middle_button{display:-ms-flexbox;display:flex;justify-content:center;-ms-flex-align:center;align-items:center;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.vi_slider_control_custom .vislider__control__middle .vi__button{width:15px!important;height:15px!important;margin:0 30px}.vi__loading .vislider__control__middle .vi__middle_button{display:none}.slider__control{position:absolute;bottom:0;left:0;width:100%;height:auto!important}.opacity__control{visibility:hidden;opacity:0}.vi__player:not(.vi__played) .vi__button,.vi__player:not(.vi__played) .vislider__control__bottom{display:none}.slider__control#vislider_control_overlay{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.2);cursor:pointer}.vislider__loading{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.vi__loading .vislider__loading{display:block}#vi_svg_play{display:block}#btn_control_player{cursor:pointer;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fafafa!important;padding:9px;border-radius:50%;display:block;width:auto;height:auto;margin:0;max-width:inherit}.vi__player:not(.vi__played) #btn_control_player{opacity:1;visibility:visible}.vi__player.vi__paused .opacity__control{visibility:visible;opacity:1}.sound_on .vi__mutedVideo{display:none!important}.sound_off .vi__volVideo{display:none!important}#hide_fullscreen_slider{position:absolute;display:none;top:-25px;right:-25px;cursor:pointer}#vi_poster__video{position:absolute;top:0;left:0;width:inherit!important;height:inherit!important;visibility:hidden;opacity:0}@media only screen and (max-width:480px){#hide_fullscreen_slider{top:-30px;right:0}.vislider__control__bottom .vi__time{margin-bottom:4px}.vislider__control__bottom button{margin-bottom:4px}}</style> <ins class=\"slider__control opacity__control\" id=\"vislider_control_overlay\"></ins> <vli class=\"vislider__loading\"> <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"margin:auto;background:0 0;display:block;shape-rendering:auto;animation-play-state:running;animation-delay:0s;width:56px!important;height:56px!important\" width=\"56px\" height=\"56px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\"> <circle cx=\"50\" cy=\"50\" fill=\"none\" stroke=\"#1d0e0b\" stroke-width=\"5\" r=\"33\" stroke-dasharray=\"155.50883635269477 53.83627878423159\" style=\"animation-play-state:running;animation-delay:0s\"> <animateTransform attributeName=\"transform\" type=\"rotate\" repeatCount=\"indefinite\" dur=\"2.127659574468085s\" values=\"0 50 50;360 50 50\" keyTimes=\"0;1\" style=\"animation-play-state:running;animation-delay:0s\"> </animateTransform> </circle> </svg> </vli> <vli id=\"hide_fullscreen_slider\"> <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" style=\"width:24px;height:24px;pointer-events:none\" viewBox=\"0 0 475.2 475.2\"> <path fill=\"#fff\" d=\"M405.6 69.6C360.7 24.7 301.1 0 237.6 0s-123.1 24.7-168 69.6S0 174.1 0 237.6s24.7 123.1 69.6 168 104.5 69.6 168 69.6 123.1-24.7 168-69.6 69.6-104.5 69.6-168-24.7-123.1-69.6-168zm-19.1 316.9c-39.8 39.8-92.7 61.7-148.9 61.7s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7 0-297.8C128.5 48.9 181.4 27 237.6 27s109.1 21.9 148.9 61.7c82.1 82.1 82.1 215.7 0 297.8z\" class=\"active-path\" data-old_color=\"#A96D6D\" data-original=\"#000000\"></path> <path fill=\"#fff\" d=\"M342.3 132.9c-5.3-5.3-13.8-5.3-19.1 0l-85.6 85.6-85.6-85.6c-5.3-5.3-13.8-5.3-19.1 0-5.3 5.3-5.3 13.8 0 19.1l85.6 85.6-85.6 85.6c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4l85.6-85.6 85.6 85.6c2.6 2.6 6.1 4 9.5 4 3.5 0 6.9-1.3 9.5-4 5.3-5.3 5.3-13.8 0-19.1l-85.4-85.6 85.6-85.6c5.3-5.3 5.3-13.8 0-19.1z\" class=\"active-path\" data-old_color=\"#A96D6D\" data-original=\"#000000\"></path> </svg> </vli> <vli class=\"vi_slider_control_custom\"> <vli class=\"vislider__control__middle\"> <vli class=\"vi__middle_button\"> <button class=\"vi__button vi_slider__button vi__button_prev opacity__control\" id=\"vi__prepost\" title=\"Previous\"><svg enable-background=\"new 0 0 42 42\" version=\"1.1\" viewBox=\"0 0 42 42\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M35.965,0.114c-0.329-0.171-0.726-0.148-1.033,0.063L7.5,19.095V1c0-0.553-0.448-1-1-1s-1,0.447-1,1v40c0,0.553,0.448,1,1,1 s1-0.447,1-1V22.905l27.432,18.919C35.103,41.94,35.301,42,35.5,42c0.159,0,0.319-0.038,0.465-0.114 C36.294,41.713,36.5,41.372,36.5,41V1C36.5,0.628,36.294,0.287,35.965,0.114z\" fill=\"#fafafa\"></path> </svg></button> <button id=\"btn_control_player\" class=\"opacity__control\"> <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:svgjs=\"http://svgjs.com/svgjs\" version=\"1.1\" width=\"512\" height=\"512\" x=\"0\" y=\"0\" viewBox=\"0 0 320.001 320.001\" style=\"enable-background:new 0 0 512 512\" xml:space=\"preserve\" class=\"vi_svg\" id=\"vi_svg_play\"> <g> <path xmlns=\"http://www.w3.org/2000/svg\" d=\"M295.84,146.049l-256-144c-4.96-2.784-11.008-2.72-15.904,0.128C19.008,5.057,16,10.305,16,16.001v288  c0,5.696,3.008,10.944,7.936,13.824c2.496,1.44,5.28,2.176,8.064,2.176c2.688,0,5.408-0.672,7.84-2.048l256-144  c5.024-2.848,8.16-8.16,8.16-13.952S300.864,148.897,295.84,146.049z\" fill=\"#5a5a5a\" data-original=\"#000000\"/> </g> </svg> <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:svgjs=\"http://svgjs.com/svgjs\" version=\"1.1\" width=\"512\" height=\"512\" x=\"0\" y=\"0\" viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512\" xml:space=\"preserve\" class=\"vi_svg\" id=\"vi_svg_pause\"> <g> <g xmlns=\"http://www.w3.org/2000/svg\"> <g> <path d=\"M181.333,0H74.667c-17.643,0-32,14.357-32,32v448c0,17.643,14.357,32,32,32h106.667c17.643,0,32-14.357,32-32V32    C213.333,14.357,198.976,0,181.333,0z\" fill=\"#5a5a5a\" data-original=\"#000000\"/> </g> </g> <g xmlns=\"http://www.w3.org/2000/svg\"> <g> <path d=\"M437.333,0H330.667c-17.643,0-32,14.357-32,32v448c0,17.643,14.357,32,32,32h106.667c17.643,0,32-14.357,32-32V32    C469.333,14.357,454.976,0,437.333,0z\" fill=\"#5a5a5a\" data-original=\"#000000\"/> </g> </g> </g> </svg> </button> <button class=\"vi__button vi_slider__button vi__button_next opacity__control\" id=\"vi__nextpost\" title=\"Next\"><svg enable-background=\"new 0 0 42 42\" version=\"1.1\" viewBox=\"0 0 42 42\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M35.5,0c-0.552,0-1,0.447-1,1v18.095L7.068,0.177C6.762-0.034,6.364-0.057,6.035,0.114C5.706,0.287,5.5,0.628,5.5,1v40 c0,0.372,0.206,0.713,0.535,0.886C6.181,41.962,6.341,42,6.5,42c0.199,0,0.397-0.06,0.568-0.177L34.5,22.905V41c0,0.553,0.448,1,1,1 s1-0.447,1-1V1C36.5,0.447,36.052,0,35.5,0z\" fill=\"#fafafa\"></path> </svg></button> </vli> </vli> <vli class=\"slider__control vislider__control__bottom opacity__control\"> <vli class=\"progress\"> <vli class=\"progress__filled\" style=\"flex-basis:0%\"></vli> </vli> <vli style=\"float:right\"> <button class=\"vislider__button fullscreen\" title=\"Fullsceen\"> <svg class=\"\" width=\"16px\" height=\"16px\" enable-background=\"new 0 0 384.97 384.97\" version=\"1.1\" viewBox=\"0 0 384.97 384.97\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#fafafa\"> <path class=\"active-path\" d=\"m384.97 12.03c0-6.713-5.317-12.03-12.03-12.03h-108.09c-6.833 0-11.922 5.39-11.934 12.223 0 6.821 5.101 11.838 11.934 11.838h96.062l-0.193 96.519c0 6.833 5.197 12.03 12.03 12.03 6.833-0.012 12.03-5.197 12.03-12.03l0.193-108.37c0-0.036-0.012-0.06-0.012-0.084 1e-3 -0.037 0.013-0.061 0.013-0.097z\" data-old_color=\"#fafafa\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"M120.496,0H12.403c-0.036,0-0.06,0.012-0.096,0.012C12.283,0.012,12.247,0,12.223,0C5.51,0,0.192,5.317,0.192,12.03 L0,120.399c0,6.833,5.39,11.934,12.223,11.934c6.821,0,11.838-5.101,11.838-11.934l0.192-96.339h96.242 c6.833,0,12.03-5.197,12.03-12.03C132.514,5.197,127.317,0,120.496,0z\" data-old_color=\"#fafafa\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"m120.12 360.91h-96.062v-96.242c0-6.833-5.197-12.03-12.03-12.03s-12.031 5.196-12.031 12.03v108.09c0 0.036 0.012 0.06 0.012 0.084 0 0.036-0.012 0.06-0.012 0.096 0 6.713 5.317 12.03 12.03 12.03h108.09c6.833 0 11.922-5.39 11.934-12.223 1e-3 -6.82-5.1-11.837-11.933-11.837z\" data-old_color=\"#fafafa\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"m372.75 252.91c-6.833 0-11.85 5.101-11.838 11.934v96.062h-96.242c-6.833 0-12.03 5.197-12.03 12.03s5.197 12.03 12.03 12.03h108.09c0.036 0 0.06-0.012 0.084-0.012 0.036-0.012 0.06 0.012 0.096 0.012 6.713 0 12.03-5.317 12.03-12.03v-108.09c1e-3 -6.833-5.389-11.934-12.222-11.934z\" data-old_color=\"#fafafa\" data-original=\"#000000\"></path> </g> </svg> </button> <button class=\"vislider__button volume sound_off\" id=\"vi_toggleVolVideo\"> <vli class=\"vi__mutedVideo\" style=\"padding:initial;background-color:transparent\"> <svg width=\"18px\" height=\"18px\" enable-background=\"new 0 0 124.625 124.625\" version=\"1.1\" viewBox=\"0 0 124.62 124.62\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#fafafa\"> <path d=\"m6 92.404h23.1l25.6 19.3c4 3 9.601 0.2 9.601-4.8v-89.2c0-4.9-5.701-7.8-9.601-4.8l-25.6 19.3h-23.1c-3.3 0-6 2.7-6 6v48.301c0 3.199 2.7 5.899 6 5.899z\"> </path> <path d=\"m122.4 40.604c-2.7-2.7-7.2-2.7-9.9 0l-11.8 11.8-11.8-11.8c-2.7-2.7-7.2-2.7-9.9 0-2.699 2.7-2.699 7.2 0 9.9l11.801 11.8-11.801 11.8c-2.699 2.7-2.699 7.2 0 9.9 1.4 1.399 3.2 2.1 5 2.1 1.801 0 3.6-0.7 5-2.1l11.801-11.801 11.799 11.801c1.4 1.399 3.201 2.1 5 2.1 1.801 0 3.601-0.7 5-2.1 2.701-2.7 2.701-7.2 0-9.9l-12-11.8 11.801-11.8c2.699-2.7 2.699-7.2-1e-3 -9.9z\"> </path> </g> </svg> </vli> <vli class=\"vi__volVideo\" style=\"padding:initial;background-color:transparent\"> <svg width=\"18px\" height=\"18px\" enable-background=\"new 0 0 115.3 115.3\" version=\"1.1\" viewBox=\"0 0 115.3 115.3\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#fafafa\"> <path d=\"m47.9 14.306-21.9 16.4h-20c-3.3 0-6 2.7-6 6v41.8c0 3.301 2.7 6 6 6h20l21.9 16.4c4 3 9.6 0.2 9.6-4.8v-77c0-5-5.7-7.8-9.6-4.8z\"> </path> <path d=\"m77.3 24.106c-2.7-2.7-7.2-2.7-9.899 0-2.7 2.7-2.7 7.2 0 9.9 13 13 13 34.101 0 47.101-2.7 2.7-2.7 7.2 0 9.899 1.399 1.4 3.199 2 4.899 2s3.601-0.699 4.9-2.1c18.6-18.3 18.6-48.3 0.1-66.8z\"> </path> <path d=\"m85.1 8.406c-2.699 2.7-2.699 7.2 0 9.9 10.5 10.5 16.301 24.4 16.301 39.3s-5.801 28.8-16.301 39.3c-2.699 2.7-2.699 7.2 0 9.9 1.4 1.399 3.2 2.1 4.9 2.1 1.8 0 3.6-0.7 4.9-2 13.1-13.1 20.399-30.6 20.399-49.2s-7.2-36-20.399-49.2c-2.6-2.8-7-2.8-9.8-0.1z\"> </path> </g> </svg> </vli> </button> <div></div> </vli> <vli style=\"float:left\"><span class=\"vi__time vi__current_time\">00:00</span><span class=\"vi__time vi__slash\">/</span><span class=\"vi__time vi__duration\">00:00</span></vli> </vli> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 17 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliVideoPlaceholder\" {{{videoPlaceholderCSS}}}> {{{topVideoConatiner}}} {{{videoMain}}} </div>";
// Exports
module.exports = code;

/***/ }),
/* 18 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliVideoPlaceholder\" {{{videoPlaceholderCSS}}}> {{{topVideoConatiner}}} {{{videoMain}}} {{{contentPlayerSkin}}} </div>";
// Exports
module.exports = code;

/***/ }),
/* 19 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliVideoPlaceholder\" {{{videoPlaceholderCSS}}}> {{{topVideoConatiner}}} <table style=\"border-collapse:collapse;width:100%\"> <tr> <td style=\"vertical-align:top;width:65%\"> {{{videoMain}}} </td> <td style=\"vertical-align:top;width:35%\"> <div id=\"vliVideoList\" class=\"playerskin6\"> {{{contentPlayerSkin}}} </div> </td> </tr> </table> </div>";
// Exports
module.exports = code;

/***/ }),
/* 20 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliTopVideoContainer\" class=\"top-container {{{topVideoContainerConfig}}}\"> <div id=\"vliFeatureVideos\" class=\"feature-videos\">{{{mainTitle}}}</div> <div class=\"poweredby-wapper {{{poweredByApacdex}}}\"> <div class=\"poweredby-txt\">Powered By</div> <div class=\"poweredby-logo-wapper\"> <div class=\"poweredby-corner left-coner\"> <svg viewBox=\"0 0 121.4 228.7\" style=\"enable-background:new 0 0 121.4 228.7\"> <path fill=\"#ffc107\" d=\"M81.9,195L75,228.8H0L46.5,0h74.9l-6.9,33.8H77.3L44.6,195H81.9z\"> </path> </svg> </div> <div class=\"poweredby-logo-txt\"> <svg viewBox=\"-19.154333496093727 -13.008770751953122 538.3086669921875 176.01754150390624\"> <g transform=\"translate(55, 90)\"> <path fill=\"#022242\" stroke=\"#022242\" stroke-width=\"6px\" d=\"M0.60 0.30L0.60 0.30Q-0.30 0.30-0.75-0.35L-0.75-0.35L-0.75-0.35Q-1.20-1-1.20-1.90L-1.20-1.90L-1.20-1.90Q-1.10-3.40-0.60-3.70L-0.60-3.70L-0.60-3.70Q-0.10-4 0.60-4L0.60-4L0.60-4Q1.30-4 1.50-4L1.50-4L1.50-4Q4.50-4 5.90-5.55L5.90-5.55L5.90-5.55Q7.30-7.10 8.15-9.05L8.15-9.05L8.15-9.05Q9-11 9.30-11.70L9.30-11.70L26.80-53.10L26.80-53.10Q27.40-54.60 27.40-55.50L27.40-55.50L27.40-55.50Q27.40-57.30 26-58.10L26-58.10L26-58.10Q24.60-58.90 22.10-59.40L22.10-59.40L22.10-59.40Q20.40-59.70 20-60L20-60L20-60Q19.60-60.30 19.60-61.70L19.60-61.70L19.60-61.70Q19.60-62.90 20.25-63.30L20.25-63.30L20.25-63.30Q20.90-63.70 22.30-63.70L22.30-63.70L22.30-63.70Q27.30-63.70 30.25-62.95L30.25-62.95L30.25-62.95Q33.20-62.20 35.40-59.95L35.40-59.95L35.40-59.95Q37.60-57.70 39.50-53.10L39.50-53.10L56.30-11.70L56.30-11.70Q57.80-7.90 59.20-6L59.20-6L59.20-6Q60.60-4.10 63.40-4L63.40-4L64-4L64-4Q65-4 65.40-3.65L65.40-3.65L65.40-3.65Q65.80-3.30 65.90-1.90L65.90-1.90L65.90-1.90Q65.90-1 65.45-0.35L65.45-0.35L65.45-0.35Q65 0.30 64.10 0.30L64.10 0.30L64.10 0.30Q57.70 0 53.10 0L53.10 0L53.10 0Q47.10 0 40.70 0.30L40.70 0.30L40.70 0.30Q39.80 0.30 39.35-0.35L39.35-0.35L39.35-0.35Q38.90-1 38.90-1.90L38.90-1.90L38.90-1.90Q39-3.30 39.40-3.65L39.40-3.65L39.40-3.65Q39.80-4 40.80-4L40.80-4L40.80-4Q44.20-4 45.60-4.65L45.60-4.65L45.60-4.65Q47-5.30 47-7L47-7L47-7Q47-8.30 45.80-11.70L45.80-11.70L42.40-20L17.70-20L17.70-20Q15.20-13.80 14.85-12.80L14.85-12.80L14.85-12.80Q14.50-11.80 14.50-11.70L14.50-11.70L14.50-11.70Q13.30-7.90 13.30-6.80L13.30-6.80L13.30-6.80Q13.30-5.10 14.80-4.55L14.80-4.55L14.80-4.55Q16.30-4 20.50-4L20.50-4L21.10-4L21.10-4Q22.10-4 22.50-3.65L22.50-3.65L22.50-3.65Q22.90-3.30 23-1.90L23-1.90L23-1.90Q23-1 22.55-0.35L22.55-0.35L22.55-0.35Q22.10 0.30 21.20 0.30L21.20 0.30L21.20 0.30Q14.80 0 10.30 0L10.30 0L10.30 0Q7.10 0 0.60 0.30L0.60 0.30ZM30.20-50L19.60-24.30L40.60-24.30L30.50-50L30.20-50ZM69.20 20.80L69.20 20.80Q68.50 20.80 68.05 20.20L68.05 20.20L68.05 20.20Q67.60 19.60 67.60 18.80L67.60 18.80L67.60 18.80Q67.70 17.50 68.15 17.25L68.15 17.25L68.15 17.25Q68.60 17 69.90 17L69.90 17L69.90 17Q72.40 17 73.50 16.10L73.50 16.10L73.50 16.10Q74.60 15.20 74.85 13.90L74.85 13.90L74.85 13.90Q75.10 12.60 75.10 10.20L75.10 10.20L75.10-33.20L75.10-33.20Q75.10-35.80 74.95-37L74.95-37L74.95-37Q74.80-38.20 73.70-39.10L73.70-39.10L73.70-39.10Q72.60-40 70-40L70-40L70-40Q68.80-40 68.20-40.35L68.20-40.35L68.20-40.35Q67.60-40.70 67.60-42L67.60-42L67.60-42Q67.60-42.60 68-43.15L68-43.15L68-43.15Q68.40-43.70 69.20-43.80L69.20-43.80L69.20-43.80Q75.70-44.80 79.90-46.40L79.90-46.40L79.90-46.40Q81.60-46.90 82.20-47L82.20-47L82.50-47L82.50-47Q84.10-47 84.10-45.10L84.10-45.10L84.10-40.30L84.40-40.30L84.40-40.30Q87.30-43 91.20-44.75L91.20-44.75L91.20-44.75Q95.10-46.50 98.60-46.50L98.60-46.50L98.60-46.50Q104.60-46.50 109.35-43.50L109.35-43.50L109.35-43.50Q114.10-40.50 116.80-35.05L116.80-35.05L116.80-35.05Q119.50-29.60 119.50-22.70L119.50-22.70L119.50-22.70Q119.50-15.70 116.30-10.25L116.30-10.25L116.30-10.25Q113.10-4.80 107.80-1.80L107.80-1.80L107.80-1.80Q102.50 1.20 96.60 1.20L96.60 1.20L96.60 1.20Q92.50 1.20 89.70 0.35L89.70 0.35L89.70 0.35Q86.90-0.50 84.60-1.90L84.60-1.90L84.20-1.90L84.20 10.20L84.20 10.20Q84.20 12.60 84.45 13.90L84.45 13.90L84.45 13.90Q84.70 15.20 85.80 16.10L85.80 16.10L85.80 16.10Q86.90 17 89.40 17L89.40 17L90 17L90 17Q90.80 17 91.20 17.30L91.20 17.30L91.20 17.30Q91.60 17.60 91.70 18.80L91.70 18.80L91.70 18.80Q91.70 19.60 91.30 20.20L91.30 20.20L91.30 20.20Q90.90 20.80 90.10 20.80L90.10 20.80L90.10 20.80Q84.30 20.50 79.60 20.50L79.60 20.50L79.60 20.50Q75.10 20.50 69.20 20.80L69.20 20.80ZM95.80-2.20L95.80-2.20Q102.80-2.20 106.05-8.40L106.05-8.40L106.05-8.40Q109.30-14.60 109.30-22.40L109.30-22.40L109.30-22.40Q109.30-30.20 105.70-35.85L105.70-35.85L105.70-35.85Q102.10-41.50 95-41.50L95-41.50L95-41.50Q91.50-41.50 89.05-40.15L89.05-40.15L89.05-40.15Q86.60-38.80 84.20-36.30L84.20-36.30L84.20-9.50L84.20-9.50Q85.40-6.50 88.45-4.35L88.45-4.35L88.45-4.35Q91.50-2.20 95.80-2.20L95.80-2.20ZM140.50 1.20L140.50 1.20Q134.50 1.20 130.80-2.20L130.80-2.20L130.80-2.20Q127.10-5.60 127.10-10.70L127.10-10.70L127.10-10.70Q127.10-17 131.30-20.15L131.30-20.15L131.30-20.15Q135.50-23.30 141.30-24.25L141.30-24.25L141.30-24.25Q147.10-25.20 156.30-25.70L156.30-25.70L156.30-33.60L156.30-33.60Q156.30-38.50 153.85-41.05L153.85-41.05L153.85-41.05Q151.40-43.60 146-43.60L146-43.60L146-43.60Q142.90-43.60 140.60-41.70L140.60-41.70L140.60-41.70Q138.30-39.80 138.30-36.60L138.30-36.60L138.30-36.60Q138.30-35 139.05-33.95L139.05-33.95L139.05-33.95Q139.80-32.90 140.65-32.20L140.65-32.20L140.65-32.20Q141.50-31.50 141.50-31.40L141.50-31.40L141.50-31.40Q141.50-30.80 140.25-29.85L140.25-29.85L140.25-29.85Q139-28.90 137.20-28.90L137.20-28.90L137.20-28.90Q134.20-28.90 132.45-31.10L132.45-31.10L132.45-31.10Q130.70-33.30 130.70-36.30L130.70-36.30L130.70-36.30Q130.70-41.50 135.35-44L135.35-44L135.35-44Q140-46.50 146.60-46.50L146.60-46.50L146.60-46.50Q154.80-46.50 159.95-43.40L159.95-43.40L159.95-43.40Q165.10-40.30 165.10-31.90L165.10-31.90L165.10-8.60L165.10-8.60Q165.20-6.50 166.40-4.60L166.40-4.60L166.40-4.60Q167.60-2.70 170.30-2.70L170.30-2.70L170.30-2.70Q171.10-2.70 171.45-2.40L171.45-2.40L171.45-2.40Q171.80-2.10 171.80-1.10L171.80-1.10L171.80-1.10Q171.80 0.10 169.95 0.65L169.95 0.65L169.95 0.65Q168.10 1.20 166.30 1.20L166.30 1.20L166.30 1.20Q162.50 1.20 159.60-1L159.60-1L159.60-1Q156.70-3.20 156.30-6.90L156.30-6.90L156.30-6.90Q154.20-3 149.85-0.90L149.85-0.90L149.85-0.90Q145.50 1.20 140.50 1.20L140.50 1.20ZM143.70-4.20L143.70-4.20Q147.10-4.20 150-5.90L150-5.90L150-5.90Q152.90-7.60 154.60-10.55L154.60-10.55L154.60-10.55Q156.30-13.50 156.30-17.10L156.30-17.10L156.30-22.80L156.30-22.80Q145.80-22 141.50-19.40L141.50-19.40L141.50-19.40Q137.20-16.80 137.20-11L137.20-11L137.20-11Q137.20-4.20 143.70-4.20L143.70-4.20ZM199.70 1.20L199.70 1.20Q189.50 1.20 183.70-5.30L183.70-5.30L183.70-5.30Q177.90-11.80 177.90-22.70L177.90-22.70L177.90-22.70Q178.10-29.50 181.25-34.85L181.25-34.85L181.25-34.85Q184.40-40.20 189.70-43.25L189.70-43.25L189.70-43.25Q195-46.30 201.40-46.50L201.40-46.50L201.40-46.50Q207.80-46.50 212.45-44.10L212.45-44.10L212.45-44.10Q217.10-41.70 217.10-36.10L217.10-36.10L217.10-36.10Q217.10-33 215.25-30.65L215.25-30.65L215.25-30.65Q213.40-28.30 210.30-28.30L210.30-28.30L210.30-28.30Q208.40-28.30 207.05-29.30L207.05-29.30L207.05-29.30Q205.70-30.30 205.70-31L205.70-31L205.70-31Q205.70-31.10 206.60-31.90L206.60-31.90L206.60-31.90Q207.50-32.70 208.25-33.85L208.25-33.85L208.25-33.85Q209-35 209-36.50L209-36.50L209-36.50Q209-39.60 206.75-41.20L206.75-41.20L206.75-41.20Q204.50-42.80 201.30-42.80L201.30-42.80L201.30-42.80Q193.60-42.80 190.85-37.15L190.85-37.15L190.85-37.15Q188.10-31.50 188.10-23L188.10-23L188.10-23Q188.10-14.60 191.90-9.20L191.90-9.20L191.90-9.20Q195.70-3.80 202-3.80L202-3.80L202-3.80Q206.30-3.80 209.35-5.65L209.35-5.65L209.35-5.65Q212.40-7.50 214.90-11.30L214.90-11.30L214.90-11.30Q215.20-11.80 215.90-11.80L215.90-11.80L215.90-11.80Q216.40-11.80 217-11.50L217-11.50L217-11.50Q217.50-11.30 217.80-10.80L217.80-10.80L217.80-10.80Q218.10-10.30 218.10-9.80L218.10-9.80L218.10-9.80Q218.10-9.50 217.80-9L217.80-9L217.80-9Q214.50-4.30 209.60-1.55L209.60-1.55L209.60-1.55Q204.70 1.20 199.70 1.20L199.70 1.20ZM246.40 1.20L246.40 1.20Q240.80 1.20 236-1.85L236-1.85L236-1.85Q231.20-4.90 228.30-10.35L228.30-10.35L228.30-10.35Q225.40-15.80 225.40-22.70L225.40-22.70L225.40-22.70Q225.40-28.90 228.40-34.40L228.40-34.40L228.40-34.40Q231.40-39.90 236.70-43.20L236.70-43.20L236.70-43.20Q242-46.50 248.50-46.50L248.50-46.50L248.50-46.50Q251.60-46.50 254.70-45.75L254.70-45.75L254.70-45.75Q257.80-45 260.10-43.70L260.10-43.70L260.40-43.70L260.40-59L260.40-59Q260.40-61.60 260.25-62.80L260.25-62.80L260.25-62.80Q260.10-64 259-64.90L259-64.90L259-64.90Q257.90-65.80 255.30-65.80L255.30-65.80L255.30-65.80Q254.10-65.80 253.50-66.15L253.50-66.15L253.50-66.15Q252.90-66.50 252.90-67.80L252.90-67.80L252.90-67.80Q252.90-68.40 253.30-68.95L253.30-68.95L253.30-68.95Q253.70-69.50 254.50-69.60L254.50-69.60L254.50-69.60Q260.80-70.50 265.30-72.20L265.30-72.20L265.30-72.20Q266.70-72.70 267.60-72.80L267.60-72.80L267.90-72.80L267.90-72.80Q269.50-72.80 269.50-70.90L269.50-70.90L269.50-9.20L269.50-9.20Q269.50-3.30 277.30-3.30L277.30-3.30L277.30-3.30Q279-3.30 279-1.70L279-1.70L279-1.70Q279-0.30 277.30 0L277.30 0L261.40 1.10L261.40 1.10Q260.70 1.10 260.60 0.65L260.60 0.65L260.60 0.65Q260.50 0.20 260.50-0.90L260.50-0.90L260.50-4.90L260.20-4.90L260.20-4.90Q257.60-2.20 253.85-0.50L253.85-0.50L253.85-0.50Q250.10 1.20 246.40 1.20L246.40 1.20ZM249.80-3.80L249.80-3.80Q253.30-3.80 255.75-5.15L255.75-5.15L255.75-5.15Q258.20-6.50 260.40-8.80L260.40-8.80L260.40-35.20L260.40-35.20Q259.50-38.10 256.65-40.50L256.65-40.50L256.65-40.50Q253.80-42.90 249.50-42.90L249.50-42.90L249.50-42.90Q245.60-42.90 242.45-40.45L242.45-40.45L242.45-40.45Q239.30-38 237.50-33.30L237.50-33.30L237.50-33.30Q235.70-28.60 235.70-22.20L235.70-22.20L235.70-22.20Q235.70-14.50 239.35-9.15L239.35-9.15L239.35-9.15Q243-3.80 249.80-3.80L249.80-3.80ZM306.80 1.20L306.80 1.20Q299.30 1.20 294.05-2L294.05-2L294.05-2Q288.80-5.20 286.10-10.70L286.10-10.70L286.10-10.70Q283.40-16.20 283.40-22.90L283.40-22.90L283.40-22.90Q283.40-28.80 286.15-34.25L286.15-34.25L286.15-34.25Q288.90-39.70 294-43.10L294-43.10L294-43.10Q299.10-46.50 305.70-46.50L305.70-46.50L305.70-46.50Q314.60-46.50 319.40-41.95L319.40-41.95L319.40-41.95Q324.20-37.40 324.90-29.70L324.90-29.70L324.90-29.70Q324.90-26.40 323.10-25.20L323.10-25.20L323.10-25.20Q321.30-24 317.90-24L317.90-24L293.60-24L293.60-24Q293.60-14.70 297.45-9.25L297.45-9.25L297.45-9.25Q301.30-3.80 309.40-3.80L309.40-3.80L309.40-3.80Q313.70-3.80 316.70-5.65L316.70-5.65L316.70-5.65Q319.70-7.50 322.40-11.90L322.40-11.90L322.40-11.90Q322.90-12.40 323.40-12.40L323.40-12.40L323.40-12.40Q324.10-12.40 324.60-12L324.60-12L324.60-12Q325.60-11.40 325.60-10.20L325.60-10.20L325.60-10.20Q325.60-9.60 325.40-9.30L325.40-9.30L325.40-9.30Q322.30-4.30 317.55-1.55L317.55-1.55L317.55-1.55Q312.80 1.20 306.80 1.20L306.80 1.20ZM293.60-27.80L309.90-27.80L309.90-27.80Q315-27.80 315.30-32L315.30-32L315.30-32Q315.30-36.60 312.80-39.80L312.80-39.80L312.80-39.80Q310.30-43 305.70-43L305.70-43L305.70-43Q300.60-43 297.30-38.95L297.30-38.95L297.30-38.95Q294-34.90 293.60-27.80L293.60-27.80ZM332.70 0.30L332.70 0.30Q332 0.30 331.60-0.35L331.60-0.35L331.60-0.35Q331.20-1 331.20-1.70L331.20-1.70L331.20-1.70Q331.30-2.90 331.70-3.20L331.70-3.20L331.70-3.20Q332.10-3.50 332.90-3.50L332.90-3.50L332.90-3.50Q335.10-3.50 336.50-4.10L336.50-4.10L336.50-4.10Q337.90-4.70 338.90-5.70L338.90-5.70L338.90-5.70Q339.90-6.70 342.10-9.40L342.10-9.40L342.10-9.40Q344.60-12.20 352.20-21.60L352.20-21.60L340.80-37.70L340.80-37.70Q339.50-39.40 338.05-40.35L338.05-40.35L338.05-40.35Q336.60-41.30 334.50-41.70L334.50-41.70L334.50-41.70Q334.20-41.80 333.40-41.90L333.40-41.90L333.40-41.90Q332.60-42 332.40-42.40L332.40-42.40L332.40-42.40Q332.20-42.80 332.20-43.80L332.20-43.80L332.20-43.80Q332.20-45 332.85-45.30L332.85-45.30L332.85-45.30Q333.50-45.60 334.45-45.65L334.45-45.65L334.45-45.65Q335.40-45.70 335.70-45.70L335.70-45.70L335.70-45.70Q345.90-46.20 350.50-40.10L350.50-40.10L352.40-37.30L352.40-37.30Q355-32.90 358.10-28.80L358.10-28.80L364.80-37.50L364.80-37.50Q366.50-39.80 366.50-40.70L366.50-40.70L366.50-40.70Q366.50-41.30 365.60-41.50L365.60-41.50L365.60-41.50Q364.70-41.70 362.30-41.80L362.30-41.80L361.70-41.80L361.70-41.80Q360.90-41.80 360.55-42.10L360.55-42.10L360.55-42.10Q360.20-42.40 360.10-43.60L360.10-43.60L360.10-43.60Q360.10-44.30 360.45-44.95L360.45-44.95L360.45-44.95Q360.80-45.60 361.50-45.60L361.50-45.60L361.50-45.60Q367.20-45.30 369.90-45.30L369.90-45.30L369.90-45.30Q372.70-45.30 378.50-45.60L378.50-45.60L378.50-45.60Q379.20-45.60 379.60-44.95L379.60-44.95L379.60-44.95Q380-44.30 380-43.60L380-43.60L380-43.60Q379.90-42.50 379.50-42.20L379.50-42.20L379.50-42.20Q379.10-41.90 378.55-41.85L378.55-41.85L378.55-41.85Q378-41.80 377.80-41.80L377.80-41.80L377.80-41.80Q374.90-41.70 373.45-40.65L373.45-40.65L373.45-40.65Q372-39.60 369.10-35.90L369.10-35.90L369.10-35.90Q368.10-34.80 365.90-31.90L365.90-31.90L365.90-31.90Q362-27 360.70-25.40L360.70-25.40L360.70-25.40Q368.90-14.80 372.90-9.40L372.90-9.40L372.90-9.40Q374.80-6.70 376.70-5.10L376.70-5.10L376.70-5.10Q378.60-3.50 380.90-3.50L380.90-3.50L381.50-3.50L381.50-3.50Q382.30-3.50 382.70-3.20L382.70-3.20L382.70-3.20Q383.10-2.90 383.20-1.70L383.20-1.70L383.20-1.70Q383.20-0.90 382.75-0.30L382.75-0.30L382.75-0.30Q382.30 0.30 381.60 0.30L381.60 0.30L381.60 0.30Q375.70 0 372 0L372 0L372 0Q367.30 0 361.40 0.30L361.40 0.30L361.40 0.30Q360.70 0.30 360.25-0.30L360.25-0.30L360.25-0.30Q359.80-0.90 359.80-1.70L359.80-1.70L359.80-1.70Q359.90-3 360.35-3.25L360.35-3.25L360.35-3.25Q360.80-3.50 362.10-3.50L362.10-3.50L362.10-3.50Q364.20-3.50 364.20-4.90L364.20-4.90L364.20-4.90Q364.20-5.90 362.80-7.80L362.80-7.80L355-18.20L346.40-7.80L346.40-7.80Q344.70-5.60 344.70-4.80L344.70-4.80L344.70-4.80Q344.70-4.10 345.70-3.80L345.70-3.80L345.70-3.80Q346.70-3.50 348.90-3.50L348.90-3.50L349.50-3.50L349.50-3.50Q350.30-3.50 350.65-3.20L350.65-3.20L350.65-3.20Q351-2.90 351.10-1.70L351.10-1.70L351.10-1.70Q351.10-1 350.75-0.35L350.75-0.35L350.75-0.35Q350.40 0.30 349.70 0.30L349.70 0.30L349.70 0.30Q344 0 341.30 0L341.30 0L341.30 0Q338.60 0 332.70 0.30L332.70 0.30Z\"> </path> </g> </svg> </div> <div class=\"poweredby-corner right-coner\"> <svg viewBox=\"0 0 121.5 228.7\" style=\"enable-background:new 0 0 121.5 228.7\"> <path fill=\"#ffc107\" d=\"M39.6,33.7L46.5,0h74.9L75,228.7H0L7,195h37.3L76.9,33.8L39.6,33.7z\"> </path> </svg> </div> </div> </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 21 */
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(6);
var classof = __webpack_require__(12);

var split = ''.split;

// fallback for non-array-like ES3 and non-enumerable old V8 strings
module.exports = fails(function () {
  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
  // eslint-disable-next-line no-prototype-builtins -- safe
  return !Object('z').propertyIsEnumerable(0);
}) ? function (it) {
  return classof(it) == 'String' ? split.call(it, '') : Object(it);
} : Object;


/***/ }),
/* 23 */
/***/ (function(module, exports) {

// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on " + it);
  return it;
};


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(9);

// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (input, PREFERRED_STRING) {
  if (!isObject(input)) return input;
  var fn, val;
  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;
  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;
  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;
  throw TypeError("Can't convert object to primitive value");
};


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

var requireObjectCoercible = __webpack_require__(23);

// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
module.exports = function (argument) {
  return Object(requireObjectCoercible(argument));
};


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(8);
var fails = __webpack_require__(6);
var createElement = __webpack_require__(71);

// Thank's IE8 for his funny defineProperty
module.exports = !DESCRIPTORS && !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing
  return Object.defineProperty(createElement('div'), 'a', {
    get: function () { return 7; }
  }).a != 7;
});


/***/ }),
/* 27 */
/***/ (function(module, exports) {

module.exports = {};


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

var aFunction = __webpack_require__(73);

// optional / simple context binding
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 0: return function () {
      return fn.call(that);
    };
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(8);
var definePropertyModule = __webpack_require__(74);
var createPropertyDescriptor = __webpack_require__(21);

module.exports = DESCRIPTORS ? function (object, key, value) {
  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

var IS_NODE = __webpack_require__(87);
var V8_VERSION = __webpack_require__(88);
var fails = __webpack_require__(6);

// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
module.exports = !!Object.getOwnPropertySymbols && !fails(function () {
  // eslint-disable-next-line es/no-symbol -- required for testing
  return !Symbol.sham &&
    // Chrome 38 Symbol has incorrect toString conversion
    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    (IS_NODE ? V8_VERSION === 38 : V8_VERSION > 37 && V8_VERSION < 41);
});


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

var path = __webpack_require__(27);
var global = __webpack_require__(4);

var aFunction = function (variable) {
  return typeof variable == 'function' ? variable : undefined;
};

module.exports = function (namespace, method) {
  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])
    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];
};


/***/ }),
/* 32 */
/***/ (function(module, exports) {

module.exports = function() {
	var list = [];
	list.toString = function toString() {
		var result = [];
		for(var i = 0; i < this.length; i++) {
			var item = this[i];
			if(item[2]) {
				result.push("@media " + item[2] + "{" + item[1] + "}");
			} else {
				result.push(item[1]);
			}
		}
		return result.join("");
	};
	return list;
}

/***/ }),
/* 33 */
/***/ (function(module, exports) {

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

module.exports = _asyncToGenerator;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

var parent = __webpack_require__(64);

module.exports = parent;


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

!function (e, t) {
   true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
}(this, function () {
  return function () {
    function e(t) {
      var n, i;
      if (this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this.maxElements = t.maxElements, null == this.width || null == this.height) throw new Error("Missing quadtree dimensions.");
      if (null == this.x && (this.x = 0), null == this.y && (this.y = 0), null == this.maxElements && (this.maxElements = 1), this.contents = [], this.oversized = [], this.size = 0, this.width < 1 || this.height < 1) throw new Error("Dimensions must be positive integers.");
      if (!Number.isInteger(this.x) || !Number.isInteger(this.y)) throw new Error("Coordinates must be integers");
      if (this.maxElements < 1) throw new Error("The maximum number of elements before a split must be a positive integer.");
      i = this, this.children = {
        NW: {
          create: function create() {
            return new e({
              x: i.x,
              y: i.y,
              width: Math.max(Math.floor(i.width / 2), 1),
              height: Math.max(Math.floor(i.height / 2), 1),
              maxElements: i.maxElements
            });
          },
          tree: null
        },
        NE: {
          create: function create() {
            return new e({
              x: i.x + Math.max(Math.floor(i.width / 2), 1),
              y: i.y,
              width: Math.ceil(i.width / 2),
              height: Math.max(Math.floor(i.height / 2), 1),
              maxElements: i.maxElements
            });
          },
          tree: null
        },
        SW: {
          create: function create() {
            return new e({
              x: i.x,
              y: i.y + Math.max(Math.floor(i.height / 2), 1),
              width: Math.max(Math.floor(i.width / 2), 1),
              height: Math.ceil(i.height / 2),
              maxElements: i.maxElements
            });
          },
          tree: null
        },
        SE: {
          create: function create() {
            return new e({
              x: i.x + Math.max(Math.floor(i.width / 2), 1),
              y: i.y + Math.max(Math.floor(i.height / 2), 1),
              width: Math.ceil(i.width / 2),
              height: Math.ceil(i.height / 2),
              maxElements: i.maxElements
            });
          },
          tree: null
        }
      };

      for (n in this.children) {
        this.children[n].get = function () {
          return null != this.tree ? this.tree : (this.tree = this.create(), this.tree);
        };
      }
    }

    var t, n, i, r, h, l, o, s;
    return r = function r(e) {
      var t, n;
      return {
        x: Math.floor((null != (t = e.width) ? t : 1) / 2) + e.x,
        y: Math.floor((null != (n = e.height) ? n : 1) / 2) + e.y
      };
    }, t = function t(e, _t) {
      var n, i, r, h;
      return !(e.x >= _t.x + (null != (n = _t.width) ? n : 1) || e.x + (null != (i = e.width) ? i : 1) <= _t.x || e.y >= _t.y + (null != (r = _t.height) ? r : 1) || e.y + (null != (h = e.height) ? h : 1) <= _t.y);
    }, n = function n(e, t) {
      var n;
      return n = r(t), e.x < n.x ? e.y < n.y ? "NW" : "SW" : e.y < n.y ? "NE" : "SE";
    }, s = function s(e) {
      if ("object" != _typeof(e)) throw new Error("Element must be an Object.");
      if (null == e.x || null == e.y) throw new Error("Coordinates properties are missing.");
      if ((null != e ? e.width : void 0) < 0 || (null != e ? e.height : void 0) < 0) throw new Error("Width and height must be positive integers.");
    }, l = function l(e) {
      var t, n, i, r;
      return n = Math.max(Math.floor(e.width / 2), 1), i = Math.ceil(e.width / 2), r = Math.max(Math.floor(e.height / 2), 1), t = Math.ceil(e.height / 2), {
        NW: {
          x: e.x,
          y: e.y,
          width: n,
          height: r
        },
        NE: {
          x: e.x + n,
          y: e.y,
          width: i,
          height: r
        },
        SW: {
          x: e.x,
          y: e.y + r,
          width: n,
          height: t
        },
        SE: {
          x: e.x + n,
          y: e.y + r,
          width: i,
          height: t
        }
      };
    }, i = function i(e, n) {
      var i, r, h, o;
      o = [], h = l(n);

      for (r in h) {
        i = h[r], t(e, i) && o.push(r);
      }

      return o;
    }, h = function h(e, t) {
      var n;
      return (n = function n(_n) {
        return e["_" + _n] = e[_n], Object.defineProperty(e, _n, {
          set: function set(e) {
            return t.remove(this, !0), this["_" + _n] = e, t.push(this);
          },
          get: function get() {
            return this["_" + _n];
          },
          configurable: !0
        });
      })("x"), n("y"), n("width"), n("height");
    }, o = function o(e) {
      var t;
      return (t = function t(_t2) {
        if (null != e["_" + _t2]) return delete e[_t2], e[_t2] = e["_" + _t2], delete e["_" + _t2];
      })("x"), t("y"), t("width"), t("height");
    }, e.prototype.clear = function () {
      var e, t;
      this.contents = [], this.oversized = [], this.size = 0, t = [];

      for (e in this.children) {
        t.push(this.children[e].tree = null);
      }

      return t;
    }, e.prototype.push = function (e, t) {
      return this.pushAll([e], t);
    }, e.prototype.pushAll = function (e, t) {
      var n, r, l, o, u, f, c, d, a, g, p, m, x, y, v, w, E, z, M, b;

      for (p = 0, y = e.length; p < y; p++) {
        g = e[p], s(g), t && h(g, this);
      }

      for (c = [{
        tree: this,
        elements: e
      }]; c.length > 0;) {
        for (b = (E = c.shift()).tree, d = {
          NW: null,
          NE: null,
          SW: null,
          SE: null
        }, m = 0, v = (f = E.elements).length; m < v; m++) {
          if (u = f[m], b.size++, 1 !== (a = i(u, b)).length || 1 === b.width || 1 === b.height) b.oversized.push(u);else if (b.size - b.oversized.length <= b.maxElements) b.contents.push(u);else {
            for (o = a[0], M = b.children[o], null == d[o] && (d[o] = {
              tree: M.get(),
              elements: []
            }), d[o].elements.push(u), x = 0, w = (z = b.contents).length; x < w; x++) {
              r = z[x], null == d[l = i(r, b)[0]] && (d[l] = {
                tree: b.children[l].get(),
                elements: []
              }), d[l].elements.push(r);
            }

            b.contents = [];
          }
        }

        for (o in d) {
          null != (n = d[o]) && c.push(n);
        }
      }

      return this;
    }, e.prototype.remove = function (e, t) {
      var i, r;
      return s(e), (i = this.oversized.indexOf(e)) > -1 ? (this.oversized.splice(i, 1), this.size--, t || o(e), !0) : (i = this.contents.indexOf(e)) > -1 ? (this.contents.splice(i, 1), this.size--, t || o(e), !0) : !(null == (r = this.children[n(e, this)]).tree || !r.tree.remove(e, t) || (this.size--, 0 === r.tree.size && (r.tree = null), 0));
    }, e.prototype.colliding = function (e, n) {
      var r, h, l, o, u, f, c, d, a, g, p, m, x, y;

      for (null == n && (n = t), s(e), u = [], l = [this]; l.length > 0;) {
        for (f = 0, a = (m = (y = l.shift()).oversized).length; f < a; f++) {
          (h = m[f]) !== e && n(e, h) && u.push(h);
        }

        for (c = 0, g = (x = y.contents).length; c < g; c++) {
          (h = x[c]) !== e && n(e, h) && u.push(h);
        }

        for (0 === (o = i(e, y)).length && (o = [], e.x >= y.x + y.width && o.push("NE"), e.y >= y.y + y.height && o.push("SW"), o.length > 0 && (1 === o.length ? o.push("SE") : o = ["SE"])), d = 0, p = o.length; d < p; d++) {
          r = o[d], null != y.children[r].tree && l.push(y.children[r].tree);
        }
      }

      return u;
    }, e.prototype.onCollision = function (e, n, r) {
      var h, l, o, u, f, c, d, a, g, p, m, x, y;

      for (null == r && (r = t), s(e), o = [this]; o.length > 0;) {
        for (f = 0, a = (m = (y = o.shift()).oversized).length; f < a; f++) {
          (l = m[f]) !== e && r(e, l) && n(l);
        }

        for (c = 0, g = (x = y.contents).length; c < g; c++) {
          (l = x[c]) !== e && r(e, l) && n(l);
        }

        for (0 === (u = i(e, y)).length && (u = [], e.x >= y.x + y.width && u.push("NE"), e.y >= y.y + y.height && u.push("SW"), u.length > 0 && (1 === u.length ? u.push("SE") : u = ["SE"])), d = 0, p = u.length; d < p; d++) {
          h = u[d], null != y.children[h].tree && o.push(y.children[h].tree);
        }
      }

      return null;
    }, e.prototype.get = function (e) {
      return this.where(e);
    }, e.prototype.where = function (e) {
      var t, i, r, h, l, o, u, f, c, d, a, g, p;
      if ("object" == _typeof(e) && (null == e.x || null == e.y)) return this.find(function (t) {
        var n, i;
        n = !0;

        for (i in e) {
          e[i] !== t[i] && (n = !1);
        }

        return n;
      });

      for (s(e), h = [], r = [this]; r.length > 0;) {
        for (l = 0, f = (d = (p = r.shift()).oversized).length; l < f; l++) {
          i = d[l], t = !0;

          for (u in e) {
            e[u] !== i[u] && (t = !1);
          }

          t && h.push(i);
        }

        for (o = 0, c = (a = p.contents).length; o < c; o++) {
          i = a[o], t = !0;

          for (u in e) {
            e[u] !== i[u] && (t = !1);
          }

          t && h.push(i);
        }

        null != (g = p.children[n(e, p)]).tree && r.push(g.tree);
      }

      return h;
    }, e.prototype.each = function (e) {
      var t, n, i, r, h, l, o, s, u, f;

      for (n = [this]; n.length > 0;) {
        for (r = 0, l = (s = (f = n.shift()).oversized).length; r < l; r++) {
          i = s[r], "function" == typeof e && e(i);
        }

        for (h = 0, o = (u = f.contents).length; h < o; h++) {
          i = u[h], "function" == typeof e && e(i);
        }

        for (t in f.children) {
          null != f.children[t].tree && n.push(f.children[t].tree);
        }
      }

      return this;
    }, e.prototype.find = function (e) {
      var t, n, i, r, h, l, o, s, u, f, c;

      for (n = [this], r = []; n.length > 0;) {
        for (h = 0, o = (u = (c = n.shift()).oversized).length; h < o; h++) {
          i = u[h], ("function" == typeof e ? e(i) : void 0) && r.push(i);
        }

        for (l = 0, s = (f = c.contents).length; l < s; l++) {
          i = f[l], ("function" == typeof e ? e(i) : void 0) && r.push(i);
        }

        for (t in c.children) {
          null != c.children[t].tree && n.push(c.children[t].tree);
        }
      }

      return r;
    }, e.prototype.filter = function (t) {
      var _n2;

      return (_n2 = function n(i) {
        var r, h, l, o, s, u, f, c, d, a, g;
        (h = new e({
          x: i.x,
          y: i.y,
          width: i.width,
          height: i.height,
          maxElements: i.maxElements
        })).size = 0;

        for (r in i.children) {
          null != i.children[r].tree && (h.children[r].tree = _n2(i.children[r].tree), h.size += null != (c = null != (d = h.children[r].tree) ? d.size : void 0) ? c : 0);
        }

        for (o = 0, u = (a = i.oversized).length; o < u; o++) {
          l = a[o], (null == t || ("function" == typeof t ? t(l) : void 0)) && h.oversized.push(l);
        }

        for (s = 0, f = (g = i.contents).length; s < f; s++) {
          l = g[s], (null == t || ("function" == typeof t ? t(l) : void 0)) && h.contents.push(l);
        }

        return h.size += h.oversized.length + h.contents.length, 0 === h.size ? null : h;
      })(this);
    }, e.prototype.reject = function (e) {
      return this.filter(function (t) {
        return !("function" == typeof e ? e(t) : void 0);
      });
    }, e.prototype.visit = function (e) {
      var t, n, i;

      for (n = [this]; n.length > 0;) {
        i = n.shift(), e.bind(i)();

        for (t in i.children) {
          null != i.children[t].tree && n.push(i.children[t].tree);
        }
      }

      return this;
    }, e.prototype.pretty = function () {
      var e, t, n, i, r, h, l;

      for (h = "", n = function n(e) {
        var t, n, i;

        for (i = "", t = n = e; n <= 0 ? t < 0 : t > 0; n <= 0 ? ++t : --t) {
          i += "   ";
        }

        return i;
      }, t = [{
        label: "ROOT",
        tree: this,
        level: 0
      }]; t.length > 0;) {
        h += (i = n((l = t.shift()).level)) + "| " + l.label + "\n" + i + "| ------------\n", l.tree.oversized.length > 0 && (h += i + "| * Oversized elements *\n" + i + "|   " + l.tree.oversized + "\n"), l.tree.contents.length > 0 && (h += i + "| * Leaf content *\n" + i + "|   " + l.tree.contents + "\n"), r = !1;

        for (e in l.tree.children) {
          null != l.tree.children[e].tree && (r = !0, t.unshift({
            label: e,
            tree: l.tree.children[e].tree,
            level: l.level + 1
          }));
        }

        r && (h += i + "└──┐\n");
      }

      return h;
    }, e;
  }();
});

/***/ }),
/* 36 */
/***/ (function(module, exports) {

// Module
var code = "<vli class=\"vi__player\" style=\"height:100%;width:100%;display:block\"> <video poster=\"//assets.bilsyndication.com/widget/2020/06/22/1592801729.jpg\" playsinline muted style=\"width:100%;height:100%!important;padding:initial;cursor:pointer\"> </video> <img id=\"vi_poster__video\" style=\"position:absolute;top:0;left:0;width:inherit!important;height:inherit!important;visibility:hidden;opacity:0\" src=\"//assets.vlitag.com/widget/2020/12/23/1608742897.png\"/> {{{controlPlay}}} </vli>";
// Exports
module.exports = code;

/***/ }),
/* 37 */
/***/ (function(module, exports) {

// Module
var code = "<vli {{{styleVli}}}> <vli> <style>@keyframes splide-loading{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.splide__container{position:relative;box-sizing:border-box;padding:initial!important}.splide__list{display:flex;flex-wrap:wrap;margin:0!important;padding:0!important}.splide__pagination{display:inline-flex;align-items:center;width:95%;flex-wrap:wrap;justify-content:center;margin:0}.splide__pagination li{list-style-type:none;display:inline-block;line-height:1;margin:0}.splide{position:relative;visibility:hidden}.splide.is-active{visibility:visible}.splide__slide{position:relative;box-sizing:border-box;list-style-type:none!important;margin:0}.splide__slide img{vertical-align:bottom}.splide__slider{position:relative}.splide__spinner{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;display:inline-block;width:20px;height:20px;border-radius:50%;border:2px solid #999;border-left-color:transparent;animation:splide-loading 1s linear infinite}.splide__track{position:relative;z-index:0;overflow:hidden}.splide--draggable>.splide__track>.splide__list>.splide__slide{-webkit-user-select:none;user-select:none}.splide--fade>.splide__track>.splide__list{display:block}.splide--fade>.splide__track>.splide__list>.splide__slide{position:absolute;top:0;left:0;z-index:0;opacity:0}.splide--fade>.splide__track>.splide__list>.splide__slide.is-active{position:relative;z-index:1;opacity:1}.splide--rtl{direction:rtl}.splide--ttb>.splide__track>.splide__list{display:block}.splide--ttb>.splide__pagination{width:auto}.splide__arrow{opacity:1;position:absolute;z-index:1;top:50%;transform:translateY(-50%);width:2em;height:2em;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;padding:0;opacity:.7;background:#ccc;font-size:14px!important}.splide__arrow:hover{cursor:pointer;opacity:.9}.splide__arrow:focus{outline:0}.splide__arrow--prev{left:1em}.splide__arrow--prev svg{transform:scaleX(-1)}.splide__arrow--next{right:1em}.splide__pagination{position:absolute;z-index:1;bottom:.5em;left:50%;transform:translateX(-50%);padding:0}.splide__pagination__page{display:inline-block;width:8px;height:8px;background:#ccc;border-radius:50%;margin:3px;padding:0;transition:transfrom .2s linear;border:none;opacity:.7}.splide__pagination__page.is-active{transform:scale(1.4);background:#fff}.splide__pagination__page:hover{cursor:pointer;opacity:.9}.splide__pagination__page:focus{outline:0}.splide__progress__bar{width:0;height:3px;background:#ccc}.splide--nav>.splide__track>.splide__list>.splide__slide{border:3px solid transparent}.splide--nav>.splide__track>.splide__list>.splide__slide.is-active{border-color:#000}.splide--nav>.splide__track>.splide__list>.splide__slide:focus{outline:0}.splide--rtl>.splide__arrows .splide__arrow--prev,.splide--rtl>.splide__track>.splide__arrows .splide__arrow--prev{right:1em;left:auto}.splide--rtl>.splide__arrows .splide__arrow--prev svg,.splide--rtl>.splide__track>.splide__arrows .splide__arrow--prev svg{transform:scaleX(1)}.splide--rtl>.splide__arrows .splide__arrow--next,.splide--rtl>.splide__track>.splide__arrows .splide__arrow--next{left:1em;right:auto}.splide--rtl>.splide__arrows .splide__arrow--next svg,.splide--rtl>.splide__track>.splide__arrows .splide__arrow--next svg{transform:scaleX(-1)}.splide--ttb>.splide__arrows .splide__arrow,.splide--ttb>.splide__track>.splide__arrows .splide__arrow{left:50%;transform:translate(-50%)}.splide--ttb>.splide__arrows .splide__arrow--prev,.splide--ttb>.splide__track>.splide__arrows .splide__arrow--prev{top:1em}.splide--ttb>.splide__arrows .splide__arrow--prev svg,.splide--ttb>.splide__track>.splide__arrows .splide__arrow--prev svg{transform:rotate(-90deg)}.splide--ttb>.splide__arrows .splide__arrow--next,.splide--ttb>.splide__track>.splide__arrows .splide__arrow--next{top:auto;bottom:1em}.splide--ttb>.splide__arrows .splide__arrow--next svg,.splide--ttb>.splide__track>.splide__arrows .splide__arrow--next svg{transform:rotate(90deg)}.splide--ttb>.splide__pagination{display:flex;flex-direction:column;bottom:50%;left:auto;right:.5em;transform:translateY(50%)}</style> <style>.powed-brand{line-height:14px;position:absolute;right:5px;bottom:5px;width:max-content;z-index:9999;color:#d5d5d5;font-size:14px;font-family:Arial,Helvetica,sans-serif}#video-player-contain{margin:0;width:445px;height:250px;position:absolute;top:0;left:50%;transform:translate(-50%,0);background:#fff}.glider-contain{visibility:hidden;opacity:0}.splide__pagination{display:none!important}.splide__list img{width:120px;max-height:70px;margin:0 auto}.splide__arrow svg{fill:#fff!important;width:2.8em!important;height:2.8em!important}.splide__arrow{background:0 0;width:3em;height:3em}#splide,#splide vli{display:block}</style> {{{styleSplideHeight}}} {{{styleMore}}} <vli class=\"glider-contain\" style=\"visibility:visible;opacity:1\"> <vli id=\"splide\" class=\"splide--loop splide--ltr\" style=\"visibility:visible;opacity:1\"> <vli class=\"splide__arrows\" style=\"visibility:visible;opacity:1;display:block\"> <button class=\"splide__arrow splide__arrow--prev vi_slider__button vi__button_next\" title=\"{{{prev}}}\" type=\"button\" aria-controls=\"splide-track\" aria-label=\"Previous slide\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 40 40\" width=\"40\" height=\"40\"> <path d=\"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z\"> </path> </svg></button> <button class=\"splide__arrow splide__arrow--next vi_slider__button vi__button_next\" title=\"{{{next}}}\" type=\"button\" aria-controls=\"splide-track\" aria-label=\"Next slide\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 40 40\" width=\"40\" height=\"40\"> <path d=\"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z\"> </path> </svg></button> </vli> <vli class=\"splide__track\" id=\"splide-track\"> <ul class=\"splide__list\" id=\"splide-list\" style=\"width:1650px;transform:translateX(-495px)\"> </ul> </vli> </vli> <vli id=\"video-player-contain\" class=\"vi__player\" {{{styleViPlayer}}}> <video poster=\"//assets.vlitag.com/widget/2020/12/23/1608742897.png\" playsinline muted style=\"width:100%;height:100%!important;padding:initial;cursor:pointer\"> </video> <img id=\"vi_poster__video\" style=\"position:absolute;top:0;left:0;width:inherit!important;height:inherit!important;visibility:hidden;opacity:0\" src=\"//assets.vlitag.com/widget/2020/12/23/1608742897.png\"/> {{{controlPlay}}} </vli> </vli> <vli class=\"powed-brand\" {{{showPower}}}> <p style=\"margin:0;font-size:11px!important;font-family:Arial,Helvetica,sans-serif;line-height:14px;color:#d5d5d5;text-align:left;letter-spacing:0!important\"> {{{powerBy}}}</p> <p style=\"margin:0;font-size:12px!important;font-weight:700;font-family:Arial,Helvetica,sans-serif;line-height:14px\"> <a style=\"color:#d5d5d5!important;text-decoration:none!important;font-size:12px!important;letter-spacing:0!important\" href=\"//{{{brand}}}/?ref={{{location}}}\" target=\"_blank\" rel=\"nofollow\">{{{name}}} </a> </p> </vli> </vli> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 38 */
/***/ (function(module, exports) {

// Module
var code = "<vli class=\"vi__post {{{feature}}}\" data-id=\"{{{id}}}\"> <a href=\"javascript:void(0);\"> <vli class=\"vi__thumbctn\"> <vli class=\"vi__thumb\" style=\"background-image:url({{{background}}})\"></vli> </vli> <vli class=\"vi__mask\"><svg enable-background=\"new 0 0 60 60\" version=\"1.1\" viewBox=\"0 0 60 60\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#fff\"> <path class=\"active-path\" d=\"M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30   c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15   C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z\" data-old_color=\"#000000\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30   S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z\" data-old_color=\"#000000\" data-original=\"#000000\"></path> </g> </svg></vli> <vli class=\"vi__title\"><span>{{{title}}}</span></vli> </a> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 39 */
/***/ (function(module, exports) {

// Module
var code = "<vli id=\"vi__btn_pbs\"> {{{infor}}} <vli id=\"vi__btn_read\" style=\"cursor:pointer;text-align:right;padding:3px 6px 0 0;font-size:14px;position:absolute;right:0;text-decoration:underline;color:#189fd8\"> {{{readMore}}}</vli> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 40 */
/***/ (function(module, exports) {

// Module
var code = "<vli class=\"default__control vi_control_overlay\" {{{hideControls}}}></vli> <vli class=\"default__control vi__control__top\"> <vli id=\"vi__video_title\"> <a href=\"https://theitbros.com/installing-active-directory-snap-in-on-windows-10/\" target=\"_blank\" title=\"7 Easy Crafts Ideas at Home\"> <span>7 Easy Crafts Ideas at Home</span> <span><svg style=\"width:14px;height:14px;transform:scaleX(-1)\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-22 0 512 512.00667\"> <path fill=\"#fff\" d=\"M422.188 98.813h-44.91a8.986 8.986 0 0 0-8.985 8.984c0 4.957 4.023 8.98 8.984 8.98h44.91c14.856 0 26.95 12.09 26.95 26.95v323.367c0 14.86-12.094 26.949-26.95 26.949H98.82c-14.86 0-26.949-12.09-26.949-26.95V251.517c0-4.957-4.023-8.985-8.98-8.985-4.961 0-8.985 4.028-8.985 8.985v215.578c0 24.765 20.149 44.914 44.914 44.914h323.368c24.765 0 44.914-20.149 44.914-44.914V143.727c0-24.766-20.149-44.914-44.914-44.914zm0 0\"> </path> <path fill=\"#fff\" d=\"M156.566 250.645a8.971 8.971 0 0 0 5.121-8.114v-53.894h8.985c108.531 0 156.437 53.07 198.539 138.699a8.974 8.974 0 0 0 10.094 4.789 8.98 8.98 0 0 0 6.945-8.75c0-228.938-103.613-260.492-215.578-260.492h-8.984V8.988a8.979 8.979 0 0 0-5.122-8.11 8.939 8.939 0 0 0-9.52 1.142L3.329 118.79c-2.101 1.698-3.324 4.269-3.324 6.972s1.223 5.261 3.324 6.968l143.719 116.774a8.942 8.942 0 0 0 9.52 1.14zm0 0\"> </path> </svg> </span> </a> </vli> </vli> <vli class=\"vi__custom_logo\" {{{isCustomLogo}}}> <a href=\"//{{{brand}}}/?ref={{{location}}}\" target=\"_blank\"> <span class=\"vi__svg_content\"> <img src=\"{{{logoIcon}}}\"> </span> <span class=\"vi__text_content\">{{{logoName}}}</span> </a> </vli> <vli class=\"lds-dual-ring\" {{{hideControls}}}></vli> <vli class=\"default__control vi__control__middle\" {{{hideControls}}}> <vli class=\"vi__middle_button\"><button class=\"vi__button vi__button_prev\" id=\"vi__prepost\" title=\"{{{prev}}}\"><svg enable-background=\"new 0 0 42 42\" version=\"1.1\" viewBox=\"0 0 42 42\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M35.965,0.114c-0.329-0.171-0.726-0.148-1.033,0.063L7.5,19.095V1c0-0.553-0.448-1-1-1s-1,0.447-1,1v40c0,0.553,0.448,1,1,1 s1-0.447,1-1V22.905l27.432,18.919C35.103,41.94,35.301,42,35.5,42c0.159,0,0.319-0.038,0.465-0.114 C36.294,41.713,36.5,41.372,36.5,41V1C36.5,0.628,36.294,0.287,35.965,0.114z\" fill=\"#ddd\"></path> </svg></button> <button class=\"vi_button_play_pause toggle big\" title=\"{{{pause}}}\"><svg enable-background=\"new 0 0 232.679 232.679\" version=\"1.1\" viewBox=\"0 0 232.68 232.68\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M80.543,0H35.797c-9.885,0-17.898,8.014-17.898,17.898v196.883 c0,9.885,8.013,17.898,17.898,17.898h44.746c9.885,0,17.898-8.013,17.898-17.898V17.898C98.44,8.014,90.427,0,80.543,0z M196.882,0 h-44.746c-9.886,0-17.899,8.014-17.899,17.898v196.883c0,9.885,8.013,17.898,17.899,17.898h44.746 c9.885,0,17.898-8.013,17.898-17.898V17.898C214.781,8.014,206.767,0,196.882,0z\" clip-rule=\"evenodd\" fill=\"#ddd\" fill-rule=\"evenodd\"></path> </svg></button> <button class=\"vi__button vi__button_next\" id=\"vi__nextpost\" title=\"{{{next}}}\"><svg enable-background=\"new 0 0 42 42\" version=\"1.1\" viewBox=\"0 0 42 42\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <path d=\"M35.5,0c-0.552,0-1,0.447-1,1v18.095L7.068,0.177C6.762-0.034,6.364-0.057,6.035,0.114C5.706,0.287,5.5,0.628,5.5,1v40 c0,0.372,0.206,0.713,0.535,0.886C6.181,41.962,6.341,42,6.5,42c0.199,0,0.397-0.06,0.568-0.177L34.5,22.905V41c0,0.553,0.448,1,1,1 s1-0.447,1-1V1C36.5,0.447,36.052,0,35.5,0z\" fill=\"#ddd\"></path> </svg></button> </vli> </vli> <vli class=\"default__control vi__control__bottom\" {{{hideControls}}}> <vli class=\"progress\"> <vli class=\"progress__filled\" style=\"flex-basis:0%\"></vli> </vli> <vli style=\"float:right\"> <button class=\"default__button fullscreen\" title=\"{{{fullscreen}}}\"> <svg class=\"\" width=\"18px\" height=\"18px\" enable-background=\"new 0 0 384.97 384.97\" version=\"1.1\" viewBox=\"0 0 384.97 384.97\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#ddd\"> <path class=\"active-path\" d=\"m384.97 12.03c0-6.713-5.317-12.03-12.03-12.03h-108.09c-6.833 0-11.922 5.39-11.934 12.223 0 6.821 5.101 11.838 11.934 11.838h96.062l-0.193 96.519c0 6.833 5.197 12.03 12.03 12.03 6.833-0.012 12.03-5.197 12.03-12.03l0.193-108.37c0-0.036-0.012-0.06-0.012-0.084 1e-3 -0.037 0.013-0.061 0.013-0.097z\" data-old_color=\"#ddd\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"M120.496,0H12.403c-0.036,0-0.06,0.012-0.096,0.012C12.283,0.012,12.247,0,12.223,0C5.51,0,0.192,5.317,0.192,12.03 L0,120.399c0,6.833,5.39,11.934,12.223,11.934c6.821,0,11.838-5.101,11.838-11.934l0.192-96.339h96.242 c6.833,0,12.03-5.197,12.03-12.03C132.514,5.197,127.317,0,120.496,0z\" data-old_color=\"#ddd\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"m120.12 360.91h-96.062v-96.242c0-6.833-5.197-12.03-12.03-12.03s-12.031 5.196-12.031 12.03v108.09c0 0.036 0.012 0.06 0.012 0.084 0 0.036-0.012 0.06-0.012 0.096 0 6.713 5.317 12.03 12.03 12.03h108.09c6.833 0 11.922-5.39 11.934-12.223 1e-3 -6.82-5.1-11.837-11.933-11.837z\" data-old_color=\"#ddd\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"m372.75 252.91c-6.833 0-11.85 5.101-11.838 11.934v96.062h-96.242c-6.833 0-12.03 5.197-12.03 12.03s5.197 12.03 12.03 12.03h108.09c0.036 0 0.06-0.012 0.084-0.012 0.036-0.012 0.06 0.012 0.096 0.012 6.713 0 12.03-5.317 12.03-12.03v-108.09c1e-3 -6.833-5.389-11.934-12.222-11.934z\" data-old_color=\"#ddd\" data-original=\"#000000\"></path> </g> </svg> </button> <button class=\"default__button volume\" id=\"vi_toggleVolVideoDiscovery\"> <vli class=\"vi__mutedVideo\" style=\"padding:initial;background-color:transparent\"> <svg width=\"18px\" height=\"18px\" enable-background=\"new 0 0 124.625 124.625\" version=\"1.1\" viewBox=\"0 0 124.62 124.62\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#ddd\"> <path d=\"m6 92.404h23.1l25.6 19.3c4 3 9.601 0.2 9.601-4.8v-89.2c0-4.9-5.701-7.8-9.601-4.8l-25.6 19.3h-23.1c-3.3 0-6 2.7-6 6v48.301c0 3.199 2.7 5.899 6 5.899z\"> </path> <path d=\"m122.4 40.604c-2.7-2.7-7.2-2.7-9.9 0l-11.8 11.8-11.8-11.8c-2.7-2.7-7.2-2.7-9.9 0-2.699 2.7-2.699 7.2 0 9.9l11.801 11.8-11.801 11.8c-2.699 2.7-2.699 7.2 0 9.9 1.4 1.399 3.2 2.1 5 2.1 1.801 0 3.6-0.7 5-2.1l11.801-11.801 11.799 11.801c1.4 1.399 3.201 2.1 5 2.1 1.801 0 3.601-0.7 5-2.1 2.701-2.7 2.701-7.2 0-9.9l-12-11.8 11.801-11.8c2.699-2.7 2.699-7.2-1e-3 -9.9z\"> </path> </g> </svg> </vli> <vli class=\"vi__volVideo\" style=\"padding:initial;background-color:transparent\"> <svg width=\"18px\" height=\"18px\" enable-background=\"new 0 0 115.3 115.3\" version=\"1.1\" viewBox=\"0 0 115.3 115.3\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#ddd\"> <path d=\"m47.9 14.306-21.9 16.4h-20c-3.3 0-6 2.7-6 6v41.8c0 3.301 2.7 6 6 6h20l21.9 16.4c4 3 9.6 0.2 9.6-4.8v-77c0-5-5.7-7.8-9.6-4.8z\"> </path> <path d=\"m77.3 24.106c-2.7-2.7-7.2-2.7-9.899 0-2.7 2.7-2.7 7.2 0 9.9 13 13 13 34.101 0 47.101-2.7 2.7-2.7 7.2 0 9.899 1.399 1.4 3.199 2 4.899 2s3.601-0.699 4.9-2.1c18.6-18.3 18.6-48.3 0.1-66.8z\"> </path> <path d=\"m85.1 8.406c-2.699 2.7-2.699 7.2 0 9.9 10.5 10.5 16.301 24.4 16.301 39.3s-5.801 28.8-16.301 39.3c-2.699 2.7-2.699 7.2 0 9.9 1.4 1.399 3.2 2.1 4.9 2.1 1.8 0 3.6-0.7 4.9-2 13.1-13.1 20.399-30.6 20.399-49.2s-7.2-36-20.399-49.2c-2.6-2.8-7-2.8-9.8-0.1z\"> </path> </g> </svg> </vli> </button> </vli> <vli style=\"float:left\"><span class=\"vi__time vi__current_time\">00:00</span><span class=\"vi__time vi__slash\">/</span><span class=\"vi__time vi__duration\">00:00</span></vli> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 41 */
/***/ (function(module, exports) {

// Module
var code = "<vli id=\"vi__content\" {{{styleViContent}}}> <vli class=\"vi__flx\" style=\"overflow:hidden;direction:ltr;cursor:-webkit-grab\"> {{{vipost}}} </vli> <vli class=\"siema_prev\"><svg version=\"1.1\" viewBox=\"0 0 9 16\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"none\" fill-rule=\"evenodd\"> <g transform=\"translate(-571 -831)\" fill=\"#fff\"> <g transform=\"translate(560 334)\"> <g transform=\"translate(-347 -131)\"> <g transform=\"translate(294 582)\"> <g transform=\"translate(64 45)\"> <path d=\"m0.44295 10.062c-0.28533-0.284-0.44295-0.659-0.44295-1.061 0-0.401 0.15763-0.778 0.44295-1.06l6.8329-6.648c0.39507-0.39 1.0336-0.39 1.4286 0 0.39407 0.391 0.39407 1.024 0 1.414l-6.4767 6.294 6.4767 6.294c0.39407 0.39 0.39407 1.023 0 1.414-0.39507 0.391-1.0336 0.391-1.4286 0l-6.8329-6.647z\"> </path> </g> </g> </g> </g> </g> </g> </svg></vli> <vli class=\"siema_next\"><svg version=\"1.1\" viewBox=\"0 0 10 16\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"none\" fill-rule=\"evenodd\"> <g transform=\"translate(-1335 -830)\" fill=\"#fff\"> <g transform=\"translate(560 334)\"> <g transform=\"translate(-347 -131)\"> <g transform=\"translate(294 582)\"> <g transform=\"translate(64 45)\"> <path transform=\"translate(769 8.0009) scale(-1 1) translate(-769 -8.0009)\" d=\"m764.5 8.0005c0-0.401 0.15763-0.778 0.44295-1.06l6.8329-6.648c0.39507-0.39 1.0336-0.39 1.4286 0 0.39407 0.391 0.39407 1.024 0 1.414l-6.4767 6.294 6.4767 6.294c0.39407 0.39 0.39407 1.023 0 1.414-0.39507 0.391-1.0336 0.391-1.4286 0l-6.8329-6.647c-0.28533-0.284-0.44295-0.659-0.44295-1.061z\"> </path> </g> </g> </g> </g> </g> </g> </svg></vli> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 42 */
/***/ (function(module, exports) {

// Module
var code = "<vli id=\"vi__toggle_fullscreen\"> <vli id=\"vi__toggle_fullscreen_btn\" {{{styleInline}}}> <vli> <a href=\"//{{{brand}}}/?ref={{{location}}}\" target=\"_blank\" rel=\"nofollow\" {{{isCustomLogo}}}> <img style=\"width:80px!important\" src=\"{{{imgLogo}}}\"> </a> <span {{{styleIconBrand}}}> <span id=\"vi__toggle_fullscreen_icon\" title=\"{{{collapse}}}\"> <svg width=\"14px\" height=\"14px\" enable-background=\"new 0 0 385.331 385.331\" version=\"1.1\" viewBox=\"0 0 385.33 385.33\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <g fill=\"#fff\"> <path class=\"active-path\" d=\"m264.94 156.66h108.27c6.833 0 11.934-5.39 11.934-12.211 0-6.833-5.101-11.85-11.934-11.838h-96.242v-96.435c0-6.833-5.197-12.03-12.03-12.03s-12.03 5.197-12.03 12.03v108.27c0 0.036 0.012 0.06 0.012 0.084 0 0.036-0.012 0.06-0.012 0.096-1e-3 6.713 5.316 12.043 12.029 12.031z\" data-old_color=\"#ffffff\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"m120.29 24.247c-6.821 0-11.838 5.113-11.838 11.934v96.242h-96.423c-6.833 0-12.03 5.197-12.03 12.03s5.197 12.03 12.03 12.03h108.27c0.036 0 0.06-0.012 0.084-0.012 0.036 0 0.06 0.012 0.096 0.012 6.713 0 12.03-5.317 12.03-12.03v-108.27c1e-3 -6.821-5.389-11.922-12.222-11.934z\" data-old_color=\"#ffffff\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"m120.39 228.67h-108.27c-6.833 0.012-11.934 5.39-11.934 12.223s5.101 11.85 11.934 11.838h96.242v96.423c0 6.833 5.197 12.03 12.03 12.03s12.03-5.197 12.03-12.03v-108.27c0-0.036-0.012-0.06-0.012-0.084 0-0.036 0.012-0.06 0.012-0.096 1e-3 -6.714-5.317-12.031-12.03-12.031z\" data-old_color=\"#ffffff\" data-original=\"#000000\"></path> <path class=\"active-path\" d=\"m373.3 228.67h-108.27c-0.036 0-0.06 0.012-0.084 0.012-0.036 0-0.06-0.012-0.096-0.012-6.713 0-12.03 5.317-12.03 12.03v108.27c0 6.833 5.39 11.922 12.223 11.934 6.821 0.012 11.838-5.101 11.838-11.922v-96.242h96.421c6.833 0 12.03-5.197 12.03-12.03s-5.196-12.031-12.03-12.043z\" data-old_color=\"#ffffff\" data-original=\"#000000\"></path> </g> </svg> </span> </span> </vli> </vli> </vli>";
// Exports
module.exports = code;

/***/ }),
/* 43 */
/***/ (function(module, exports) {

// Module
var code = "<svg enable-background=\"new 0 0 232.153 232.153\" version=\"1.1\" viewBox=\"0 0 232.15 232.15\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <path class=\"play_pause\" d=\"m203.79 99.628-154.48-97.334c-4.567-2.719-10.238-2.266-14.521-2.266-17.132 0-17.056 13.227-17.056 16.578v198.94c0 2.833-0.075 16.579 17.056 16.579 4.283 0 9.955 0.451 14.521-2.267l154.48-97.333c12.68-7.545 10.489-16.449 10.489-16.449s2.192-8.904-10.488-16.448z\" clip-rule=\"evenodd\" fill=\"#ddd\" fill-rule=\"evenodd\"></path> </svg>";
// Exports
module.exports = code;

/***/ }),
/* 44 */
/***/ (function(module, exports) {

// Module
var code = "<svg enable-background=\"new 0 0 232.679 232.679\" version=\"1.1\" viewBox=\"0 0 232.68 232.68\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"> <path class=\"play_pause\" d=\"M80.543,0H35.797c-9.885,0-17.898,8.014-17.898,17.898v196.883 c0,9.885,8.013,17.898,17.898,17.898h44.746c9.885,0,17.898-8.013,17.898-17.898V17.898C98.44,8.014,90.427,0,80.543,0z M196.882,0 h-44.746c-9.886,0-17.899,8.014-17.899,17.898v196.883c0,9.885,8.013,17.898,17.899,17.898h44.746 c9.885,0,17.898-8.013,17.898-17.898V17.898C214.781,8.014,206.767,0,196.882,0z\" clip-rule=\"evenodd\" fill=\"#ddd\" fill-rule=\"evenodd\"></path> </svg>";
// Exports
module.exports = code;

/***/ }),
/* 45 */
/***/ (function(module, exports) {

// Module
var code = "<vli data-index=\"{{{index}}}\"><img data-splide-lazy=\"{{{image}}}\"/></vli>";
// Exports
module.exports = code;

/***/ }),
/* 46 */
/***/ (function(module, exports) {

// Module
var code = "<style>.btn-toggle-control{display:none;cursor:pointer}.wrapper_outstream:hover .btn-toggle-control{display:block!important}</style> <div id=\"{{{outstreamID}}}\" class=\"vi_outstream\" {{{vi_outstreamCss}}}> <div id=\"wrapper_{{{outstreamID}}}\" class=\"wrapper_outstream\" {{{wrapper_outstreamCss}}}> <div id=\"{{{divID}}}\"></div> <div style=\"background:#0000006b;height:3px;border-radius:8px;width:100%;position:absolute;bottom:0;z-index:55555\"> <div id=\"progress_{{{outstreamID}}}\" style=\"background:rgba(255,255,255,.5);height:4px;border-radius:8px;width:0;position:absolute;bottom:0;z-index:55555\"> </div> </div> <div style=\"z-index:10000;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)\"> <div id=\"btn_toggle_{{{outstreamID}}}\" class=\"btn-toggle-control\" title=\"{{{titleHandler}}}\"> {{{iconHandler}}}</div> </div> </div> <div {{{learnMoreCss}}}> <div class=\"\" {{{childLearnModeCss}}}> <div class=\"learn-more\" id=\"btn_learn_more_{{{outstreamID}}}\" style=\"align-items:center;border-radius:4px;box-sizing:border-box;display:flex;flex:1;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.12));font-weight:700;justify-content:space-around;background-color:#3c4043;padding:7px 29px;font-size:13px;min-height:32px;min-width:72px;white-space:nowrap;font-family:initial;cursor:pointer;font-family:Arial,san-serif\" aria-label=\"Learn more\" role=\"button\"> Learn more </div> </div> </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(32)();
exports.push([module.i, ":root {\n    --vli-logo-color: #ffc107;\n    --vli-controls-color: #ffc107;\n    --vli-background-color: rgba(255, 255, 255, 1);\n    --vli-title-color: rgba(255, 255, 255, 1);\n    --vli-title-background-color: rgba(0, 0, 0, 0);\n    --vli-description-color: rgba(255, 255, 255, 1);\n}\n\n.vli-video-container {\n    /* z-index: 99999999; set when floating */\n    position: relative;\n    /* min-width: 300px; */\n    /* max-width: 800px; */\n}\n.vli-video-container button {\n    background-color: transparent;\n    border-color: transparent;\n    width: inherit;\n    height: inherit;\n}\n\n.video-source {\n    width: 100%;\n    height: auto !important;\n    /* height: 100%; */\n}\n\n.video-controller {\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    display: inline-block;\n    top: 0px;\n    left: 0px;\n    transition: 0.5s;\n}\n#vliVideoControls:hover {\n    opacity: 1;\n}\n\n.vli-svg {\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n.title-video-wapper:hover div {\n    color: var(--vli-controls-color);\n}\n.title-video-wapper:hover svg path {\n    fill: var(--vli-controls-color);\n}\nbutton:hover svg path {\n    fill: var(--vli-controls-color);\n}\n\n/* IMG Logo */\n.img-logo {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    opacity: 0.4;\n    z-index: 1;\n}\n\n/* Ads Layer */\n.ads-wapper {\n    display: none;\n    opacity: 1;\n    overflow: hidden;\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 111;\n    pointer-events: none;\n}\n.ads-cover {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    z-index: 100;\n    cursor: pointer;\n    width: 100%;\n    height: 100%;\n    display: none;\n    visibility: visible;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.ads-transparent-cover {\n    cursor: pointer;\n    width: 100%;\n    height: 100%;\n    visibility: visible;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.ads-transparent-inner {\n    cursor: pointer;\n    visibility: inherit;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(black, transparent, transparent, black);\n    opacity: 0.7;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n\n.video-cover {\n    opacity: 1;\n    width: 100%;\n    height: 100%;\n    /* visibility: visible; */\n    user-select: none;\n    pointer-events: auto;\n    /* visibility: inherit; */\n    background-color: rgba(0, 0, 0, 0.4);\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.video-preload-wapper {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    display: none;\n    z-index: 4;\n    top: 0px;\n    left: 0px;\n    cursor: pointer;\n    background: black;\n}\n.video-preload {\n    width: 58px;\n    height: 58px;\n    top: 50%;\n    left: 50%;\n    fill: none;\n    stroke: white;\n    stroke-width: 4;\n    stroke-dasharray: 400;\n    stroke-dashoffset: -46.5;\n    position: absolute;\n    display: block;\n    transform: translate(-50%, -50%) rotate(93deg);\n}\n\n/* Top Left Video */\n.top-left-video {\n    top: 0px;\n    left: 0px;\n    width: calc(100% - 120px);\n    position: absolute;\n}\n.title-video-wapper {\n    top: 14px;\n    left: 19px;\n    width: 100%;\n    font-family: Roboto;\n    font-size: 18px;\n    color: white;\n    position: absolute;\n    display: inline-flex;\n}\n.title-video {\n    background-color: var(--vli-title-background-color);\n    padding-right: 15px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n    /* user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto; */\n}\n.title-icon {\n    pointer-events: auto;\n    margin-left: -18px;\n    width: 14px;\n    min-width: 14px;\n    height: 14px;\n    padding-right: 5px;\n    transform: scale(-1, 1);\n    margin-top: 3px;\n    /* user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); */\n}\n/* View Info */\n.view-info-wapper {\n    top: 41px;\n    left: 20px;\n    position: absolute;\n}\n.view-info-icon {\n    position: relative;\n    width: 18px;\n    height: 19px;\n\n    pointer-events: none;\n    color: white;\n    float: left;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    bottom: 1px;\n}\n.view-info-num {\n    position: relative;\n    width: max-content;\n    height: 20px;\n\n    pointer-events: none;\n    color: white;\n    float: left;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    font-size: 14px;\n    left: 2px;\n}\n.view-like-icon {\n    position: relative;\n    width: 16px;\n    height: 16px;\n\n    float: left;\n    left: 10px;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n    bottom: 1px;\n}\n.view-like-num {\n    display: none;\n    position: relative;\n    position: relative;\n    width: max-content;\n    height: 20px;\n    pointer-events: none;\n    color: white;\n    float: left;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    font-size: 14px;\n    left: 12px;\n}\n\n/* Top Right Video */\n.top-right-video {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n    visibility: visible;\n}\n/* Logo */\n.logo-wrapper {\n    transform: scale(1.5);\n}\n\n.ads-logo {\n    top: 8px;\n    right: 7px;\n    width: 12px;\n    position: absolute;\n    opacity: 1;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n    display: inline-block;\n    transition: 0.5s;\n}\n.ads-logo-text-wrap {\n    opacity: 0;\n    overflow: hidden;\n    margin-right: 5px;\n    position: relative;\n    height: 15px;\n    transition: 0.7s;\n}\n#vliVideoControls:hover > .top-right-video > .logo-wrapper > .ads-logo {\n    width: 44px;\n}\n#vliVideoControls:hover > .top-right-video > .logo-wrapper > .ads-logo > .ads-logo-text-wrap {\n    opacity: 1;\n}\n.ads-logo-active > .top-right-video > .logo-wrapper > .ads-logo {\n    width: 44px;\n}\n.ads-logo-active > .top-right-video > .logo-wrapper > .ads-logo > .ads-logo-text-wrap {\n    opacity: 1;\n}\n\n.ads-logo-text {\n    height: 15px;\n    width: 37px;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.ads-logo-corner {\n    height: 15px;\n    width: 6px;\n    position: absolute;\n    top: 0;\n}\n.ads-logo-corner path {\n    fill: var(--vli-logo-color);\n}\n.left-coner {\n    left: 0;\n}\n.right-coner {\n    right: 0;\n}\n/* Share */\n.share-wapper {\n    top: 38px;\n    right: 8px;\n    position: absolute;\n    opacity: 1;\n    display: block;\n    user-select: none;\n    pointer-events: auto;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.share-wapper-bg {\n    top: 0px;\n    right: 0px;\n    width: 322px;\n    height: 40px;\n    opacity: 0;\n    object-fit: contain;\n    border-radius: 5px;\n    background-color: rgb(12, 12, 12);\n    position: absolute;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n    transition: 0.3s;\n}\n.share-wapper:hover > .share-wapper-bg {\n    opacity: 0.7;\n}\n.share-wapper:hover > #vliShareBtnAnim {\n    opacity: 1;\n}\n.share-group {\n    top: 8px;\n    width: 20px;\n    height: 20px;\n    position: absolute;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.share-share {\n    right: 10px;\n    left: -36px;\n}\n.share-fb {\n    right: 56px;\n    opacity: 0;\n    transition: 0.6s;\n}\n.share-twitter {\n    right: 102px;\n    opacity: 0;\n    transition: 0.62s;\n}\n.share-linkedin {\n    right: 148px;\n    opacity: 0;\n    transition: 0.63s;\n}\n.share-pinterest {\n    right: 194px;\n    opacity: 0;\n    transition: 0.64s;\n}\n.share-whatsapp {\n    right: 240px;\n    opacity: 0;\n    transition: 0.65s;\n}\n.share-email {\n    right: 286px;\n    opacity: 0;\n    transition: 0.66s;\n}\n/* Center Video */\n.center-video-wapper {\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    position: absolute;\n    opacity: 1;\n    visibility: visible;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n    display: block;\n}\n.play-pause-btn {\n    /* width: 5.5vw;\n    height: 5.5vw; */\n    width: 60px;\n    height: 60px;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    transform: translate(-50%, -50%);\n}\n/* Back Next BTN */\n.back-next-btn-group {\n    width: 25px;\n    height: 25px;\n    /* width: 44px;\n    height: 44px; */\n    top: 50%;\n    position: absolute;\n}\n.back-btn-wapper {\n    transform: translate(-80%, -42%);\n    /* transform: translate(-50%, -50%); */\n    right: 22px;\n}\n.next-btn-wapper {\n    transform: translate(80%, -42%);\n    /* transform: translate(50%, -50%); */\n    left: 22px;\n}\n.back-btn-size {\n    /* width: 24px;\n    height: 24px; */\n    top: 50%;\n    left: 50%;\n    position: relative;\n}\n.back-btn {\n    transform: translate(-50%, -50%);\n}\n.next-btn {\n    transform: scale(-1) translate(50%, 50%);\n}\n\n/* Bottom Video */\n.bottom-video-wapper {\n    width: 100%;\n    bottom: 0px;\n    left: 0px;\n    position: absolute;\n    opacity: 1;\n    visibility: visible;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n    display: block;\n}\n/* Process Bar */\n.load-bar {\n    bottom: 6px;\n    width: 26%;\n    height: 5px;\n    background-color: rgba(0, 210, 255, 0.4);\n\n    left: 0px;\n    position: absolute;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n/* Video process */\n.video-progress {\n    position: relative;\n    bottom: 31px;\n    margin-left: 12px;\n    margin-right: 12px;\n}\n.video-progress progress {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    border-radius: 2px;\n    width: 100%;\n    height: 5px;\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n}\n.video-progress progress::-webkit-progress-bar {\n    background-color: #474545;\n    border-radius: 2px;\n}\n.video-progress progress::-webkit-progress-value {\n    background: var(--vli-controls-color);\n    border-radius: 2px;\n}\n.video-progress progress::-moz-progress-bar {\n    border: 1px solid var(--vli-controls-color);\n    background: var(--vli-controls-color);\n}\n.progress-load-bar {\n    width: 50%;\n    height: 5px;\n    left: 0px;\n    background-color: rgba(0, 210, 255, 0.4);\n\n    position: absolute;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.video-progress input[type=\"range\"] {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    height: 4px;\n    background: transparent;\n    cursor: pointer;\n}\n.video-progress input[type=\"range\"]:focus {\n    outline: none;\n}\n.video-progress input[type=\"range\"]::-webkit-slider-runnable-track {\n    width: 100%;\n    cursor: pointer;\n    border-radius: 1.3px;\n    -webkit-appearance: none;\n    transition: 0.4s ease;\n}\n.video-progress input[type=\"range\"]::-webkit-slider-thumb {\n    width: 12px;\n    height: 12px;\n    border-radius: 12px;\n    background: var(--vli-controls-color);\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-left: -1px;\n}\n.video-progress input[type=\"range\"]:focus::-webkit-slider-runnable-track {\n    background: transparent;\n}\n.video-progress input[type=\"range\"]::-moz-range-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    border: 1px solid transparent;\n    background: transparent;\n    border-radius: 1.3px;\n}\n.video-progress input[type=\"range\"]::-moz-range-thumb {\n    height: 12px;\n    width: 12px;\n    border-radius: 50px;\n    border: 1px solid var(--vli-controls-color);\n    background: var(--vli-controls-color);\n    cursor: pointer;\n    margin-top: 5px;\n}\n.video-progress input[type=\"range\"]:focus::-moz-range-track {\n    outline: none;\n}\n.seek {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    cursor: pointer;\n    margin: 0;\n}\n.seek:hover + .seek-tooltip {\n    display: block;\n}\n.seek-tooltip {\n    display: none;\n    position: absolute;\n    top: -50px;\n    margin-left: -20px;\n    font-size: 12px;\n    padding: 3px;\n    content: attr(data-title);\n    font-weight: bold;\n    color: #fff;\n    background-color: rgba(0, 0, 0, 0.6);\n}\n\n/* Fullscreen */\n.fullscreen-btn {\n    width: 20px;\n    height: 20px;\n    bottom: 14px;\n    right: 14px;\n    position: absolute;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.fullscreen-icon {\n    width: 20px;\n    height: 20px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    position: relative;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n/* Sound Controll */\n.sound-controll {\n    width: 22px;\n    height: 22px;\n    bottom: 23px;\n    right: 50px;\n    position: absolute;\n    cursor: pointer;\n    user-select: none;\n    pointer-events: auto;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.sound-scrabber-wapper {\n    opacity: 0;\n    position: absolute;\n    right: 0px;\n    bottom: 0px;\n    transform: translate(0px, 50%);\n    display: block;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n    transition: 0.5s;\n    z-index: 99;\n}\n.sound-controll:hover > .sound-scrabber-wapper {\n    opacity: 1;\n}\n\n.sound-scrabber-bg {\n    width: 174px;\n    height: 40px;\n    opacity: 0.72;\n    border-radius: 5px;\n    background-color: rgb(12, 12, 12);\n    position: absolute;\n    right: -8px;\n    bottom: 0px;\n    transform: translate(0px, 50%);\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.sound-scrabber-hit-wapper {\n    width: 120px;\n    /* height: 17px; */\n    bottom: 1px;\n    right: 32px;\n    position: absolute;\n    transform: translate(0px, 50%);\n    cursor: pointer;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.sound-scrabber-hit-wapper progress {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    border-radius: 2px;\n    width: 100%;\n    height: 5px;\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n}\n/* base process bar color */\n.sound-scrabber-hit-wapper progress::-webkit-progress-bar {\n    background-color: #474545;\n    border-radius: 2px;\n}\n/* main process bar color */\n.sound-scrabber-hit-wapper progress::-webkit-progress-value {\n    background: white;\n    border-radius: 2px;\n}\n.sound-scrabber-hit-wapper progress::-moz-progress-bar {\n    border: 1px solid transparent;\n    background: transparent;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"] {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    width: 100%;\n    height: 4px;\n    background: transparent;\n    cursor: pointer;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"]:focus {\n    outline: none;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"]::-webkit-slider-runnable-track {\n    width: 100%;\n    cursor: pointer;\n    border-radius: 1.3px;\n    -webkit-appearance: none;\n    transition: 0.4s ease;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"]::-webkit-slider-thumb {\n    width: 10px;\n    height: 10px;\n    border-radius: 12px;\n    background: transparent;\n    cursor: pointer;\n    -webkit-appearance: none;\n    margin-left: -1px;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"]:focus::-webkit-slider-runnable-track {\n    background: transparent;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"]::-moz-range-track {\n    width: 100%;\n    height: 8.4px;\n    cursor: pointer;\n    border: 1px solid transparent;\n    background: transparent;\n    border-radius: 1.3px;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"]::-moz-range-thumb {\n    height: 12px;\n    width: 12px;\n    border-radius: 50px;\n    border: 1px solid var(--vli-controls-color);\n    background: var(--vli-controls-color);\n    cursor: pointer;\n    margin-top: 5px;\n}\n.sound-scrabber-hit-wapper input[type=\"range\"]:focus::-moz-range-track {\n    outline: none;\n}\n/* Sound btn */\n.sound-btn {\n    width: 22px;\n    height: 22px;\n    bottom: 3px;\n    right: 0px;\n    position: absolute;\n    transform: translate(0px, 50%);\n    cursor: pointer;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    display: block;\n    z-index: 9999;\n}\n\n/* Progress-txt */\n.progress-txt {\n    pointer-events: auto;\n    bottom: 14px;\n    left: 19px;\n    position: absolute;\n    font-size: 14px;\n    font-family: Roboto;\n    color: rgb(255, 255, 255);\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n/* Skip sec */\n.skipxsec-wapper {\n    width: 110px;\n    height: 21px;\n    position: relative;\n    bottom: 14px;\n    left: 50%;\n    transform: translateX(-50%);\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.skipxsec-btn {\n    width: 21px;\n    height: 21px;\n    bottom: 2px;\n    position: absolute;\n    cursor: pointer;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.skipxsec-back-btn {\n    left: 0px;\n}\n.skipxsec-forward-btn {\n    transform: scaleX(-1);\n    right: 0px;\n}\n.skipxsec-icon {\n    width: 21px;\n    height: 21px;\n    position: relative;\n    cursor: pointer;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n.skipxsec-num {\n    position: absolute;\n    left: 50%;\n    bottom: 3px;\n    transform: translateX(-50%);\n    color: rgb(255, 255, 255);\n    font-size: 14px;\n    line-height: 17px;\n    font-family: Roboto;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    pointer-events: auto;\n}\n", ""]);

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(32)();
exports.push([module.i, "*,\n*::before,\n*::after {\n    box-sizing: inherit;\n    margin: 0;\n    padding: 0;\n    outline: 0;\n}\n\n:root {\n    --vli-floating-btn-size: 20px;\n    --vli-floating-width: 350px;\n    --vli-top-bot: 20px;\n    --vli-left-right: 20px;\n}\n\n@media screen and (max-width: 530px) {\n    .sound-scrabber-wapper {\n        opacity: 0 !important;\n        width: 0px !important;\n    }\n    .sound-scrabber-bg {\n        width: 0px !important;\n    }\n    .sound-scrabber-hit-wapper {\n        width: 0px !important;\n    }\n}\n@media screen and (max-width: 445px) {\n    .view-info-wapper {\n        opacity: 0 !important;\n    }\n}\n@media screen and (max-width: 375px) {\n    .share-wapper {\n        opacity: 0 !important;\n    }\n}\n@media screen and (max-width: 340px) {\n    .top-left-video {\n        opacity: 0 !important;\n    }\n    .skipxsec-wapper {\n        opacity: 0 !important;\n    }\n}\n@media screen and (max-width: 320px) {\n    .play-pause-btn {\n        width: 10vw !important;\n    }\n    .back-next-btn-group {\n        opacity: 0 !important;\n    }\n}\n\n/* Use in All Skin */\n.left-coner {\n    left: 0;\n}\n.right-coner {\n    right: 0;\n}\n.vli-active {\n    opacity: 1 !important;\n    height: auto !important;\n}\n.vli-deactive {\n    opacity: 0 !important;\n    height: 0px !important;\n}\n.vli-show {\n    opacity: 1 !important;\n}\n.vli-hidden {\n    display: none;\n    opacity: 0 !important;\n}\n.vli-div-center {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n}\n/* Floating Video */\n.vli-full-video {\n    z-index: 999999 !important;\n    position: fixed !important;\n    width: 100% !important;\n    height: 100% !important;\n    left: 0 !important;\n}\n.vli-floating {\n    position: fixed !important;\n    width: var(--vli-floating-width) !important;\n    height: calc(var(--vli-floating-width) / 1.77) !important;\n}\n.top-left {\n    top: var(--vli-top-bot) !important;\n    left: var(--vli-left-right) !important;\n}\n.top-right {\n    top: var(--vli-top-bot) !important;\n    right: var(--vli-left-right) !important;\n}\n.bot-left {\n    bottom: var(--vli-top-bot) !important;\n    left: var(--vli-left-right) !important;\n}\n.bot-right {\n    bottom: var(--vli-top-bot) !important;\n    right: var(--vli-left-right) !important;\n}\n/* Floating BTN Close */\n.vli-floating-close {\n    position: absolute;\n    width: var(--vli-floating-btn-size);\n    height: var(--vli-floating-btn-size);\n    background-color: rgba(0, 0, 0, 0.65);\n    border-radius: 50%;\n}\n.top-left-close {\n    left: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n    top: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n}\n.top-right-close {\n    top: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n    right: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n}\n.bot-left-close {\n    left: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n    bottom: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n}\n.bot-right-close {\n    right: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n    bottom: calc(-0.95 * var(--vli-floating-btn-size)) !important;\n}\n\n/* Responsive Text */\n.description-responsive {\n    display: -webkit-box;\n    -webkit-line-clamp: 3; /* number of lines to show */\n    -webkit-box-orient: vertical;\n}\n\n/* Feature Videos */\n.top-container {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    /* margin-bottom: 5px; */\n}\n.feature-videos {\n    color: #9b9b9b;\n    font-family: Roboto;\n    font-size: 12px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin-right: 10px;\n    height: 25px;\n}\n/* Video Powered By */\n.poweredby-wapper {\n    /* display: none; */\n    min-width: 132px;\n    width: 132px;\n    /* height: 25px; */\n}\n.poweredby-txt {\n    display: block;\n    float: left;\n    position: relative;\n    /* line-height: 25px; */\n    margin-left: 15px;\n    font-family: Roboto;\n    font-size: 12px;\n    color: #9b9b9b;\n}\n.poweredby-logo-wapper {\n    display: block;\n    float: right;\n    position: relative;\n    width: 56px;\n    height: 25px;\n    /* margin-top: 5px; */\n}\n.poweredby-corner {\n    width: 8px;\n    height: 15px;\n    position: absolute;\n    top: 0;\n}\n.poweredby-corner path {\n    fill: var(--vli-logo-color);\n}\n.poweredby-logo-txt {\n    width: 100%;\n    height: 15px;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n/* Video Placeholder */\n/* .vli-video-placeholder1 {\n    position: relative;\n    padding-top: 56%;\n}\n.vli-video-placeholder1 iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n} */\n\n.vli-video-placeholder {\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    padding-top: 56.25%; /* 16:9 Aspect Ratio (divide 9 by 16 = 0.5625) */\n}\n.vli-video-iframe {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n}\n\n/* === Player Skin 2 === */\n/* Slider Video */\n.playerskin2-wrapper {\n    height: 88px;\n    position: relative;\n    overflow: hidden;\n}\n/* Slider */\n.playerskin2-slider-wrapper {\n    width: 100%;\n    height: 88px;\n    display: flex;\n    position: absolute;\n    bottom: 0px;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n}\n/* Hide scrollbar for Chrome, Safari and Opera */\n.playerskin2-slider-wrapper::-webkit-scrollbar {\n    display: none;\n}\n/* Hide scrollbar for IE, Edge and Firefox */\n.playerskin2-slider-wrapper {\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n}\n.playerskin2-itemslider-wrapper {\n    position: absolute;\n    bottom: 0px;\n    background-color: black;\n    overflow: hidden;\n    flex-shrink: 0;\n}\n.playerskin2-itemslider-wrapper:hover > #vliThumbnail > .playerskin2-playbtn-icon {\n    opacity: 1;\n}\n.playerskin2-title {\n    display: block;\n    width: 123px;\n    height: 27px;\n    left: 9.5px;\n    top: 9.5px;\n    font-size: 12px;\n    position: absolute;\n    color: rgb(255, 255, 255);\n    font-family: Roboto;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n}\n.playerskin2-nowplaying {\n    opacity: 0;\n    width: 70px;\n    text-align: center;\n    text-decoration: none;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 11px;\n    position: absolute;\n    line-height: 12px;\n    letter-spacing: 0.11px;\n    color: white;\n    font-family: Roboto;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n}\n.playerskin2-coverbox {\n    opacity: 1;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    background-color: rgba(0, 0, 0, 0.4);\n    top: 0px;\n}\n.playerskin2-playbtn-icon {\n    opacity: 0;\n    width: 20px;\n    height: 20px;\n    position: absolute;\n    left: 9.5px;\n    bottom: 9.5px;\n}\n.playerskin2-playbtn-icon:hover {\n    opacity: 1;\n}\n/* Arrow */\n.playerskin2-arrow-wrapper {\n    z-index: 1;\n    position: absolute;\n    width: 20px;\n    height: 40px;\n    top: 50%;\n    transform: translate(0%, -50%);\n}\n\n/* === Player Skin 3 === */\n.playerskin3-title {\n    color: var(--vli-title-color);\n    font-size: 18px;\n    font-weight: bold;\n    font-family: Roboto;\n    letter-spacing: 0.1px;\n    word-wrap: break-word;\n\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n}\n.playerskin3-description {\n    color: var(--vli-description-color);\n    font-size: 14px;\n    line-height: 1.25;\n    font-family: Roboto;\n    letter-spacing: 0.1px;\n    word-wrap: break-word;\n\n    overflow: hidden;\n    /* white-space: nowrap; */\n    text-overflow: ellipsis;\n}\n\n/* === Player Skin 4 === */\n/* .playerskin4-wrapper {\n    position: absolute;\n    width: 25px;\n    height: 25px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n} */\n#vliPlayerSkin4 svg ellipse {\n    fill: var(--vli-controls-color);\n}\n\n/* === Player Skin 5 === */\n.playerskin5-thumbnail-playbtn {\n    position: absolute;\n    width: 25px;\n    height: 25px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n.playerskin5-thumbnail-readmore {\n    font-family: Roboto;\n    font-size: 10px;\n    font-weight: bold;\n    font-style: italic;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    color: #00d2ff;\n    text-decoration: underline;\n}\n\n/* === Player Skin 6 === */\n.playerskin6 {\n    overflow-y: scroll;\n    overflow-x: hidden;\n}\n.playerskin6 ul {\n    list-style: none;\n    padding: 0;\n    list-style-type: none;\n}\n.playerskin6 td {\n    border-style: solid;\n    border-color: #ffffff;\n    border-top-width: 0px;\n    border-left-width: 5px;\n    border-right-width: 5px;\n    border-bottom-width: 5px;\n}\n.playerskin6 .video-list {\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    padding-top: 56.25%; /* 16:9 Aspect Ratio (divide 9 by 16 = 0.5625) */\n}\n.playerskin6 .video-image {\n    width: 100%;\n    height: 100%;\n    border-radius: 2px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n.playerskin6 .video-title {\n    text-align: center;\n    height: 40px;\n    max-width: 238px;\n    font-size: 12px;\n    overflow: hidden;\n    margin-top: 5px;\n}\n\n.playerskin8-video-wrap {\n    position: relative;\n    overflow: hidden;\n    width: 100%;\n    padding-top: 121%; /* 9:16 Aspect Ratio (divide 9 by 16 = 0.5625) */\n}\n.playerskin8-video-center {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100% !important;\n}\n", ""]);

/***/ }),
/* 49 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliVideoPlaceholder\" {{{videoPlaceholderCSS}}}> {{{topVideoConatiner}}} {{{videoMain}}} <div class=\"playerskin2-wrapper\"> <div id=\"vliSliderVideo\" class=\"playerskin2-slider-wrapper parent\"> {{{contentPlayerSkin}}} </div> <div id=\"vliSliderVideoLeft\" class=\"playerskin2-arrow-wrapper left-coner\"> <svg width=\"10px\" height=\"16px\" style=\"margin-left:2px;margin-top:14px\" viewBox=\"0 0 9 16\"> <g id=\"behavior-copy\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"> <g id=\"pause-movie\" transform=\"translate(-571.000000, -831.000000)\" fill=\"#fff\"> <g id=\"Group\" transform=\"translate(560.000000, 334.000000)\"> <g transform=\"translate(-347.000000, -131.000000)\" id=\"Playlist-\"> <g transform=\"translate(294.000000, 582.000000)\"> <g id=\"arrows\" transform=\"translate(64.000000, 45.000000)\"> <path d=\"M0.442954136,10.0615 C0.157627823,9.7775 0,9.4025 0,9.0005 C0,8.5995 0.157627823,8.2225 0.442954136,7.9405 L7.27582098,1.2925 C7.67088818,0.9025 8.30938063,0.9025 8.70444783,1.2925 C9.09851739,1.6835 9.09851739,2.3165 8.70444783,2.7065 L2.22774006,9.0005 L8.70444783,15.2945 C9.09851739,15.6845 9.09851739,16.3175 8.70444783,16.7085 C8.30938063,17.0995 7.67088818,17.0995 7.27582098,16.7085 L0.442954136,10.0615 L0.442954136,10.0615 L0.442954136,10.0615 Z\" id=\"Arrow-Left-#1-Icon\"></path> </g> </g> </g> </g> </g> </g> </svg> </div> <div id=\"vliSliderVideoRight\" class=\"playerskin2-arrow-wrapper right-coner\"> <svg width=\"10px\" height=\"16px\" style=\"margin-left:8px;margin-top:14px\" viewBox=\"0 0 10 16\"> <g id=\"behavior-copy\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"> <g id=\"pause-movie\" transform=\"translate(-1335.000000, -830.000000)\" fill=\"#fff\"> <g id=\"Group\" transform=\"translate(560.000000, 334.000000)\"> <g transform=\"translate(-347.000000, -131.000000)\" id=\"Playlist-\"> <g transform=\"translate(294.000000, 582.000000)\"> <g id=\"arrows\" transform=\"translate(64.000000, 45.000000)\"> <path d=\"M764.5,8.0005 C764.5,7.5995 764.657628,7.2225 764.942954,6.9405 L771.775821,0.2925 C772.170888,-0.0975 772.809381,-0.0975 773.204448,0.2925 C773.598517,0.6835 773.598517,1.3165 773.204448,1.7065 L766.72774,8.0005 L773.204448,14.2945 C773.598517,14.6845 773.598517,15.3175 773.204448,15.7085 C772.809381,16.0995 772.170888,16.0995 771.775821,15.7085 L764.942954,9.0615 C764.657628,8.7775 764.5,8.4025 764.5,8.0005 Z\" id=\"Arrow-right-#1-Icon\" transform=\"translate(769.000000, 8.000875) scale(-1, 1) translate(-769.000000, -8.000875) \"> </path> </g> </g> </g> </g> </g> </g> </svg> </div> </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 50 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliVideoPlaceholder\" {{{videoPlaceholderCSS}}}> {{{topVideoConatiner}}} <table id=\"vliPlayerSkin4\" style=\"border-collapse:collapse;width:100%\"> <tr> <td style=\"text-align:center\"> <div id=\"vliBackBtn\" style=\"width:35px\"> <a href=\"javascript:void(0);\"> <svg width=\"25\" height=\"26\" viewBox=\"0 0 25 26\"> <g fill=\"none\" fill-rule=\"evenodd\" transform=\"matrix(-1 0 0 1 25 .527)\"> <ellipse cx=\"12.5\" cy=\"12.545\" fill=\"#00d2ff\" fill-rule=\"nonzero\" rx=\"12.5\" ry=\"12.545\"> </ellipse> <path stroke=\"#FFF\" stroke-linecap=\"round\" d=\"M10 8.029l5.455 5.018L10 18.065\"></path> </g> </svg> </a> </div> </td> <td style=\"vertical-align:top;width:100%\"> {{{videoMain}}} </td> <td style=\"vertical-align:top\"> <div style=\"padding-left:10px;padding-right:10px\"> <div id=\"vliVideoList\" style=\"overflow:hidden;height:225px\"> {{{contentPlayerSkin}}} </div> </div> </td> <td style=\"text-align:center\"> <div id=\"vliNextBtn\" style=\"width:35px\"> <a href=\"javascript:void(0);\"> <svg width=\"25\" height=\"26\" viewBox=\"0 0 25 26\"> <g fill=\"none\" fill-rule=\"evenodd\"> <ellipse cx=\"12.5\" cy=\"12.545\" fill=\"#00d2ff\" fill-rule=\"nonzero\" rx=\"12.5\" ry=\"12.545\"> </ellipse> <path stroke=\"#FFF\" stroke-linecap=\"round\" d=\"M10 8.029l5.455 5.018L10 18.065\"></path> </g> </svg> </a> </div> </td> </tr> </table> </div>";
// Exports
module.exports = code;

/***/ }),
/* 51 */
/***/ (function(module, exports) {

// Module
var code = "<div class=\"playerskin2-itemslider-wrapper\" {{{leftSizeStyle}}}> <div class=\"playerskin2-title {{{itemClass}}}\"> {{{itemTitle}}} </div> <div id=\"vliThumbnail\"> <img style=\"width:143px;height:81px\" src=\"{{{itemThumb}}}\"> <div class=\"playerskin2-coverbox {{{showPlaying}}}\"></div> <div class=\"playerskin2-nowplaying {{{showPlaying}}}\"> NOW <br> PLAYING </div> <div class=\"playerskin2-playbtn-icon {{{hidePlaying}}}\"> <svg width=\" 100%\" height=\"100%\" viewBox=\"0 0 512 512\"> <path fill=\"#fff\" d=\"M256 0C114.617 0 0 114.615 0 256s114.617 256 256 256 256-114.615 256-256S397.383 0 256 0zm88.48 269.57l-128 80a16.008 16.008 0 0 1-16.238.422A15.994 15.994 0 0 1 192 336V176c0-5.82 3.156-11.172 8.242-13.992a15.957 15.957 0 0 1 16.238.422l128 80c4.676 2.93 7.52 8.055 7.52 13.57s-2.844 10.641-7.52 13.57z\"> </path> </svg> </div> </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 52 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliCurVideoContent\"> <div class=\"playerskin3-title\"> {{{itemTitle}}} </div> <div style=\"height:.4em\"></div> <div class=\"playerskin3-description {{{desClass}}}\"> {{{itemDes}}} </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 53 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliCurVideoContent\"> <div class=\"playerskin3-title\" style=\"font-weight:700;display:inline-block;overflow-wrap:break-word;width:254px\"> {{{itemTitle}}} </div> <div style=\"height:.4em\"></div> <div class=\"playerskin3-description description-responsive {{{desClass}}}\" style=\"overflow-wrap:break-word;display:inline-block\"> {{{itemDes}}} </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 54 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliCurVideoContent\"> <div class=\"playerskin3-title\"> {{{itemTitle}}} </div> <div style=\"height:.4em\"></div> <div class=\"playerskin3-description {{{desClass}}}\"> {{{itemDes}}} </div> </div> <br> <div id=\"vliPlayerSkin4\"> <div class=\"playerskin3-title\" style=\"color:#9b9b9b\"> More Videos </div> <div id=\"vliVideoList\" class=\"playerskin6\"> {{{vliVideoList}}} </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 55 */
/***/ (function(module, exports) {

// Module
var code = "<div {{{clickVideoIndex}}} style=\"display:flex;margin-bottom:5px\"> <div id=\"vliThumbnail\" style=\"position:relative\"> <img width=\"130\" height=\"73\" src=\"{{{itemThumb}}}\"> <div class=\"playerskin2-coverbox {{{showPlaying}}}\"></div> <div class=\"playerskin2-nowplaying {{{showPlaying}}}\"> NOW <br> PLAYING </div> <div class=\"playerskin5-thumbnail-playbtn {{{hidePlaying}}}\"> <svg viewBox=\"0 0 494.148 494.148\"> <path fill=\"#fff\" d=\"M405.284 201.188L130.804 13.28C118.128 4.596 105.356 0 94.74 0 74.216 0 61.52 16.472 61.52 44.044v406.124c0 27.54 12.68 43.98 33.156 43.98 10.632 0 23.2-4.6 35.904-13.308l274.608-187.904c17.66-12.104 27.44-28.392 27.44-45.884.004-17.48-9.664-33.764-27.344-45.864z\"> </path> </svg> </div> </div> <div style=\"margin-left:5px;height:73px;overflow:hidden\"> <div class=\"playerskin3-title\" style=\"font-size:16px\"> {{{itemTitle}}} <a href=\"javascript:void(0);\" class=\"playerskin5-thumbnail-readmore\"> Watch Video </a> </div> <div class=\"playerskin3-description description-responsive {{{desClass}}}\" style=\"font-size:12px\"> {{{itemDes}}} </div> </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 56 */
/***/ (function(module, exports) {

// Module
var code = "<div id=\"vliThumbnail\" class=\"video-list\"> <img class=\"video-image\" src=\"{{{itemThumb}}}\"> <div class=\"playerskin2-coverbox {{{showPlaying}}}\"></div> <div class=\"playerskin2-nowplaying {{{showPlaying}}}\"> NOW <br> PLAYING </div> <div class=\"playerskin5-thumbnail-playbtn {{{hidePlaying}}}\"> <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 494.148 494.148\"> <path fill=\"#fff\" d=\"M405.284 201.188L130.804 13.28C118.128 4.596 105.356 0 94.74 0 74.216 0 61.5216.472 61.52 44.044v406.124c0 27.54 12.68 43.98 33.156 43.98 10.632 0 23.2-4.6 35.904-13.308l274.608-187.904c17.66-12.104 27.44-28.392 27.44-45.884.004-17.48-9.664-33.764-27.344-45.864z\"> </path> </svg> </div> </div>";
// Exports
module.exports = code;

/***/ }),
/* 57 */
/***/ (function(module, exports) {

// Module
var code = "<td style=\"vertical-align:top;width:65%\"> {{{openAtag}}} <div id=\"vliThumbnail\" class=\"video-list\" style=\"min-width:150px\"> <img class=\"video-image\" src=\"{{{itemThumb}}}\"> <div class=\"playerskin2-coverbox {{{showPlaying}}}\"></div> <div class=\"playerskin2-nowplaying {{{showPlaying}}}\"> NOW <br> PLAYING </div> <div class=\"playerskin5-thumbnail-playbtn {{{hidePlaying}}}\"> <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 494.148 494.148\"> <path fill=\"#fff\" d=\"M405.284 201.188L130.804 13.28C118.128 4.596 105.356 0 94.74 0 74.216 0 61.5216.472 61.52 44.044v406.124c0 27.54 12.68 43.98 33.156 43.98 10.632 0 23.2-4.6 35.904-13.308l274.608-187.904c17.66-12.104 27.44-28.392 27.44-45.884.004-17.48-9.664-33.764-27.344-45.864z\"> </path> </svg> </div> </div> {{{closeAtag}}} </td> <td style=\"vertical-align:top\"> {{{openAtag}}} <div style=\"width:200px\"> <div class=\"playerskin3-title\" style=\"font-size:16px\"> {{{itemTitle}}} </div> <div class=\"playerskin3-description description-responsive {{{desClass}}}\" style=\"font-size:14px\"> {{{itemDes}}} </div> </div> {{{closeAtag}}} </td>";
// Exports
module.exports = code;

/***/ }),
/* 58 */
/***/ (function(module, exports) {

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}

module.exports = _arrayWithHoles;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 59 */
/***/ (function(module, exports) {

function _iterableToArrayLimit(arr, i) {
  if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return;
  var _arr = [];
  var _n = true;
  var _d = false;
  var _e = undefined;

  try {
    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
      _arr.push(_s.value);

      if (i && _arr.length === i) break;
    }
  } catch (err) {
    _d = true;
    _e = err;
  } finally {
    try {
      if (!_n && _i["return"] != null) _i["return"]();
    } finally {
      if (_d) throw _e;
    }
  }

  return _arr;
}

module.exports = _iterableToArrayLimit;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

var arrayLikeToArray = __webpack_require__(61);

function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);
}

module.exports = _unsupportedIterableToArray;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 61 */
/***/ (function(module, exports) {

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;

  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }

  return arr2;
}

module.exports = _arrayLikeToArray;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 62 */
/***/ (function(module, exports) {

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

module.exports = _nonIterableRest;
module.exports["default"] = module.exports, module.exports.__esModule = true;

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
   true ? module.exports : undefined
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  Function("r", "regeneratorRuntime = r")(runtime);
}


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(65);
var entryUnbind = __webpack_require__(92);

module.exports = entryUnbind('Array', 'find');


/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(66);
var $find = __webpack_require__(76).find;
var addToUnscopables = __webpack_require__(91);

var FIND = 'find';
var SKIPS_HOLES = true;

// Shouldn't skip holes
if (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });

// `Array.prototype.find` method
// https://tc39.es/ecma262/#sec-array.prototype.find
$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {
  find: function find(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables(FIND);


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(4);
var getOwnPropertyDescriptor = __webpack_require__(68).f;
var isForced = __webpack_require__(72);
var path = __webpack_require__(27);
var bind = __webpack_require__(28);
var createNonEnumerableProperty = __webpack_require__(29);
var has = __webpack_require__(13);

var wrapConstructor = function (NativeConstructor) {
  var Wrapper = function (a, b, c) {
    if (this instanceof NativeConstructor) {
      switch (arguments.length) {
        case 0: return new NativeConstructor();
        case 1: return new NativeConstructor(a);
        case 2: return new NativeConstructor(a, b);
      } return new NativeConstructor(a, b, c);
    } return NativeConstructor.apply(this, arguments);
  };
  Wrapper.prototype = NativeConstructor.prototype;
  return Wrapper;
};

/*
  options.target      - name of the target object
  options.global      - target is the global object
  options.stat        - export as static methods of target
  options.proto       - export as prototype methods of target
  options.real        - real prototype method for the `pure` version
  options.forced      - export even if the native feature is available
  options.bind        - bind methods to the target, required for the `pure` version
  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe      - use the simple assignment of property instead of delete + defineProperty
  options.sham        - add a flag to not completely full polyfills
  options.enumerable  - export as enumerable property
  options.noTargetGet - prevent calling a getter on target
*/
module.exports = function (options, source) {
  var TARGET = options.target;
  var GLOBAL = options.global;
  var STATIC = options.stat;
  var PROTO = options.proto;

  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;

  var target = GLOBAL ? path : path[TARGET] || (path[TARGET] = {});
  var targetPrototype = target.prototype;

  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;
  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;

  for (key in source) {
    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
    // contains in native
    USE_NATIVE = !FORCED && nativeSource && has(nativeSource, key);

    targetProperty = target[key];

    if (USE_NATIVE) if (options.noTargetGet) {
      descriptor = getOwnPropertyDescriptor(nativeSource, key);
      nativeProperty = descriptor && descriptor.value;
    } else nativeProperty = nativeSource[key];

    // export native or implementation
    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];

    if (USE_NATIVE && typeof targetProperty === typeof sourceProperty) continue;

    // bind timers to global for call from export context
    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);
    // wrap global constructors for prevent changs in this version
    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);
    // make static versions for prototype methods
    else if (PROTO && typeof sourceProperty == 'function') resultProperty = bind(Function.call, sourceProperty);
    // default case
    else resultProperty = sourceProperty;

    // add a flag to not completely full polyfills
    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {
      createNonEnumerableProperty(resultProperty, 'sham', true);
    }

    target[key] = resultProperty;

    if (PROTO) {
      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';
      if (!has(path, VIRTUAL_PROTOTYPE)) {
        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});
      }
      // export virtual prototype methods
      path[VIRTUAL_PROTOTYPE][key] = sourceProperty;
      // export real prototype methods
      if (options.real && targetPrototype && !targetPrototype[key]) {
        createNonEnumerableProperty(targetPrototype, key, sourceProperty);
      }
    }
  }
};


/***/ }),
/* 67 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(8);
var propertyIsEnumerableModule = __webpack_require__(69);
var createPropertyDescriptor = __webpack_require__(21);
var toIndexedObject = __webpack_require__(70);
var toPrimitive = __webpack_require__(24);
var has = __webpack_require__(13);
var IE8_DOM_DEFINE = __webpack_require__(26);

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
  O = toIndexedObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return $getOwnPropertyDescriptor(O, P);
  } catch (error) { /* empty */ }
  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);
};


/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $propertyIsEnumerable = {}.propertyIsEnumerable;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Nashorn ~ JDK8 bug
var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);

// `Object.prototype.propertyIsEnumerable` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
  var descriptor = getOwnPropertyDescriptor(this, V);
  return !!descriptor && descriptor.enumerable;
} : $propertyIsEnumerable;


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

// toObject with fallback for non-array-like ES3 strings
var IndexedObject = __webpack_require__(22);
var requireObjectCoercible = __webpack_require__(23);

module.exports = function (it) {
  return IndexedObject(requireObjectCoercible(it));
};


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(4);
var isObject = __webpack_require__(9);

var document = global.document;
// typeof document.createElement is 'object' in old IE
var EXISTS = isObject(document) && isObject(document.createElement);

module.exports = function (it) {
  return EXISTS ? document.createElement(it) : {};
};


/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(6);

var replacement = /#|\.prototype\./;

var isForced = function (feature, detection) {
  var value = data[normalize(feature)];
  return value == POLYFILL ? true
    : value == NATIVE ? false
    : typeof detection == 'function' ? fails(detection)
    : !!detection;
};

var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};

var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';

module.exports = isForced;


/***/ }),
/* 73 */
/***/ (function(module, exports) {

module.exports = function (it) {
  if (typeof it != 'function') {
    throw TypeError(String(it) + ' is not a function');
  } return it;
};


/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(8);
var IE8_DOM_DEFINE = __webpack_require__(26);
var anObject = __webpack_require__(75);
var toPrimitive = __webpack_require__(24);

// eslint-disable-next-line es/no-object-defineproperty -- safe
var $defineProperty = Object.defineProperty;

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
exports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return $defineProperty(O, P, Attributes);
  } catch (error) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(9);

module.exports = function (it) {
  if (!isObject(it)) {
    throw TypeError(String(it) + ' is not an object');
  } return it;
};


/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

var bind = __webpack_require__(28);
var IndexedObject = __webpack_require__(22);
var toObject = __webpack_require__(25);
var toLength = __webpack_require__(77);
var arraySpeciesCreate = __webpack_require__(79);

var push = [].push;

// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation
var createMethod = function (TYPE) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var IS_FILTER_OUT = TYPE == 7;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  return function ($this, callbackfn, that, specificCreate) {
    var O = toObject($this);
    var self = IndexedObject(O);
    var boundFunction = bind(callbackfn, that, 3);
    var length = toLength(self.length);
    var index = 0;
    var create = specificCreate || arraySpeciesCreate;
    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;
    var value, result;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      value = self[index];
      result = boundFunction(value, index, O);
      if (TYPE) {
        if (IS_MAP) target[index] = result; // map
        else if (result) switch (TYPE) {
          case 3: return true;              // some
          case 5: return value;             // find
          case 6: return index;             // findIndex
          case 2: push.call(target, value); // filter
        } else switch (TYPE) {
          case 4: return false;             // every
          case 7: push.call(target, value); // filterOut
        }
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
  };
};

module.exports = {
  // `Array.prototype.forEach` method
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  forEach: createMethod(0),
  // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  map: createMethod(1),
  // `Array.prototype.filter` method
  // https://tc39.es/ecma262/#sec-array.prototype.filter
  filter: createMethod(2),
  // `Array.prototype.some` method
  // https://tc39.es/ecma262/#sec-array.prototype.some
  some: createMethod(3),
  // `Array.prototype.every` method
  // https://tc39.es/ecma262/#sec-array.prototype.every
  every: createMethod(4),
  // `Array.prototype.find` method
  // https://tc39.es/ecma262/#sec-array.prototype.find
  find: createMethod(5),
  // `Array.prototype.findIndex` method
  // https://tc39.es/ecma262/#sec-array.prototype.findIndex
  findIndex: createMethod(6),
  // `Array.prototype.filterOut` method
  // https://github.com/tc39/proposal-array-filtering
  filterOut: createMethod(7)
};


/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(78);

var min = Math.min;

// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
module.exports = function (argument) {
  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
};


/***/ }),
/* 78 */
/***/ (function(module, exports) {

var ceil = Math.ceil;
var floor = Math.floor;

// `ToInteger` abstract operation
// https://tc39.es/ecma262/#sec-tointeger
module.exports = function (argument) {
  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);
};


/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(9);
var isArray = __webpack_require__(80);
var wellKnownSymbol = __webpack_require__(81);

var SPECIES = wellKnownSymbol('species');

// `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray, length) {
  var C;
  if (isArray(originalArray)) {
    C = originalArray.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    else if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);
};


/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(12);

// `IsArray` abstract operation
// https://tc39.es/ecma262/#sec-isarray
// eslint-disable-next-line es/no-array-isarray -- safe
module.exports = Array.isArray || function isArray(arg) {
  return classof(arg) == 'Array';
};


/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(4);
var shared = __webpack_require__(82);
var has = __webpack_require__(13);
var uid = __webpack_require__(86);
var NATIVE_SYMBOL = __webpack_require__(30);
var USE_SYMBOL_AS_UID = __webpack_require__(90);

var WellKnownSymbolsStore = shared('wks');
var Symbol = global.Symbol;
var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;

module.exports = function (name) {
  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {
    if (NATIVE_SYMBOL && has(Symbol, name)) {
      WellKnownSymbolsStore[name] = Symbol[name];
    } else {
      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);
    }
  } return WellKnownSymbolsStore[name];
};


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

var IS_PURE = __webpack_require__(83);
var store = __webpack_require__(84);

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: '3.11.1',
  mode: IS_PURE ? 'pure' : 'global',
  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'
});


/***/ }),
/* 83 */
/***/ (function(module, exports) {

module.exports = true;


/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(4);
var setGlobal = __webpack_require__(85);

var SHARED = '__core-js_shared__';
var store = global[SHARED] || setGlobal(SHARED, {});

module.exports = store;


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(4);
var createNonEnumerableProperty = __webpack_require__(29);

module.exports = function (key, value) {
  try {
    createNonEnumerableProperty(global, key, value);
  } catch (error) {
    global[key] = value;
  } return value;
};


/***/ }),
/* 86 */
/***/ (function(module, exports) {

var id = 0;
var postfix = Math.random();

module.exports = function (key) {
  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);
};


/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(12);
var global = __webpack_require__(4);

module.exports = classof(global.process) == 'process';


/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(4);
var userAgent = __webpack_require__(89);

var process = global.process;
var versions = process && process.versions;
var v8 = versions && versions.v8;
var match, version;

if (v8) {
  match = v8.split('.');
  version = match[0] + match[1];
} else if (userAgent) {
  match = userAgent.match(/Edge\/(\d+)/);
  if (!match || match[1] >= 74) {
    match = userAgent.match(/Chrome\/(\d+)/);
    if (match) version = match[1];
  }
}

module.exports = version && +version;


/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(31);

module.exports = getBuiltIn('navigator', 'userAgent') || '';


/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

/* eslint-disable es/no-symbol -- required for testing */
var NATIVE_SYMBOL = __webpack_require__(30);

module.exports = NATIVE_SYMBOL
  && !Symbol.sham
  && typeof Symbol.iterator == 'symbol';


/***/ }),
/* 91 */
/***/ (function(module, exports) {

module.exports = function () { /* empty */ };


/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(31);

module.exports = getBuiltIn;


/***/ }),
/* 93 */
/***/ (function(module, exports) {

module.exports = function(originalModule) {
	if (!originalModule.webpackPolyfill) {
		var module = Object.create(originalModule);
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		Object.defineProperty(module, "exports", {
			enumerable: true
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 94 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(this, {}))

/***/ }),
/* 95 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(5);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/typeof.js
var helpers_typeof = __webpack_require__(0);
var typeof_default = /*#__PURE__*/__webpack_require__.n(helpers_typeof);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(33);
var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(14);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);

// EXTERNAL MODULE: ./node_modules/core-js-pure/features/array/find.js
var find = __webpack_require__(34);
var find_default = /*#__PURE__*/__webpack_require__.n(find);

// CONCATENATED MODULE: ./src/plugins_v2/cpmBucketManager.js


var _defaultPrecision = 2;
var _densePriceConfig = {
  'buckets': [{
    'max': 3,
    'increment': 0.01
  }, {
    'max': 8,
    'increment': 0.05
  }, {
    'max': 20,
    'increment': 0.5
  }]
};

function getPriceBucketString(cpm, customConfig) {
  var granularityMultiplier = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
  var cpmFloat = parseFloat(cpm);

  if (isNaN(cpmFloat)) {
    cpmFloat = '';
  }

  return {
    dense: cpmFloat === '' ? '' : getCpmStringValue(cpm, _densePriceConfig, granularityMultiplier),
    custom: cpmFloat === '' ? '' : getCpmStringValue(cpm, customConfig, granularityMultiplier)
  };
}

function getCpmStringValue(cpm, config, granularityMultiplier) {
  var cpmStr = '';

  if (!isValidPriceConfig(config)) {
    return cpmStr;
  }

  var cap = config.buckets.reduce(function (prev, curr) {
    if (prev.max > curr.max) {
      return prev;
    }

    return curr;
  }, {
    'max': 0
  });
  var bucketFloor = 0;
  var bucket = find_default()(config.buckets, function (bucket) {
    if (cpm > cap.max * granularityMultiplier) {
      // cpm exceeds cap, just return the cap.
      var precision = bucket.precision;

      if (typeof precision === 'undefined') {
        precision = _defaultPrecision;
      }

      cpmStr = (bucket.max * granularityMultiplier).toFixed(precision);
    } else if (cpm <= bucket.max * granularityMultiplier && cpm >= bucketFloor * granularityMultiplier) {
      bucket.min = bucketFloor;
      return bucket;
    } else {
      bucketFloor = bucket.max;
    }
  });

  if (bucket) {
    cpmStr = getCpmTarget(cpm, bucket, granularityMultiplier);
  }

  return cpmStr;
}

function isValidPriceConfig(config) {
  if (isEmpty(config) || !config.buckets || !Array.isArray(config.buckets)) {
    return false;
  }

  var isValid = true;
  config.buckets.forEach(function (bucket) {
    if (!bucket.max || !bucket.increment) {
      isValid = false;
    }
  });
  return isValid;
}

function getCpmTarget(cpm, bucket, granularityMultiplier) {
  var precision = typeof bucket.precision !== 'undefined' ? bucket.precision : _defaultPrecision;
  var increment = bucket.increment * granularityMultiplier;
  var bucketMin = bucket.min * granularityMultiplier; // start increments at the bucket min and then add bucket min back to arrive at the correct rounding
  // note - we're padding the values to avoid using decimals in the math prior to flooring
  // this is done as JS can return values slightly below the expected mark which would skew the price bucket target
  //   (eg 4.01 / 0.01 = 400.99999999999994)
  // min precison should be 2 to move decimal place over.

  var pow = Math.pow(10, precision + 2);
  var cpmToFloor = (cpm * pow - bucketMin * pow) / (increment * pow);
  var cpmTarget = Math.floor(cpmToFloor) * increment + bucketMin; // force to 10 decimal places to deal with imprecise decimal/binary conversions
  //    (for example 0.1 * 3 = 0.30000000000000004)

  cpmTarget = Number(cpmTarget.toFixed(10));
  return cpmTarget.toFixed(precision);
}


// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/classCallCheck.js
var classCallCheck = __webpack_require__(1);
var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(2);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);

// CONCATENATED MODULE: ./src/plugins_v2/pixel.js




var reportSystemUrl = "//px.vliplatform.com";
var amazonBidderCode = "amazon";

var pixel_PixelManager = /*#__PURE__*/function () {
  function PixelManager(adSlot) {
    classCallCheck_default()(this, PixelManager);

    if (!adSlot.tagId || !adSlot.slotId || !Array.isArray(adSlot.adUnits) || !adSlot.viewPortDetect) {
      throw new Error('[PixelManager] Missing input');
    }

    this.slotId = adSlot.slotId;
    this.tagId = adSlot.tagId;
    this.adUnits = adSlot.adUnits;
    this.viewPortDetect = adSlot.viewPortDetect;
    this.adWidth = adSlot.adWidth;
    this.adHeight = adSlot.adHeight;
    this.adRenderEndedTime = 0;
    this.currentAdData = {};
    this.init();
  }

  createClass_default()(PixelManager, [{
    key: "init",
    value: function init() {
      var _this = this;

      googletag.cmd.push(function () {
        googletag.pubads().addEventListener('slotRenderEnded', _this.onSlotRenderEnded.bind(_this));
        googletag.pubads().addEventListener('slotRequested', _this.onSlotRequested.bind(_this));
      });

      _addEventListener("AD_RENDER_EDNED", function (data) {
        if (data.slotId != _this.slotId) {
          return;
        }

        _this.markAdRenderOnAdSlot(data);

        showOnAnalytics({
          bidder: data.bidderCode,
          cpm: data.cpm
        });
      });

      var impViewAbleChecking = null;
      this.viewPortDetect.inViewPort(function () {
        impViewAbleChecking = setInterval(function () {
          var currTime = Math.round(new Date().getTime() / 1000);

          if (_this.adRenderEndedTime > 0 && currTime - _this.adRenderEndedTime >= 1) {
            _this.adRenderEndedTime = 0;

            try {
              callPixel(_this.getImpressionViewAblePixel(_this.currentAdData.adSize, _this.currentAdData.mediaType));
            } catch (e) {
              captureException(e, "[pixelManager - viewPortDetect.inViewPort]");
            }
          }
        }, 1000);
      });
      this.viewPortDetect.outViewPort(function () {
        clearInterval(impViewAbleChecking);
      });
    }
  }, {
    key: "markAdRenderOnAdSlot",
    value: function markAdRenderOnAdSlot(adData) {
      this.adRenderEndedTime = Math.round(new Date().getTime() / 1000);
      this.currentAdData = adData;
    }
  }, {
    key: "onSlotRenderEnded",
    value: function onSlotRenderEnded(data) {
      var slot = data.slot;

      if (slot.getSlotElementId() != this.slotId) {
        return;
      }

      if (data.isEmpty === false) {
        // khi request dfp có trả về ads
        var bidderCode = "";
        var cpm = 0;
        var adSize = "";

        if (data.lineItemId !== null && slot.getTargeting("vli_ad_type").indexOf("passback") === -1 && slot.getTargeting("hb_bidder").length > 0) {
          // demand win
          try {
            bidderCode = slot.getTargeting("hb_bidder")[0];
            cpm = slot.getTargeting("real_cpm")[0];
            adSize = "".concat(slot.getTargeting("hb_width")[0], "x").concat(slot.getTargeting("hb_height")[0]);
          } catch (e) {
            captureException(e, "[pixelManager - onSlotRenderEnded - demand win]");
          }
        }

        if (data.lineItemId == null) {
          // google win
          try {
            bidderCode = slot.getTargeting("vli_acc")[0];
            cpm = slot.getTargeting("hb_pb").length > 0 ? slot.getTargeting("hb_pb")[0] : 0;
            adSize = Array.isArray(data.size) ? data.size.join("x") : "".concat(this.adWidth, "x").concat(this.adHeight);
          } catch (e) {
            captureException(e, "[pixelManager - onSlotRenderEnded - google win]");
          }
        }

        this.markAdRenderOnAdSlot({
          adSize: adSize,
          mediaType: "banner"
        });
        showOnAnalytics({
          bidder: bidderCode,
          cpm: cpm
        });
      } else {
        showOnAnalytics({
          bidder: 'Adx_noBid',
          cpm: "0.00"
        });
      }
    }
  }, {
    key: "onSlotRequested",
    value: function onSlotRequested(data) {
      try {
        var slot = data.slot;

        if (slot.getSlotElementId() != this.slotId || slot.getTargeting("vli_acc").length == 0) {
          return;
        }

        var adRequestSizes = slot.getSizes().map(function (item) {
          return item.m && item.j ? [item.m, item.j] : "";
        });
        PixelManager.logAdxBidRequest(this.tagId, adRequestSizes, "banner", slot.getTargeting("vli_acc")[0]);
      } catch (e) {
        captureException(e, "[pixelManager - onSlotRequested]");
      }
    }
  }, {
    key: "buildPixelData",
    value: function buildPixelData() {
      var pixelBuilder = {};

      try {
        this.adUnits.forEach(function (adUnitItem) {
          var bidderRequestList = [];
          adUnitItem.bids.forEach(function (bidItem) {
            if (bidderRequestList.indexOf(bidItem.bidder) === -1) {
              bidderRequestList.push(bidItem.bidder);
            }
          });

          if (adUnitItem.issetAmazon) {
            bidderRequestList.push(amazonBidderCode);
          }

          var pixel = {
            adPrimarySize: adUnitItem.primarySize,
            adRequestSizes: [adUnitItem.primarySize],
            bidderRequests: bidderRequestList,
            bidderResponses: [],
            lostBidFloorPrice: [],
            bidBlocked: []
          };

          if (adUnitItem.mediaTypes["native"]) {
            pixel.mediaType = "native";
          }

          if (adUnitItem.mediaTypes.banner) {
            pixel.mediaType = "banner";
            pixel.adRequestSizes = adUnitItem.mediaTypes.banner.sizes;
          }

          if (adUnitItem.mediaTypes.video) {
            pixel.mediaType = "video";
          }

          pixelBuilder[adUnitItem.code] = pixel;
        });
      } catch (e) {
        captureException(e, "[pixelManager - buildPixelData]");
      }

      return pixelBuilder;
    }
  }, {
    key: "logBidInfo",
    value: function logBidInfo(bidResponses) {
      if (!plugins_v2_constants.newPixelEnabled || isDebugMode()) {
        return;
      }

      try {
        var biddingData = this.buildPixelData();
        bidResponses.forEach(function (bid) {
          biddingData[bid.adUnitCode].bidderResponses.push({
            bidderCode: bid.bidderCode,
            cpm: bid.cpm,
            size: bid.size,
            mediaType: bid.mediaType
          });
        });

        for (var adUnitCode in biddingData) {
          var data = biddingData[adUnitCode];
          var biddingInfo = {
            tm: utlis_generateUUID(),
            d: plugins_v2_constants.domainID,
            z: this.tagId,
            de: plugins_v2_constants.device,
            sz: data.adPrimarySize.join("x"),
            mt: data.mediaType
          };
          biddingInfo.rqz = data.adRequestSizes.map(function (item) {
            return "".concat(item[0], "x").concat(item[1]);
          }).join(",");
          biddingInfo.bs = data.bidderRequests.join(",");
          biddingInfo.br = data.bidderResponses.map(function (item) {
            return "".concat(item.bidderCode, "|").concat(item.cpm, "|").concat(item.size, "|").concat(item.mediaType);
          }).join(",");
          biddingInfo.lbf = data.lostBidFloorPrice.map(function (item) {
            return "".concat(item.bidderCode, "|").concat(item.cpm, "|").concat(item.size, "|").concat(item.mediaType);
          }).join(",");
          biddingInfo.blk = data.bidBlocked.map(function (item) {
            return "".concat(item.bidderCode, "|").concat(item.cpm, "|").concat(item.size, "|").concat(item.mediaType);
          }).join(",");
          callPixel("".concat(reportSystemUrl, "/bi/?e=") + encrypt(serialize(biddingInfo)));
        }
      } catch (e) {
        captureException(e, "[pixelManager - logBidInfo]");
      }
    }
  }, {
    key: "addPixelToBid",
    value: function addPixelToBid(bid) {
      var pixelUrl = getPixelUrl({
        type: "hb",
        zoneID: this.tagId,
        bidder: bid.bidderCode,
        cpm: bid.cpm
      });
      var newPixel = this.getImpressionPixel(bid); // add impression pixel url to bidwon ad content (banner and native)

      if (bid.mediaType === "banner" || bid.mediaType === "native") {
        try {
          bid.ad += "<img src=\"".concat(pixelUrl, "\" width=\"0\" height=\"0\" style=\"display:none\" /><img src=\"").concat(newPixel, "\" width=\"0\" height=\"0\" style=\"display:none\" />");
        } catch (e) {
          captureException(e, "[pixelManager - addPixelToBid - banner]");
        }
      } else {
        try {
          var videoPixels = this.getVideoAnalyticsPixel(bid);
          var tagId = this.tagId;

          var videoErrorLog = function videoErrorLog(errorCode) {
            if (!plugins_v2_constants.newPixelEnabled) {
              return;
            }

            var pxUrl = "".concat(reportSystemUrl, "/vi/?e=") + encrypt(serialize({
              tm: utlis_generateUUID(),
              d: plugins_v2_constants.domainID,
              z: tagId,
              de: plugins_v2_constants.device,
              ac: "error",
              errCode: errorCode,
              cr: bid.creativeId,
              b: bid.bidderCode
            }));
            callPixel(pxUrl);
          };

          bid.vli = {
            px: function px() {
              callPixel(pixelUrl);
              callPixel(newPixel);
            },
            start: function start() {
              callPixel(videoPixels.start);
            },
            skip: function skip() {
              callPixel(videoPixels.skip);
            },
            click: function click() {
              callPixel(videoPixels.click);
            },
            firstQuartile: function firstQuartile() {
              callPixel(videoPixels.firstQuartile);
            },
            midpoint: function midpoint() {
              callPixel(videoPixels.midpoint);
            },
            thirdQuartile: function thirdQuartile() {
              callPixel(videoPixels.thirdQuartile);
            },
            complete: function complete() {
              callPixel(videoPixels.complete);
            },
            error: videoErrorLog
          };
        } catch (e) {
          captureException(e, "[pixelManager - addPixelToBid - video]");
        }
      }
    }
  }, {
    key: "getImpressionPixel",
    value: function getImpressionPixel(bidWon) {
      if (!plugins_v2_constants.newPixelEnabled) {
        return "";
      }

      return "".concat(reportSystemUrl, "/imp/?e=").concat(this.buildBidPixelData(bidWon));
    }
  }, {
    key: "getBidWinPixel",
    value: function getBidWinPixel(bidWon) {
      if (!plugins_v2_constants.newPixelEnabled || isDebugMode()) {
        return "";
      }

      return "".concat(reportSystemUrl, "/bw/?e=").concat(this.buildBidPixelData(bidWon));
    }
  }, {
    key: "buildBidPixelData",
    value: function buildBidPixelData(bid) {
      var tagId = this.tagId;
      return encrypt(serialize({
        tm: utlis_generateUUID(),
        d: plugins_v2_constants.domainID,
        z: tagId,
        b: bid.bidderCode,
        p: bid.cpm,
        de: plugins_v2_constants.device,
        sz: bid.size,
        mt: bid.mediaType
      }));
    }
  }, {
    key: "getImpressionViewAblePixel",
    value: function getImpressionViewAblePixel(adSize, mediaType) {
      if (!plugins_v2_constants.newPixelEnabled) {
        return "";
      }

      var tagId = this.tagId;
      var pixel = encrypt(serialize({
        tm: utlis_generateUUID(),
        d: plugins_v2_constants.domainID,
        z: tagId,
        de: plugins_v2_constants.device,
        sz: adSize,
        mt: mediaType
      }));
      return "".concat(reportSystemUrl, "/ipv/?e=").concat(pixel);
    }
  }, {
    key: "getVideoAnalyticsPixel",
    value: function getVideoAnalyticsPixel(bidWon) {
      if (!plugins_v2_constants.newPixelEnabled) {
        return {
          start: "",
          skip: "",
          click: "",
          firstQuartile: "",
          midpoint: "",
          thirdQuartile: "",
          complete: ""
        };
      }

      var _this = this;

      var pixelHost = "".concat(reportSystemUrl, "/vi/?e=");
      return {
        start: pixelHost + _this.buildVideoAnalyticsPixel(bidWon, "start"),
        skip: pixelHost + _this.buildVideoAnalyticsPixel(bidWon, "skip"),
        click: pixelHost + _this.buildVideoAnalyticsPixel(bidWon, "click"),
        firstQuartile: pixelHost + _this.buildVideoAnalyticsPixel(bidWon, "25p"),
        midpoint: pixelHost + _this.buildVideoAnalyticsPixel(bidWon, "50p"),
        thirdQuartile: pixelHost + _this.buildVideoAnalyticsPixel(bidWon, "75p"),
        complete: pixelHost + _this.buildVideoAnalyticsPixel(bidWon, "100p")
      };
    }
  }, {
    key: "buildVideoAnalyticsPixel",
    value: function buildVideoAnalyticsPixel(bid, action) {
      var tagId = this.tagId;
      return encrypt(serialize({
        tm: utlis_generateUUID(),
        d: plugins_v2_constants.domainID,
        z: tagId,
        de: plugins_v2_constants.device,
        ac: action,
        sz: bid.size,
        mt: "video"
      }));
    }
  }], [{
    key: "logAdxBidRequest",
    value: function logAdxBidRequest(tagId, adRequestSizes, mediaType, googleAccount) {
      if (!plugins_v2_constants.newPixelEnabled) {
        return;
      }

      try {
        var pixelUrl = "".concat(reportSystemUrl, "/bi/?e=");
        pixelUrl += encrypt(serialize({
          tm: utlis_generateUUID(),
          d: plugins_v2_constants.domainID,
          z: tagId,
          de: plugins_v2_constants.device,
          sz: getPrimarySizes(adRequestSizes).join("x"),
          mt: mediaType,
          bs: plugins_v2_constants.ggAccActived[googleAccount].bidderCode,
          rqz: adRequestSizes.map(function (item) {
            return Array.isArray(item) ? "".concat(item[0], "x").concat(item[1]) : "";
          }).join(",")
        }));
        callPixel(pixelUrl);
      } catch (e) {
        captureException(e, "[pixelManager - logAdxBidRequest]");
      }
    }
  }]);

  return PixelManager;
}();

/* harmony default export */ var plugins_v2_pixel = (pixel_PixelManager);
// CONCATENATED MODULE: ./src/plugins_v2/bidManager.js





var bidManager_bidFloorParamDefine = {
  "emxdigital": {
    "param": "bidfloor",
    "type": "float"
  },
  "emx_digital": {
    "param": "bidfloor",
    "type": "string"
  },
  "conversant": {
    "param": "bidfloor",
    "type": "float"
  },
  "aol": {
    "param": "bidFloor",
    "type": "string"
  },
  "appnexus": {
    "param": "reserve",
    "type": "float"
  },
  "vertoz": {
    "param": "cpmFloor",
    "type": "float"
  },
  "beachfront": {
    "param": "bidfloor",
    "type": "float"
  },
  "sonobi": {
    "param": "floor",
    "type": "float"
  },
  "rubicon": {
    "param": "floor",
    "type": "float"
  },
  "pubmatic": {
    "param": "kadfloor",
    "type": "string"
  },
  "valueimpression": {
    "param": "floorPrice",
    "type": "float"
  },
  "quantumdex": {
    "param": "floorPrice",
    "type": "float"
  },
  "sovrn": {
    "param": "bidfloor",
    "type": "string"
  },
  "openx": {
    "param": "customFloor",
    "type": "float"
  },
  "rtbhouse": {
    "param": "bidfloor",
    "type": "float"
  },
  "gumgum": {
    "param": "bidfloor",
    "type": "float"
  },
  "sharethrough": {
    "param": "bidfloor",
    "type": "float"
  },
  "districtmDMX": {
    "param": "floor",
    "type": "string"
  },
  "pulsepoint": {
    "param": "bidfloor",
    "type": "float"
  },
  "viadapter": {
    "param": "vliFloor",
    "type": "float"
  }
};
var listSiteBlocked = ["supersmashflash2beta.com", "news.creaders.net", "digest.creaders.net", "video.creaders.net", "ictnews.vietnamnet.vn", "m.creaders.net", "ent.creaders.net", "history.creaders.net", "tech.creaders.net", "health.creaders.net", "bbs.creaders.net", "cbom.atozmath.com", "ca.creaders.net", "finance.creaders.net", "m.cuasotinhyeu.vn", "fashion.creaders.net", "city.creaders.net", "digi.creaders.net", "travel.creaders.net", "daerah.sindonews.com", "ekbis.sindonews.com", "edukasi.sindonews.com", "s-m.game24h.vn", "archive.journal.com.ph", "auto.creaders.net", "sports.creaders.net", "lifestyle.sindonews.com", "gensindo.sindonews.com", "dev.tutorialspoint.com", "imasdk.googleapis.com", "test.game24h.vn"];
var spotxIPProbabilityLimit = 0.5;
var bidManager_amazonBidderCode = "amazon";

var bidManager_BidManager = /*#__PURE__*/function () {
  function BidManager(adSlot) {
    classCallCheck_default()(this, BidManager);

    this.slotId = "";
    this.tagId = 0;
    this.floorPrice = 0;
    this.bidResponses = [];
    this.adUnitCodes = [];
    this.adUnits = [];
    this.amazonSlots = [];
    this.pixelManager = {};

    this.buildBannerFromNative = function () {};

    this.addBidSlot(adSlot);
  }

  createClass_default()(BidManager, [{
    key: "addBidSlot",
    value: function addBidSlot(adSlot) {
      utlis_vilog("[BidManager] addBidSlot...");
      utlis_vilog(adSlot);

      var _this = this;

      try {
        this.slotId = adSlot.slotId;
        this.tagId = adSlot.tagId;
        this.floorPrice = adSlot.floorPrice;
        this.buildBannerFromNative = adSlot.buildBannerFromNative ? adSlot.buildBannerFromNative : function () {};
        this.adUnits = adSlot.adUnits;
        this.pixelManager = new plugins_v2_pixel({
          slotId: adSlot.slotId,
          tagId: adSlot.tagId,
          adUnits: adSlot.adUnits,
          viewPortDetect: adSlot.viewPortDetect,
          adWidth: adSlot.adWidth,
          adHeight: adSlot.adHeight
        });
        adSlot.adUnits.forEach(function (adUnitItem, i) {
          adUnitItem.primarySize = [1, 1]; // default primary size

          if (adUnitItem.mediaTypes.banner) {
            adUnitItem.mediaTypes.banner.sizes = adUnitItem.mediaTypes.banner.sizes.filter(function (item) {
              if (Array.isArray(item) && item.length == 2) {
                return true;
              }

              saveLog({
                type: "adunit_sizes_err"
              }, {
                domainId: plugins_v2_constants.domainID,
                tagId: adSlot.tagId,
                mediaTypes: adUnitItem.mediaTypes
              });
              return false;
            });
            adUnitItem.primarySize = getPrimarySizes(adUnitItem.mediaTypes.banner.sizes);
          }

          if (adUnitItem.mediaTypes.video) {
            adUnitItem.primarySize = adUnitItem.mediaTypes.video.playerSize;
          }

          _this.adUnitCodes.push(adUnitItem.code);

          adUnitItem.bids = _this.buildBids(adUnitItem.bids, _this.floorPrice, adUnitItem.primarySize);
          adUnitItem.tagId = adSlot.tagId;
          adUnitItem.issetAmazon = false;
          vlipb.addAdUnits(adUnitItem);

          if (plugins_v2_constants.amazonEnabled && adUnitItem.mediaTypes.banner) {
            var apstagSlotSizes = amazonUAMSizeFilter(adUnitItem.mediaTypes.banner.sizes);

            if (apstagSlotSizes.length > 0) {
              var amzSlot = {
                slotID: adUnitItem.code,
                sizes: apstagSlotSizes,
                slotName: "Amazon",
                primarySize: getPrimarySizes(apstagSlotSizes)
              };

              _this.amazonSlots.push(amzSlot);

              adUnitItem.issetAmazon = true;
            }
          }
        });
      } catch (e) {
        captureException(e, "[BidManager - addBidSlot]");
      }
    }
  }, {
    key: "getHighestBid",
    value: function getHighestBid(floorPrice) {
      var highestCpm = floorPrice;
      var winKey = null;
      var currTime = Math.floor(Date.now() / 1000);
      utlis_vilog("[BidManager] getHighestBid");
      utlis_vilog(this.bidResponses);
      this.bidResponses.forEach(function (bidItem, index) {
        if (bidItem.expiredTime > currTime && bidItem.cpm > highestCpm) {
          highestCpm = bidItem.cpm;
          winKey = index;
        }
      });

      if (winKey !== null) {
        var bidWon = this.bidResponses[winKey];
        this.bidResponses.splice(winKey, 1);
        plugins_v2_constants.dataBidWin[this.slotId] = bidWon;
        return bidWon;
      }

      return null;
    }
  }, {
    key: "addBidResponse",
    value: function addBidResponse(bid) {
      utlis_vilog("[BidManager] addBidResponse for slotId ".concat(this.slotId));
      utlis_vilog(bid);

      if (plugins_v2_constants.blockCreatives.indexOf(String(bid.creativeId)) !== -1) {
        utlis_vilog("[BidManager] creativeId ".concat(bid.creativeId, " has blocked"));
        return "creative_blocked";
      }

      if (bid.mediaType == "video") {
        bid.expiredTime = Math.floor(Date.now() / 1000) + bid.ttl - 20;
      } else {
        bid.expiredTime = Math.floor(Date.now() / 1000) + bid.ttl - 15;
      } // 


      if (isDebugMode() == false) {
        this.pixelManager.addPixelToBid(bid);
      }

      try {
        bid.adserverTargeting.real_cpm = bid.cpm; // sử dụng trong pixelManager    
      } catch (e) {
        captureException(e, "[BidManager - addBidResponse]");
      }

      this.bidResponses.push(bid);
      utlis_vilog("[BidManager] addBidResponse success...");
      utlis_vilog(this.bidResponses);
      return "ok";
    }
  }, {
    key: "requestBids",
    value: function requestBids() {
      var bidFloorRequired = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var bidEndedCallBack = arguments.length > 1 ? arguments[1] : undefined;
      var totalBidBackRequired = 1;

      if (this.amazonSlots.length > 0) {
        totalBidBackRequired++;
      }

      var _this = this;

      var bidBackProcess = 0;
      var auctionIsEmptyBid = true;
      var allBidResponses = [];

      var auctionEndedHandler = function auctionEndedHandler() {
        bidBackProcess++;

        if (bidBackProcess !== totalBidBackRequired) {
          return;
        }

        _this.pixelManager.logBidInfo(allBidResponses);

        bidEndedCallBack(auctionIsEmptyBid);

        if (auctionIsEmptyBid) {
          showOnAnalytics({
            bidder: 'noBid',
            cpm: "0.00"
          });
        }
      }; // xử lý loại bỏ các demand không request lại bid quá 5 lần tại đây (rubicon, onevideo)
      // pending....


      if (bidFloorRequired !== null) {
        this.handleAdUnitsBeforRequestBid(bidFloorRequired);
      }

      vlipb.requestBids({
        timeout: plugins_v2_constants.prebidTimeout,
        adUnitCodes: _this.adUnitCodes,
        bidsBackHandler: function bidsBackHandler(bidResponses, timeOutFlag, auctionId) {
          utlis_vilog("[BidManager] bidResponses");
          utlis_vilog(bidResponses);

          for (var adUnitCode in bidResponses) {
            if (!bidResponses[adUnitCode].bids) {
              continue;
            }

            bidResponses[adUnitCode].bids.forEach(function (bid, index) {
              if (bid.mediaType == "native" && bid["native"]) {
                var adWidth = 1;
                var adHeight = 1;

                try {
                  var adUnit = _this.getPrebidAdUnit(bid.adUnitCode);

                  adWidth = adUnit.primarySize[0];
                  adHeight = adUnit.primarySize[1];
                } catch (e) {
                  captureException(e, "[BidManager - vlipb.requestBids]");
                } // let adId = buildCustomAdId(bid.adId);


                var nativeToBannerBid = {
                  ad: _this.buildBannerFromNative(bid),
                  adId: bid.adId,
                  creativeId: bid.creativeId,
                  adUnitCode: bid.adUnitCode,
                  cpm: bid.cpm,
                  ttl: bid.ttl,
                  mediaType: "native",
                  bidderCode: bid.bidderCode,
                  adserverTargeting: bid.adserverTargeting,
                  width: adWidth,
                  height: adHeight,
                  size: bid.size,
                  // giữ nguyên size của bid native trả về để đếm pixel theo size này
                  specialBid: true
                };
                nativeToBannerBid.adserverTargeting.hb_adid = "";
                nativeToBannerBid.adserverTargeting.hb_size = "".concat(adWidth, "x").concat(adHeight);
                allBidResponses.push(nativeToBannerBid);
                _this.addBidResponse(nativeToBannerBid) == "ok" && (auctionIsEmptyBid = false);
              } else {
                allBidResponses.push(bid);
                _this.addBidResponse(bid) == "ok" && (auctionIsEmptyBid = false);
              }
            });
          }

          auctionEndedHandler();
        }
      });

      if (this.amazonSlots.length > 0) {
        utlis_vilog("[BidManager] Start request bid amazon for slotId ".concat(_this.slotId, " with adUnitCodes ").concat(_this.adUnitCodes));
        apstag.fetchBids({
          slots: _this.amazonSlots,
          timeout: plugins_v2_constants.prebidTimeout
        }, function (bids) {
          bids.forEach(function (bid) {
            utlis_vilog("[BidManager] Amazon bid response");
            utlis_vilog(bid);
            var adWidth = 2;
            var adHeight = 2;

            try {
              var amzSlot = _this.getAmazonSlot(bid.slotID);

              adWidth = amzSlot.primarySize[0];
              adHeight = amzSlot.primarySize[1];
            } catch (e) {
              captureException(e, "[BidManager - apstag.fetchBids]");
            }

            if (bid.amznbid && plugins_v2_constants.amazonCpmMap[bid.amznbid]) {
              var cpm = plugins_v2_constants.amazonCpmMap[bid.amznbid]; // let adId = buildCustomAdId(bid.amzniid);

              var adSize = bid.amznsz && bid.amznsz != "" ? bid.amznsz : "".concat(adWidth, "x").concat(adHeight);
              var newAmazonBid = {
                ad: "<script>var amzn_win=window,amzn_c=5,amzn_x=0;while(amzn_x<amzn_c){amzn_win=amzn_win.parent;if(amzn_win.apstag)try{amzn_win.apstag.renderImp(document,\"" + bid.amzniid + "\");amzn_x=amzn_c}catch(e){}amzn_x++};</script>",
                cpm: cpm,
                adId: bid.amzniid,
                creativeId: bid.amzniid,
                adUnitCode: bid.slotID,
                adserverTargeting: {
                  hb_pb: utlis_getCustomHBPB("banner", cpm),
                  hb_bidder: bidManager_amazonBidderCode,
                  hb_format: "banner",
                  hb_adid: bid.amzniid,
                  hb_domain: plugins_v2_constants.domainName,
                  hb_size: adSize
                },
                bidderCode: bidManager_amazonBidderCode,
                mediaType: "banner",
                ttl: 360,
                width: adWidth,
                height: adHeight,
                size: adSize,
                specialBid: true
              };
              allBidResponses.push(newAmazonBid);
              _this.addBidResponse(newAmazonBid) == "ok" && (auctionIsEmptyBid = false);
            } else {// saveLog({
              //     type: "amazon_err_bid"
              // }, {
              //     data: bid
              // });
            }
          });
          auctionEndedHandler();
        });
      }
    }
  }, {
    key: "handleAdUnitsBeforRequestBid",
    value: function handleAdUnitsBeforRequestBid(bidFloorPrice) {
      var _this = this;

      this.adUnits.forEach(function (adUnitItem) {
        adUnitItem.bids.forEach(function (bid, index) {
          _this.addBidFloorParam(bid, bidFloorPrice);
        });
      });
    }
  }, {
    key: "buildBids",
    value: function buildBids() {
      var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      var floorPrice = arguments.length > 1 ? arguments[1] : undefined;
      var primarySize = arguments.length > 2 ? arguments[2] : undefined;

      //add bidtest adapter
      if (plugins_v2_constants.biddingTest === "on") {
        bids.push({
          "bidder": "viadapter"
        });
      }

      if (plugins_v2_constants.uId.toString() === "0") {
        // seller 
        utlis_vilog("[BidManager] buildBids domain not found in Seller.json -> return empty bids");
        return [];
      } // không thực hiện bid khi IP bị block -> trả về passback


      if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
        utlis_vilog("[BidManager] buildBids: IP Blocked -> return empty bids");
        return [];
      }

      if (bids === null || plugins_v2_constants.demandTest === true) {
        return [];
      } //Manual Add param for valueimpression/quantumdex adapter


      return bids.filter(function (bid) {
        switch (bid.bidder) {
          case "openx":
            if (listSiteBlocked.includes(window.location.hostname)) {
              return false;
            }

            break;

          case "valueimpression":
            bid.params = bid.params || {};
            bid.params.siteId = plugins_v2_constants.domainID.toString();
            break;

          case "ix":
            if (primarySize) {
              bid.params = bid.params || {};
              bid.params.size = bid.params.size || [];

              if (JSON.stringify(bid.params.size) != JSON.stringify(primarySize)) {
                bid.params.size = primarySize;
              }
            }

            break;

          case "pubmatic":
            bid.params = bid.params || {};
            bid.params.outstreamAU = "valueimpression_renderer_pubmatic";
            addGEOLocationParams(bid.bidder, bid);
            break;

          case "rtbhouse":
            var region = "prebid-asia";

            if (plugins_v2_constants.isUserInEU) {
              region = "prebid-eu";
            }

            if (plugins_v2_constants.VIGeo === "US") {
              region = "prebid-us";
            }

            bid.params = bid.params || {};
            bid.params.region = region;
            break;

          case "spotx":
            if (plugins_v2_constants.ipProbability >= spotxIPProbabilityLimit) {
              return false;
            } else {
              bid.params = bid.params || {};

              bid.params.outstream_function = function (bid) {
                console.log("SpotX OK");
              };

              if (!bid.params.outstream_options) {
                bid.params.outstream_options = {
                  "custom_override": {
                    "ad_volume": 0
                  }
                };
              }
            }

            break;

          case "quantumdex":
            addGEOLocationParams(bid.bidder, bid);
            break;

          case "smaato":
            addGEOLocationParams(bid.bidder, bid);
            break;
        }

        this.addBidFloorParam(bid, floorPrice);
        return checkTrafficDrive(bid.bidder, plugins_v2_constants.customGeo, plugins_v2_constants.VIGeo);
      }.bind(this));
    }
  }, {
    key: "addBidFloorParam",
    value: function addBidFloorParam(bid, floorPrice) {
      if (bid.bidder in bidManager_bidFloorParamDefine) {
        bid.params = bid.params || {};
        bid.params[bidManager_bidFloorParamDefine[bid.bidder].param] = bidManager_bidFloorParamDefine[bid.bidder].type === 'string' ? floorPrice.toString() : floorPrice;
      }
    }
  }, {
    key: "getPrebidAdUnit",
    value: function getPrebidAdUnit(adUnitCode) {
      var result = null;
      this.adUnits.forEach(function (adunit) {
        if (adunit.code === adUnitCode) {
          result = adunit;
        }
      });
      return result;
    }
  }, {
    key: "getAmazonSlot",
    value: function getAmazonSlot(slotId) {
      var result = null;
      this.amazonSlots.forEach(function (slotItem) {
        if (slotItem.slotID === slotId) {
          result = slotItem;
        }
      });
      return result;
    }
  }]);

  return BidManager;
}();

function addGEOLocationParamsToPrebid() {
  try {
    if (typeof vlipb === "undefined") {
      return;
    }

    vlipb.adUnits.forEach(function (adUnitItem) {
      if (!adUnitItem || !adUnitItem.bids) {
        return;
      }

      adUnitItem.bids.forEach(function (bid) {
        addGEOLocationParams(bid.bidder, bid);
      });
    });
  } catch (e) {
    captureException(e, "[BidManager - addGEOLocationParamsToPrebid]");
  }
}
function addGEOLocationParams(bidderCode, bid) {
  if (plugins_v2_constants.GEOLocation == null) {
    return;
  }

  switch (bidderCode) {
    case "quantumdex":
      plugins_v2_constants.GEOLocation.lastfix = Math.floor((new Date().getTime() - plugins_v2_constants.GEOLocation.timestamp) / 1000);
      bid.params = bid.params || {};
      bid.params.geo = plugins_v2_constants.GEOLocation;
      utlis_vilog('[BidManager] Bid Quantumdex added params Geolocation');
      utlis_vilog(bid);
      break;

    case "smaato":
      bid.params = bid.params || {};
      bid.params.app = bid.params.app || {};
      bid.params.app.geo = bid.params.app.geo || {};
      bid.params.app.geo.lat = plugins_v2_constants.GEOLocation.lat.toString();
      bid.params.app.geo.lon = plugins_v2_constants.GEOLocation.lon.toString();
      utlis_vilog('[BidManager] Bid Smaato added params Geolocation');
      utlis_vilog(bid);
      break;

    case "pubmatic":
      bid.params = bid.params || {};
      bid.params.lat = plugins_v2_constants.GEOLocation.lat.toString();
      bid.params.lon = plugins_v2_constants.GEOLocation.lon.toString();
      utlis_vilog('[BidManager] Bid Pubmatic added params Geolocation');
      utlis_vilog(bid);
      break;
  }
}
/* harmony default export */ var bidManager = (bidManager_BidManager);
// CONCATENATED MODULE: ./src/plugins_v2/debug.js


var debug_createInfoOverlay = function createInfoOverlay(adID, insertInside) {
  var adElem = document.getElementById(adID);

  if (!adElem) {
    var adElems = document.getElementsByClassName(plugins_v2_constants.adClass); // get slot in format instream

    Array.from(adElems).forEach(function (item) {
      if (item.getAttribute("data-ad-slot") == adID) {
        adElem = item;
      }
    });
  }

  if (!adElem) return;
  var debugIfr = document.createElement('iframe');
  debugIfr.id = 'debug_' + adID;
  debugIfr.setAttribute('frameborder', 'no');
  debugIfr.setAttribute('scrolling', 'no');
  debugIfr.setAttribute('allowtransparency', 'true');
  debugIfr.setAttribute('hidefocus', 'true');
  debugIfr.setAttribute('marginwidth', '0');
  debugIfr.setAttribute('marginheight', '0');
  debugIfr.setAttribute('topmargin', '0');
  debugIfr.setAttribute('leftmargin', '0');
  debugIfr.style.cssText = 'width: 100%; height: 100%; position: absolute; background-color: rgba(255, 255, 255, 0.8); top: 0; left: 0; z-index: 10000;' + (plugins_v2_constants.DebugParam ? 'display:block!important;opacity:1!important;' : 'display:none!important;opacity:0!important;');

  if (insertInside === true) {
    adElem.appendChild(debugIfr);
  } else {
    adElem.parentNode.appendChild(debugIfr);
  }

  var debugIfrDoc = debugIfr.contentWindow || debugIfr.contentDocument;
  if (debugIfrDoc.document) debugIfrDoc = debugIfrDoc.document;
  debugIfrDoc.open();
  debugIfrDoc.write('<div id="infoPanel" style="padding: 5px; font-size: 12px; font-family: Consolas; color: #000;"><div style="font-weight: bold; color: #ff0000;">vi_debug: on</div></div>');
  debugIfrDoc.close();
},
    pushInfoOverlay = function pushInfoOverlay(adID, label, value) {
  var debugIfr = document.getElementById('debug_' + adID);
  if (!debugIfr) return;
  var debugIfrDoc = debugIfr.contentWindow || debugIfr.contentDocument;
  if (debugIfrDoc.document) debugIfrDoc = debugIfrDoc.document;
  var infoPanel = debugIfrDoc.getElementById('infoPanel');
  if (!infoPanel) return;
  var info = debugIfrDoc.createElement('div');
  info.className = 'infoMessage';
  info.innerHTML = '<span style="font-weight:bold;">' + label + ': </span><span>' + value + '</span>';
  infoPanel.appendChild(info);
},
    cleanInfoOverlay = function cleanInfoOverlay(adID) {
  var debugIfr = document.getElementById('debug_' + adID);
  if (!debugIfr) return;
  var debugIfrDoc = debugIfr.contentWindow || debugIfr.contentDocument;
  if (debugIfrDoc.document) debugIfrDoc = debugIfrDoc.document;
  Array.from(debugIfrDoc.querySelectorAll('.infoMessage')).forEach(function (infoMess) {
    infoMess.remove();
  });
};


// EXTERNAL MODULE: ./src/plugins_v2/help.js
var help = __webpack_require__(3);

// CONCATENATED MODULE: ./src/plugins_v2/utlis.js








function putOutBidders(bids) {
  var rs = {};
  bids.forEach(function (item) {
    rs[item.bidder] = [];
  });
  rs['vlidsp'] = [];
  return rs;
}
function rtbHouseParams() {
  var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var region = "prebid-asia";

  if (plugins_v2_constants.isUserInEU) {
    region = "prebid-eu";
  }

  if (plugins_v2_constants.VIGeo === "US") {
    region = "prebid-us";
  }

  bids.forEach(function (bid) {
    if (bid.bidder === "rtbhouse") {
      bid.params = bid.params || {};
      bid.params.region = region;
    }
  });
  return bids;
}
function loadScript(url, type, cbSuccess, cbFail) {
  var script = document.createElement('script');
  script.src = url;
  var head = document.getElementsByTagName('head')[0],
      done = false;

  script.onload = script.onreadystatechange = function () {
    if (!done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete')) {
      done = true;
      cbSuccess();
      script.onload = script.onreadystatechange = null;
    }

    ;
  };

  script.onerror = function () {
    cbFail();
  };

  head.appendChild(script);
}
function checkTrafficDrive(bidderCode, customGeoTarget, clientGeo) {
  if (!bidderCode) {
    return false;
  }

  bidderCode = bidderCode.toLowerCase();

  if (!customGeoTarget || !customGeoTarget[bidderCode] || !customGeoTarget[bidderCode].rule) {
    return true;
  }

  if (customGeoTarget[bidderCode].rule === "allow") {
    if (customGeoTarget[bidderCode].country.length <= 0) return true;
    if (customGeoTarget[bidderCode].country.indexOf(clientGeo) !== -1) return true;
    return false;
  }

  if (customGeoTarget[bidderCode].rule === "deny") {
    if (customGeoTarget[bidderCode].country.length <= 0) return false;
    if (customGeoTarget[bidderCode].country.indexOf(clientGeo) !== -1) return false;
    return true;
  }

  return true;
}
function utlis_buildBids() {
  var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var floorPrice = arguments.length > 1 ? arguments[1] : undefined;

  if (plugins_v2_constants.uId.toString() === "0" && plugins_v2_constants.biddingTest === "off") {
    // seller 
    utlis_vilog("[Utils] buildBids domain not found in Seller.json");
    return [];
  }

  if (bids === null || plugins_v2_constants.demandTest === true) {
    bids = [];
  } //add bidtest adapter


  if (plugins_v2_constants.biddingTest === "on") {
    bids.push({
      "bidder": "viadapter"
    });
  }

  var listSiteBlock = ["supersmashflash2beta.com", "news.creaders.net", "digest.creaders.net", "video.creaders.net", "ictnews.vietnamnet.vn", "m.creaders.net", "ent.creaders.net", "history.creaders.net", "tech.creaders.net", "health.creaders.net", "bbs.creaders.net", "cbom.atozmath.com", "ca.creaders.net", "finance.creaders.net", "m.cuasotinhyeu.vn", "fashion.creaders.net", "city.creaders.net", "digi.creaders.net", "travel.creaders.net", "daerah.sindonews.com", "ekbis.sindonews.com", "edukasi.sindonews.com", "s-m.game24h.vn", "archive.journal.com.ph", "auto.creaders.net", "sports.creaders.net", "lifestyle.sindonews.com", "gensindo.sindonews.com", "dev.tutorialspoint.com", "imasdk.googleapis.com", "test.game24h.vn"];
  var bidFloorParamDefine = {
    "emxdigital": {
      "param": "bidfloor",
      "type": "float"
    },
    "emx_digital": {
      "param": "bidfloor",
      "type": "string"
    },
    "conversant": {
      "param": "bidfloor",
      "type": "float"
    },
    "aol": {
      "param": "bidFloor",
      "type": "string"
    },
    "appnexus": {
      "param": "reserve",
      "type": "float"
    },
    "vertoz": {
      "param": "cpmFloor",
      "type": "float"
    },
    "beachfront": {
      "param": "bidfloor",
      "type": "float"
    },
    "sonobi": {
      "param": "floor",
      "type": "float"
    },
    "rubicon": {
      "param": "floor",
      "type": "float"
    },
    "pubmatic": {
      "param": "kadfloor",
      "type": "string"
    },
    "valueimpression": {
      "param": "floorPrice",
      "type": "float"
    },
    "quantumdex": {
      "param": "floorPrice",
      "type": "float"
    },
    "sovrn": {
      "param": "bidfloor",
      "type": "string"
    },
    "openx": {
      "param": "customFloor",
      "type": "float"
    },
    "rtbhouse": {
      "param": "bidfloor",
      "type": "float"
    },
    "gumgum": {
      "param": "bidfloor",
      "type": "float"
    },
    "sharethrough": {
      "param": "bidfloor",
      "type": "float"
    },
    "districtmDMX": {
      "param": "floor",
      "type": "string"
    },
    "pulsepoint": {
      "param": "bidfloor",
      "type": "float"
    }
  }; //Manual Add param for valueimpression/quantumdex adapter

  return bids.filter(function (bid) {
    switch (bid.bidder) {
      case "openx":
        if (listSiteBlock.includes(window.location.hostname)) {
          return false;
        }

        break;

      case "valueimpression":
        bid.params = bid.params || {};
        bid.params.siteId = plugins_v2_constants.domainID.toString();
        break;

      case "pubmatic":
        bid.params = bid.params || {};
        bid.params.outstreamAU = "valueimpression_renderer_pubmatic";

        if (plugins_v2_constants.GEOLocation != null) {
          bid.params.lat = plugins_v2_constants.GEOLocation.lat.toString();
          bid.params.lon = plugins_v2_constants.GEOLocation.lon.toString();
          utlis_vilog('[Utils] Bid Pubmatic added params Geolocation');
          utlis_vilog(bid);
        }

        break;

      case "smaato":
        bid.params = bid.params || {};

        if (plugins_v2_constants.GEOLocation != null) {
          bid.params.app = bid.params.app || {};
          bid.params.app.geo = bid.params.app.geo || {};
          bid.params.app.geo.lat = plugins_v2_constants.GEOLocation.lat.toString();
          bid.params.app.geo.lon = plugins_v2_constants.GEOLocation.lon.toString();
          utlis_vilog('[Utils] Bid Smaato added params Geolocation');
          utlis_vilog(bid);
        }

        break;

      case "rtbhouse":
        var region = "prebid-asia";

        if (plugins_v2_constants.isUserInEU) {
          region = "prebid-eu";
        }

        if (plugins_v2_constants.VIGeo === "US") {
          region = "prebid-us";
        }

        bid.params = bid.params || {};
        bid.params.region = region;
        break;

      case "spotx":
        if (plugins_v2_constants.ipProbability >= 0.5) {
          return false;
        } else {
          bid.params = bid.params || {};

          bid.params.outstream_function = function (bid) {
            console.log("SpotX OK");
          };

          if (!bid.params.outstream_options) {
            bid.params.outstream_options = {
              "custom_override": {
                "ad_volume": 0
              }
            };
          }
        }

        break;

      case "quantumdex":
        if (plugins_v2_constants.GEOLocation != null) {
          plugins_v2_constants.GEOLocation.lastfix = Math.floor((new Date().getTime() - plugins_v2_constants.GEOLocation.timestamp) / 1000);
          bid.params = bid.params || {};
          bid.params.geo = plugins_v2_constants.GEOLocation;
          utlis_vilog('[Utils] Bid Quantumdex added params Geolocation');
          utlis_vilog(bid);
        }

        break;
    }

    if (bid.bidder in bidFloorParamDefine) {
      bid.params = bid.params || {};
      bid.params[bidFloorParamDefine[bid.bidder].param] = bidFloorParamDefine[bid.bidder].type === 'string' ? floorPrice.toString() : floorPrice;
    } //filter by traffic GEO


    return checkTrafficDrive(bid.bidder, plugins_v2_constants.customGeo, plugins_v2_constants.VIGeo);
  });
}
function ucFirst(s) {
  if (typeof s !== 'string') return '';
  return s.charAt(0).toUpperCase() + s.slice(1);
}
function decodeString(str) {
  var vliMap = {
    "s": "a",
    "d": "s",
    "f": "d",
    "g": "f",
    "h": "g",
    "j": "h",
    "k": "j",
    "l": "k",
    "z": "l",
    "x": "z",
    "c": "x",
    "v": "c",
    "b": "v",
    "n": "b",
    "m": "n",
    "q": "m",
    "w": "q",
    "a": "w",
    "9": ".",
    "0": 9,
    "6": 0,
    "2": 6,
    "_": 2,
    ".": "_"
  };
  var result = str.split('').map(function (t) {
    if (typeof vliMap[t] != 'undefined') {
      return vliMap[t];
    }

    return t;
  });
  return result.join('');
}
function getUrlParam(name) {
  name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
  var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
  var results = regex.exec(window.location.search);
  return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
}
function sortResponseBids(response) {
  if (typeof_default()(response) !== "object") return [];

  var compare = function compare(a, b) {
    if (a.cpm < b.cpm) return 1;
    if (a.cpm > b.cpm) return -1;
    return 0;
  };

  response.sort(compare);
  return response;
}
function sortResponse(response, adUnitCode) {
  if (response.bids.length <= 0) {
    return [];
  }

  var arrBlock = Object.keys(JSON.parse(getCookie("__viCrBlock") ? getCookie("__viCrBlock") : "{}")).map(function (key) {
    return JSON.parse(getCookie("__viCrBlock") ? getCookie("__viCrBlock") : "{}")[key];
  });

  if (arrBlock.length > 0) {
    for (var _i = 0; _i < arrBlock.length; _i++) {
      if (!plugins_v2_constants.blockCreatives.includes(arrBlock[_i])) {
        plugins_v2_constants.blockCreatives.push(arrBlock[_i]);
      }
    }
  }

  var rs = [];
  var arr = response.bids;
  arr.reverse();
  var lastAuction = arr[0].auctionId;

  for (var i = 0; i < arr.length; i++) {
    var item = arr[i];

    if (item.auctionId == plugins_v2_constants.auctionLogs[adUnitCode].preAuction) {
      break;
    }

    if (plugins_v2_constants.blockCreatives.length > 0 && plugins_v2_constants.blockCreatives.indexOf(String(item.creativeId)) !== -1) {
      vlipb.markWinningBidAsUsed({
        adId: item.adId
      });
      utlis_vilog("Blocked creativeId: " + item.creativeId);
      continue;
    }

    rs.push(item);
  }

  plugins_v2_constants.auctionLogs[adUnitCode].preAuction = lastAuction;
  return rs;
}
function utlis_requestBids(adUnitCodes, apstagSlots, callback, type) {
  if (plugins_v2_constants.preventRqBid && type === 'videodiscover') return;
  var requestManager = {};

  var allBiddersBack = function allBiddersBack() {
    var isAllBiddersBack = true;

    for (var key in requestManager) {
      if (!requestManager[key]) isAllBiddersBack = false;
    }

    return isAllBiddersBack;
  };

  var headerBidderBack = function headerBidderBack(bidder, responseHandler, adUnitCodes) {
    if (bidder === 'a9') {
      requestManager.a9 = true;
    }

    if (bidder === 'prebid') {
      requestManager.prebid = true;
    }

    if (allBiddersBack()) {
      responseHandler(adUnitCodes);
    }
  };

  requestManager.prebid = false;
  vlipb.requestBids({
    timeout: plugins_v2_constants.prebidTimeout,
    adUnitCodes: adUnitCodes,
    bidsBackHandler: function bidsBackHandler(bids) {
      headerBidderBack('prebid', callback, adUnitCodes);
    }
  });

  if (apstagSlots.length > 0) {
    requestManager.a9 = false;
    apstag.fetchBids({
      slots: apstagSlots,
      timeout: plugins_v2_constants.prebidTimeout
    }, function (bids) {
      bids.forEach(function (bid) {
        if (bid.amznbid && bid.amznbid != 0 && bid.amznbid != 1 && bid.amznbid != 2 && plugins_v2_constants.amazonCpmMap[bid.amznbid]) {
          bid.cpm = plugins_v2_constants.amazonCpmMap[bid.amznbid];
          bid.hb_pb = utlis_getCustomHBPB("banner", bid.cpm);
          bid.bidderCode = "amazon";
          bid.mediaType = "banner";
          plugins_v2_constants.amazonBidResponses[bid.slotID] = bid;
        } else {
          plugins_v2_constants.amazonBidResponses[bid.slotID] = null;
        }
      });
      headerBidderBack('a9', callback, adUnitCodes);
    });
  }
}
function utlis_generateUUID(placeholder) {
  var _getRandomData = function _getRandomData() {
    if (window && window.crypto && window.crypto.getRandomValues) {
      return crypto.getRandomValues(new Uint8Array(1))[0] % 16;
    } else {
      return Math.random() * 16;
    }
  };

  return placeholder ? (placeholder ^ _getRandomData() >> placeholder / 4).toString(16) : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, utlis_generateUUID);
}
function savePixel(data) {
  if (getUrlParam("pbjs_debug").toUpperCase() === "TRUE") {
    return;
  }

  var flag = false;

  if (data.type === "hb" && data.bidder === "Adx") {
    flag = true;
  }

  ;

  if ((data.type == "passback" || data.type == "passback_video") && plugins_v2_constants.viAdFill == 1) {
    data.type = "hb";
    data.bidder = "Adx";
    data.cpm = 0;
  }

  if (!flag) {
    var img = document.createElement('img');
    img.width = "0";
    img.height = "0";
    img.style.cssText = "display:none";
    img.src = getPixelUrl(data);
    elementReady("#" + plugins_v2_constants.pixelID, function () {
      var vliPixel = document.getElementById(plugins_v2_constants.pixelID);
      vliPixel.appendChild(img);
    });
  }

  if (data.adType === "native") {
    data.bidder = "native_" + data.bidder;
  }

  if (data.type == 'hb' || data.type == 'hb_video') {
    if (data.type == 'hb_video') {
      data.bidder += "_video";
    }

    showOnAnalytics({
      bidder: data.bidder,
      cpm: data.cpm
    });
  } else {
    showOnAnalytics({
      bidder: data.type == 'passback_video' ? 'noBid_video' : 'noBid',
      cpm: "0.00"
    });
  }
}
function callPixel(pixelUrl) {
  if (typeof pixelUrl !== "string" || pixelUrl == "") {
    return;
  }

  var vliPixel = document.getElementById(plugins_v2_constants.pixelID);

  if (vliPixel == null) {
    vliPixel = createPixelEl();
  }

  var img = document.createElement('img');
  img.style.cssText = "width:0px!important;height:0px!important;display:none!important";
  img.src = pixelUrl;
  vliPixel.appendChild(img);
}
function createPixelEl() {
  if (!document.body) {
    var timeout = setInterval(function () {
      createPixelEl();
      clearInterval(timeout);
    }, 200);
    return;
  }

  var vlipx = document.createElement('vli');
  vlipx.id = plugins_v2_constants.pixelID;
  vlipx.style.cssText = "width:0px!important;height:0px!important;display:none!important";
  document.body.appendChild(vlipx);
  return vlipx;
}
function mobileDetect() {
  try {
    if (/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) return !0;
  } catch (a) {}

  return !1;
}
function getMobileOperatingSystem() {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera; // Windows Phone must come first because its UA also contains "Android"

  if (/windows phone/i.test(userAgent)) {
    return "Windows Phone";
  }

  if (/android/i.test(userAgent)) {
    return "Android";
  }

  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
    return "iOS";
  }

  return "unknown";
}
function getPixelUrl(data) {
  var dataEncode = getPixelToken(data);
  return '//' + plugins_v2_constants.statsDomain + '/pi/?e=' + dataEncode;
}
function getPixelToken(data) {
  var device = mobileDetect() ? "mobile" : "";

  if (data.type == "hb" || data.type == "hb_video") {
    return encrypt('tm=' + utlis_generateUUID() + '&d=' + plugins_v2_constants.domainID + '&z=' + data.zoneID + '&b=' + data.bidder + '&p=' + data.cpm + '&de=' + device + '&vliref_id=' + plugins_v2_constants.refererSlotID);
  } else {
    return encrypt('tm=' + utlis_generateUUID() + '&t=passback&d=' + plugins_v2_constants.domainID + '&z=' + data.zoneID + '&de=' + device + '&vliref_id=' + plugins_v2_constants.refererSlotID);
  }
}
function encrypt(str) {
  var vliMap = {
    a: 'q',
    b: 'w',
    c: 'e',
    d: 'r',
    e: 't',
    f: 'y',
    g: 'u',
    h: 'i',
    i: 'o',
    j: 'p',
    k: 0,
    l: 's',
    m: 'd',
    n: 'f',
    o: 'g',
    p: 'h',
    q: 'j',
    r: 'k',
    s: 'l',
    t: 'z',
    u: 'x',
    v: 'c',
    w: 'v',
    x: 'b',
    y: 'n',
    z: 'm',
    0: 'A',
    'A': 1,
    1: 'T',
    'T': 2,
    2: 'Y',
    'Y': 3,
    3: 'B',
    'B': 4,
    4: 'P',
    'P': 5,
    5: 'Z',
    'Z': 6,
    6: 'U',
    'U': 7,
    7: 'K',
    'K': 8,
    8: 'M',
    'M': 9,
    9: 'a',
    '&': 'R',
    '=': 'N',
    '.': 'G'
  };
  str = str.toLowerCase();
  var result = str.split('').map(function (t) {
    if (typeof vliMap[t] != 'undefined') {
      return vliMap[t];
    }

    return t;
  });
  return result.join('');
}
function errorRenderVideo(err) {
  var type = mobileDetect() ? err.t + "_mobile" : err.t + "_pc";
  type += "_" + err.b;
  var analyticIframe = document.getElementById(plugins_v2_constants.analyticIframeId);

  if (analyticIframe) {
    if (typeof analyticIframe.contentWindow.vliAnatrack === 'function') {
      analyticIframe.contentWindow.vliAnatrack('Error_video_' + err.e, plugins_v2_constants.domainName, type, err.b);
    } else {
      utlis_vilog("Can't Invoking Track Error Video Render");
    }
  } else {
    createAnalyticIframe('Error_video_' + err.e, plugins_v2_constants.domainName, type, err.b);
  }
}
function showOnAnalytics(data) {
  try {
    var analyticIframe = document.getElementById(plugins_v2_constants.analyticIframeId);

    if (analyticIframe) {
      if (typeof analyticIframe.contentWindow.vliAnatrack === 'function') {
        analyticIframe.contentWindow.vliAnatrack(data.bidder, plugins_v2_constants.domainName, data.cpm, "Default");
      } else {
        utlis_vilog("Can't Invoking Track");
      }
    } else {
      createAnalyticIframe(data.bidder, plugins_v2_constants.domainName, data.cpm, "Default");
    }
  } catch (e) {
    utlis_vilog(e);
  }
}
function createAnalyticIframe(medium, source, campaign, content) {
  var ifr = document.createElement('iframe');
  ifr.id = plugins_v2_constants.analyticIframeId;
  ifr.width = "0";
  ifr.height = "0";
  ifr.style.cssText = "display:none";
  elementReady("#" + plugins_v2_constants.pixelID, function () {
    var vliPixel = document.getElementById(plugins_v2_constants.pixelID);
    vliPixel.appendChild(ifr);
    var html = '<script async src="https://www.googletagmanager.com/gtag/js?id=' + plugins_v2_constants.analyticsID + '"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag("js", new Date()); gtag("config", "' + plugins_v2_constants.analyticsID + '", { "page_title": "' + medium + '_' + source + '_' + campaign + '_' + content + '", "campaign": { "medium": "' + medium + '", "source": "' + source + '", "name": "' + campaign + '", "content": "' + content + '" } }); function vliAnatrack(medium, source, campaign, content){ gtag("config", "' + plugins_v2_constants.analyticsID + '", { "page_title": medium + "_" + source + "_" + campaign + "_" + content, "campaign": { "medium": medium, "source": source, "name": campaign, "content": content } }); } </script>';
    ifr.contentWindow.document.open();
    ifr.contentWindow.document.write(html);
    ifr.contentWindow.document.close();
  });
}
function setCookie(cookieName, cookieValue, cookieExdays) {
  if (!cookieExdays) {
    cookieExdays = 90;
  }

  var d = new Date();
  d.setTime(d.getTime() + cookieExdays * 24 * 60 * 60 * 1000);
  var expires = "expires=" + d.toUTCString();
  document.cookie = cookieName + "=" + cookieValue + ";" + expires + ";path=/";
}
function getCookie(cookieName) {
  var name = cookieName + "=";
  var ca = document.cookie.split(';');

  for (var i = 0; i < ca.length; i++) {
    var c = ca[i];

    while (c.charAt(0) === ' ') {
      c = c.substring(1);
    }

    if (c.indexOf(name) === 0) {
      return c.substring(name.length, c.length);
    }
  }

  return "";
}
function adserverTargeting(bidWon, gSlot) {
  if (!bidWon) return;
  if (!bidWon.adserverTargeting) return;

  for (var key in bidWon.adserverTargeting) {
    gSlot.setTargeting(key, bidWon.adserverTargeting[key]);
  }
}
function getDfpAdunitCode(dfpAdFormat, googleAccountTarget, adDivId) {
  var rootAdunitCode = plugins_v2_constants.domainID.toString() + "_" + ucFirst(plugins_v2_constants.domainName);
  var dfpAdUnit = "/".concat(googleAccountTarget.dfp, "/");

  switch (dfpAdFormat) {
    case "BANNER":
      dfpAdUnit += "".concat(rootAdunitCode, "/").concat(rootAdunitCode, "_1");
      break;

    case "SMART_BANNER":
      dfpAdUnit += "".concat(rootAdunitCode, "/").concat(rootAdunitCode, "_SmartBanner_1");
      break;

    case "VIDEO":
      dfpAdUnit += "".concat(rootAdunitCode, "/").concat(rootAdunitCode, "_VideoDiscovery_1");
      break;
  }

  return dfpAdUnit;
}

function getBannerDfpAdunitCode(adDivId) {
  if (!plugins_v2_constants.displaySlot) {
    return "";
  }

  var adElements = document.getElementsByClassName(plugins_v2_constants.adClass);
  if (adElements.length == 0) return;
  var j = 0;

  for (var i = 0; i < adElements.length; i++) {
    if (!plugins_v2_constants.displaySlot[adElements[i].getAttribute("data-ad-slot")]) {
      continue;
    }

    if (adElements[i].getAttribute("data-id") == adDivId) {
      break;
    }

    ;
    j++;
  }

  try {
    return plugins_v2_constants.displayDfpAdUnit[j] ? plugins_v2_constants.displayDfpAdUnit[j] : plugins_v2_constants.displayDfpAdUnit[plugins_v2_constants.displayDfpAdUnit.length - 1];
  } catch (err) {
    return "";
  }
}

function renderSafeFrame(adID, sizes, adContent) {
  var hasSf = window['$sf'] !== undefined && window['$sf'] != null,
      hasSfLoaded = hasSf && window['$sf']['host'] != null;
  if (!hasSfLoaded) return false;
  var adConfig = {
    id: adID,
    w: sizes.width,
    h: sizes.height,
    dest: adID
  };
  var markup = adContent;
  var posConf = new $sf.host.PosConfig(adConfig);
  var pos = new $sf.host.Position(posConf, markup);
  $sf.host.render(pos);
}
function renderIframeForSmartBanner(adDiv, divId, width, height) {
  adDiv.innerHTML = '<iframe class="vliIgnore" id="ifr_' + divId + '" SRC="about:blank" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" width="0" height="0" sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"> </iframe>';
  var iframe = document.getElementById('ifr_' + divId);
  iframe.width = width;
  iframe.height = height;
  var iframeDoc = iframe.contentWindow || iframe.contentDocument;
  if (iframeDoc.document) iframeDoc = iframeDoc.document;
  return iframeDoc;
}
function renderNativeAd(dcm, data) {
  dcm.open();
  dcm.write(getNativeAd(data));
  dcm.close();
}
function getNativeAd(data) {
  var html = '';
  html += '<div id="native-placeholder" style="width:' + data.width + 'px;height:' + data.height + 'px;"></div>';
  html += '<script src="//' + plugins_v2_constants.staticDomain + '/plugins/native-universal-creative/test.js"></script>';
  html += '<script>';
  html += 'var pbNativeTagData = {};';
  html += 'pbNativeTagData.width = "' + data.width + '";';
  html += 'pbNativeTagData.height = "' + data.height + '";';
  html += 'pbNativeTagData.adId = "' + data.adId + '";';
  html += 'pbNativeTagData.pubUrl = "' + data.pubUrl + '";';
  html += 'try {pbNativeTag.init(pbNativeTagData);} catch (e) {console.log(e);}';
  html += '</script>';
  return html;
}
function isInViewPort(el, inViewPort, outViewPort, opts) {
  var defaultOpts = {
    viewport: null,
    threshold: [100]
  };
  opts = Object.assign({}, defaultOpts, opts);
  var clearInViewPortDetect = observeElementInViewport.observeElementInViewport(el, inViewPort, outViewPort, opts);
  return clearInViewPortDetect;
}
function isInActiveViewPort(el, inViewPort, outViewPort, opts) {
  var isInViewPortFlag = false;

  var inViewPortAction = function inViewPortAction() {
    if (isInViewPortFlag && plugins_v2_constants.isVisible) {
      inViewPort();
    }
  };

  var outViewPortAction = function outViewPortAction() {
    outViewPort();
  };

  isInViewPort(el, function () {
    isInViewPortFlag = true;
    inViewPortAction();
  }, function () {
    isInViewPortFlag = false;
    outViewPortAction();
  }, opts);

  _addEventListener("VISIBILITY_CHANGE", function () {
    if (plugins_v2_constants.isVisible) {
      inViewPortAction();
    } else {
      outViewPortAction();
    }
  });
}
function utlis_vilog(message) {
  if ("string" == typeof message) {
    var time = new Date().toLocaleTimeString();
    time += ":" + new Date().getMilliseconds();
    window.console.log.apply(console, ["%cVLI", "display: inline-block; color: #fff; background: #DD0420; padding: 1px 4px; border-radius: 3px;", time, message]);
  } else {
    console.log(message);
  }
}
function generateVILogo() {
  var r = Math.floor(Math.random() * 100) + 1;
  return '<svg style="display:block;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="80px" height="16px" viewBox="0 0 500 92.244" enable-background="new 0 0 500 92.244" xml:space="preserve"> <polygon fill="#ffffff" points="126.342,27.96 134.873,27.96 144.054,52.697 153.238,27.96 161.567,27.96 147.367,63.336 140.542,63.336 "/> <g> <defs> <rect id="SVGID_1_' + r + '" y="0" width="500" height="92.244"/> </defs> <clipPath id="SVGID_2_' + r + '"> <use xlink:href="#SVGID_1_' + r + '" overflow="visible"/> </clipPath> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M159.053,55.357v-0.099c0-5.871,4.466-8.582,10.838-8.582 c2.709,0,4.667,0.452,6.573,1.104v-0.451c0-3.161-1.956-4.917-5.77-4.917c-2.91,0-4.968,0.551-7.427,1.455l-1.906-5.821 c2.961-1.305,5.871-2.158,10.437-2.158c4.165,0,7.176,1.104,9.082,3.011c2.007,2.007,2.91,4.968,2.91,8.58v15.605h-7.376v-2.909 c-1.856,2.057-4.416,3.412-8.129,3.412C163.218,63.587,159.053,60.676,159.053,55.357 M176.565,53.601v-1.354 c-1.305-0.603-3.011-1.004-4.868-1.004c-3.261,0-5.268,1.306-5.268,3.714v0.1c0,2.057,1.706,3.262,4.164,3.262 C174.156,58.318,176.565,56.361,176.565,53.601"/> <rect x="188.703" y="26.455" clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" width="7.627" height="36.631"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M201.295,53.601V36.189h7.627v15.003c0,3.613,1.706,5.47,4.616,5.47 c2.911,0,4.768-1.856,4.768-5.47V36.189h7.627v26.896h-7.627v-3.813c-1.757,2.257-4.016,4.315-7.878,4.315 C204.656,63.587,201.295,59.773,201.295,53.601"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M229.439,49.788v-0.1c0-7.678,5.469-14,13.296-14 c8.982,0,13.098,6.975,13.098,14.602c0,0.604-0.051,1.304-0.101,2.007h-18.716c0.752,3.462,3.161,5.27,6.572,5.27 c2.56,0,4.416-0.805,6.524-2.761l4.365,3.864c-2.508,3.11-6.121,5.019-10.988,5.019C235.41,63.688,229.439,58.017,229.439,49.788 M248.407,47.53c-0.452-3.412-2.459-5.72-5.671-5.72c-3.161,0-5.218,2.257-5.82,5.72H248.407z"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M260.793,27.458h3.06v3.362h-3.06V27.458z M261.094,37.494h2.458v25.592h-2.458 V37.494z"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M271.227,37.494h2.459v4.566c1.656-2.659,3.964-5.168,8.53-5.168 c4.466,0,7.226,2.559,8.631,5.52c1.655-2.861,4.416-5.52,9.232-5.52c6.07,0,9.835,4.265,9.835,10.688v15.506h-2.458V47.88 c0-5.52-2.86-8.731-7.577-8.731c-4.315,0-8.078,3.312-8.078,9.033v14.903h-2.46V47.73c0-5.318-2.91-8.581-7.476-8.581 c-4.567,0-8.18,4.014-8.18,9.183v14.753h-2.459V37.494z"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M316.93,37.494h2.459v5.72c2.208-3.361,5.469-6.322,10.538-6.322 c6.171,0,12.444,4.967,12.444,13.298v0.1c0,8.329-6.273,13.398-12.444,13.398c-5.119,0-8.431-2.91-10.538-6.122v13.547h-2.459 V37.494z M339.711,50.389v-0.1c0-6.724-4.667-11.04-10.036-11.04c-5.318,0-10.438,4.467-10.438,10.99v0.1 c0,6.574,5.119,10.989,10.438,10.989C335.245,61.329,339.711,57.264,339.711,50.389"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M348.035,37.494h2.459v7.276c2.007-4.566,6.271-7.878,11.34-7.677v2.71h-0.25 c-5.922,0-11.09,4.465-11.09,12.794v10.488h-2.459V37.494z"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M363.085,50.339v-0.1c0-7.427,5.218-13.348,12.143-13.348 c7.177,0,11.742,5.821,11.742,13.398c0,0.451,0,0.603-0.051,1.003h-21.225c0.452,6.373,5.018,10.087,10.036,10.087 c3.964,0,6.674-1.757,8.781-4.015l1.705,1.505c-2.608,2.811-5.67,4.818-10.587,4.818C368.906,63.688,363.085,58.318,363.085,50.339 M384.31,49.085c-0.35-5.169-3.311-9.936-9.182-9.936c-5.068,0-8.981,4.265-9.434,9.936H384.31z"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M389.926,59.874l1.455-1.958c2.81,2.158,5.92,3.363,9.182,3.363 c3.462,0,6.172-1.908,6.172-4.867v-0.101c0-3.011-3.211-4.115-6.774-5.119c-4.165-1.203-8.78-2.458-8.78-7.024v-0.101 c0-4.115,3.462-7.075,8.429-7.075c3.062,0,6.524,1.104,9.083,2.81l-1.304,2.057c-2.359-1.555-5.169-2.559-7.878-2.559 c-3.514,0-5.821,1.907-5.821,4.466v0.101c0,2.86,3.462,3.914,7.125,4.967c4.114,1.155,8.43,2.659,8.43,7.177v0.101 c0,4.566-3.914,7.476-8.831,7.476C396.698,63.586,392.635,62.081,389.926,59.874"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M412.351,59.874l1.455-1.958c2.811,2.158,5.92,3.363,9.183,3.363 c3.462,0,6.172-1.908,6.172-4.867v-0.101c0-3.011-3.211-4.115-6.774-5.119c-4.165-1.203-8.78-2.458-8.78-7.024v-0.101 c0-4.115,3.462-7.075,8.429-7.075c3.062,0,6.523,1.104,9.083,2.81l-1.305,2.057c-2.358-1.555-5.169-2.559-7.878-2.559 c-3.513,0-5.82,1.907-5.82,4.466v0.101c0,2.86,3.462,3.914,7.125,4.967c4.113,1.155,8.43,2.659,8.43,7.177v0.101 c0,4.566-3.914,7.476-8.831,7.476C419.124,63.586,415.06,62.081,412.351,59.874"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M437.536,27.458h3.06v3.362h-3.06V27.458z M437.837,37.494h2.458v25.592h-2.458 V37.494z"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M446.214,50.389v-0.1c0-7.176,5.569-13.398,13.196-13.398 c7.577,0,13.098,6.122,13.098,13.298v0.1c0,7.175-5.57,13.398-13.198,13.398C451.733,63.688,446.214,57.566,446.214,50.389 M469.848,50.389v-0.1c0-6.172-4.616-11.089-10.538-11.089c-6.071,0-10.436,4.967-10.436,10.989v0.1 c0,6.171,4.615,11.09,10.536,11.09C465.482,61.379,469.848,56.412,469.848,50.389"/> <path clip-path="url(#SVGID_2_' + r + ')" fill="#ffffff" d="M478.072,37.494h2.459v4.767c1.706-3.011,4.565-5.369,9.232-5.369 c6.474,0,10.236,4.416,10.236,10.537v15.657h-2.459V47.88c0-5.269-2.961-8.731-8.129-8.731c-5.018,0-8.881,3.814-8.881,9.132 v14.804h-2.459V37.494z"/> </g> <g> <defs> <polygon id="SVGID_3_' + r + '" points="45.688,85.823 91.375,7.311 0,7 "/> </defs> <clipPath id="SVGID_4_' + r + '"> <use xlink:href="#SVGID_3_' + r + '" overflow="visible"/> </clipPath> <radialGradient id="SVGID_5_' + r + '" cx="0" cy="92.2437" r="1" gradientTransform="matrix(50.4885 0 0 -50.4885 49.1875 4693.2397)" gradientUnits="userSpaceOnUse"> <stop offset="0" style="stop-color:#F2F2F2"/> <stop offset="0.3234" style="stop-color:#F2F2F2"/> <stop offset="0.8772" style="stop-color:#B3B3B3"/> <stop offset="1" style="stop-color:#B3B3B3"/> </radialGradient> <rect y="7" clip-path="url(#SVGID_4_' + r + ')" fill="url(#SVGID_5_' + r + ')" width="91.375" height="78.822"/> </g> <g> <defs> <rect id="SVGID_6_' + r + '" y="0" width="500" height="92.244"/> </defs> <clipPath id="SVGID_7_' + r + '"> <use xlink:href="#SVGID_6_' + r + '" overflow="visible"/> </clipPath> <polygon clip-path="url(#SVGID_7_' + r + ')" fill="#B3E2EE" points="34.886,45.52 45.688,86.445 0,7 "/> <polygon clip-path="url(#SVGID_7_' + r + ')" fill="#67C6DD" points="42.73,20.466 34.886,45.52 0,7 "/> </g> <g> <defs> <polygon id="SVGID_8_' + r + '" points="10.515,0 44.515,15.67 62.211,0 "/> </defs> <clipPath id="SVGID_9_' + r + '"> <use xlink:href="#SVGID_8_' + r + '" overflow="visible"/> </clipPath> <radialGradient id="SVGID_10_' + r + '" cx="0" cy="92.2437" r="1" gradientTransform="matrix(47.0453 0 0 -47.0453 13.2813 4345.9038)" gradientUnits="userSpaceOnUse"> <stop offset="0" style="stop-color:#00A0C6"/> <stop offset="0.0829" style="stop-color:#00A0C6"/> <stop offset="0.2385" style="stop-color:#019AC1"/> <stop offset="0.4372" style="stop-color:#0289B4"/> <stop offset="0.6591" style="stop-color:#04709E"/> <stop offset="0.8964" style="stop-color:#065183"/> <stop offset="1" style="stop-color:#064476"/> </radialGradient> <rect x="10.515" y="0" clip-path="url(#SVGID_9_' + r + ')" fill="url(#SVGID_10_' + r + ')" width="51.696" height="15.671"/> </g> <g> <defs> <polygon id="SVGID_11_' + r + '" points="34.887,45.52 45.688,86.444 59.477,62.364 62.211,26.998 "/> </defs> <clipPath id="SVGID_12_' + r + '"> <use xlink:href="#SVGID_11_' + r + '" overflow="visible"/> </clipPath> <radialGradient id="SVGID_13_' + r + '" cx="0" cy="92.2437" r="1" gradientTransform="matrix(19.989 19.989 19.989 -19.989 -1808.7954 1899.9912)" gradientUnits="userSpaceOnUse"> <stop offset="0" style="stop-color:#00A0C6"/> <stop offset="0.0829" style="stop-color:#00A0C6"/> <stop offset="0.2385" style="stop-color:#019AC1"/> <stop offset="0.4372" style="stop-color:#0289B4"/> <stop offset="0.6591" style="stop-color:#04709E"/> <stop offset="0.8964" style="stop-color:#065183"/> <stop offset="1" style="stop-color:#064476"/> </radialGradient> <polygon clip-path="url(#SVGID_12_' + r + ')" fill="url(#SVGID_13_' + r + ')" points="48.549,13.335 91.934,56.72 48.549,100.106 5.164,56.72 "/> </g> <g> <defs> <rect id="SVGID_14_' + r + '" y="0" width="500" height="92.244"/> </defs> <clipPath id="SVGID_15_' + r + '"> <use xlink:href="#SVGID_14_' + r + '" overflow="visible"/> </clipPath> <polygon clip-path="url(#SVGID_15_' + r + ')" fill="#B3E2EE" points="65.996,70.683 53.548,92.244 45.493,59.005 "/> <polygon clip-path="url(#SVGID_15_' + r + ')" fill="#67C6DD" points="49.723,35.481 62.211,26.997 60.351,51.506 "/> <polygon clip-path="url(#SVGID_15_' + r + ')" fill="#67C6DD" points="70.91,31.347 100.075,11.66 68.94,65.999 "/> <polygon clip-path="url(#SVGID_15_' + r + ')" fill="#B3E2EE" points="91.375,7.311 42.73,20.467 34.886,45.52 "/> </g> </svg>';
}
function generateVIIcon() {
  var r = Math.floor(Math.random() * 100) + 1;
  return '<svg enable-background="new 0 0 500 92.244" version="1.1" viewBox="0 0 100 92" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect class="" width="100%" height="100%" fill="none" style=""/><g class="currentLayer" style=""><g class=""><defs><polygon id="h' + r + '" points="45.688 85.823 91.375 7.311 0 7"/></defs><clipPath id="g' + r + '"><use overflow="visible" xlink:href="#h' + r + '"/></clipPath><radialGradient id="f' + r + '" cx="0" cy="92.244" r="1" gradientTransform="matrix(50.488 0 0 -50.488 49.188 4693.2)" gradientUnits="userSpaceOnUse"><stop stop-color="#F2F2F2" offset="0"/><stop stop-color="#F2F2F2" offset=".3234"/><stop stop-color="#B3B3B3" offset=".8772"/><stop stop-color="#B3B3B3" offset="1"/></radialGradient><rect y="7" width="91.375" height="78.822" clip-path="url(#g' + r + ')" fill="url(#f' + r + ')"/></g><g class=""><defs><rect id="e' + r + '" width="500" height="92.244"/></defs><clipPath id="b' + r + '"><use overflow="visible" xlink:href="#e' + r + '"/></clipPath><polygon points="34.886 45.52 45.688 86.445 0 7" clip-path="url(#b' + r + ')" fill="#B3E2EE"/><polygon points="42.73 20.466 34.886 45.52 0 7" clip-path="url(#b' + r + ')" fill="#67C6DD"/></g><g class=""><defs><polygon id="d' + r + '" points="10.515 0 44.515 15.67 62.211 0"/></defs><clipPath id="c' + r + '"><use overflow="visible" xlink:href="#d' + r + '"/></clipPath><radialGradient id="m' + r + '" cx="0" cy="92.244" r="1" gradientTransform="matrix(47.045 0 0 -47.045 13.281 4345.9)" gradientUnits="userSpaceOnUse"><stop stop-color="#00A0C6" offset="0"/><stop stop-color="#00A0C6" offset=".0829"/><stop stop-color="#019AC1" offset=".2385"/><stop stop-color="#0289B4" offset=".4372"/><stop stop-color="#04709E" offset=".6591"/><stop stop-color="#065183" offset=".8964"/><stop stop-color="#064476" offset="1"/></radialGradient><rect x="10.515" width="51.696" height="15.671" clip-path="url(#c' + r + ')" fill="url(#m' + r + ')"/></g><g class=""><defs><polygon id="l' + r + '" points="34.887 45.52 45.688 86.444 59.477 62.364 62.211 26.998"/></defs><clipPath id="k' + r + '"><use overflow="visible" xlink:href="#l' + r + '"/></clipPath><radialGradient id="j' + r + '" cx="0" cy="92.244" r="1" gradientTransform="matrix(19.989 19.989 19.989 -19.989 -1808.8 1900)" gradientUnits="userSpaceOnUse"><stop stop-color="#00A0C6" offset="0"/><stop stop-color="#00A0C6" offset=".0829"/><stop stop-color="#019AC1" offset=".2385"/><stop stop-color="#0289B4" offset=".4372"/><stop stop-color="#04709E" offset=".6591"/><stop stop-color="#065183" offset=".8964"/><stop stop-color="#064476" offset="1"/></radialGradient><polygon points="48.549 13.335 91.934 56.72 48.549 100.11 5.164 56.72" clip-path="url(#k' + r + ')" fill="url(#j' + r + ')"/></g><g class=""><defs><rect id="i' + r + '" width="500" height="92.244"/></defs><clipPath id="a' + r + '"><use overflow="visible" xlink:href="#i' + r + '"/></clipPath><polygon points="65.996 70.683 53.548 92.244 45.493 59.005" clip-path="url(#a' + r + ')" fill="#B3E2EE"/><polygon points="49.723 35.481 62.211 26.997 60.351 51.506" clip-path="url(#a' + r + ')" fill="#67C6DD"/><polygon points="70.91 31.347 100.08 11.66 68.94 65.999" clip-path="url(#a' + r + ')" fill="#67C6DD"/><polygon points="91.375 7.311 42.73 20.467 34.886 45.52" clip-path="url(#a' + r + ')" fill="#B3E2EE"/></g></g></svg>';
}
function getBrowser() {
  var ua = navigator.userAgent.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i),
      browser;

  if (navigator.userAgent.match(/Edge/i) || navigator.userAgent.match(/Trident.*rv[ :]*11\./i)) {
    browser = "msie";
  } else {
    browser = ua[1].toLowerCase();
  }

  return browser;
}
function ajaxRequest() {
  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "GET";
  var responseType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "text";
  var timeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1500;
  var withCredentials = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  var sendData = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : "";
  var resolve = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : function () {};
  var reject = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : function () {};

  if (!url) {
    reject(Error("URL is required"));
  }

  var request = new XMLHttpRequest();
  request.responseType = responseType;

  request.onreadystatechange = function () {
    if (request.readyState === XMLHttpRequest.DONE) {
      if (request.status === 200) {
        resolve(request.response);
      } else {
        reject(Error(request.status));
      }
    }
  };

  request.withCredentials = withCredentials;

  request.onerror = function () {
    reject(Error("Network Error"));
  };

  request.timeout = timeout;

  request.ontimeout = function () {
    reject(Error("Request Timeout"));
  };

  request.open(method, url, true);
  request.send(sendData);
}
function elementReady(selector, callback) {
  var ready = function ready() {
    if (document.querySelector(selector)) {
      if (typeof callback === "function") callback();
      return;
    }

    window.requestAnimationFrame(ready);
  };

  window.requestAnimationFrame(ready);
}
function isInIframe() {
  try {
    return window.self !== window.top;
  } catch (e) {
    return true;
  }
}
function isHiddenElement(element) {
  if (element.parentElement instanceof Element) {
    var elementStyle = window.getComputedStyle(element.parentElement);

    if ("hidden" === elementStyle.visibility || "0" === elementStyle.opacity || "none" === elementStyle.display) {
      return true;
    }
  }

  return false;
}
function hasClass(element, className) {
  return element.classList ? element.classList.contains(className) : new RegExp("(^| )" + className + "( |$)", "gi").test(element.className);
}
function addVsbInterval(callback, time) {
  var myInterval = setInterval(function () {
    if (plugins_v2_constants.isVisible) {
      clearInterval(myInterval);
      callback();
    }
  }, time);
}
function getWinBidder(response) {
  var max = 0;
  var winkey = 0;
  response.forEach(function (item, index) {
    if (item.cpm > max) {
      max = item.cpm;
      winkey = index;
    }
  });
  return winkey;
}
function getVastXml(bidWon) {
  if (bidWon.vastXml) return bidWon.vastXml;
  if (!bidWon.adResponse) return null;
  if (!bidWon.adResponse.ad) return null;
  if (!bidWon.adResponse.ad.video) return null;
  if (!bidWon.adResponse.ad.video.content) return null;
  return bidWon.adResponse.ad.video.content;
}
function addVsbAction(obj) {
  if (obj.hidden) {
    plugins_v2_constants.visibilChangAction.hidden[obj.divID] = obj.hidden;
  }

  if (obj.watching) {
    plugins_v2_constants.visibilChangAction.watching[obj.divID] = obj.watching;
  }
}
function clearVsbAction(divID) {
  if (plugins_v2_constants.visibilChangAction.hidden[divID]) {
    delete plugins_v2_constants.visibilChangAction.hidden[divID];
  }

  if (plugins_v2_constants.visibilChangAction.watching[divID]) {
    delete plugins_v2_constants.visibilChangAction.watching[divID];
  }
}
function generateUniqueAdID() {
  var max = 999;
  var min = 100;
  var adID = Math.floor(Math.random() * (max - min + 1)) + min;
  ;

  if (plugins_v2_constants.displayAdID.indexOf(adID) !== -1) {
    return generateUniqueAdID();
  }

  plugins_v2_constants.displayAdID.push(adID);
  return adID;
}
function saveBidLog() {
  if (typeof Storage === 'undefined' || getUrlParam("__vlilbg").toUpperCase() == "") {
    return;
  }

  var logdata = localStorage.getItem('bidwon_history');
  var promise = new Promise(function (resolve, reject) {
    ajaxRequest("https://vliplatform.com/bidlog/index.php", "POST", "text", 3000, false, logdata, resolve, reject);
  });
  promise.then(function (e) {
    if (e === "success") localStorage.removeItem("bidwon_history");
  })["catch"](function () {});
}
function logBidData(adType, bidWonData) {
  //log redirect bid
  if (typeof Storage === 'undefined' || getUrlParam("__vlilbg").toUpperCase() == "") {
    return;
  }

  var logdata = localStorage.getItem('bidwon_history');

  if (!logdata) {
    logdata = [];
  } else {
    logdata = JSON.parse(logdata);
  }

  if (logdata.length >= 10) {
    logdata.splice(0, 1);
  }

  var log = {
    "id": utlis_generateUUID(),
    "domain": plugins_v2_constants.domainID,
    "time": new Date().getTime(),
    "adType": adType,
    "bidwon": bidWonData
  };
  logdata.push(log);
  localStorage.setItem('bidwon_history', JSON.stringify(logdata));
}
function isURL(str) {
  var pattern = new RegExp("^(https?:\\/\\/)?" + // protocol
  "((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|" + // domain name
  "((\\d{1,3}\\.){3}\\d{1,3}))" + // OR ip (v4) address
  "(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*" + // port and path
  "(\\?[;&a-z\\d%_.~+=-]*)?" + // query string
  "(\\#[-a-z\\d_]*)?$", "i"); // fragment locator

  return !!pattern.test(str);
}
function blockDangerousReferrer() {
  if (getCookie("_vlirfbbc") == 1) {
    return true;
  }

  var isBlocked = false;
  var referrerBlockList = ["mybesucher.de", "bird-mailer.de"];
  referrerBlockList.forEach(function (item) {
    if (document.referrer && document.referrer.search(item) !== -1) {
      var logData = {
        "domain": plugins_v2_constants.domainName,
        "referrer": document.referrer,
        "page": window.location.href
      };
      ajaxRequest("https://lg.vliplatform.com/lbt/?type=referrerblocked", "POST", "text", 2000, false, JSON.stringify(logData), function () {}, function () {});
      setCookie("_vlirfbbc", 1, 1);
      isBlocked = true;
    }
  });
  return isBlocked;
} // bắt lỗi và log lên hệ thống

function captureError() {
  window.onerror = function (message, url, line, col, error) {
    var string = message.toString().toLowerCase();
    var substring = "script error";

    if (string.indexOf(substring) > -1) {
      return;
    }

    if (url && url.includes(plugins_v2_constants.rootDomain)) {
      saveLog({
        type: "errors_js",
        domain: window.location.hostname
      }, {
        "message": message,
        "url": url,
        "line": line,
        "col": col,
        "url_page": window.location.href,
        "user_agent": navigator.userAgent,
        "error": error.stack
      });
    }
  };
}
function captureException(e, prefix) {
  utlis_vilog(e);
  typeof_default()(prefix) !== undefined && (e.message += " - ".concat(prefix));
  saveLog({
    type: "errors_js",
    domain: window.location.hostname
  }, {
    "message": e.message,
    "url": "main.js",
    "line": e.lineNumber,
    "col": e.columnNumber,
    "url_page": window.location.href,
    "user_agent": navigator.userAgent,
    "error": e.stack
  });
}
function getResponeInvalid(response, floorPrice, viAdType) {
  if (!response) return;

  for (var i = 0; i < response.length; i++) {
    var element = response[i];

    if (element.cpm < floorPrice) {
      response.splice(i, 1);
    }

    element.vliAdType = viAdType;
    element.used = false;
  }

  return response;
}
var _eventListener = {};
var _eventListenerAllowed = ["USER_ACTIVE_ON_PAGE", // Sự kiện người dùng tương tác với trang
"USER_FOCUS_PAGE", // Sự kiện người dùng focus vào trang
"USER_OUT_PAGE", // Sự kiện người dùng blur khỏi trang
// VideoSlider
"VIDEO_SLIDER_USER_CLOSE_AD", // Sự kiện người dùng click tắt quảng cáo videoslider (smartvideo và outstreamslider)
"VIDEO_SLIDER_COUNT_DISPLAY_AD", // Sự kiện đếm lượt hiển thị quảng cáo định dạng videoslider
"VIDEO_SLIDER_REFRESH_ADS", // Sự kiện refresh quảng cáo định dạng videoslider
"VIDEO_SLIDER_REFRESH_ADS_NOBID", // Sự kiện refresh quảng cáo định dạng videoslider khi quảng cáo trước đó
"VIDEO_SLIDER_COMPLETE_ADS", // Sự kiện complete quảng cáo định dạng videoslider
"VIDEO_SLIDER_HIDDEN_ADS", // Sự kiện hidden quảng cáo định dạng videoslider
"VIDEO_SLIDER_ERROR_ADS", // Sự kiện error quảng cáo định dạng videoslider
"VIDEO_SLIDER_ERROR_TRY_CUSTOM_VAST", // Sự kiện erorr quảng cáo định dạng videoslider đối với outstream custom vast
"VIDEO_SLIDER_GET_ADS_MANAGER_SMARTVIDEO", // Lắng nghe sự kiện lấy ra adsmanager của smartvideo
"VIDEO_SLIDER_GET_ADS_MANAGER_OUTSTREAMSLIDER", // Lắng nghe sự kiện lấy ra adsmanager của outstream
"VIDEO_SLIDER_CLEAN_AD_WRAPPER", // Clean ad wapper smartvideo and outstreamslider
"SMARTVIDEO_GET_BID_WIN_PREVIOUS", // lấy ra bid smartvideo win trước đó
"OUTSTREAMSLIDER_GET_BID_WIN_PREVIOUS", // lấy ra bid outstream win trước đó
"VIDEO_SLIDER_SHOW_ADS", // Hiển thị quảng cáo videoslider
"VIDEO_SLIDER_AD_CLICKED", // Khi người dùng nhấp vào quảng cáo video slider
"VIDEO_SLIDER_VIDEO_CLICKED", // event VIDEO_CLICKED on google IMA
"VIDEO_DISCOVERY_AD_CLICKED", // Khi người dùng nhấp vào quảng cáo video discovery
"INCREASE_DISTANCE_BOTTOM_STICKY_VIDEO", // tăng khoảng cách tới bottom của video sticky
"REDUCTION_DISTANCE_BOTTOM_STICKY_VIDEO", // giảm khoảng cách tới bottom của video sticky
"VIDEO_SLIDER_RE_INITIALIZE", // Khởi tạo lại quảng cáo videoslider
"VIDEO_SLIDER_CLEAN_ADS", // Xóa ads video trước đó để khởi tạo lại videoslider mới
// interstitial
"INTERSTITIAL_REDIRECT_LINK_AFTER_REMOVE_AD", // Redirect link when video ads google remove ad
// Instream
"INSTREAM_ENDED_ADS", // hidden Instream ads
"ASSIGN_CONFIG_COMPLETE", // Video Discovery
"VIDEO_DISCOVERY_CLEAN_ADS", "VIDEO_DISCOVERY_RE_INITIALIZE", "VISIBILITY_CHANGE", "INIT_SCRIPT", "ON_BID_WIN", // khi có 1 bid win chuẩn bị được render
"IMPRESSION_VIEW_ABLE", // khi 1 ads có thể xem
"AD_RENDER_EDNED" // khi 1 ads được render vào ad slot
];
function _addEventListener(eventName, eventAction) {
  if (_eventListenerAllowed.indexOf(eventName) === -1) {
    return;
  }

  if (!_eventListener[eventName]) {
    _eventListener[eventName] = [];
  }

  _eventListener[eventName].push(eventAction);
}
;
function _removeEventListener(eventName, eventAction) {
  if (!_eventListener || !_eventListener[eventName]) {
    return;
  }

  _eventListener[eventName].forEach(function (item, index) {
    if (item.name === eventAction.name) {
      _eventListener[eventName].splice(index, 1);
    }
  });
}
function _eventFire(eventName) {
  var args = [];

  for (var i = 0; i < arguments.length; i++) {
    if (i > 0) {
      args.push(arguments[i]);
    }
  }

  try {
    if (_eventListener && _eventListener[eventName]) {
      _eventListener[eventName].forEach(function (_eventAction) {
        _eventAction && _eventAction.apply(null, args);
      });
    }
  } catch (e) {}
}
;
function vsbChange() {
  var hidden, visibilityChange;

  if (typeof document.hidden !== "undefined") {
    hidden = "hidden";
    visibilityChange = "visibilitychange";
  } else if (typeof document.msHidden !== "undefined") {
    hidden = "msHidden";
    visibilityChange = "msvisibilitychange";
  } else if (typeof document.webkitHidden !== "undefined") {
    hidden = "webkitHidden";
    visibilityChange = "webkitvisibilitychange";
  }

  plugins_v2_constants.userTracking.focusPage = document[hidden] ? false : true;
  plugins_v2_constants.isVisible = document[hidden] ? false : true;

  if (typeof document.addEventListener !== "undefined" && hidden !== undefined) {
    document.addEventListener(visibilityChange, function () {
      if (document[hidden]) {
        for (var key in plugins_v2_constants.visibilChangAction.hidden) {
          plugins_v2_constants.visibilChangAction.hidden[key]();
        }

        plugins_v2_constants.isVisible = false;

        _eventFire("VISIBILITY_CHANGE");

        if (plugins_v2_constants.userTracking.focusPage) {
          _eventFire("USER_OUT_PAGE");

          plugins_v2_constants.userTracking.focusPage = false;
        }
      } else {
        for (var key in plugins_v2_constants.visibilChangAction.watching) {
          plugins_v2_constants.visibilChangAction.watching[key]();
        }

        plugins_v2_constants.isVisible = true;

        _eventFire("VISIBILITY_CHANGE");

        if (!plugins_v2_constants.userTracking.focusPage) {
          plugins_v2_constants.userTracking.focusPage = true;

          _eventFire("USER_FOCUS_PAGE");
        }
      }

      utlis_vilog("[Utils] vsbChange - Constants.isVisible is :");
      utlis_vilog(plugins_v2_constants.isVisible);
    }, false);
  }

  var eventFocusPage = function eventFocusPage() {
    if (!plugins_v2_constants.userTracking.focusPage) {
      plugins_v2_constants.userTracking.focusPage = true;

      _eventFire("USER_FOCUS_PAGE");
    }
  };

  var eventBlurPage = function eventBlurPage() {
    if (!document.hasFocus()) {
      if (plugins_v2_constants.userTracking.focusPage) {
        plugins_v2_constants.userTracking.focusPage = false;

        _eventFire("USER_OUT_PAGE");
      }
    }
  };

  window.addEventListener('blur', eventBlurPage);
  window.addEventListener('focus', eventFocusPage);
}
function userTracking() {
  if (getCookie("__viCookieActive") == "true") {
    plugins_v2_constants.userTracking.userActive = true;
    return;
  }

  var trackingActiveUser = function trackingActiveUser() {
    plugins_v2_constants.userTracking.userActive = true;
    setCookie("__viCookieActive", true, 1 / 24 / 60 * 30);
    window.removeEventListener("scroll", trackingActiveUser);
    document.body.removeEventListener("click", trackingActiveUser);

    _eventFire("USER_ACTIVE_ON_PAGE");
  };

  if (document.body) {
    document.body.addEventListener("click", trackingActiveUser);
  }

  if (window) {
    window.addEventListener("scroll", trackingActiveUser);
  }
}
function isObjectEmpty(mObject) {
  if (typeof_default()(mObject) != 'object' || !mObject) {
    return false;
  }

  if (JSON.stringify(mObject) === '{}' || JSON.stringify(mObject) === '[]') {
    return true;
  }

  return false;
}

function searchForArray(haystack, needle) {
  var i, j, current;

  for (i = 0; i < haystack.length; ++i) {
    if (needle.length === haystack[i].length) {
      current = haystack[i];

      for (j = 0; j < needle.length && needle[j] === current[j]; ++j) {
        ;
      }

      if (j === needle.length) return i;
    }
  }

  return -1;
}

function amazonUAMSizeFilter(sizes) {
  var result = [];
  var allowSizes = [[120, 600], [160, 600], [250, 250], [300, 50], [300, 75], [300, 250], [300, 600], [320, 50], [320, 100], [336, 280], [728, 90], [970, 250]];

  for (var i = 0; i < sizes.length; i++) {
    if (searchForArray(allowSizes, sizes[i]) !== -1) {
      result.push(sizes[i]);
    }
  }

  return result;
}
var numberOfVideoRefresh = 0; // no refresh bidder rubicon

function noRefreshRubicon(mediaType) {
  if (mediaType === "video") {
    numberOfVideoRefresh++;
  }

  vlipb.adUnits.forEach(function (item, index) {
    if (item.mediaTypes[mediaType]) {
      var bids = item.bids;
      var newbids = [];

      if (mediaType === "banner") {
        for (var i = 0; i < bids.length; i++) {
          var bid = bids[i];

          if (bid.bidder === "rubicon" || bid.bidder === "oneVideo") {
            if (plugins_v2_constants.adloadType === "lazy_load" && plugins_v2_constants.reloadMode === 'signal') {
              newbids.push(bid);
            }
          } else {
            newbids.push(bid);
          }
        }
      }

      if (mediaType === "video") {
        for (var i = 0; i < bids.length; i++) {
          var bid = bids[i];

          if (bid.bidder === "rubicon" || bid.bidder === "oneVideo") {
            if (numberOfVideoRefresh <= 5) {
              newbids.push(bid);
            }
          } else {
            newbids.push(bid);
          }
        }
      }

      vlipb.adUnits[index].bids = newbids;
    }
  });
}
function isObjEmpty(obj) {
  for (var prop in obj) {
    if (obj.hasOwnProperty(prop)) {
      return false;
    }
  }

  return JSON.stringify(obj) === JSON.stringify({});
}
function setJsTypeRequest(jsType) {
  // Set type request mode Ad
  if (jsType === "") {
    console.log("jsType is Empty");
    return;
  }

  var _listJsType = ["dfp", "postbid_dfp", "postbid"];

  if (!_listJsType.includes(jsType)) {
    console.log("jsType undefined");
    return;
  }

  plugins_v2_constants.bannerRequestMode = plugins_v2_constants.videoRequestMode = jsType;
  setCookie("__viReqMode", jsType, 1);
  console.log("Request to switch to mode: " + jsType);
}
var toogle = null;
function showDebugAd() {
  // Bật debug quảng cáo
  if (toogle === null) {
    toogle = plugins_v2_constants.DebugParam ? true : false;
  }

  toogle = !toogle;
  var wrapperAds = document.getElementsByClassName(plugins_v2_constants.adClass);

  if (wrapperAds != null) {
    Array.from(wrapperAds).forEach(function (item) {
      var adID = item.getAttribute("data-id");

      if (adID == null) {
        adID = item.getAttribute("data-ob-slot"); // outstream-banner
      }

      if (adID == null) {
        adID = item.getAttribute("data-ad-slot"); // instream
      }

      if (adID == null) {
        adID = item.getAttribute("id");
      }

      var iframe = document.getElementById('debug_' + adID);

      if (iframe != null) {
        if (toogle === true) {
          iframe.style.setProperty("display", "block", "important");
          iframe.style.setProperty("opacity", "1", "important");
        }

        if (toogle === false) {
          iframe.style.setProperty("display", "none", "important");
          iframe.style.setProperty("opacity", "0", "important");
        }
      }
    });
  }

  var wrapperSM = document.getElementById("vi-smartbanner"); //  Smartbanner

  if (wrapperSM != null) {
    var adSMID = wrapperSM.getAttribute("data-id");
    var iframeSm = document.getElementById('debug_' + adSMID);

    if (iframeSm != null) {
      if (toogle === true) {
        iframeSm.style.setProperty("display", "block", "important");
        iframeSm.style.setProperty("opacity", "1", "important");
      }

      if (toogle === false) {
        iframeSm.style.setProperty("display", "none", "important");
        iframeSm.style.setProperty("opacity", "0", "important");
      }
    }
  }
}
function auditFormatSlider() {
  var findSlotSlider = function findSlotSlider() {
    if (plugins_v2_constants.outstreamSlot) {
      for (var key in plugins_v2_constants.outstreamSlot) {
        if (plugins_v2_constants.outstreamSlot[key].type === "slider") {
          return true;
        }
      }
    }

    return false;
  };

  var issetSlider = false;

  if ((typeof window[plugins_v2_constants.tagName].outStreamConfig.enablePC == "undefined" || window[plugins_v2_constants.tagName].outStreamConfig.enablePC == true) && !mobileDetect()) {
    issetSlider = findSlotSlider();
  }

  if ((typeof window[plugins_v2_constants.tagName].outStreamConfig.enableMobile == "undefined" || window[plugins_v2_constants.tagName].outStreamConfig.enableMobile == true) && mobileDetect()) {
    issetSlider = findSlotSlider();
  }

  return issetSlider;
}
function auditFormatVideoDiscovery() {
  utlis_vilog("[Utils] ================");
  var issetDiscover = false;

  if (!plugins_v2_constants.instreamSlot) {
    return false;
  }

  var adElements = document.getElementsByClassName(plugins_v2_constants.adClass);

  if (adElements.length == 0) {
    return false;
  }

  ;
  var discoverySlot = null;

  for (var i = 0; i < adElements.length; i++) {
    var adElement = adElements[i];
    var slotAd = adElement.getAttribute('data-ad-slot');

    if (slotAd && plugins_v2_constants.instreamSlot[slotAd] && plugins_v2_constants.instreamSlot[slotAd].type === "inbanner") {
      discoverySlot = plugins_v2_constants.instreamSlot[slotAd];
      break;
    }
  }

  if (discoverySlot) {
    issetDiscover = true;

    if (discoverySlot.display_type === "banner") {
      // video discovery display bannner
      issetDiscover = false;
      return issetDiscover;
    }

    if (window[plugins_v2_constants.tagName].videoDiscoverConfig) {
      if (window[plugins_v2_constants.tagName].videoDiscoverConfig.noFixedVideo === true && window[plugins_v2_constants.tagName].videoDiscoverConfig.alwayDisplayAd === false) {
        // video discovery no fixed
        issetDiscover = false;
      }

      if (mobileDetect() && window[plugins_v2_constants.tagName].videoDiscoverConfig.fixedOnMobile === false) {
        // video discovery no fixed mobile
        issetDiscover = false;
      }
    }
  }

  return issetDiscover;
}
function getBidsForAdUnit(size) {
  var bids = plugins_v2_constants.displayBids[size] ? plugins_v2_constants.displayBids[size] : false;
  if (!bids) return [];
  var biditem = [];

  for (var i = 0; i < bids.length; i++) {
    if (bids[i].used === false && bids[i].bids) {
      biditem = bids[i].bids;
      bids[i].used = true;
      break;
    }
  }

  if (biditem.length === 0 && bids[0].bids) {
    biditem = bids[0].bids;
  }

  return biditem;
}
function mediaTypesAdFormatVideo(adFormat, _size) {
  if (!adFormat) return;

  if (!_size) {
    switch (adFormat) {
      case "instream":
      case "instreamExt":
      case "outstreamExt":
      case "videodiscovery":
      case "videodiscoveryExt":
        _size = [640, 480];
        break;

      case "outstream":
        _size = [410, 231];
        break;
    }
  }

  utlis_vilog("[Utils]=========");
  utlis_vilog(_size);

  if (adFormat == "instream") {
    // định dạng instream gốc - playbackmethod - 3: phát tiếng
    return {
      "video": {
        "api": [2],
        "context": "instream",
        "placement": 1,
        "linearity": 1,
        "minduration": 1,
        "maxduration": 120,
        "mimes": ["video/mp4", "video/x-flv", "video/x-ms-wmv", "application/vnd.apple.mpegurl", "application/x-mpegurl", "video/3gpp", "video/mpeg", "video/ogg", "video/quicktime", "video/webm", "video/x-m4v", "video/ms-asf", "video/x-msvideo"],
        "playbackmethod": [3],
        "playerSize": _size,
        "startdelay": 0,
        "protocols": [1, 2, 3, 4, 5, 6]
      }
    };
  }

  if (adFormat == "instreamExt") {
    return {
      "video": {
        "api": [2],
        "context": "outstream",
        "placement": 5,
        "linearity": 1,
        "minduration": 1,
        "maxduration": 120,
        "mimes": ["video/mp4", "video/x-flv", "video/x-ms-wmv", "application/vnd.apple.mpegurl", "application/x-mpegurl", "video/3gpp", "video/mpeg", "video/ogg", "video/quicktime", "video/webm", "video/x-m4v", "video/ms-asf", "video/x-msvideo"],
        "playbackmethod": [3],
        "playerSize": _size,
        "startdelay": 0,
        "protocols": [1, 2, 3, 4, 5, 6]
      }
    };
  }

  if (adFormat == "outstreamExt") {
    // định dạng instream danh cho outsream Ext (SmartVideo) - playbackmethod - 6: tắt tiếng
    return {
      "video": {
        "api": [2],
        "context": "instream",
        "placement": 1,
        "linearity": 1,
        "minduration": 1,
        "maxduration": 120,
        "mimes": ["video/mp4", "video/x-flv", "video/x-ms-wmv", "application/vnd.apple.mpegurl", "application/x-mpegurl", "video/3gpp", "video/mpeg", "video/ogg", "video/quicktime", "video/webm", "video/x-m4v", "video/ms-asf", "video/x-msvideo"],
        "playbackmethod": [6],
        "playerSize": _size,
        "startdelay": 0,
        "protocols": [1, 2, 3, 4, 5, 6]
      }
    };
  }

  if (adFormat == "outstream") {
    // định dạng outstream gốc - playbackmethod - 6: tắt tiếng
    return {
      "video": {
        "api": [2],
        "context": "outstream",
        "placement": 5,
        "linearity": 1,
        "minduration": 1,
        "maxduration": 120,
        "mimes": ["video/mp4", "video/x-flv", "video/x-ms-wmv", "application/vnd.apple.mpegurl", "application/x-mpegurl", "video/3gpp", "video/mpeg", "video/ogg", "video/quicktime", "video/webm", "video/x-m4v", "video/ms-asf", "video/x-msvideo"],
        "playbackmethod": [6],
        "playerSize": _size,
        "startdelay": 0,
        "protocols": [1, 2, 3, 4, 5, 6]
      }
    };
  }

  if (adFormat == "videodiscovery") {
    // định dạng instream dành cho videodiscovery - playbackmethod - 6: tắt tiếng
    return {
      "video": {
        "api": [2],
        "context": "instream",
        "placement": 1,
        "linearity": 1,
        "minduration": 1,
        "maxduration": 120,
        "mimes": ["video/mp4", "video/x-flv", "video/x-ms-wmv", "application/vnd.apple.mpegurl", "application/x-mpegurl", "video/3gpp", "video/mpeg", "video/ogg", "video/quicktime", "video/webm", "video/x-m4v", "video/ms-asf", "video/x-msvideo"],
        "playbackmethod": [6],
        "playerSize": _size,
        "startdelay": 0,
        "protocols": [1, 2, 3, 4, 5, 6]
      }
    };
  }

  if (adFormat == "videodiscoveryExt") {
    // định dạng outstream dành cho videodiscovery Ext - playbackmethod - 6: tắt tiếng
    return {
      "video": {
        "api": [2],
        "context": "outstream",
        "placement": 2,
        "linearity": 1,
        "minduration": 1,
        "maxduration": 120,
        "mimes": ["video/mp4", "video/x-flv", "video/x-ms-wmv", "application/vnd.apple.mpegurl", "application/x-mpegurl", "video/3gpp", "video/mpeg", "video/ogg", "video/quicktime", "video/webm", "video/x-m4v", "video/ms-asf", "video/x-msvideo"],
        "playbackmethod": [6],
        "playerSize": _size,
        "startdelay": 0,
        "protocols": [1, 2, 3, 4, 5, 6]
      }
    };
  }

  return;
}
function calculatorFrequencyClickAds() {
  var data = {};
  var cookie = getCookie("vi-frequency-click-ads");

  if (cookie) {
    data = JSON.parse(cookie);
  }

  if (data && !isObjectEmpty(data)) {
    var curent = new Date().getTime();
    var count = data.count;
    var click = data.click;
    var start = data.start;
    var offset = Math.round((curent - start) / 1000);
    utlis_vilog(curent);
    utlis_vilog(start);
    utlis_vilog(offset);
    utlis_vilog(click);

    if (!data.total_click) {
      data.total_click = 1;
    }

    if (offset < 864000) {
      // 10 ngày
      data.total_click += 1;

      if (data.click >= 2) {
        var dataSend = {
          "click": click + 1,
          "start": start,
          "count": count,
          "offset": offset,
          "url_page": window.location.href,
          "user_agent": navigator.userAgent
        };

        if (count == 1) {
          data.count = 2;
          data.click = 1;
          data.start = new Date().getTime();

          if (getCookie("__viReqMode") != "postbid" || plugins_v2_constants.videoRequestMode != "postbid") {
            setCookie("__viReqMode", "postbid", 1); // 1 ngày chẵn
          }

          plugins_v2_constants.videoRequestMode = plugins_v2_constants.bannerRequestMode = "postbid";
          utlis_vilog("Site will run request Postbid is one day"); //

          dataSend.term = "temporary";
          utlis_vilog(dataSend);
        }

        if (count == 2) {
          if (getCookie("__viReqMode") && getCookie("__viReqMode") != "postbid" || plugins_v2_constants.videoRequestMode != "postbid") {
            setCookie("__viReqMode", "postbid", 364635); // 999 năm chẵn
          }

          plugins_v2_constants.videoRequestMode = plugins_v2_constants.bannerRequestMode = "postbid";
          utlis_vilog("Site will run request Postbid is 999 year"); //

          dataSend.term = "forever";
          utlis_vilog(dataSend);
        }

        dataSend.total_click = data.total_click;
        saveLog({
          type: "block_js",
          domain: plugins_v2_constants.domainName
        }, dataSend);
      } else {
        data.click = click + 1;
        data.start = start;
      }
    } else {
      data.total_click = 1;
      data.count = 1;
      data.click = 1;
      data.start = new Date().getTime();
    }
  } else {
    data = {
      total_click: 1,
      click: 1,
      count: 1,
      start: new Date().getTime()
    };
  }

  utlis_vilog("New Data");
  utlis_vilog(data);
  setCookie("vi-frequency-click-ads", JSON.stringify(data), 1 / 24 / 60 * 4);
}
function isObject(item) {
  item = typeof item !== "string" ? JSON.stringify(item) : item;

  try {
    item = JSON.parse(item);
  } catch (e) {
    return false;
  }

  if (typeof_default()(item) === "object" && item !== null) {
    return true;
  }

  return false;
}
function handlerReport(response) {
  if (response.origin.includes(window.location.hostname) && response.isObserver == true) {
    if (!response.data || !isObject(response.data)) {
      utlis_vilog("[reportingObserver] response not conform");
      return;
    }

    if (typeof response.data === "string") {
      var data = JSON.parse(response.data);
    } else {
      var data = response.data;
    }

    if (data) {
      var vli_data = data.vli_ad;

      if (typeof vli_data == "undefined" || !vli_data) {
        return;
      }

      if (typeof vli_data.type != "undefined" && vli_data.type == "intervention") {
        if (vli_data.body && vli_data.body.id == "HeavyAdIntervention") {
          utlis_vilog(data.adFormat);

          switch (data.adFormat) {
            case "Smartvideo":
            case "Outstream":
              if (data.creativeId && data.creativeId != "" && data.creativeId != "vi-video-preview") {
                utlis_vilog(data.creativeId);
                blockCreativeIds(data.creativeId, 10);
              }

              utlis_vilog("[Utils] Init VideoSlider HeavyAdIntervention");

              _eventFire("VIDEO_SLIDER_CLEAN_ADS");

              _eventFire("VIDEO_SLIDER_RE_INITIALIZE");

              break;

            case "Interstitial":
              if (data.creativeId && data.creativeId != "" && data.creativeId != "vi-video-preview") {
                utlis_vilog(data.creativeId);
                blockCreativeIds(data.creativeId, 10);
              }

              utlis_vilog("[Utils] Redirect link in Video Intertitial HeavyAdIntervention");

              _eventFire("INTERSTITIAL_REDIRECT_LINK_AFTER_REMOVE_AD");

              break;

            case "VideoDiscovery":
              if (data.creativeId && data.creativeId != "" && data.creativeId != "vi-video-preview") {
                utlis_vilog(data.creativeId);
                blockCreativeIds(data.creativeId, 10);
              }

              utlis_vilog("[Utils] Init VideoDiscovery HeavyAdIntervention");

              _eventFire("VIDEO_DISCOVERY_CLEAN_ADS");

              _eventFire("VIDEO_DISCOVERY_RE_INITIALIZE");

              break;

            default:
              break;
          }
        }
      }
    }
  }
}
function blockCreativeIds(creativeId) {
  var blockTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;
  var crBlock = JSON.parse(getCookie("__viCrBlock") ? getCookie("__viCrBlock") : "{}");
  utlis_vilog(crBlock);

  if (Object.values(crBlock).indexOf(creativeId) < 0) {
    crBlock[creativeId] = creativeId + "";
    setCookie("__viCrBlock", JSON.stringify(crBlock), blockTime);
    plugins_v2_constants.blockCreatives.push(creativeId);
  }

  utlis_vilog(plugins_v2_constants.blockCreatives);
}
function reportingObserver(iframeAd, adData) {
  // Theo dõi sự kiện can thiệp của google chrome tới quảng cáo
  var _browser = Object(help["c" /* browserSniff */])();

  utlis_vilog("Detect Browser User =====");
  utlis_vilog(_browser[0]);

  if (_browser && ['IE', 'Firefox', 'Safari'].includes(_browser[0])) {
    return;
  }

  try {
    var script = "\n        async function sendReports(reports) {\n            if(reports.length > 0){\n                for (let report of reports) {\n                    var viData = {\n                        'vli_ad': report,\n                        'creativeId' : '" + adData.creativeId + "',\n                        'adFormat' : '" + adData.adFormat + "',\n                    };";
    var wParent = "window.parent.postMessage(JSON.stringify(viData), window.location.origin);";

    if (adData.adFormat === "VideoDiscovery" || adData.adFormat === "TopArticles" || adData.adFormat === "Instream") {
      wParent = "window.parent.window.parent.postMessage(JSON.stringify(viData), window.location.origin);";
    }

    script += wParent;
    script += "observer.takeRecords();\n                }\n            }\n        }";
    script += "var observer = new ReportingObserver((reports, observer) => {\n            sendReports(reports);\n        }, {types: ['intervention'], buffered: true});\n        observer.observe();";

    try {
      var preview = iframeAd.contentDocument || iframeAd.contentWindow.document;
      var scriptTag = preview.createElement("script");
      scriptTag.innerHTML = script;
      preview.body.appendChild(scriptTag);
    } catch (error) {}
  } catch (error) {
    captureException(error, "[Utils - reportingObserver]");
  }
}
function formatQS(query) {
  return Object.keys(query).map(function (k) {
    return Array.isArray(query[k]) ? query[k].map(function (v) {
      return "".concat(k, "[]=").concat(v);
    }).join('&') : "".concat(k, "=").concat(query[k]);
  }).join('&');
}
function buildUrl(obj) {
  return (obj.protocol || 'http') + '://' + (obj.host || obj.hostname + (obj.port ? ":".concat(obj.port) : '')) + (obj.pathname || '') + (obj.search ? "?".concat(formatQS(obj.search || '')) : '') + (obj.hash ? "#".concat(obj.hash) : '');
}
/**
 * Parse a GPT-Style general size Array like `[[300, 250]]` or `"300x250,970x90"` into an array of sizes `["300x250"]` or '['300x250', '970x90']'
 * @param  {(Array.<number[]>|Array.<number>)} sizeObj Input array or double array [300,250] or [[300,250], [728,90]]
 * @return {Array.<string>}  Array of strings like `["300x250"]` or `["300x250", "728x90"]`
 */

function parseSizesInput(sizeObj) {
  var parsedSizes = []; // if a string for now we can assume it is a single size, like "300x250"

  if (typeof sizeObj === 'string') {
    // multiple sizes will be comma-separated
    var sizes = sizeObj.split(','); // regular expression to match strigns like 300x250
    // start of line, at least 1 number, an "x" , then at least 1 number, and the then end of the line

    var sizeRegex = /^(\d)+x(\d)+$/i;

    if (sizes) {
      for (var curSizePos in sizes) {
        if (hasOwn(sizes, curSizePos) && sizes[curSizePos].match(sizeRegex)) {
          parsedSizes.push(sizes[curSizePos]);
        }
      }
    }
  } else if (typeof_default()(sizeObj) === 'object') {
    var sizeArrayLength = sizeObj.length; // don't process empty array

    if (sizeArrayLength > 0) {
      // if we are a 2 item array of 2 numbers, we must be a SingleSize array
      if (sizeArrayLength === 2 && typeof sizeObj[0] === 'number' && typeof sizeObj[1] === 'number') {
        parsedSizes.push(parseGPTSingleSizeArray(sizeObj));
      } else {
        // otherwise, we must be a MultiSize array
        for (var i = 0; i < sizeArrayLength; i++) {
          parsedSizes.push(parseGPTSingleSizeArray(sizeObj[i]));
        }
      }
    }
  }

  return parsedSizes;
} // Parse a GPT style single size array, (i.e [300, 250])
// into an AppNexus style string, (i.e. 300x250)


function parseGPTSingleSizeArray(singleSize) {
  if (isValidGPTSingleSize(singleSize)) {
    return singleSize[0] + 'x' + singleSize[1];
  }
}

function isArray(object) {
  return isA(object, "Array");
}

function isValidGPTSingleSize(singleSize) {
  // if we aren't exactly 2 items in this array, it is invalid
  return isArray(singleSize) && singleSize.length === 2 && !isNaN(singleSize[0]) && !isNaN(singleSize[1]);
}

function isA(object, _t) {
  return toString.call(object) === '[object ' + _t + ']';
}

function buildVastUrl(params, customParams) {
  var defaultVastParams = {
    env: "vp",
    gdfp_req: 1,
    unviewed_position_start: 1,
    correlator: Date.now(),
    sz: "640x480",
    url: encodeURIComponent(window.location.href),
    description_url: encodeURIComponent(window.location.href),
    output: "vast",
    iu: "",
    cust_params: ""
  };
  var queryParams = {};

  if (typeof_default()(params) === "object") {
    queryParams = Object.assign(defaultVastParams, params);
  }

  if (typeof_default()(customParams) === "object") {
    queryParams.cust_params = encodeURIComponent(formatQS(customParams));
  }

  return buildUrl({
    protocol: 'https',
    host: 'securepubads.g.doubleclick.net',
    pathname: '/gampad/ads',
    search: queryParams
  });
}

function buildDfpVideoUrl(options) {
  if (!options.params || !options.adUnit) {
    utlis_vilog("[buildDfpVideoUrl] options.params and options.adUnit is required");
    return;
  }

  var params = options.params || {};
  var customParams = options.customParams || {};

  try {
    params.sz = parseSizesInput(options.adUnit.mediaTypes.video.playerSize).join('|');
  } catch (e) {
    utlis_vilog("[buildDfpVideoUrl] parseSizesInput(options.adUnit.mediaTypes.video.playerSize).join('|') fail");
    utlis_vilog(e);
  }

  try {
    if (options.bidWon && options.bidWon.size === "410x231" && options.bidWon.mediaType === "video") {
      params.sz = "400x300";
    }
  } catch (error) {
    utlis_vilog("[buildDfpVideoUrl] define size outstream fail");
    captureException(error);
  }

  if (options.bidWon) {
    try {
      var prebidTargetingSet = Object.assign({}, // Why are we adding standard keys here ? Refer https://github.com/prebid/Prebid.js/issues/3664
      {
        hb_uuid: options.bidWon && options.bidWon.videoCacheKey
      }, // hb_uuid will be deprecated and replaced by hb_cache_id
      {
        hb_cache_id: options.bidWon && options.bidWon.videoCacheKey
      }, options.bidWon.adserverTargeting);
      customParams = Object.assign(prebidTargetingSet, customParams);
    } catch (e) {}
  }

  return buildVastUrl(params, customParams);
}
function isStr(object) {
  return isA(object, "String");
}
function isEmpty(object) {
  if (!object) return true;

  if (isArray(object) || isStr(object)) {
    return !(object.length > 0);
  }

  for (var k in object) {
    if (hasOwnProperty.call(object, k)) return false;
  }

  return true;
}

function dfpCpmCal(bidResponseCpm, googleRate) {
  return googleRate > 0 && googleRate <= 1 ? bidResponseCpm / googleRate : bidResponseCpm;
}

function getSizeCustomHBSize(bid) {
  if (!bid) {
    return;
  }

  var hbSize = bid.size;

  if (bid.size === "410x231" && bid.mediaType === "video") {
    hbSize = "400x300";
  }

  return hbSize;
}
function utlis_getCustomHBPB(mediaType, realCPM) {
  var granularityMultiplier = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
  var targetingCpm = realCPM;

  try {
    if (plugins_v2_constants.targetGoogleAccByAdFormat[mediaType].rate) {
      targetingCpm = dfpCpmCal(realCPM, plugins_v2_constants.targetGoogleAccByAdFormat[mediaType].rate);
    }
  } catch (e) {
    captureException(e);
  }

  var mediaTypePriceGranularity = {};

  if (mediaType === "video") {
    mediaTypePriceGranularity = plugins_v2_constants.videoPriceGranularity;
  } else {
    mediaTypePriceGranularity = plugins_v2_constants.bannerPriceGranularity;
  }

  var priceStringsObj = getPriceBucketString(targetingCpm, mediaTypePriceGranularity, granularityMultiplier);
  var customHbPb = priceStringsObj.custom ? priceStringsObj.custom : priceStringsObj.dense;

  if (mediaType === "video" && targetingCpm > 110.00) {
    customHbPb = "110.00";
  }

  if (mediaType !== "video" && targetingCpm > 22.50) {
    customHbPb = "22.50";
  } // vilog("====================================");
  // vilog(priceStringsObj);
  // vilog("Google Rate: " + Constants.targetGoogleAccByAdFormat[mediaType].rate);
  // vilog("Real Cpm: " + realCPM);
  // vilog("Targeting Cpm: " + targetingCpm);
  // vilog("Custom HbPb: " + customHbPb);
  // vilog("====================================");


  return customHbPb;
}
function getStatsActiveAd() {
  if (getCookie("__vi_vignette") == 1) {
    return true;
  }

  return false;
}
function sendReportOfUsers(biWon, obj) {
  if (biWon && biWon.mediaType === "native") {
    var objCnt = {
      "address": biWon["native"].address ? biWon["native"].address : "",
      "image": biWon["native"].image.url ? biWon["native"].image.url : "",
      "body": biWon["native"].body ? biWon["native"].body : "",
      "body2": biWon["native"].body2 ? biWon["native"].body2 : "",
      "clickUrl": biWon["native"].clickUrl ? biWon["native"].clickUrl : "",
      "cta": biWon["native"].cta ? biWon["native"].cta : "",
      "displayUrl": biWon["native"].displayUrl ? biWon["native"].displayUrl : "",
      "downloads": biWon["native"].downloads ? biWon["native"].downloads : "",
      "javascriptTrackers": biWon["native"].javascriptTrackers ? biWon["native"].javascriptTrackers : "",
      "likes": biWon["native"].likes ? biWon["native"].likes : "",
      "phone": biWon["native"].phone ? biWon["native"].phone : "",
      "price": biWon["native"].price ? biWon["native"].price : "",
      "privacyIcon": biWon["native"].privacyIcon ? biWon["native"].privacyIcon : "",
      "privacyLink": biWon["native"].privacyLink ? biWon["native"].privacyLink : "",
      "rating": biWon["native"].rating ? biWon["native"].rating : "",
      "salePrice": biWon["native"].salePrice ? biWon["native"].salePrice : "",
      "sponsoredBy": biWon["native"].sponsoredBy ? biWon["native"].sponsoredBy : "",
      "title": biWon["native"].title ? biWon["native"].title : ""
    };
    var adCnt = JSON.stringify(objCnt);
    biWon.ad = adCnt;
  }

  if (biWon && biWon.mediaType === "video") {
    if (biWon && biWon.vastXml) {
      biWon.ad = biWon.vastXml;
    }
  }

  utlis_vilog(biWon);
  var data = {
    "adslotId": obj.adslotId ? obj.adslotId : "",
    "domainId": plugins_v2_constants.domainID,
    "creativeId": biWon ? biWon.creativeId : "unknown creativeId",
    "adType": obj.adFormat ? obj.adFormat : biWon ? biWon.mediaType : "",
    "url": window.location.href,
    "demand": biWon ? biWon.bidder : "",
    "geoIP": plugins_v2_constants.VIGeo,
    "adContent": biWon ? biWon.ad : "",
    "reason": obj.reason ? obj.reason : "",
    "ua": navigator.userAgent
  };
  utlis_vilog(data);

  if (window.location.hostname != "jstag.local") {
    if (biWon.creativeId) {
      ajaxRequest("https://ur.vlitag.com/stats", "POST", "text", 2000, false, JSON.stringify(data), function () {}, function () {});
      blockCreativeIds(biWon.creativeId, 10);
    }
  }
}
function userLocation() {
  utlis_vilog("[Utils] userLocation ==================");

  if (plugins_v2_constants.domainID === 6 || plugins_v2_constants.domainID === 12699 || plugins_v2_constants.domainID === 11209) {
    // freegames66.com && maps123.net && hocdot.com
    window[plugins_v2_constants.tagName].enableGeoLocation = true;
  }

  if (window[plugins_v2_constants.tagName].enableGeoLocation === false) {
    return;
  }

  try {
    navigator.geolocation.getCurrentPosition(function (success) {
      utlis_vilog("[Utils] Allowed Geolocation ==========");
      var crd = success.coords;

      if (crd) {
        var objGeo = {
          lat: crd.latitude,
          lon: crd.longitude,
          accuracy: crd.accuracy,
          timestamp: new Date().getTime(),
          utcoffset: new Date().getTimezoneOffset()
        };
        plugins_v2_constants.GEOLocation = objGeo;
      }

      utlis_vilog(plugins_v2_constants.GEOLocation);
      addGEOLocationParamsToPrebid();
    }, function (failure) {
      if (failure.message.startsWith("Only secure origins are allowed")) {
        utlis_vilog("[Utils] Geolocation API Removed from Unsecured Origins");
      }
    }, {
      enableHighAccuracy: true
    });
  } catch (e) {}
}
function validateEmail(email) {
  var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(String(email).toLowerCase());
}
function sendEventPubLink(eString) {
  if (!eString || eString === "") {
    utlis_vilog("[Utils] Email conversant not Found");
    return;
  }

  ;

  if (plugins_v2_constants.convSiteID === 0 || plugins_v2_constants.convLID === 0) {
    utlis_vilog("[Utils] ID conversant not found");
    return;
  }

  ;
  var objSend = null;

  if (validateEmail(eString)) {
    objSend = {
      siteId: plugins_v2_constants.convSiteID,
      email: eString.toString()
    };
  } else {
    objSend = {
      siteId: plugins_v2_constants.convSiteID,
      emailHashes: [eString.toString()]
    };
  }

  utlis_vilog(objSend);

  try {
    window.conversant.launch('publink', 'start', objSend);
  } catch (error) {
    utlis_vilog(error);
  }

  return;
}
function buildCustomAdId(UUID) {
  return "customAd_" + UUID;
}
function getIframeDoc(iframe) {
  var iframeDoc = iframe.contentWindow || iframe.contentDocument;
  if (iframeDoc.document) iframeDoc = iframeDoc.document;
  return iframeDoc;
}
function cloneDefaultConfig(dataObject) {
  for (var key in dataObject) {
    if (Object.hasOwnProperty.call(dataObject, key)) {
      var element = dataObject[key];
      var clone = JSON.parse(JSON.stringify(element));
      plugins_v2_constants.baseConstants[key] = clone;
    }
  }
}
function initSafeFrameRender(callback) {
  if (plugins_v2_constants.safeFrame !== 'on') return;
  var pub = window["$sf"] && window["$sf"].host,
      Config = pub && window["$sf"].host.Config;
  var conf, confDesc;

  if (Config) {
    conf = Config();
    confDesc = {
      renderFile: '//' + plugins_v2_constants.staticDomain + '/plugins/safeframe/src/html/r.html',
      onEndPosRender: function onEndPosRender(id) {
        utlis_vilog("Safe Iframe =========" + id);
        id = id.replace("vli_sf_", "");
        callback(id);
      },
      positions: {}
    };
    conf = new Config(confDesc);
  }
}
function getDisplayAdCode(slot) {
  var adslots = document.getElementsByClassName(plugins_v2_constants.adClass);
  if (adslots.length == 0) return null;
  var displayAdUnitCodes = [];

  for (var i = 0; i < adslots.length; i++) {
    var s = adslots[i].getAttribute("data-ad-slot");
    if (slot !== undefined && s != slot) continue;

    if (plugins_v2_constants.displaySlot && plugins_v2_constants.displaySlot[s] && adslots[i].dataset.id) {
      if (adslots[i].offsetParent === null) continue;
      displayAdUnitCodes.push(adslots[i].dataset.id);
    }
  }

  return displayAdUnitCodes.length == 0 ? null : displayAdUnitCodes;
}
function iframeSupportExtension() {
  var allIframe = document.getElementsByTagName('iframe');

  for (var index = 0; index < allIframe.length; index++) {
    var element = allIframe[index];
    element.setAttribute("data-ex-slot-check", "iframe_ex_slot_" + (index + 1));
  }
}
function saveInfoSlots(param) {
  try {
    var nameSaveInfo = 'vi_SaveInfoSlots';
    var typeInfo = getInfoSlots();
    var saveInfo = sessionStorage.getItem(nameSaveInfo);

    if (saveInfo === null) {
      saveInfo = {};
    } else {
      saveInfo = JSON.parse(saveInfo);
    }

    if (!saveInfo[typeInfo]) {
      saveInfo[typeInfo] = [];
    }

    saveInfo[typeInfo].push(param);
    sessionStorage.setItem(nameSaveInfo, JSON.stringify(saveInfo));
  } catch (error) {
    console.log(error);
  }
}
function getInfoSlots() {
  var typeInfo = 'root';

  if (isInIframe()) {
    if (window.self.frameElement) {
      typeInfo = 'iframe_' + window.self.frameElement.getAttribute("data-ex-slot-check");
    }
  }

  return typeInfo;
}
function getPrimarySizes(sizes) {
  var maxWith = 0;
  var maxHeight = 0;

  try {
    sizes.forEach(function (item) {
      item[0] > maxWith && (maxWith = item[0]);
      item[1] > maxHeight && (maxHeight = item[1]);
    });
  } catch (e) {
    utlis_vilog("[Utils] getPrimarySizes Exception....");
    utlis_vilog(sizes);
    utlis_vilog(e);
  }

  return [maxWith, maxHeight];
}
function isDebugMode() {
  if (getUrlParam("amzn_debug_mode") == "1" || getUrlParam("pbjs_debug").toUpperCase() === "TRUE") {
    return true;
  }

  return false;
}
function newWorker(callback, delay) {
  setTimeout(function () {
    callback();
    newWorker(callback, delay);
  }, delay);
}
function getFloorPriceTargeting(adFormat) {
  try {
    var data = plugins_v2_constants.floorPriceTargeting[adFormat];

    for (var i = 0; i < data.target.length; i++) {
      if (data.target[i].geo.indexOf(plugins_v2_constants.VIGeo) !== -1) {
        return data.target[i].floor;
      }
    }

    return data["default"];
  } catch (e) {
    return null;
  }
}
;
function validateShowBanner() {
  var outstreamInContent = false;
  var displayBanner = false;

  if (!plugins_v2_constants.displaySlot) {
    utlis_vilog("[Utils] Not found Displayslot");
    return displayBanner;
  }

  if (window[plugins_v2_constants.tagName].outStreamConfig && window[plugins_v2_constants.tagName].outStreamConfig.version && window[plugins_v2_constants.tagName].outStreamConfig.version === "v1") {
    window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead = true;
  }

  if (window[plugins_v2_constants.tagName].outStreamConfig && !window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead || window[plugins_v2_constants.tagName].outStreamConfig && window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead && window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead === false) {
    outstreamInContent = true;
  }

  var classBaseAd = document.getElementsByClassName(plugins_v2_constants.adClass);
  Array.from(classBaseAd).forEach(function (elem, index) {
    if (elem && elem.getAttribute("data-ad-slot") === "outstream") {
      outstreamInContent = true;
    }
  });
  var audit = auditFormatSlider();

  if (audit && outstreamInContent === true && plugins_v2_constants.dfpApproved === "on") {
    displayBanner = true;
  }

  return displayBanner;
}
function convertVideoIntoBanner(adContainer, videoSlot, adSlot) {
  if (!adContainer || !videoSlot || !adSlot) {
    utlis_vilog("[OI] Not found Displayslot");
    return false;
  }

  var geoValidate = false;

  if (!videoSlot.geo_target) {
    geoValidate = true;
  } else {
    if (videoSlot.geo_target.charAt(0) === "-") {
      //exclude
      if (videoSlot.geo_target.indexOf(plugins_v2_constants.VIGeo) === -1) {
        geoValidate = true;
      }
    } else {
      //include
      if (videoSlot.geo_target.indexOf(plugins_v2_constants.VIGeo) !== -1) {
        geoValidate = true;
      }
    }
  }

  if (geoValidate) {
    var matched = false;

    for (var key in plugins_v2_constants.displaySlot) {
      if (plugins_v2_constants.displaySlot[key].w === 300 && plugins_v2_constants.displaySlot[key].h === 250) {
        plugins_v2_constants.displaySlot[adSlot] = JSON.parse(JSON.stringify(plugins_v2_constants.displaySlot[key]));
        plugins_v2_constants.displaySlot[adSlot].zid = videoSlot.zid;
        plugins_v2_constants.displaySlot[adSlot].noPublisherPb = true;
        plugins_v2_constants.displaySlot[adSlot].display_type = "";
        matched = true;
        break;
      }
    }

    if (matched) {
      var wrap = document.createElement("div");
      wrap.innerHTML = "<div class=\"" + plugins_v2_constants.adClass + "\" data-ad-slot=\"".concat(adSlot, "\"></div>");
      adContainer.parentNode.insertBefore(wrap, adContainer.nextSibling);
      adContainer.remove();
      window[tagApi].display(adSlot);
      return;
    }
  }
}
function pushInfoDebugOverlay(adSlotId, bidWon) {
  if (!adSlotId || !bidWon) {
    return;
  }

  if (!plugins_v2_constants.VIdebug) {
    return;
  }

  cleanInfoOverlay(adSlotId);
  pushInfoOverlay(adSlotId, "adSlotId", adSlotId);
  pushInfoOverlay(adSlotId, "adId", bidWon.adId ? bidWon.adId : "");
  pushInfoOverlay(adSlotId, "bidder", bidWon.bidder ? bidWon.bidder : "");
  pushInfoOverlay(adSlotId, "creativeId", bidWon.creativeId ? bidWon.creativeId : "");
}
function handlerSizeStickyVideo(widthConf) {
  if (!widthConf) {
    return;
  }

  if (mobileDetect()) {
    return 256;
  }

  if (widthConf > 410) {
    return 410;
  }

  if (widthConf < 300) {
    return 300;
  }

  return widthConf;
}
function saveLog(query, data) {
  try {
    ajaxRequest(plugins_v2_constants.logsEngineUrl + "?" + serialize(query), "POST", "text", 2000, false, JSON.stringify(data), function () {}, function () {});
  } catch (e) {
    utlis_vilog(e);
  }
}
function serialize(obj) {
  var str = [];

  for (var prop in obj) {
    str.push(prop + "=" + obj[prop]);
  }

  return str.join("&");
}
function getSizeOutstreamBanner(w, h) {
  if (!w || !h) {
    return;
  }

  var widthAd = w;

  switch (w) {
    case 300:
    case 336:
      widthAd = w;
      break;

    case 970:
      widthAd = 445;
      break;
  }

  var heightAd = Math.floor(widthAd * 9 / 16);
  return [widthAd, heightAd];
}
function setLocalStorageWithExpiry(key, value, ttl) {
  var now = new Date();
  var item = {
    value: value,
    expiry: now.getTime() + ttl
  };
  localStorage.setItem(key, JSON.stringify(item));
}
function getLocalStorageWithExpiry(key) {
  var itemStr = localStorage.getItem(key); // if the item doesn't exist, return null

  if (!itemStr) {
    return null;
  }

  var item = JSON.parse(itemStr);
  var now = new Date();

  if (now.getTime() > item.expiry) {
    // If the item is expired, delete the item from storage and return null
    localStorage.removeItem(key);
    return null;
  }

  return item.value;
}
function getAndUpdate(_x, _x2) {
  return _getAndUpdate.apply(this, arguments);
}

function _getAndUpdate() {
  _getAndUpdate = asyncToGenerator_default()( /*#__PURE__*/regenerator_default.a.mark(function _callee(url, callback) {
    var resp;
    return regenerator_default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return fetch(url);

          case 3:
            resp = _context.sent;
            _context.next = 6;
            return resp.json();

          case 6:
            resp = _context.sent;
            callback(resp);
            _context.next = 13;
            break;

          case 10:
            _context.prev = 10;
            _context.t0 = _context["catch"](0);
            utlis_vilog("Error during http GET");

          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[0, 10]]);
  }));
  return _getAndUpdate.apply(this, arguments);
}

;
function logBidUnruly(bid) {
  utlis_vilog("[Utils] logBidUnruly===========");

  if (!bid || bid.bidder != "unruly" || bid.mediaType == "video") {
    return;
  }

  saveLog({
    type: "log_banner_unruly",
    domain: plugins_v2_constants.domainName,
    cpm: bid.cpm ? bid.cpm.toString() : "0"
  }, {
    "bid": JSON.stringify(bid),
    "url_page": window.location.href
  });
}
function newViewPortDetect(el, opts) {
  var inViewPortAction = [];
  var outViewPortAction = [];
  var lastAction = null;
  var isInViewPortFlag = false;

  var inViewPortHandle = function inViewPortHandle() {
    if (isInViewPortFlag && plugins_v2_constants.isVisible) {
      inViewPortAction.forEach(function (_action) {
        _action();
      });
      lastAction = "inView";
    }
  };

  var outViewPortHandle = function outViewPortHandle() {
    outViewPortAction.forEach(function (_action) {
      _action();
    });
    lastAction = "outView";
  };

  isInViewPort(el, function () {
    isInViewPortFlag = true;
    inViewPortHandle();
  }, function () {
    isInViewPortFlag = false;
    outViewPortHandle();
  }, opts);

  _addEventListener("VISIBILITY_CHANGE", function () {
    if (plugins_v2_constants.isVisible) {
      inViewPortHandle();
    } else {
      outViewPortHandle();
    }
  });

  return {
    inViewPort: function inViewPort(_action) {
      if (typeof _action !== 'function') {
        throw new Error('[Utils] isInViewPort action needs to be a function!');
      }

      lastAction == "inView" && _action();
      inViewPortAction.push(_action);
    },
    outViewPort: function outViewPort(_action) {
      if (typeof _action !== 'function') {
        throw new Error('[Utils] isOutViewPort action needs to be a function!');
      }

      lastAction == "outView" && _action();
      outViewPortAction.push(_action);
    }
  };
}
// CONCATENATED MODULE: ./src/settings/interdogmedia.js
/* harmony default export */ var interdogmedia = ({
  "bidAdjustment": {
    "amx": 0.9,
    "brightcom": 0.8,
    "connectad": 0.55,
    "consumable": 0.75,
    "criteo": 0.65,
    "districtm": 0.85,
    "fidelity": 0.58,
    "getintent": 0.6,
    "oftmedia": 0.9,
    "onefiftytwomedia": 0.75,
    "pubmatic": 0.74
  },
  "blockCreatives": ["111111", "222222", "3450172", "3163599", "72154833", "4642641", "3718188", "178770573", "178770608", "cr990.cfb71e11", "4749924", "4753592", "cr782.7bb5492c", "4745834", "4745827", "cr990.944d2750", "4753589", "420_4762368", "420_4762368", "614-phonder_22266|4745827", "291591774", "291589809", "291588422"],
  "customGeo": {
    "33across": {
      "country": ["US", "CA"],
      "rule": "allow"
    },
    "adkernel": {
      "country": ["PH", "MY", "ID", "BD", "VN", "PK", "FJ", "SZ", "TJ", "DJ", "CW", "SD", "CU", "LR", "TG", "NE", "BF", "BJ", "AX", "LI", "SL", "MR", "HT", "SB", "SM", "PF", "MP", "SC", "TM", "VU", "NC", "VG", "GA", "TD", "KV", "CV", "GL", "AI", "ER", "GM", "GN", "DM", "FM", "ML", "TC", "MF", "VA", "FO", "CF", "CG", "CK", "GW", "KM", "PW", "WS", "MH", "GQ", "NR", "ST", "FK", "YT", "PM", "NU", "NF", "WF", "MS", "SH", "CC", "TK", "UM", "BN", "MW", "PG", "SI", "SY", "SN", "RW", "GY", "CM", "LT", "AO", "EG", "TZ", "AD", "TO", "KG", "BT", "LC", "SD", "AM", "BB", "SO", "LA", "IM", "VC", "LY", "CY", "YE", "BW", "MG", "LU", "ET", "LS", "SR", "RS", "MK", "AW", "GE", "LB", "MN", "BM", "MA", "AZ", "MM", "BI", "AT", "NG", "TT", "TN", "DZ", "IL", "AF", "KH", "MZ", "PA", "IS", "UZ", "BA", "VE", "GH", "IR", "NP", "IN", "EC", "BH", "AS", "ZW"],
      "rule": "deny"
    },
    "adsolut": {
      "country": ["IN"],
      "rule": "allow"
    },
    "amazon": {
      "country": ["VN"],
      "rule": "allow"
    },
    "consumable": {
      "country": ["US"],
      "rule": "allow"
    },
    "conversant": {
      "country": ["US", "GB", "CA", "UM"],
      "rule": "allow"
    },
    "districtm": {
      "country": ["US", "CA"],
      "rule": "allow"
    },
    "districtmdmx": {
      "country": ["US", "CA"],
      "rule": "allow"
    },
    "gumgum": {
      "country": ["US", "GB", "CA"],
      "rule": "allow"
    },
    "onemobile": {
      "country": ["LV", "FI", "EE", "KY", "US", "LC", "SV", "DE", "HN", "VG", "SK", "BS", "SE", "AT", "CH", "NO", "LU", "DO", "FR", "DM", "GB", "MF", "RO", "TT", "IE", "CA", "PY", "DK"],
      "rule": "allow"
    },
    "onetag": {
      "country": ["US", "CA"],
      "rule": "allow"
    },
    "onevideo": {
      "country": ["US", "RO", "IN", "GB", "DE", "PR", "CA", "BR", "IT", "JP"],
      "rule": "allow"
    },
    "openx": {
      "country": ["AP", "AE", "AF", "AM", "AU", "AZ", "BD", "BH", "BN", "BT", "CC", "CN", "CX", "CY", "GE", "HK", "ID", "IL", "IN", "IO", "IQ", "IR", "JO", "JP", "KG", "KH", "KP", "KR", "KW", "KZ", "LA", "LB", "LK", "MM", "MN", "MO", "MV", "MY", "NP", "NZ", "OM", "PH", "PK", "PS", "QA", "RU", "SA", "SG", "SY", "TH", "TJ", "TL", "TM", "TR", "TW", "UZ", "VN", "YE"],
      "rule": "allow"
    },
    "rhythmone": {
      "country": ["US", "CA", "AU"],
      "rule": "allow"
    },
    "rubicon": {
      "country": ["FI", "US", "PR", "SN", "MK", "SE", "AU", "JP", "SG", "MV", "CA", "NZ", "DE", "GB", "CY", "ES"],
      "rule": "allow"
    },
    "sharethrough": {
      "country": ["US", "GB", "CA"],
      "rule": "allow"
    },
    "sovrn": {
      "country": ["US", "GB", "CA", "AU", "DE"],
      "rule": "allow"
    },
    "underdogmedia": {
      "country": ["AU", "BR", "CA", "FR", "DE", "IT", "RU", "SG", "ES", "US"],
      "rule": "allow"
    }
  },
  "defaultPb": [{
    "country": [],
    "device": [],
    "id": 7,
    "size": ["300_250"],
    "time": 1623082445
  }],
  "prebidJs": "/prebid/default/prebid-v4.38.0.js",
  "prebidTimeout": 5000,
  "adRefreshTime": 30000,
  "accountId": "e8df28e7-78ff-452d-b3af-ff4df83df832",
  "gaId": "UA-128776493-30",
  "defaultWidget": [{
    "des": "",
    "id": "89",
    "link": "",
    "thumb": "/widget/2020/06/22/1592801729.jpg",
    "title": "5 Minute Crafts For School Supplies",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=5aWbsTPK-_0&t=y",
      "ogg": ""
    }
  }, {
    "des": "",
    "id": "91",
    "link": "",
    "thumb": "/widget/2020/07/30/1596163502.jpg",
    "title": "FUN TikTok Life Hacks To Do When You're Bored at Home!",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=QfsviWpOGno&t=y",
      "ogg": ""
    }
  }, {
    "des": "",
    "id": "92",
    "link": "",
    "thumb": "/widget/2019/11/05/1572962767.jpg",
    "title": "7 Easy Crafts Ideas at Home",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=O5RRxWcXyjc&t=y",
      "ogg": ""
    }
  }, {
    "des": "",
    "id": "93",
    "link": "",
    "thumb": "/widget/2019/11/05/1572962788.jpg",
    "title": "9 Easy Crafts Ideas at Home",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=r8AoVMBwjcc&t=y",
      "ogg": ""
    }
  }, {
    "des": "",
    "id": "94",
    "link": "",
    "thumb": "/widget/2020/06/22/1592802620.jpg",
    "title": "DIY URBAN OUTFITTERS ROOM DECOR + FURNITURE!!",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=k3c-ygaCGXY&t=y",
      "ogg": ""
    }
  }, {
    "des": "",
    "id": "95",
    "link": "",
    "thumb": "/widget/2019/11/05/1572962830.jpg",
    "title": "Beautiful Veneer Lamp",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=aOSRX0RXaas&t=y",
      "ogg": ""
    }
  }, {
    "des": "",
    "id": "96",
    "link": "",
    "thumb": "/widget/2020/06/16/1592294784.jpg",
    "title": "DIY ROOM DECOR! 7 Easy Crafts Ideas at Home",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=TV1MKMdUJ3Y&t=y",
      "ogg": ""
    }
  }, {
    "des": "",
    "id": "97",
    "link": "",
    "thumb": "/widget/2019/11/05/1572962870.jpg",
    "title": "Robopet Make Your Robot Follow You",
    "video_url": {
      "m3u8": "",
      "mp4": "/vid/?id=HhZDAZTz3rk&t=y",
      "ogg": ""
    }
  }],
  "targetAccount": [{
    "accountId": "zmedia",
    "adFormat": false,
    "countryCode": false,
    "countryTargetRule": "",
    "priority": 7
  }, {
    "accountId": "velismedia",
    "adFormat": false,
    "countryCode": ["BR", "IN", "ID", "RO", "VN"],
    "countryTargetRule": "excluded",
    "priority": 6
  }, {
    "accountId": "vli_1",
    "adFormat": ["display", "smart_banner", "image_slide", "native"],
    "countryCode": false,
    "countryTargetRule": "",
    "priority": 5
  }, {
    "accountId": "vli_2",
    "adFormat": ["display", "smart_banner", "image_slide", "native"],
    "countryCode": false,
    "countryTargetRule": "",
    "priority": 5
  }, {
    "accountId": "vli_3",
    "adFormat": ["display", "smart_banner", "image_slide", "native"],
    "countryCode": false,
    "countryTargetRule": "",
    "priority": 5
  }, {
    "accountId": "vli_4",
    "adFormat": false,
    "countryCode": false,
    "countryTargetRule": "",
    "priority": 5
  }, {
    "accountId": "vli_5",
    "adFormat": ["display", "smart_banner", "native", "image_slide"],
    "countryCode": false,
    "countryTargetRule": "",
    "priority": 5
  }, {
    "accountId": "152media",
    "adFormat": false,
    "countryCode": false,
    "countryTargetRule": "",
    "priority": 7
  }],
  "targetDfpAcc": [{
    "dfpAccount": "21766281334",
    "googleAccountId": ["152media", "zmedia", "vli_1", "vli_2", "vli_3", "vli_4", "vli_5", "velismedia"],
    "priority": 0
  }, {
    "dfpAccount": "307492156",
    "googleAccountId": ["zmedia"],
    "priority": 0
  }],
  "targetDfpRate": {
    "152media": 0.87,
    "velismedia": 0.82,
    "vli_1": 0.97,
    "vli_2": 0.97,
    "vli_3": 0.97,
    "vli_4": 0.97,
    "vli_5": 0.97,
    "zmedia": 0.82
  },
  "rootDomain": "vlitag.com",
  "tagDomain": "tag.vlitag.com",
  "tagConfig": {
    "brand": "Valueimpression",
    "className": "adsbyvli",
    "homePage": "valueimpression.com",
    "icon": "/media/icon/vi-icon.svg",
    "logo": "/media/icon/vi-logo.svg",
    "tagApi": "viAPItag",
    "tagName": "vitag"
  },
  "domainID": 4,
  "jsType": "dfp",
  "viAdFill": 0,
  "displayBids": {
    "0_0": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "1024_60": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407177
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "120_600": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407169
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "160_600": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407169
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407182
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407169
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407182
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407169
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407182
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "1_1": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "300_250": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "300_600": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407172
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407169
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407182
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407172
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407169
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407182
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }, {
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407163
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407172
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407169
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407182
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "320_100": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407161
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407170
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "320_50": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407161
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407166
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "640_480": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "650_150": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407177
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "728_90": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407178
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407177
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }],
    "970_250": [{
      "bids": [{
        "bidder": "quantumdex",
        "params": {
          "siteId": "4"
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407178
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407164
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407177
        }
      }, {
        "bidder": "criteo",
        "params": {
          "networkId": 9002,
          "zoneId": 1407173
        }
      }, {
        "bidder": "oftmedia",
        "params": {
          "placementId": "16682319"
        }
      }, {
        "bidder": "rtbhouse",
        "params": {
          "bidfloor": 0.1,
          "publisherId": "wed0epy3b6Wg3KDMeJ5n",
          "region": "prebid-asia"
        }
      }, {
        "bidder": "eplanning",
        "params": {
          "ci": "2c995"
        }
      }, {
        "bidder": "amx",
        "params": {
          "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
        }
      }],
      "used": false
    }]
  },
  "instreamSlot": {
    "vi_4166": {
      "adunit": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682446"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "video": {
              "minduration": 1,
              "placement": 1,
              "playbackmethod": 6,
              "skip": 1,
              "startdelay": 0
            }
          }
        }],
        "code": "vi_4166",
        "mediaTypes": null
      },
      "adunitExt": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "video": {
              "minduration": 1,
              "placement": 1,
              "playbackmethod": 6,
              "skip": 1,
              "startdelay": 0
            }
          }
        }],
        "code": "vi_4166_ext",
        "mediaTypes": null
      },
      "bannerFloorPrice": 0.01,
      "disableBanner": "",
      "display_type": "",
      "feed_url": null,
      "floorPrice": 0.1,
      "geo_target": "",
      "h": 480,
      "mid": 0,
      "pb": null,
      "type": "normal",
      "vast": null,
      "vid": {
        "contents": [{
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "Content 1",
          "id": "1",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Content 1",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "Content 2",
          "id": "2",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Content 2",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "description sssssssssssss sssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss",
          "id": "5",
          "is_default": "0",
          "link": "linkvideoabc.com",
          "thumb": "https://video.primis.tech/uploads/cn19/video/users/converted/29070/video_5e3bfc5c3cf4a681456813/vid5f7713f5c6aee850976427_thumb.jpg?cbuster=1614778807",
          "title": "Content test 2",
          "user_id": "0",
          "video_url": {
            "m3u8": "",
            "mp4": "linkvideoabc.com",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "abcasdcasdcasdc",
          "id": "6",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Test",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }],
        "template": {
          "videoTempName": "Template 1",
          "adType": "InStream",
          "appearance": {
            "playerLayout": {
              "type": 3,
              "listVideo": null
            },
            "playerSize": "responsive",
            "maxWidth": 950,
            "floatingSetting": {
              "closeFloatingBtn": true,
              "width": 410,
              "position": 1,
              "margin-top-bot": 20,
              "margin-left-right": 20
            }
          },
          "mobileConfig": {
            "closeFloatingBtn": true,
            "width": 350,
            "position": 1,
            "margin-bot": 0,
            "margin-left-right": 0
          },
          "text": {
            "mainTitle": "Template 1 instream",
            "titleOn": true,
            "descriptionOn": true
          },
          "color": {
            "controls": "rgb(0, 210, 255, 1)",
            "background": "#fff",
            "title": "rgb(0, 210, 255, 1)",
            "description": "#00f",
            "theme": "",
            "title-background": ""
          },
          "controls": {
            "defaultSoundMode": false,
            "fullscreen": true,
            "nextPrevArrow": true,
            "nextPrevSkip": true,
            "videoConfig": false,
            "viewsLikes": true,
            "share": true
          },
          "logoBand": {
            "endableLogo": true,
            "poweredByApacdex": true,
            "customLogo": {
              "link": "https://self-serve.interdogmedia.com/static/favicon.ico",
              "clickThrough": "https://valueimpression.com/"
            }
          },
          "adConfig": {
            "vastRetry": 10,
            "autoSkip": {
              "timeToSkip": 0,
              "autoSkipBtn": 0
            }
          }
        }
      },
      "w": 640,
      "zid": 166
    },
    "vi_4417": {
      "adunit": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682446"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "video": {
              "minduration": 1,
              "placement": 1,
              "playbackmethod": 6,
              "skip": 1,
              "startdelay": 0
            }
          }
        }],
        "code": "vi_4417",
        "mediaTypes": null
      },
      "adunitExt": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "video": {
              "minduration": 1,
              "placement": 1,
              "playbackmethod": 6,
              "skip": 1,
              "startdelay": 0
            }
          }
        }],
        "code": "vi_4417_ext",
        "mediaTypes": null
      },
      "bannerFloorPrice": 0.1,
      "disableBanner": "",
      "display_type": "banner",
      "feed_url": null,
      "floorPrice": 0.1,
      "geo_target": "",
      "h": 480,
      "mid": 0,
      "pb": null,
      "type": "inbanner",
      "vast": null,
      "vid": {
        "contents": null
      },
      "w": 640,
      "zid": 417
    }
  },
  "outstreamSlot": {
    "vi_413427": {
      "adunit": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "video": {
              "minduration": 1,
              "placement": 1,
              "playbackmethod": 6,
              "skip": 1,
              "startdelay": 0
            }
          }
        }],
        "code": "vi_413427",
        "mediaTypes": null
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_413427_ext",
        "mediaTypes": null
      },
      "floorPrice": 0.1,
      "h": 480,
      "mid": 0,
      "type": "slider",
      "vast": null,
      "vid": {
        "contents": [{
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "Content 1",
          "id": "1",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Content 1",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "Content 2",
          "id": "2",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Content 2",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "description sssssssssssss sssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss",
          "id": "5",
          "is_default": "0",
          "link": "linkvideoabc.com",
          "thumb": "https://video.primis.tech/uploads/cn19/video/users/converted/29070/video_5e3bfc5c3cf4a681456813/vid5f7713f5c6aee850976427_thumb.jpg?cbuster=1614778807",
          "title": "Content test 2",
          "user_id": "0",
          "video_url": {
            "m3u8": "",
            "mp4": "linkvideoabc.com",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "abcasdcasdcasdc",
          "id": "6",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Test",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }],
        "template": {
          "videoTempName": "tempdemo",
          "adType": "OutStream",
          "appearance": {
            "playerSize": "responsive",
            // fixed or responsive
            "maxWidth": 650,
            "floatingSetting": {
              "closeFloatingBtn": true,
              "width": 410,
              "position": 1,
              // bot-right: 1 | bot-left: 2 | top-right: 3 | top-left: 4
              "margin-top-bot": 20,
              "margin-left-right": 20
            }
          },
          "mobileConfig": {
            "closeFloatingBtn": true,
            "width": 350,
            "position": 1,
            // bot-right: 1 | bot-left: 2
            "margin-bot": 20,
            "margin-left-right": 20
          },
          "adConfig": {
            "vastRetry": ""
          }
        }
      },
      "w": 640,
      "zid": 13427
    }
  },
  "safeFrame": "on",
  "reloadMode": "signal",
  // all_ads, signal
  "pbRender": "iframe",
  "dmtk": "duperdqsdjgzsdj_nets9voq",
  "enableIcon": "on",
  "useAmazonUAM": "off",
  "enableDebug": "on",
  "useBidFilter": "off",
  "dfpRefresh": "on",
  "disableDfp": "",
  "caPub": "",
  "jsVersion": "v1",
  "adunitOrder": 13,
  "lastDfpAdUnit": 13,
  "adunitSM": 2,
  "adunitVideo": 4,
  "dfpId": "21766281334",
  "uId": 5844,
  "googleRate": 0.97,
  "collector": "off",
  "sendTargeting": "off",
  "convSiteID": 0,
  "convLID": 0,
  "dfpApproved": "on",
  "verizonConnect": "off",
  "enableNewPixel": "on",
  "googAccActive": ["velismedia"],
  "ggAccActived": {
    "velismedia": {
      "type": "adx",
      "bidderCode": "vli_adx"
    },
    "vli_4": {
      "type": "adsense",
      "bidderCode": "vli_4"
    }
  },
  "targetFloor": null,
  "displaySlot": {
    "vi_41410": {
      "adunit": {
        "bids": null,
        "code": "vi_41410",
        "mediaTypes": {
          "banner": {
            "sizes": [[300, 250], [160, 600], [300, 600], [250, 250], [120, 600], [200, 200], [180, 150]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_41410_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 600,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[300, 250], [160, 600], [300, 600], [250, 250], [120, 600], [200, 200], [180, 150]],
      "type": "normal",
      "w": 300,
      "zid": 1410
    },
    "vi_4152": {
      "adunit": {
        "bids": null,
        "code": "vi_4152",
        "mediaTypes": {
          "banner": {
            "sizes": [[300, 250], [250, 250]]
          },
          "native": {
            title: {
              required: true
            },
            image: {
              required: true
            },
            sponsoredBy: {
              required: true
            }
          }
        }
      },
      "adunitExt": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }],
        "code": "vi_4152_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 250,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[300, 250], [250, 250], [200, 200], [180, 150]],
      "type": "normal",
      "w": 300,
      "zid": 152
    },
    "vi_4153": {
      "adunit": {
        "bids": null,
        "code": "vi_4153",
        "mediaTypes": {
          "banner": {
            "sizes": [[300, 250], [250, 250], [200, 200], [180, 150]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_4153_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "banner",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 250,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[300, 250], [250, 250], [200, 200], [180, 150]],
      "type": "normal",
      "w": 300,
      "zid": 153
    },
    "vi_4175": {
      "adunit": {
        "bids": null,
        "code": "vi_4175",
        "mediaTypes": {
          "banner": {
            "sizes": [[160, 600], [120, 600]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_4175_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "VN,US,CA",
      "h": 600,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[160, 600], [120, 600]],
      "type": "normal",
      "w": 160,
      "zid": 175
    },
    "vi_423957": {
      "adunit": {
        "bids": null,
        "code": "vi_423957",
        "mediaTypes": {
          "banner": {
            "sizes": [[120, 600]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_423957_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 600,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[120, 600]],
      "type": "normal",
      "w": 120,
      "zid": 23957
    },
    "vi_460863": {
      "adunit": {
        "bids": null,
        "code": "vi_460863",
        "mediaTypes": {
          "banner": {
            "sizes": [[468, 60], [1024, 60]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_460863_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 60,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[468, 60], [1024, 60]],
      "type": "normal",
      "w": 1024,
      "zid": 60863
    },
    "vi_460864": {
      "adunit": {
        "bids": null,
        "code": "vi_460864",
        "mediaTypes": {
          "banner": {
            "sizes": [[468, 60], [1024, 60]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_460864_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 60,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[468, 60], [1024, 60]],
      "type": "normal",
      "w": 1024,
      "zid": 60864
    },
    "vi_479": {
      "adunit": {
        "bids": null,
        "code": "vi_479",
        "mediaTypes": {
          "banner": {
            "sizes": [[728, 90], [468, 60]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_479_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 90,
      "mid": 0,
      "noPublisherPb": false,
      "sizeConfig": [[728, 90], [468, 60]],
      "type": "normal",
      "w": 728,
      "zid": 79
    },
    "vi_480": {
      "adunit": {
        "bids": null,
        "code": "vi_480",
        "mediaTypes": {
          "banner": {
            "sizes": [[728, 90], [468, 60]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_480_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 90,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[728, 90], [468, 60]],
      "type": "normal",
      "w": 728,
      "zid": 80
    },
    "vi_49821": {
      "adunit": {
        "bids": null,
        "code": "vi_49821",
        "mediaTypes": {
          "banner": {
            "sizes": [[320, 50], [300, 31], [300, 50]]
          }
        }
      },
      "adunitExt": {
        "bids": [],
        "code": "vi_49821_ext",
        "mediaTypes": {}
      },
      "disable_banner": "",
      "display_type": "",
      "floorPrice": 0.01,
      "geo_target": "",
      "h": 50,
      "mid": 0,
      "noPublisherPb": true,
      "sizeConfig": [[320, 50], [300, 31], [300, 50]],
      "type": "normal",
      "w": 320,
      "zid": 9821
    }
  },
  "smartBanner": [{
    "adSlot": "vi_48152",
    "adunit": {
      "160_600": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "zoneId": 1417062
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_48152",
        "mediaTypes": {
          "banner": {
            "sizes": [[160, 600]]
          }
        }
      },
      "300_250": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "zoneId": 1417060
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_48152",
        "mediaTypes": {
          "banner": {
            "sizes": [[300, 250]]
          }
        }
      },
      "300_600": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "zoneId": 1417059
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_48152",
        "mediaTypes": {
          "banner": {
            "sizes": [[300, 600]]
          }
        }
      },
      "320_100": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_48152",
        "mediaTypes": {
          "banner": {
            "sizes": [[320, 100]]
          }
        }
      },
      "320_50": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "zoneId": 1417063
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_48152",
        "mediaTypes": {
          "banner": {
            "sizes": [[320, 50]]
          }
        }
      },
      "728_90": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "zoneId": 1417061
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_48152",
        "mediaTypes": {
          "banner": {
            "sizes": [[728, 90]]
          }
        }
      },
      "970_90": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_48152",
        "mediaTypes": {
          "banner": {
            "sizes": [[970, 90]]
          }
        }
      }
    },
    "floorPrice": 0.01,
    "zid": 8152
  }],
  "topArticle": {
    "vi_48378": {
      "adunit": {
        "bids": [{
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682446"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "video": {
              "minduration": 1,
              "placement": 1,
              "playbackmethod": 6,
              "skip": 1,
              "startdelay": 0
            }
          }
        }],
        "code": "vi_48378",
        "mediaTypes": null
      },
      "adunitExt": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "video": {
              "minduration": 1,
              "placement": 1,
              "playbackmethod": 6,
              "skip": 1,
              "startdelay": 0
            }
          }
        }],
        "code": "vi_48378_ext",
        "mediaTypes": null
      },
      "contents": null,
      "display_type": "",
      "feed_url": "/feed/?tk=d97d83b46baccd98c9f6e48d6fb3735d&url=https%3A%2F%2Fvalueimpression.com%2Fdemo%2Ftutorialspoint.com%2Ftop-articles.xml",
      "floorPrice": 0.1,
      "geo_target": "",
      "h": 480,
      "mid": 0,
      "pb": null,
      "vast": null,
      "vid": {
        "contents": [{
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "Content 1",
          "id": "1",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Content 1",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "Content 2",
          "id": "2",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Content 2",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "description sssssssssssss sssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss",
          "id": "5",
          "is_default": "0",
          "link": "linkvideoabc.com",
          "thumb": "https://video.primis.tech/uploads/cn19/video/users/converted/29070/video_5e3bfc5c3cf4a681456813/vid5f7713f5c6aee850976427_thumb.jpg?cbuster=1614778807",
          "title": "Content test 2",
          "user_id": "0",
          "video_url": {
            "m3u8": "",
            "mp4": "linkvideoabc.com",
            "ogg": ""
          }
        }, {
          "create_time": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "deleted_at": "1754-08-30 17:47:39.128654848 -0456 LMT",
          "des": "abcasdcasdcasdc",
          "id": "6",
          "is_default": "0",
          "link": "https://www.youtube.com/watch?v=LRwJQw_giSo",
          "thumb": "https://upload.wikimedia.org/wikipedia/commons/f/fe/Video-Game-Controller-Icon-IDV-green.svg",
          "title": "Test",
          "user_id": "1",
          "video_url": {
            "m3u8": "",
            "mp4": "https://www.youtube.com/watch?v=LRwJQw_giSo",
            "ogg": ""
          }
        }],
        "template": {
          "videoTempName": "tempdemo",
          "adType": "TopArticles",
          "appearance": {
            "playerSize": "responsive",
            // fixed or responsive
            "maxWidth": 650,
            "floatingSetting": {
              "closeFloatingBtn": true,
              "width": 410,
              "position": 1,
              // bot-right: 1 | bot-left: 2 | top-right: 3 | top-left: 4
              "margin-top-bot": 20,
              "margin-left-right": 20
            }
          },
          "mobileConfig": {
            "closeFloatingBtn": true,
            "width": 350,
            "position": 1,
            // bot-right: 1 | bot-left: 2
            "margin-bot": 20,
            "margin-left-right": 20
          },
          "text": {
            "mainTitle": "FEATURED VIDEOS",
            "titleOn": true,
            "descriptionOn": true
          },
          "color": {
            "theme": "#f0bd24",
            "background": "#f0bd24",
            "title": "#f0bd24",
            "title-background": "#f0bd24"
          },
          "logoBand": {
            "endableLogo": true,
            "poweredByApacdex": true,
            "customLogo": {
              "link": "",
              "clickThrough": ""
            }
          },
          "adConfig": {
            "vastRetry": ""
          }
        }
      },
      "w": 640,
      "zid": 8378
    }
  },
  "nativeSlot": {
    "vi_411646": {
      "zid": 11646
    },
    "vi_411649": {
      "zid": 11649
    }
  },
  "interstitial": [{
    "adSlot": "vi_447650",
    "adunitBannner": {
      "bids": [],
      "h": 1,
      "mediaTypes": {
        "banner": {
          "sizes": [[1, 1]]
        }
      },
      "w": 1
    },
    "adunitInstream": {
      "bids": []
    },
    "adunitOutstream": {
      "bids": []
    },
    "floorPrice": 0.1,
    "zid": 47650
  }],
  "imageSlide": [{
    "adSlot": "vi_452315",
    "adunit": {
      "320_50": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "zoneId": 1417063
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_452315",
        "mediaTypes": {
          "banner": {
            "sizes": [[320, 50]]
          }
        }
      },
      "728_90": {
        "bids": [{
          "bidder": "quantumdex",
          "params": {
            "siteId": "4"
          }
        }, {
          "bidder": "criteo",
          "params": {
            "networkId": 9002,
            "zoneId": 1417061
          }
        }, {
          "bidder": "oftmedia",
          "params": {
            "placementId": "16682319"
          }
        }, {
          "bidder": "eplanning",
          "params": {
            "ci": "2c995"
          }
        }, {
          "bidder": "amx",
          "params": {
            "tagId": "dmFsdWVpbXByZXNzaW9uLmNvbQ"
          }
        }, {
          "bidder": "rtbhouse",
          "params": {
            "bidfloor": 0.01,
            "publisherId": "wed0epy3b6Wg3KDMeJ5n",
            "region": "prebid-asia"
          }
        }],
        "code": "vi_452315",
        "mediaTypes": {
          "banner": {
            "sizes": [[728, 90]]
          }
        }
      }
    },
    "floorPrice": 0.01,
    "zid": 52315
  }],
  "adHesion": null,
  "passBackUpdateTime": 1623082880,
  "disableDefaultDfpFloorPrice": [901, 978, 4750],
  "reBidDiscoveryTypeDfp": 30,
  "reBidDiscoveryTypePostbid": 15,
  "adloadType": "lazy_load" //load_all_ads, lazy_load

});
// CONCATENATED MODULE: ./src/plugins_v2/go-settings.js
 // import Settings from "../settings/setting-supersmash";
// import Settings from "../settings/freegame";
// var Settings = "--{{.DataObj}}--";

/* harmony default export */ var go_settings = (interdogmedia);
// CONCATENATED MODULE: ./src/plugins_v2/constants.js


window["_VLIOBJ"] = window["_VLIOBJ"] || {};
window["_VLIOBJ"].dID = go_settings.domainID;
var constants = {};

try {
  constants = {
    staticDomain: 'assets.' + go_settings.rootDomain,
    statsDomain: 'stats.' + go_settings.rootDomain,
    passbackDomain: go_settings.tagDomain,
    tagName: go_settings.tagConfig.tagName,
    adClass: go_settings.tagConfig.className,
    brandName: go_settings.tagConfig.brand,
    brandHomepage: go_settings.tagConfig.homePage,
    logsEngineUrl: "https://lgs.vliplatform.com",
    amazonBidResponses: {},
    amazonCpmMap: {
      "z2yv40": 35,
      "otdvy8": 34,
      "u85yww": 33,
      "ksjrwg": 32,
      "w634lc": 31,
      "nvo9a8": 30,
      "qxjshs": 29,
      "j0vd34": 28,
      "y09fr4": 27,
      "qikef4": 26,
      "sxyuio": 25,
      "lg9t6o": 24,
      "wetrsw": 23,
      "mz7ksg": 22,
      "ssz1ts": 21,
      "hsjny8": 20,
      "dwpclc": 19.5,
      "ypuwao": 19,
      "6f0b9c": 18.5,
      "pa8pa8": 18,
      "91wge8": 17.5,
      "up0s8w": 17,
      "1k7f28": 16.5,
      "kfft34": 16,
      "gjlhq8": 15.5,
      "v6i2o0": 15,
      "8ffda8": 14.5,
      "not1c0": 14,
      "bhawhs": 13.5,
      "rkncow": 13,
      "3kmh34": 12.5,
      "jnyxa8": 12,
      "ey5ts0": 11.5,
      "xte7sw": 11,
      "5ijmrk": 10.5,
      "pizchs": 10,
      "ajl9ts": 9.5,
      "tetnuo": 9,
      "a0ao0": 8.5,
      "lx4mio": 8,
      "14sd0jk": 7.95,
      "9pmhog": 7.9,
      "1i3tiww": 7.85,
      "y4mrcw": 7.8,
      "1bg39q8": 7.75,
      "31w8hs": 7.7,
      "1vu9fcw": 7.65,
      "ng2e4g": 7.6,
      "10riwhs": 7.55,
      "gsc4xs": 7.5,
      "1p6j668": 7.45,
      "u3snb4": 7.4,
      "1cz11c0": 7.35,
      "4ku03k": 7.3,
      "1qahjpc": 7.25,
      "hwaigw": 7.2,
      "16bas5c": 7.15,
      "b8k9a8": 7.1,
      "1jmraio": 7.05,
      "wvol4w": 7,
      "1a753i8": 6.95,
      "1sy29s": 6.9,
      "1ym5d6o": 6.85,
      "q7yby8": 6.8,
      "13jeubk": 6.75,
      "e0g740": 6.7,
      "1men8cg": 6.65,
      "rbwphc": 6.6,
      "1fqwz5s": 6.55,
      "7cpxxc": 6.5,
      "1t2dhj4": 6.45,
      "ko6gao": 6.4,
      "15hc000": 6.35,
      "aelh4w": 6.3,
      "1issidc": 6.25,
      "ytlqtc": 6.2,
      "1c5296o": 6.15,
      "3qv7y8": 6.1,
      "1v0an7k": 6.05,
      "mm3lz4": 6,
      "zxk4cg": 5.95,
      "fydcsg": 5.9,
      "1ocke0w": 5.85,
      "t9tv5s": 5.8,
      "1ewy70g": 5.75,
      "6ir5s0": 5.7,
      "1s8epds": 5.65,
      "ju7o5c": 5.6,
      "1897xts": 5.55,
      "d6heyo": 5.5,
      "1lkog74": 5.45,
      "w1pszk": 5.4,
      "19d6bcw": 5.35,
      "yza4g": 5.3,
      "1xs6l1c": 5.25,
      "pdzjsw": 5.2,
      "12pg268": 5.15,
      "ehxhj4": 5.1,
      "1mw4irk": 5.05,
      "rtdzwg": 5,
      "1g8e9kw": 4.95,
      "7u78cg": 4.9,
      "1tjury8": 4.85,
      "l5nqps": 4.8,
      "140w4qo": 4.75,
      "8y5lvk": 4.7,
      "1hccn40": 4.65,
      "xd5vk0": 4.6,
      "1aomdxc": 4.55,
      "2afcow": 4.5,
      "1wbqps0": 4.45,
      "nxjojk": 4.4,
      "11906ww": 4.35,
      "h9tfcw": 4.3,
      "1po0glc": 4.25,
      "ul9xq8": 4.2,
      "1dgibr4": 4.15,
      "52baio": 4.1,
      "1qryu4g": 4.05,
      "idrsw0": 4,
      "16ss2kg": 3.95,
      "bq1jpc": 3.9,
      "1k48kxs": 3.85,
      "wj73eo": 3.8,
      "19unls0": 3.75,
      "1ggkjk": 3.7,
      "1y9nvgg": 3.65,
      "pvgu80": 3.6,
      "136xclc": 3.55,
      "dnypds": 3.5,
      "1m25qm8": 3.45,
      "qzf7r4": 3.4,
      "1fefhfk": 3.35,
      "708g74": 3.3,
      "1spvzsw": 3.25,
      "kboykg": 3.2,
      "15ytaf4": 3.15,
      "aw2rk0": 3.1,
      "1ja9ssg": 3.05,
      "zb318g": 3,
      "186q1hc": 2.99,
      "8o60hs": 2.98,
      "1py01z4": 2.97,
      "qfg0zk": 2.96,
      "1cmjjls": 2.95,
      "d3zim8": 2.94,
      "1udtk3k": 2.93,
      "uv9j40": 2.92,
      "13qwjcw": 2.91,
      "48cidc": 2.9,
      "1li6juo": 2.89,
      "lzmiv4": 2.88,
      "1dqhx4w": 2.87,
      "e7xw5c": 2.86,
      "1vhrxmo": 2.85,
      "vz7wn4": 2.84,
      "14uuww0": 2.83,
      "5cavwg": 2.82,
      "1mm4xds": 2.81,
      "n3kwe8": 2.8,
      "19aof0g": 2.79,
      "9s4e0w": 2.78,
      "1r1yfi8": 2.77,
      "rjeeio": 2.76,
      "10f1erk": 2.75,
      "whds0": 2.74,
      "1i6bf9c": 2.73,
      "inre9s": 2.72,
      "1fyeo74": 2.71,
      "gfun7k": 2.7,
      "1xpooow": 2.69,
      "y74npc": 2.68,
      "172rny8": 2.67,
      "7k7myo": 2.66,
      "1ou1og0": 2.65,
      "pbhngg": 2.64,
      "1bil62o": 2.63,
      "c01534": 2.62,
      "1t9v6kg": 2.61,
      "trb5kw": 2.6,
      "12my5ts": 2.59,
      "34e4u8": 2.58,
      "1ke86bk": 2.57,
      "kvo5c0": 2.56,
      "1e5hb7k": 2.55,
      "emxa80": 2.54,
      "1vwrbpc": 2.53,
      "we7aps": 2.52,
      "159uayo": 2.51,
      "5ra9z4": 2.5,
      "1n14bgg": 2.49,
      "nikagw": 2.48,
      "19pnt34": 2.47,
      "a73s3k": 2.46,
      "1rgxtkw": 2.45,
      "rydslc": 2.44,
      "10u0su8": 2.43,
      "1bgruo": 2.42,
      "1ilatc0": 2.41,
      "j2qscg": 2.4,
      "1gde29s": 2.39,
      "guu1a8": 2.38,
      "1y4o2rk": 2.37,
      "ym41s0": 2.36,
      "17hr20w": 2.35,
      "7z711c": 2.34,
      "1p912io": 2.33,
      "pqh1j4": 2.32,
      "1bxkk5c": 2.31,
      "cf0j5s": 2.3,
      "1toukn4": 2.29,
      "u6ajnk": 2.28,
      "131xjwg": 2.27,
      "3jdiww": 2.26,
      "1kt7ke8": 2.25,
      "lanjeo": 2.24,
      "1d1ixog": 2.23,
      "diywow": 2.22,
      "1ussy68": 2.21,
      "va8x6o": 2.2,
      "145vxfk": 2.19,
      "4nbwg0": 2.18,
      "1lx5xxc": 2.17,
      "melwxs": 2.16,
      "18lpfk0": 2.15,
      "935ekg": 2.14,
      "1qczg1s": 2.13,
      "quff28": 2.12,
      "zq2fb4": 2.11,
      "7iebk": 2.1,
      "1hhcfsw": 2.09,
      "hysetc": 2.08,
      "1f9foqo": 2.07,
      "fqvnr4": 2.06,
      "1x0pp8g": 2.05,
      "xi5o8w": 2.04,
      "16dsohs": 2.03,
      "6v8ni8": 2.02,
      "1o52ozk": 2.01,
      "omio00": 2,
      "1atm6m8": 1.99,
      "bb25mo": 1.98,
      "1skw740": 1.97,
      "t2c64g": 1.96,
      "11xz6dc": 1.95,
      "2ff5ds": 1.94,
      "1jp96v4": 1.93,
      "k6p5vk": 1.92,
      "1epghz4": 1.91,
      "f6wgzk": 1.9,
      "1wgqigw": 1.89,
      "wy6hhc": 1.88,
      "15tthq8": 1.87,
      "6b9gqo": 1.86,
      "1nl3i80": 1.85,
      "o2jh8g": 1.84,
      "1a9mzuo": 1.83,
      "ar2yv4": 1.82,
      "1s0x0cg": 1.81,
      "siczcw": 1.8,
      "11dzzls": 1.79,
      "1vfym8": 1.78,
      "1j5a03k": 1.77,
      "jmpz40": 1.76,
      "1gxd91c": 1.75,
      "het81s": 1.74,
      "1yon9j4": 1.73,
      "z638jk": 1.72,
      "181q8sg": 1.71,
      "8j67sw": 1.7,
      "1pt09a8": 1.69,
      "qag8ao": 1.68,
      "1chjqww": 1.67,
      "cyzpxc": 1.66,
      "1u8treo": 1.65,
      "uq9qf4": 1.64,
      "13lwqo0": 1.63,
      "43cpog": 1.62,
      "1ld6r5s": 1.61,
      "lumq68": 1.6,
      "1dli4g0": 1.59,
      "e2y3gg": 1.58,
      "1vcs4xs": 1.57,
      "vu83y8": 1.56,
      "14pv474": 1.55,
      "57b37k": 1.54,
      "1mh54ow": 1.53,
      "myl3pc": 1.52,
      "195ombk": 1.51,
      "9n4lc0": 1.5,
      "1qwymtc": 1.49,
      "reelts": 1.48,
      "10a1m2o": 1.47,
      "rhl34": 1.46,
      "1i1bmkg": 1.45,
      "iirlkw": 1.44,
      "1ftevi8": 1.43,
      "gauuio": 1.42,
      "1xkow00": 1.41,
      "y24v0g": 1.4,
      "16xrv9c": 1.39,
      "7f7u9s": 1.38,
      "1op1vr4": 1.37,
      "p6hurk": 1.36,
      "1bdldds": 1.35,
      "bv1ce8": 1.34,
      "1t4vdvk": 1.33,
      "tmbcw0": 1.32,
      "12hyd4w": 1.31,
      "2zec5c": 1.3,
      "1k98dmo": 1.29,
      "kqocn4": 1.28,
      "1efgwlc": 1.27,
      "ewwvls": 1.26,
      "1w6qx34": 1.25,
      "wo6w3k": 1.24,
      "15jtwcg": 1.23,
      "619vcw": 1.22,
      "1nb3wu8": 1.21,
      "nsjvuo": 1.2,
      "19znegw": 1.19,
      "ah3dhc": 1.18,
      "1rqxeyo": 1.17,
      "s8ddz4": 1.16,
      "1140e80": 1.15,
      "1lgd8g": 1.14,
      "1ivaeps": 1.13,
      "jcqdq8": 1.12,
      "1gndnnk": 1.11,
      "h4tmo0": 1.1,
      "1yeno5c": 1.09,
      "yw3n5s": 1.08,
      "17rqneo": 1.07,
      "896mf4": 1.06,
      "1pj0nwg": 1.05,
      "q0gmww": 1.04,
      "1c7k5j4": 1.03,
      "cp04jk": 1.02,
      "1tyu60w": 1.01,
      "uga51c": 1,
      "13bx5a8": 0.99,
      "3td4ao": 0.98,
      "1l375s0": 0.97,
      "lkn4sg": 0.96,
      "1dbij28": 0.95,
      "dsyi2o": 0.94,
      "1v2sjk0": 0.93,
      "vk8ikg": 0.92,
      "14fvitc": 0.91,
      "4xbhts": 0.9,
      "1m75jb4": 0.89,
      "molibk": 0.88,
      "18vp0xs": 0.87,
      "9d4zy8": 0.86,
      "1qmz1fk": 0.85,
      "r4f0g0": 0.84,
      "10020ow": 0.83,
      "hhzpc": 0.82,
      "1hrc16o": 0.81,
      "i8s074": 0.8,
      "1fjfa4g": 0.79,
      "g0v94w": 0.78,
      "1xapam8": 0.77,
      "xs59mo": 0.76,
      "16ns9vk": 0.75,
      "7588w0": 0.74,
      "1of2adc": 0.73,
      "owi9ds": 0.72,
      "1b3ls00": 0.71,
      "bl1r0g": 0.7,
      "1suvshs": 0.69,
      "tcbri8": 0.68,
      "127yrr4": 0.67,
      "2peqrk": 0.66,
      "1jz8s8w": 0.65,
      "kgor9c": 0.64,
      "1ezg3cw": 0.63,
      "fgw2dc": 0.62,
      "1wqq3uo": 0.61,
      "x862v4": 0.6,
      "163t340": 0.59,
      "6l924g": 0.58,
      "1nv33ls": 0.57,
      "ocj2m8": 0.56,
      "1ajml8g": 0.55,
      "b12k8w": 0.54,
      "1sawlq8": 0.53,
      "ssckqo": 0.52,
      "11nzkzk": 0.51,
      "25fk00": 0.5,
      "1jf9lhc": 0.49,
      "jwpkhs": 0.48,
      "1h7cuf4": 0.47,
      "hostfk": 0.46,
      "1yymuww": 0.45,
      "zg2txc": 0.44,
      "18bpu68": 0.43,
      "8t5t6o": 0.42,
      "1q2zuo0": 0.41,
      "qkftog": 0.4,
      "1crjcao": 0.39,
      "d8zbb4": 0.38,
      "1uitcsg": 0.37,
      "v09bsw": 0.36,
      "13vwc1s": 0.35,
      "4dcb28": 0.34,
      "1ln6cjk": 0.33,
      "m4mbk0": 0.32,
      "1dvhpts": 0.31,
      "ecxou8": 0.3,
      "1vmrqbk": 0.29,
      "w47pc0": 0.28,
      "14zupkw": 0.27,
      "5haolc": 0.26,
      "1mr4q2o": 0.25,
      "n8kp34": 0.24,
      "19fo7pc": 0.23,
      "9x46ps": 0.22,
      "1r6y874": 0.21,
      "roe77k": 0.2,
      "10k17gg": 0.19,
      "11h6gw": 0.18,
      "1ibb7y8": 0.17,
      "isr6yo": 0.16,
      "1g3egw0": 0.15,
      "gkufwg": 0.14,
      "1xuohds": 0.13,
      "yc4ge8": 0.12,
      "177rgn4": 0.11,
      "7p7fnk": 0.1,
      "1oz1h4w": 0.09,
      "pghg5c": 0.08,
      "1bnkyrk": 0.07,
      "c50xs0": 0.06,
      "1teuz9c": 0.05,
      "tway9s": 0.04,
      "12rxyio": 0.03,
      "39dxj4": 0.02,
      "1kj7z0g": 0.01
    },
    adRenderAction: {
      action: {},
      pb: {},
      bidWon: {},
      gAdRequestTimeout: {}
    },
    auctionLogs: {},
    pixelID: "vi_pixel_8383",
    analyticIframeId: "vi_track_8383",
    visibilChangAction: {
      hidden: {},
      watching: {}
    },
    totalLoad: 1,
    inLoading: 0,
    safeFrame: go_settings.safeFrame == "on" ? "on" : "off",
    reloadMode: go_settings.reloadMode != "" ? go_settings.reloadMode : "signal",
    pbRender: go_settings.pbRender != "" ? go_settings.pbRender : "iframe",
    adloadType: go_settings.adloadType != "" ? go_settings.adloadType : "lazy_load",
    bannerRefreshTime: go_settings.adRefreshTime > 30000 ? go_settings.adRefreshTime / 1000 : 60,
    // in seconds
    bannerRefreshTimeInViewPort: go_settings.inViewRefresh && go_settings.inViewRefresh > 15000 ? go_settings.inViewRefresh / 1000 : 30,
    // in seconds
    gSlots: [],
    displayAdID: [],
    isVisible: null,
    adsVolume: 0,
    changeAdsVolume: false,
    preventRqBid: false,
    viewabilityCheck: {},
    DebugParam: getUrlParam("vi_debug").toUpperCase() === "TRUE" && go_settings.enableDebug == "on" ? true : false,
    VIdebug: true,
    biddingTest: getUrlParam("bidtest").toUpperCase() === "TRUE" || navigator.cookieEnabled && typeof Storage !== "undefined" && sessionStorage.getItem('bidtest') === "true" ? "on" : "off",
    EUCountry: "NO DE BE PT BG DK LT LU HR LV FR HU SE MC SI SK MF SM GB YT IE GF EE MQ MT GP IS IT GR ES AT RE CY CZ AX PL LI RO NL",
    analyticsID: go_settings.gaId,
    domainName: decodeString(go_settings.dmtk),
    VIGeo: window["_VLIOBJ"].geo ? window["_VLIOBJ"].geo.toUpperCase() : false,
    IPBlocked: window["_VLIOBJ"].vinasat || "132kd",
    // Block IP 132kd is false || other true
    GoodIP: "132kd",
    GeoState: window["_VLIOBJ"].state || [],
    ipProbability: window["_VLIOBJ"].ipProbability || 0,
    refererSlotID: getCookie("__vlirefsid"),
    refererDomainID: getCookie("__vliref"),
    noneSafeFrameBidder: ["consumable", "audienceNetwork", "brightcom", "amazon"],
    googleRate: go_settings.googleRate ? go_settings.googleRate : 1,
    bannerRequestMode: window["_VLIOBJ"].blk === true ? "postbid" : go_settings.jsType,
    videoRequestMode: window["_VLIOBJ"].blk === true ? "postbid" : go_settings.jsType,
    userTracking: {
      userActive: false,
      focusPage: false
    },
    enableIcReport: go_settings.enableIcReport ? go_settings.enableIcReport : "on",
    // enable icon report ads
    enableItemIcReport: {},
    // object item icon report ads
    dataBidWin: {},
    // data bid win banner set report ads
    prioritizeFormat: go_settings.prioritizeFormat ? go_settings.prioritizeFormat : "all",
    sizeOldBid: {},
    customGeo: [],
    sliderVolume: 0,
    isVideoRunning: false,
    instreamTag: false,
    initSmartBanner: false,
    numberRequestVideoToDfp: 0,
    demandTest: false,
    amazonEnabled: false,
    collector: go_settings.collector ? go_settings.collector : "on",
    funcPlayDiscovery: function funcPlayDiscovery() {},
    isPlayedInstream: false,
    videoDiscoveryInited: false,
    distanceBottomDiscovery: {
      increase: function increase() {},
      reduction: function reduction() {}
    },
    controlDiscovery: {
      play: function play() {},
      pause: function pause() {}
    },
    bidWonDemands: {},
    listAdPlaying: {
      videoDiscovery: false,
      outstream: false,
      instream: false
    },
    GEOLocation: null,
    userSyncConfig: {
      filterSettings: {
        iframe: {
          bidders: '*',
          // '*' represents all bidders
          filter: 'include'
        }
      },
      aliasSyncEnabled: true,
      //enable user sync for valueimpression adapter (alias of quantumdex adapter)
      syncsPerBidder: go_settings.domainID == 3999 ? 5 : 0,
      userIds: [{
        name: "criteo"
      }, {
        name: "id5Id",
        params: {
          partner: 696
        },
        storage: {
          type: "html5",
          name: "id5id",
          expires: 90,
          refreshInSeconds: 8 * 3600
        }
      }, {
        name: "pubCommonId",
        params: {
          enableSharedId: true
        },
        storage: {
          type: "html5",
          name: "_pubcid",
          expires: 180
        }
      }, {
        name: 'sharedId',
        params: {
          syncTime: 60
        },
        storage: {
          type: 'cookie',
          name: 'sharedid',
          expires: 28
        }
      }, {
        name: 'flocId',
        params: {
          token: "A3dHTSoNUMjjERBLlrvJSelNnwWUCwVQhZ5tNQ+sll7y+LkPPVZXtB77u2y7CweRIxiYaGwGXNlW1/dFp8VMEgIAAAB+eyJvcmlnaW4iOiJodHRwczovL3NoYXJlZGlkLm9yZzo0NDMiLCJmZWF0dXJlIjoiSW50ZXJlc3RDb2hvcnRBUEkiLCJleHBpcnkiOjE2MjYyMjA3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9" // Default sharedid.org token 

        }
      }, {
        name: "amxId",
        storage: {
          name: "amxId",
          type: "html5",
          expires: 15
        }
      }]
    },
    disableDefaultDfpFloorPrice: go_settings.disableDefaultDfpFloorPrice ? go_settings.disableDefaultDfpFloorPrice : [],
    sendTargeting: go_settings.sendTargeting ? go_settings.sendTargeting : "off",
    reBidDiscoveryTypeDfp: go_settings.reBidDiscoveryTypeDfp ? go_settings.reBidDiscoveryTypeDfp : 30,
    // thời gian refresh bid định dạng video discovery cho site có type là dfp
    reBidDiscoveryTypePostbid: go_settings.reBidDiscoveryTypePostbid ? go_settings.reBidDiscoveryTypePostbid : 15,
    // thời gian refresh bid định dạng video discovery cho site có type là postbid
    //Chi tiết mức giá cho đơn hàng DFP
    bannerPriceGranularity: {
      "buckets": [{
        "precision": 2,
        "min": 0,
        "max": 22.50,
        "increment": .01
      }]
    },
    videoPriceGranularity: {
      buckets: [{
        precision: 2,
        min: 0,
        max: .1,
        increment: .01
      }, {
        precision: 2,
        min: .1,
        max: 10,
        increment: .05
      }, {
        precision: 2,
        min: 10,
        max: 15,
        increment: .25
      }, {
        precision: 2,
        min: 15,
        max: 30,
        increment: .5
      }, {
        precision: 2,
        min: 30,
        max: 40,
        increment: 1
      }, {
        precision: 2,
        min: 40,
        max: 110,
        increment: 5
      }]
    },
    blockCreatives: [],
    device: mobileDetect() ? "mobile" : "pc",
    newPixelEnabled: go_settings.enableNewPixel && go_settings.enableNewPixel == "on" ? true : false,
    floorPriceTargeting: go_settings.targetFloor ? go_settings.targetFloor : {},
    targetDemandAccount: go_settings.targetAccount ? go_settings.targetAccount : [],
    targetDfpAcc: go_settings.targetDfpAcc ? go_settings.targetDfpAcc : [],
    ggAccActived: go_settings.ggAccActived ? go_settings.ggAccActived : {},
    // google account actived on this domain
    useNewDfpAdUnit: go_settings.useNewAdUnit && go_settings.useNewAdUnit == "on" ? true : false
  };
  constants.targetGoogleAccByAdFormat = {
    display: getGoogleAccountTargeted("display", constants.VIGeo),
    instream: getGoogleAccountTargeted("instream", constants.VIGeo),
    videoDiscovery: getGoogleAccountTargeted("video_discovery", constants.VIGeo),
    smartBanner: getGoogleAccountTargeted("smart_banner", constants.VIGeo),
    topArticles: getGoogleAccountTargeted("top_articles", constants.VIGeo),
    interstitial: getGoogleAccountTargeted("interstitial", constants.VIGeo),
    imageSlide: getGoogleAccountTargeted("image_slide", constants.VIGeo),
    banner: getGoogleAccountTargeted("display", constants.VIGeo),
    // sử dụng trong utils.getCustomHBPB
    "native": getGoogleAccountTargeted("native", constants.VIGeo),
    // sử dụng trong utils.getCustomHBPB
    video: getGoogleAccountTargeted("instream", constants.VIGeo) // sử dụng trong utils.getCustomHBPB

  };
  constants.isUserInEU = constants.EUCountry.split(" ").indexOf(constants.VIGeo) !== -1 ? true : false;
  constants.brandIcon = constants.staticDomain + go_settings.tagConfig.icon;
  constants.brandLogo = constants.staticDomain + go_settings.tagConfig.logo;
  constants = Object.assign({}, constants, go_settings);

  if (constants.domainID === 12699) {
    constants.listCatForSite = ["IAB15"];
    constants.listCatForPage = ["IAB15-8"];
    window[constants.tagName].keywordInSite = "list country, maps, allmaps";
    window[constants.tagName].keySearch = "maps123";
    window[constants.tagName].privacypolicy = 0;
  }

  constants.ortb2 = {
    site: {
      name: window.location.hostname,
      domain: window.location.hostname,
      cat: constants.listCatForSite || null,
      sectioncat: constants.listCatForPage || null,
      pagecat: constants.listCatForPage || null,
      page: window.location.href,
      ref: document.referrer,
      keywords: window[constants.tagName] && window[constants.tagName].keywordInSite ? window[constants.tagName].keywordInSite : "",
      search: window[constants.tagName] && window[constants.tagName].keySearch ? window[constants.tagName].keySearch : "",
      privacypolicy: window[constants.tagName] && window[constants.tagName].privacypolicy ? window[constants.tagName].privacypolicy : 0,
      mobile: mobileDetect() ? 1 : 0
    },
    user: {
      yob: window[constants.tagName] && window[constants.tagName].yobUser ? window[constants.tagName].yobUser : null,
      gender: window[constants.tagName] && window[constants.tagName].genderUser ? window[constants.tagName].genderUser : "O",
      keywords: window[constants.tagName] && window[constants.tagName].keywordForUser ? window[constants.tagName].keywordForUser : ""
    }
  };

  if (constants.VIGeo && constants.VIGeo === "JP") {
    constants.useAmazonUAM = "off";
  }

  if (constants.useAmazonUAM === "on" && checkTrafficDrive("amazon", constants.customGeo, constants.VIGeo)) {
    constants.amazonEnabled = true;
  }

  if (getCookie("__viReqMode")) {
    constants.bannerRequestMode = constants.videoRequestMode = getCookie("__viReqMode");
  }
} catch (e) {
  captureException(e, "[Constants - init]");
}

function assignConfig(customConfig) {
  try {
    if (customConfig.gbk == true) {
      constants.bannerRequestMode = "postbid";
      constants.videoRequestMode = "postbid";
      constants.gbk = true;
    } else {
      constants.bannerRequestMode = go_settings.jsType;
      constants.videoRequestMode = go_settings.jsType;
    }

    if (getCookie("__viReqMode")) {
      constants.bannerRequestMode = constants.videoRequestMode = getCookie("__viReqMode");
    }

    _eventFire("ASSIGN_CONFIG_COMPLETE");
  } catch (e) {
    captureException(e, "[Constants - assignConfig]");
  }
}

if (window.hashString && constants.verizonConnect === "on" && constants.VIGeo === "US") {
  utlis_vilog("[Utils] Send Email verizonMediaId");
  constants.userSyncConfig.userIds.push({
    name: "verizonMediaId",
    params: {
      pixelId: 58449,
      he: window.hashString
    },
    storage: {
      type: "cookie",
      name: "connectid",
      expires: 15
    }
  });

  if (!getCookie("__viverizonId") || getCookie("__viverizonId") === "") {
    var constants_objData = {};
    constants_objData.emailhash = window.hashString;
    constants_objData.pixelId = 58449;
    constants_objData.url = window.location.href;
    constants_objData.geo = constants.VIGeo;
    constants_objData.ua = navigator.userAgent;
    ajaxRequest(constants.logsEngineUrl + "?type=verizon_connectID&domain=" + constants.domainName, "POST", "text", 2000, false, JSON.stringify(constants_objData), function () {}, function () {});
    setCookie("__viverizonId", 1, 1);
  }
}

var cloneFields = ['instreamSlot', 'outstreamSlot', 'displaySlot', 'smartBanner', 'topArticle', 'nativeSlot', 'interstitial', 'imageSlide'];
var cloneConstants = JSON.parse(JSON.stringify(constants));

for (var constants_key in cloneConstants) {
  if (Object.hasOwnProperty.call(cloneConstants, constants_key)) {
    if (!cloneFields.includes(constants_key)) {
      delete cloneConstants[constants_key];
    }
  }
}

function getGoogleAccountTargeted(adFormat, countryCode) {
  var adxRequire = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var highestPriority = 10;
  var result = {};

  try {
    constants.targetDemandAccount.forEach(function (target) {
      if (!constants.ggAccActived[target.accountId]) {
        return;
      }

      if (adxRequire && constants.ggAccActived[target.accountId].type != "adx") {
        return;
      }

      if (target.countryCode !== false && target.countryTargetRule == "included" && target.countryCode.indexOf(countryCode) === -1) {
        return;
      }

      if (target.countryCode !== false && target.countryTargetRule == "excluded" && target.countryCode.indexOf(countryCode) !== -1) {
        return;
      }

      if (target.adFormat !== false && target.adFormat.indexOf(adFormat) === -1) {
        return;
      }

      if (target.priority > highestPriority) {
        return;
      }

      highestPriority = target.priority;
      result = constants.ggAccActived[target.accountId];
    });
  } catch (e) {
    captureException(e, "[Constants - getGoogleAccountTargeted]");
  }

  return result;
}

constants.baseConstants = cloneConstants;
/* harmony default export */ var plugins_v2_constants = (constants);
// CONCATENATED MODULE: ./src/plugins_v2/viewport-detect.js
var viewportDetectInit = function viewportDetectInit() {
  var addObserveApi = function addObserveApi() {
    if (typeof window.IntersectionObserver === 'function') return;

    (function (i, l) {
      if ("IntersectionObserver" in i && "IntersectionObserverEntry" in i && "intersectionRatio" in i.IntersectionObserverEntry.prototype) {
        if (!("isIntersecting" in i.IntersectionObserverEntry.prototype)) {
          Object.defineProperty(i.IntersectionObserverEntry.prototype, "isIntersecting", {
            get: function get() {
              return this.intersectionRatio > 0;
            }
          });
        }

        return;
      }

      var b = [];

      function e(q) {
        this.time = q.time;
        this.target = q.target;
        this.rootBounds = q.rootBounds;
        this.boundingClientRect = q.boundingClientRect;
        this.intersectionRect = q.intersectionRect || j();
        this.isIntersecting = !!q.intersectionRect;
        var s = this.boundingClientRect;
        var r = s.width * s.height;
        var p = this.intersectionRect;
        var o = p.width * p.height;

        if (r) {
          this.intersectionRatio = Number((o / r).toFixed(4));
        } else {
          this.intersectionRatio = this.isIntersecting ? 1 : 0;
        }
      }

      function a(q, p) {
        var o = p || {};

        if (typeof q != "function") {
          throw new Error("callback must be a function");
        }

        if (o.root && o.root.nodeType != 1) {
          throw new Error("root must be an Element");
        }

        this._checkForIntersections = m(this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);
        this._callback = q;
        this._observationTargets = [];
        this._queuedEntries = [];
        this._rootMarginValues = this._parseRootMargin(o.rootMargin);
        this.thresholds = this._initThresholds(o.threshold);
        this.root = o.root || null;
        this.rootMargin = this._rootMarginValues.map(function (r) {
          return r.value + r.unit;
        }).join(" ");
      }

      a.prototype.THROTTLE_TIMEOUT = 100;
      a.prototype.POLL_INTERVAL = null;
      a.prototype.USE_MUTATION_OBSERVER = true;

      a.prototype.observe = function (p) {
        var o = this._observationTargets.some(function (q) {
          return q.element == p;
        });

        if (o) {
          return;
        }

        if (!(p && p.nodeType == 1)) {
          throw new Error("target must be an Element");
        }

        this._registerInstance();

        this._observationTargets.push({
          element: p,
          entry: null
        });

        this._monitorIntersections();

        this._checkForIntersections();
      };

      a.prototype.unobserve = function (o) {
        this._observationTargets = this._observationTargets.filter(function (p) {
          return p.element != o;
        });

        if (!this._observationTargets.length) {
          this._unmonitorIntersections();

          this._unregisterInstance();
        }
      };

      a.prototype.disconnect = function () {
        this._observationTargets = [];

        this._unmonitorIntersections();

        this._unregisterInstance();
      };

      a.prototype.takeRecords = function () {
        var o = this._queuedEntries.slice();

        this._queuedEntries = [];
        return o;
      };

      a.prototype._initThresholds = function (p) {
        var o = p || [0];

        if (!Array.isArray(o)) {
          o = [o];
        }

        return o.sort().filter(function (s, r, q) {
          if (typeof s != "number" || isNaN(s) || s < 0 || s > 1) {
            throw new Error("threshold must be a number between 0 and 1 inclusively");
          }

          return s !== q[r - 1];
        });
      };

      a.prototype._parseRootMargin = function (o) {
        var p = o || "0px";
        var q = p.split(/\s+/).map(function (r) {
          var s = /^(-?\d*\.?\d+)(px|%)$/.exec(r);

          if (!s) {
            throw new Error("rootMargin must be specified in pixels or percent");
          }

          return {
            value: parseFloat(s[1]),
            unit: s[2]
          };
        });
        q[1] = q[1] || q[0];
        q[2] = q[2] || q[0];
        q[3] = q[3] || q[1];
        return q;
      };

      a.prototype._monitorIntersections = function () {
        if (!this._monitoringIntersections) {
          this._monitoringIntersections = true;

          if (this.POLL_INTERVAL) {
            this._monitoringInterval = setInterval(this._checkForIntersections, this.POLL_INTERVAL);
          } else {
            f(i, "resize", this._checkForIntersections, true);
            f(l, "scroll", this._checkForIntersections, true);

            if (this.USE_MUTATION_OBSERVER && "MutationObserver" in i) {
              this._domObserver = new MutationObserver(this._checkForIntersections);

              this._domObserver.observe(l, {
                attributes: true,
                childList: true,
                characterData: true,
                subtree: true
              });
            }
          }
        }
      };

      a.prototype._unmonitorIntersections = function () {
        if (this._monitoringIntersections) {
          this._monitoringIntersections = false;
          clearInterval(this._monitoringInterval);
          this._monitoringInterval = null;
          k(i, "resize", this._checkForIntersections, true);
          k(l, "scroll", this._checkForIntersections, true);

          if (this._domObserver) {
            this._domObserver.disconnect();

            this._domObserver = null;
          }
        }
      };

      a.prototype._checkForIntersections = function () {
        var p = this._rootIsInDom();

        var o = p ? this._getRootRect() : j();

        this._observationTargets.forEach(function (t) {
          var w = t.element;
          var v = d(w);

          var r = this._rootContainsTarget(w);

          var s = t.entry;

          var q = p && r && this._computeTargetAndRootIntersection(w, o);

          var u = t.entry = new e({
            time: c(),
            target: w,
            boundingClientRect: v,
            rootBounds: o,
            intersectionRect: q
          });

          if (!s) {
            this._queuedEntries.push(u);
          } else {
            if (p && r) {
              if (this._hasCrossedThreshold(s, u)) {
                this._queuedEntries.push(u);
              }
            } else {
              if (s && s.isIntersecting) {
                this._queuedEntries.push(u);
              }
            }
          }
        }, this);

        if (this._queuedEntries.length) {
          this._callback(this.takeRecords(), this);
        }
      };

      a.prototype._computeTargetAndRootIntersection = function (v, q) {
        if (i.getComputedStyle(v).display == "none") {
          return;
        }

        var u = d(v);
        var p = u;
        var s = n(v);
        var r = false;

        while (!r) {
          var o = null;
          var t = s.nodeType == 1 ? i.getComputedStyle(s) : {};

          if (t.display == "none") {
            return;
          }

          if (s == this.root || s == l) {
            r = true;
            o = q;
          } else {
            if (s != l.body && s != l.documentElement && t.overflow != "visible") {
              o = d(s);
            }
          }

          if (o) {
            p = g(o, p);

            if (!p) {
              break;
            }
          }

          s = n(s);
        }

        return p;
      };

      a.prototype._getRootRect = function () {
        var p;

        if (this.root) {
          p = d(this.root);
        } else {
          var q = l.documentElement;
          var o = l.body;
          p = {
            top: 0,
            left: 0,
            right: q.clientWidth || o.clientWidth,
            width: q.clientWidth || o.clientWidth,
            bottom: q.clientHeight || o.clientHeight,
            height: q.clientHeight || o.clientHeight
          };
        }

        return this._expandRectByRootMargin(p);
      };

      a.prototype._expandRectByRootMargin = function (p) {
        var q = this._rootMarginValues.map(function (s, r) {
          return s.unit == "px" ? s.value : s.value * (r % 2 ? p.width : p.height) / 100;
        });

        var o = {
          top: p.top - q[0],
          right: p.right + q[1],
          bottom: p.bottom + q[2],
          left: p.left - q[3]
        };
        o.width = o.right - o.left;
        o.height = o.bottom - o.top;
        return o;
      };

      a.prototype._hasCrossedThreshold = function (q, t) {
        var p = q && q.isIntersecting ? q.intersectionRatio || 0 : -1;
        var s = t.isIntersecting ? t.intersectionRatio || 0 : -1;

        if (p === s) {
          return;
        }

        for (var r = 0; r < this.thresholds.length; r++) {
          var o = this.thresholds[r];

          if (o == p || o == s || o < p !== o < s) {
            return true;
          }
        }
      };

      a.prototype._rootIsInDom = function () {
        return !this.root || h(l, this.root);
      };

      a.prototype._rootContainsTarget = function (o) {
        return h(this.root || l, o);
      };

      a.prototype._registerInstance = function () {
        if (b.indexOf(this) < 0) {
          b.push(this);
        }
      };

      a.prototype._unregisterInstance = function () {
        var o = b.indexOf(this);

        if (o != -1) {
          b.splice(o, 1);
        }
      };

      function c() {
        return i.performance && performance.now && performance.now();
      }

      function m(o, p) {
        var q = null;
        return function () {
          if (!q) {
            q = setTimeout(function () {
              o();
              q = null;
            }, p);
          }
        };
      }

      function f(q, p, o, r) {
        if (typeof q.addEventListener == "function") {
          q.addEventListener(p, o, r || false);
        } else {
          if (typeof q.attachEvent == "function") {
            q.attachEvent("on" + p, o);
          }
        }
      }

      function k(q, p, o, r) {
        if (typeof q.removeEventListener == "function") {
          q.removeEventListener(p, o, r || false);
        } else {
          if (typeof q.detatchEvent == "function") {
            q.detatchEvent("on" + p, o);
          }
        }
      }

      function g(r, p) {
        var v = Math.max(r.top, p.top);
        var q = Math.min(r.bottom, p.bottom);
        var u = Math.max(r.left, p.left);
        var s = Math.min(r.right, p.right);
        var t = s - u;
        var o = q - v;
        return t >= 0 && o >= 0 && {
          top: v,
          bottom: q,
          left: u,
          right: s,
          width: t,
          height: o
        };
      }

      function d(o) {
        var q;

        try {
          q = o.getBoundingClientRect();
        } catch (p) {}

        if (!q) {
          return j();
        }

        if (!(q.width && q.height)) {
          q = {
            top: q.top,
            right: q.right,
            bottom: q.bottom,
            left: q.left,
            width: q.right - q.left,
            height: q.bottom - q.top
          };
        }

        return q;
      }

      function j() {
        return {
          top: 0,
          bottom: 0,
          left: 0,
          right: 0,
          width: 0,
          height: 0
        };
      }

      function h(o, q) {
        var p = q;

        while (p) {
          if (p == o) {
            return true;
          }

          p = n(p);
        }

        return false;
      }

      function n(p) {
        var o = p.parentNode;

        if (o && o.nodeType == 11 && o.host) {
          return o.host;
        }

        if (o && o.assignedSlot) {
          return o.assignedSlot.parentNode;
        }

        return o;
      }

      i.IntersectionObserver = a;
      i.IntersectionObserverEntry = e;
    })(window, document);
  };

  addObserveApi();
  if (typeof window.observeElementInViewport !== 'undefined') return;
  var defaultOptions = {
    viewport: null,
    modTop: '0px',
    modRight: '0px',
    modBottom: '0px',
    modLeft: '0px',
    threshold: [0]
  };

  function observeElementInViewport(el, inHandler, outHandler, opts) {
    if (!el) {
      throw new Error('Target element to observe should be a valid DOM Node');
    }

    opts = Object.assign({}, defaultOptions, opts);
    var const_viewport = typeof opts.viewport !== "undefined" ? opts.viewport : defaultOptions.viewport;
    var const_modTop = typeof opts.modTop !== "undefined" ? opts.modTop : defaultOptions.modTop;
    var const_modRight = typeof opts.modRight !== "undefined" ? opts.modRight : defaultOptions.modRight;
    var const_modBottom = typeof opts.modBottom !== "undefined" ? opts.modBottom : defaultOptions.modBottom;
    var const_modLeft = typeof opts.modLeft !== "undefined" ? opts.modLeft : defaultOptions.modLeft;
    var const_threshold = typeof opts.threshold !== "undefined" ? opts.threshold : defaultOptions.threshold;

    if (!Array.isArray(const_threshold) && !(typeof const_threshold === 'number')) {
      throw new Error('threshold should be a number or an array of numbers');
    }

    var thresholdArray = Array.isArray(const_threshold) ? const_threshold.map(mod101) : [Math.floor(const_threshold ? const_threshold % 101 : 0) / 100];

    function mod101(val) {
      return Math.floor(val % 101) / 100;
    }

    var minThreshold = Math.min(Math.min.apply(null, thresholdArray));
    var intersectionObserverOptions = {
      root: const_viewport instanceof Node ? const_viewport : null,
      rootMargin: const_modTop + ' ' + const_modRight + ' ' + const_modBottom + ' ' + const_modLeft,
      threshold: thresholdArray
    };

    var cb = function cb(entries, observer) {
      var entryForEl = entries.filter(entry_target)[0];

      function entry_target(entry) {
        return entry.target === el;
      }

      var unobserve = function unobserve() {
        observer.unobserve(el);
      };

      if (entryForEl) {
        var isIntersecting = entryForEl.isIntersecting;
        var intersectionRatio = entryForEl.intersectionRatio;
        entryForEl.isInViewport = isIntersecting && intersectionRatio >= minThreshold;

        if (entryForEl.isInViewport) {
          inHandler(entryForEl, unobserve, el);
        } else {
          outHandler(entryForEl, unobserve, el);
        }
      }
    };

    var intersectionObserver = new IntersectionObserver(cb, intersectionObserverOptions);
    intersectionObserver.observe(el);
    return function () {
      intersectionObserver.unobserve(el);
    };
  }

  var isInViewport = function isInViewport(el, opts) {
    return new Promise(function (resolve, reject) {
      try {
        observeElementInViewport(el, function (_, unobserve) {
          unobserve();
          resolve(true);
        }, function (_, unobserve) {
          unobserve();
          resolve(false);
        }, opts);
      } catch (e) {
        reject(e);
      }
    });
  };

  window.observeElementInViewport = {};
  window.observeElementInViewport.observeElementInViewport = observeElementInViewport;
  window.observeElementInViewport.isInViewport = isInViewport;
};


// EXTERNAL MODULE: ./node_modules/quadtree-lib/build/js/quadtree.min.js
var quadtree_min = __webpack_require__(35);

// CONCATENATED MODULE: ./src/plugins_v2/icon.js


function renderViIcon(adSlotId) {
  var pLeft = '0px';

  if (plugins_v2_constants.enableIcReport != "off") {
    pLeft = '18px';
    var icReport = renderViIconRp(adSlotId);
  }

  var h = window.location.hostname;
  var viIcon = document.createElement("vli");
  viIcon.className = "vliIcon vliIgnore";
  viIcon.style.cssText = 'float:left!important;cursor:pointer;opacity:0!important;padding:0!important;margin-left:1px!important;border-top-right-radius:5px!important;background-color:rgba(255, 255, 255, 0.9) !important;overflow:hidden!important;left:' + pLeft + '!important;bottom:0px!important;z-index:9999!important;transition:width 0.3s ease 0s,opacity 0.3s ease-in-out!important;height:16px!important;width:16px!important;';
  viIcon.addEventListener('mouseover', function () {
    viIcon.style.setProperty("width", "132px", "important");
  });
  viIcon.addEventListener('mouseout', function () {
    viIcon.style.setProperty("width", "16px", "important");
  });

  if (plugins_v2_constants.enableIcon == "on") {
    setTimeout(function () {
      viIcon.style.setProperty("opacity", "1", "important");
    }, 100);
  }

  viIcon.innerHTML = addIcon();
  viIcon.setAttribute("title", "Visit " + plugins_v2_constants.brandHomepage);
  viIcon.addEventListener("click", function () {
    window.open("//" + plugins_v2_constants.brandHomepage + "/?ref=" + h, '_blank');
  });
  var viWrapperIC = document.createElement("vli");
  viWrapperIC.id = "__icon_" + adSlotId;

  if (plugins_v2_constants.enableIcReport != "off") {
    viWrapperIC.append(icReport);
  }

  viWrapperIC.append(viIcon);
  return viWrapperIC;
}

function addIcon() {
  var textRender = "Ad by</vli> <vli style=\"font-size:11px!important;font-family:inherit!important;line-height:8px;font-weight:400;\">".concat(plugins_v2_constants.brandName);

  if (plugins_v2_constants.enableIcon === "off") {
    textRender = "Advertisement report";
  }

  return "<vli style=\"display:block;width:initial;\">\n            <vli style=\"float:left;display:inline-block;height:14px;width:14px;padding:1px;\">\n                <vli style=\"display:block;width:14px;height:14px;\">\n                    <vli style=\"display:inherit!important;margin-top:0.5px!important;width:14px!important;height:13px!important;background-image:url('//".concat(plugins_v2_constants.brandIcon, "')!important;background-size:cover!important;\"></vli>\n                </vli>\n            </vli>\n            <vli style=\"float:left;display:block;white-space:nowrap;height:12px;padding:2px;\">\n                <vli target=\"_blank\" style=\"display:block;text-decoration:none;color:#333;font-family:Arial;line-height:8px;font-weight:400;\" class=\"notranslate\">\n                    <vli style=\"font-size:10px!important;font-family:inherit!important;line-height:8px;font-weight:400;\">\n                    ") + textRender + "\n                    </vli>\n                </vli>\n            </vli>\n            <vli style=\"clear:both;\"></vli>\n        </vli>";
}

function renderViIconRp(adUnitCode) {
  var chosenPosition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var viIconRp = document.createElement("div");
  viIconRp.className = "vliIconRp vliIgnore";

  if (chosenPosition) {
    viIconRp.className = "vliIconRpSM vliIgnore";

    if (mobileDetect()) {
      viIconRp.style.cssText = 'top: ' + (chosenPosition.height - 13) + 'px;background-color: #fff; cursor:pointer;position:absolute!important;bottom:0px!important;z-index:9999!important;height:13px!important;width:13px!important;';
    } else {
      viIconRp.style.cssText = 'top: ' + (chosenPosition.height - 15) + 'px;background-color: #fff; cursor:pointer;position:absolute!important;bottom:0px!important;z-index:9999!important;height:15px!important;width:15px!important;';
    }

    if (chosenPosition.horizontal === "right") {
      viIconRp.style.cssText += "right:0px!important";
    }

    if (chosenPosition.horizontal !== "right") {
      viIconRp.style.cssText += "left:0px!important";
    }
  } else {
    viIconRp.style.cssText = 'float:left!important;background-color: #fff; cursor:pointer;left:0px!important;bottom:0px!important;z-index:9999!important;height:16px!important;width:16px!important;';
  }

  viIconRp.innerHTML = addIconRp();
  viIconRp.addEventListener("click", function () {
    if (chosenPosition) {
      var adDiv = document.getElementById(adUnitCode);
      adDiv.style.setProperty("z-index", "99999", "important");
    }

    var wrapperRp = document.createElement("div");
    wrapperRp.className = "vi-wrp-cls vliIgnore";
    wrapperRp.style.cssText = "z-index: 99999;";
    wrapperRp.innerHTML = renderWrapperReport(adUnitCode, chosenPosition);
    var wrapperAd = document.getElementById(adUnitCode);
    wrapperAd.append(wrapperRp);
    var closeAd = document.getElementById("close_panel_" + adUnitCode);
    closeAd.addEventListener("click", function () {
      if (adDiv) {
        adDiv.style.setProperty("z-index", "9998", "important");
      }

      wrapperRp.remove();
    });
    var reasonCls = document.getElementById("btn_reason_close_" + adUnitCode);
    reasonCls.addEventListener('mouseover', function () {
      reasonCls.style.setProperty("background-color", "#3275E5", "important");
    });
    reasonCls.addEventListener('mouseout', function () {
      reasonCls.style.setProperty("background-color", "rgb(66,133,245)", "important");
    });
    reasonCls.addEventListener("click", function () {
      var wrapperRs = document.createElement("div");
      wrapperRs.style.cssText = "z-index: 100000";
      wrapperRs.className = "vi-wrp-cls vliIgnore";
      wrapperRs.innerHTML = renderWrapperReason();
      wrapperAd.append(wrapperRs);
      var itemRp = document.getElementsByClassName("itemrp");
      Array.from(itemRp).forEach(function (itemrp, index) {
        itemrp.addEventListener('mouseover', function () {
          itemrp.style.setProperty("background-color", "#f5f5f5", "important");
        });
        itemrp.addEventListener('mouseout', function () {
          itemrp.style.setProperty("background-color", "#fff", "important");
        });
        itemrp.addEventListener('click', function () {
          var wrapperFn = document.createElement("div");
          wrapperFn.style.cssText = "z-index: 100000";
          wrapperFn.className = "vi-wrp-cls vliIgnore";
          wrapperFn.innerHTML = renderWrapperFinalCls(adUnitCode);
          wrapperAd.append(wrapperFn);
          var bidder = plugins_v2_constants.dataBidWin[adUnitCode];
          utlis_vilog(plugins_v2_constants.dataBidWin);
          utlis_vilog(adUnitCode);
          utlis_vilog(bidder);

          if (bidder) {
            var obj = {
              adslotId: adUnitCode,
              adFormat: bidder.mediaType,
              reason: itemrp.getAttribute('data-reason')
            };
            sendReportOfUsers(bidder, obj);
          }

          setTimeout(function () {
            var ct_bf_cls = document.getElementById("ct_bf_cls_" + adUnitCode);
            ct_bf_cls.style.opacity = "0";
            ct_bf_cls.addEventListener('transitionend', function (e) {
              ct_bf_cls.style.display = "none";
            });
          }, 500);
          setTimeout(function () {
            document.getElementById("ct_fn_cls_" + adUnitCode).style.visibility = "inherit";
          }, 1500);
        });
      });
    });
  });
  return viIconRp;
}

function renderWrapperFinalCls(adUnitCode) {
  var mMarginT = mobileDetect() ? 8 : 15;
  var mSize = mobileDetect() ? 13 : 16;
  var textRender = "Ads closed by <span style=\"color:rgba(0,0,0,0.6) !important;font-size: 18px;font-weight: 600;\">" + plugins_v2_constants.brandName + "</span>";

  if (plugins_v2_constants.enableIcon === "off") {
    textRender = "Ads has been reported";
  }

  return "\n    <div style='text-align: center; width: 100%;'>\n        <div  id='ct_bf_cls_" + adUnitCode + "' style='transition: all 1s linear;z-index: 1; line-height: 1.15em; font-size: " + mSize + "px;margin-top:" + mMarginT + "px;text-align: center; padding: 8px;'>\n            <span style=\"color:rgba(0,0,0,0.6) !important;\"><strong>We'll try not to show that ad again</strong></span>\n        </div>\n        <span id='ct_fn_cls_" + adUnitCode + "' style='transition: all 1s linear; margin-top:" + mMarginT + "px;display: inline-block; visibility: hidden; font-size: " + mSize + "px; line-height: 1.28em; color: rgba(0,0,0,0.4) !important; text-align: center; padding: 0.3em;'>\n            " + textRender + "\n        </span>\n    </div>\n    ";
}

function renderWrapperReason() {
  return "\n        <div style='width: 100%;text-align: center;'>\n            <div>\n                <label class='itemrp' data-reason-id='1' data-reason='Ad covered content'>\n                    <div><span>Ad covered content</span></div>\n                </label>\n                <label class='itemrp' data-reason-id='2' data-reason='Not interested in this ad'>\n                    <div><span>Not interested in this ad</span></div>\n                </label>\n                <label class='itemrp' data-reason-id='3' data-reason='Already bought this'>\n                    <div><span>Already bought this</span></div>\n                </label>\n                <label class='itemrp' data-reason-id='4' data-reason='Ad was too personal'>\n                    <div><span>Ad was too personal</span></div>\n                </label>\n                <label class='itemrp' data-reason-id='5' data-reason='Ad with offensive content'>\n                    <div><span>Ad with offensive content</span></div>\n                </label>\n            </div>\n        </div>\n    ";
}

function renderWrapperReport(adUnitCode, chosenPosition) {
  var mWidth = mobileDetect() ? 14 : 18;
  var mSize = mobileDetect() ? 13 : 16;
  var mSizeAd = mobileDetect() ? 15 : 18;
  var mSizeBtn = mobileDetect() ? 12 : 14;
  var mWItem = mobileDetect() ? 75 : 96;
  var mHItem = mobileDetect() ? 35 : 50;
  var widthWrapper = "100%";
  var marginLWrapper = "0px";
  var textRender = "Ads by <span style='color:rgba(0,0,0,0.6);font-size: " + mSizeAd + "px;font-weight: 600;'>" + plugins_v2_constants.brandName + "</span>";

  if (plugins_v2_constants.enableIcon === "off") {
    textRender = "Advertisement report";
  }

  var html = "\n    <div>\n        <div id='close_panel_" + adUnitCode + "' class='close' style='left: 5px;position: absolute; top: 5px; color: black; font-size: 16px; line-height: 15px; opacity: 0.8; height: 18px; width: 18px; user-select: none; cursor: pointer;'>\n            <svg viewBox='0 0 24 24' fill='#ccc' style='max-width: " + mWidth + "px; cursor: pointer;'> <path class='native-arrow' d='M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z'></path> </svg>\n        </div>\n        <div style='text-align: center; width: 100%; font-size: " + mSize + "px;'>\n            <span style='display: inline-block; line-height: 1.28em; color: rgba(0,0,0,0.4); text-align: center; padding: 0.3em;'>\n                " + textRender + "\n            </span>\n        </div>\n        <div id='btns' style='width: 100%; text-align: center;'>\n            <a class='btnads' id='btn_reason_close_" + adUnitCode + "' style='background-color: rgb(66,133,245); color: white;line-height: 1.15em; font-size: " + mSizeBtn + "px;'>\n                <span style='display: inline-block; padding: 0.5em 0.6em; line-height: 1em;'>Stop seeing this ad</span>\n            </a>\n        </div>\n    </div>";

  if (chosenPosition) {
    widthWrapper = chosenPosition.width + 'px';

    if (chosenPosition.horizontal === "middle") {
      marginLWrapper = (document.documentElement.clientWidth - chosenPosition.width) / 2 + 'px';
    }

    html += "<style> #" + adUnitCode + " .vi-wrp-cls{left:0px;width: " + widthWrapper + "; height:100%; background-color: #FAFAFA;margin: 0 auto;position: absolute;top:0px;font-family: Arial, sans-serif;overflow: hidden} .itemrp:first-child { margin-top: 8px; } .itemrp { position: relative; z-index: 9110; overflow: hidden; display: inline-block; padding: 1px 5px; width: " + mWItem + "px; height: " + mHItem + "px; background-color: #FFFFFF; cursor: pointer; margin: 4px; box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.12), 0px 1px 3px rgba(0, 0, 0, 0.26); border: none; border-radius: 2px; } .itemrp div { display: -webkit-flex; display: flex; -webkit-align-items: center; align-items: center; -webkit-justify-content: center; justify-content: center; width: 100%; height: 100%; } .itemrp span { color: #4285F4; font-family: Arial, sans-serif; text-align: center; font-size: 12px; line-height: 14px; white-space: normal; } .btnads { display: inline-block; border-radius: 2px; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.12), 0px 1px 3px rgba(0, 0, 0, 0.26); cursor: pointer; font-size: 0.7em; margin: 0 1px 0.4em 1px; } .btnads>span { display: inline-block; padding: 0.5em 0.6em; line-height: 1em; } </style>";
  } else {
    html += "<style>.vi-wrp-cls{width: 100%; height:100%; background-color: #FAFAFA;margin: 0 auto;position: absolute;top:0px;font-family: Arial, sans-serif;} .itemrp:first-child { margin-top: 8px; } .itemrp { position: relative; z-index: 9110; overflow: hidden; display: inline-block; padding: 1px 5px; width: 96px; height: 50px; background-color: #FFFFFF; cursor: pointer; margin: 4px; box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.12), 0px 1px 3px rgba(0, 0, 0, 0.26); border: none; border-radius: 2px; } .itemrp div { display: -webkit-flex; display: flex; -webkit-align-items: center; align-items: center; -webkit-justify-content: center; justify-content: center; width: 100%; height: 100%; } .itemrp span { color: #4285F4; font-family: Arial, sans-serif; text-align: center; font-size: 12px; line-height: 14px; white-space: normal; } .btnads { display: inline-block; border-radius: 2px; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.12), 0px 1px 3px rgba(0, 0, 0, 0.26); cursor: pointer; font-size: 0.7em; margin: 0 1px 0.4em 1px; } .btnads>span { display: inline-block; padding: 0.5em 0.6em; line-height: 1em; } </style>";
  }

  return html;
}

function addIconRp() {
  return "<div class='cbb' aria-hidden='true'>\n                <svg style=\"vertical-align: initial;display:block;fill: #00aecd !important\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" fill=\"#00aecd\" viewBox=\"0 0 15 15\">\n                    <path d=\"M7.5,1.5a6,6,0,1,0,0,12a6,6,0,1,0,0,-12m0,1a5,5,0,1,1,0,10a5,5,0,1,1,0,-10ZM6.625,11l1.75,0l0,-4.5l-1.75,0ZM7.5,3.75a1,1,0,1,0,0,2a1,1,0,1,0,0,-2Z\" stroke-width='0.1' stroke='#00aecd' ></path>\n                </svg>\n            </div>";
}
// CONCATENATED MODULE: ./src/plugins_v2/smartbanner.js









var smartbanner_Smartbanner = /*#__PURE__*/function () {
  function Smartbanner() {
    var _this = this;

    classCallCheck_default()(this, Smartbanner);

    this.defaultOpts = {
      autoload: true,
      enablePC: true,
      enableMobile: true,
      hiddenCloseAds: false,
      disableHorizontalPosition: "",
      disableVerticalPosition: "",
      disablePosition: "",
      disableSize: "",
      shiftLayout: true,
      enablePosition: ""
    };
    this.removePosition = "left right";
    cloneDefaultConfig({
      smartBannerConfig: this.defaultOpts
    });
    this.opts = Object.assign({}, this.defaultOpts, window[plugins_v2_constants.tagName].smartBannerConfig);
    this.elementID = "vi-smartbanner";
    this.quadtree = null;
    this.innerRect = [];
    this.smartBannerSlots = null;
    this.floorPrice = 0.1;
    this.deviceType = mobileDetect() ? 'mobile' : 'pc';
    this.widthWrapper = null;
    this.allPosition = [{
      id: 1,
      width: 300,
      height: 600,
      type: "pc",
      horizontal: "left",
      vertical: "bottom"
    }, {
      id: 2,
      width: 300,
      height: 600,
      type: "pc",
      horizontal: "right",
      vertical: "bottom"
    }, {
      id: 3,
      width: 160,
      height: 600,
      type: "pc",
      horizontal: "left",
      vertical: "bottom"
    }, {
      id: 4,
      width: 160,
      height: 600,
      type: "pc",
      horizontal: "right",
      vertical: "bottom"
    }, {
      id: 5,
      width: 300,
      height: 250,
      type: "pc",
      horizontal: "left",
      vertical: "bottom"
    }, {
      id: 6,
      width: 300,
      height: 250,
      type: "pc",
      horizontal: "right",
      vertical: "bottom"
    }, {
      id: 7,
      width: 970,
      height: 90,
      type: "pc",
      horizontal: "middle",
      vertical: "bottom"
    }, {
      id: 8,
      width: 728,
      height: 90,
      type: "pc",
      horizontal: "middle",
      vertical: "bottom"
    }, {
      id: 9,
      width: 320,
      height: 100,
      type: "mobile",
      horizontal: "middle",
      vertical: "top"
    }, {
      id: 10,
      width: 320,
      height: 100,
      type: "mobile",
      horizontal: "middle",
      vertical: "bottom"
    }, {
      id: 11,
      width: 300,
      height: 100,
      type: "mobile",
      horizontal: "middle",
      vertical: "top"
    }, {
      id: 12,
      width: 300,
      height: 100,
      type: "mobile",
      horizontal: "middle",
      vertical: "bottom"
    }, {
      id: 13,
      width: 320,
      height: 50,
      type: "mobile",
      horizontal: "middle",
      vertical: "top"
    }, {
      id: 14,
      width: 320,
      height: 50,
      type: "mobile",
      horizontal: "middle",
      vertical: "bottom"
    }, {
      id: 15,
      width: 300,
      height: 50,
      type: "mobile",
      horizontal: "middle",
      vertical: "top"
    }, {
      id: 16,
      width: 300,
      height: 50,
      type: "mobile",
      horizontal: "middle",
      vertical: "bottom"
    }];

    if (this.opts.disablePosition !== "" || this.opts.disableHorizontalPosition !== "") {
      if (this.opts.disablePosition.split(" ").indexOf("middle") !== -1 || this.opts.disableHorizontalPosition.split(" ").indexOf("middle") !== -1) {
        this.removePosition = "";
      }
    }

    if (this.opts.enablePosition != "") {
      var enablePos = this.opts.enablePosition.split(" ");
      var removePos = this.removePosition.split(" ");

      for (var i = 0; i < removePos.length; i++) {
        var value = removePos[i];

        if (enablePos.indexOf(value) !== -1) {
          delete removePos[i];
        }
      }

      this.removePosition = removePos.join(" ");
    }

    this.allPosition = this.allPosition.filter(function (position) {
      if (_this.opts.disableHorizontalPosition !== "") {
        if (_this.opts.disableHorizontalPosition.split(" ").indexOf(position.horizontal) !== -1) {
          return false;
        }
      }

      if (_this.opts.disableVerticalPosition !== "") {
        if (_this.opts.disableVerticalPosition.split(" ").indexOf(position.vertical) !== -1) {
          return false;
        }
      }

      if (_this.opts.disablePosition !== "") {
        if (_this.opts.disablePosition.split(" ").indexOf(position.vertical) !== -1 || _this.opts.disablePosition.split(" ").indexOf(position.horizontal) !== -1) {
          return false;
        }
      }

      if (_this.removePosition !== "") {
        if (_this.removePosition.split(" ").indexOf(position.vertical) !== -1 || _this.removePosition.split(" ").indexOf(position.horizontal) !== -1) {
          return false;
        }
      }

      if (_this.opts.disableSize != "") {
        if (_this.opts.disableSize.split(" ").indexOf(position.width + "x" + position.height) !== -1) {
          return false;
        }
      }

      return true;
    });
    this.nicePositions = [];
    this.chosenPosition = null;
    this.onHideTimer = null;
    this.hideTime = 0;
    this.adDiv = null;
    this.adUnitCode = "vi-smartbanner-unit";
    this.adContainer = null;
    this.bodyMarginTop = "0px";
    this.slotRenderEndedRegisted = {};
    this.hasFixedAds = false;
    this.refreshTime = 30;
    this.isPaused = this.opts.autoload === false ? true : false;

    this.pause = function () {
      if (this.isPaused) {
        return;
      }

      this.isPaused = true;
      this.hideDiv(true);
      this.chosenPosition = null;
      setTimeout(function () {
        this.removeAdContainer();
      }.bind(this), 500);
    }.bind(this);

    this["continue"] = function () {
      if (!this.isPaused) {
        return;
      }

      this.isPaused = false;
      this.getBids(true);
    }.bind(this);
  }

  createClass_default()(Smartbanner, [{
    key: "onElementHeightChange",
    value: function onElementHeightChange(elm, callback) {
      var lastHeight = elm.clientHeight,
          newHeight;

      (function run() {
        newHeight = elm.clientHeight;
        if (lastHeight != newHeight) callback(newHeight);
        lastHeight = newHeight;
        if (elm.onElementHeightChangeTimer) clearTimeout(elm.onElementHeightChangeTimer);
        elm.onElementHeightChangeTimer = setTimeout(run, 500);
      })();
    }
  }, {
    key: "lazyScanContent",
    value: function lazyScanContent() {
      this._debounce && clearTimeout(this._debounce);
      this._debounce = setTimeout(this.scanContent.bind(this), 250);
    }
  }, {
    key: "init",
    value: function init() {
      elementReady("body", function () {
        var _this2 = this;

        if (plugins_v2_constants.initSmartBanner) {
          utlis_vilog("[SM] Inited");
          return;
        }

        if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
          utlis_vilog("[SM] Inventory Block");
          return;
        }

        plugins_v2_constants.initSmartBanner = true;
        plugins_v2_constants.enableItemIcReport[this.adUnitCode] = plugins_v2_constants.enableIcReport;
        this.bodyMarginTop = document.body.style.marginTop;
        if (isInIframe()) return;
        if (!this.opts.enablePC && this.deviceType == "pc") return;
        if (!this.opts.enableMobile && this.deviceType == "mobile") return;
        this.smartBannerSlots = plugins_v2_constants.smartBanner && plugins_v2_constants.smartBanner[0] ? JSON.parse(JSON.stringify(plugins_v2_constants.smartBanner[0])) : null;
        if (!this.smartBannerSlots) return;
        this.floorPrice = this.smartBannerSlots.floorPrice;
        setTimeout(function () {
          if (this.removePosition != "left right") {
            this.scanContent();
          } else {
            this.nicePositions = this.collisionCheck();
          }

          this.getBids();
        }.bind(this), 3000);

        if (this.removePosition != "left right") {
          window.addEventListener("resize", function () {
            _this2.lazyScanContent();

            _this2.checkAdCollision();
          });
          window.addEventListener("scroll", function () {
            _this2.lazyScanContent();

            _this2.checkAdCollision();
          });
          this.onElementHeightChange(document.body, function (h) {
            _this2.lazyScanContent();
          });
          new MutationObserver(function (mutationRecords) {
            setTimeout(function () {
              this.lazyScanContent();
              this.checkAdCollision();
            }.bind(this), 500);
          }.bind(this)).observe(document.body, {
            attributes: true,
            childList: true,
            characterData: true,
            subtree: true
          });
        }
      }.bind(this));
    }
  }, {
    key: "refreshAd",
    value: function refreshAd() {
      utlis_vilog("[SM] Refresh position");

      if (this.chosenPosition && this.adContainer) {
        var adUnitCodes = [],
            apstagSlots = [];
        var size = this.chosenPosition.width + "_" + this.chosenPosition.height;
        var adunit = JSON.parse(JSON.stringify(this.smartBannerSlots.adunit[size]));

        if (adunit) {
          adunit.code = this.adContainer.getAttribute("data-id");
          adunit.bids = utlis_buildBids(adunit.bids, plugins_v2_constants.smartBanner[0].floorPrice, "smartbanner");
          vlipb.removeAdUnit(adunit.code);
          vlipb.addAdUnits(adunit);

          if (adunit.bids.length > 0 && !plugins_v2_constants.auctionLogs[adunit.code]) {
            plugins_v2_constants.auctionLogs[adunit.code] = {
              bidder: putOutBidders(adunit.bids),
              preAuction: ''
            };
          }

          adUnitCodes.push(adunit.code);
          adUnitCodes.forEach(function (adUnitCode) {
            cleanInfoOverlay(adUnitCode);
          });

          if (plugins_v2_constants.amazonEnabled) {
            var apstagSlotSizes = amazonUAMSizeFilter(adunit.mediaTypes.banner.sizes);

            if (apstagSlotSizes.length > 0) {
              var apstagSlot = {
                slotID: adunit.code,
                sizes: apstagSlotSizes,
                slotName: getDfpAdunitCode("SMART_BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.smartBanner)
              };
              apstagSlots.push(apstagSlot);
            }
          }
        }

        utlis_requestBids(adUnitCodes, apstagSlots, this.displayBackHandler.bind(this));
      }
    }
  }, {
    key: "removeAdContainer",
    value: function removeAdContainer() {
      if (this.adContainer) this.adContainer.parentNode.removeChild(this.adContainer);
      this.adContainer = null;
      this.adDiv = null;
    }
  }, {
    key: "clearChildAdContainer",
    value: function clearChildAdContainer() {
      var adChildDiv = this.adDiv.getElementsByTagName("div");

      if (adChildDiv) {
        for (var i = 0; i < adChildDiv.length; i++) {
          if (adChildDiv[i].id && adChildDiv[i].id.indexOf('google_ads_iframe') !== -1) {
            adChildDiv[i].parentNode.removeChild(adChildDiv[i]);
          }
        }
      }
    }
  }, {
    key: "checkAdCollision",
    value: function checkAdCollision() {
      var _this3 = this;

      this._checkAdCollision && clearTimeout(this._checkAdCollision);
      this._checkAdCollision = setTimeout(function () {
        if (_this3.chosenPosition && _this3.chosenPosition.horizontal !== "middle") {
          var item = {
            x: _this3.chosenPosition.horizontal === "left" ? _this3.getScrollX() + 0 : _this3.getScrollX() + window.innerWidth - _this3.chosenPosition.width,
            y: _this3.chosenPosition.vertical === "top" ? _this3.getScrollY() + 0 : _this3.getScrollY() + window.innerHeight - _this3.chosenPosition.height,
            width: _this3.chosenPosition.width,
            height: _this3.chosenPosition.height
          };

          if (_this3.isColliding(item)) {
            _this3.hideDiv();
          } else {
            _this3.showDiv();
          }
        }
      }, 250);
    }
  }, {
    key: "isAdElement",
    value: function isAdElement(el) {
      if (el.nodeName) {
        if ("ins" === el.nodeName.toLowerCase()) {
          el._isAd = true;
          return true;
        }

        if ("iframe" !== el.nodeName.toLowerCase() && "img" !== el.nodeName.toLowerCase()) {
          return false;
        }

        if (el.tagName.toLowerCase() === 'iframe') {
          for (; el && el !== document; el = el.parentNode) {
            if (el.id !== this.elementID && el.classList && el.classList.contains(plugins_v2_constants.tagConfig.className)) {
              el._isAd = true;
              return true;
            }
          }
        }

        var x = el.clientWidth;
        var y = el.clientHeight;

        if (-1 < ["300x600", "160x600", "120x600", "200x200", "250x250", "180x180", "150x150", "970x250", "970x90", "970x66", "960x90", "950x90", "930x180", "770x90", "750x200", "750x100", "728x90", "468x60", "336x280", "320x100", "320x50", "300x250", "300x75", "300x31", "180x150"].indexOf(x + "x" + y)) {
          el._isAd = true;
          return true;
        }
      }

      return false;
    }
  }, {
    key: "getBoundingClientRect",
    value: function getBoundingClientRect(el) {
      if (el.getBoundingClientRect) {
        return el.getBoundingClientRect();
      }

      var browser = document.createRange();
      browser.selectNode(el);
      var visibleInputBounds = browser.getBoundingClientRect();
      return el.clientWidth = visibleInputBounds.right - visibleInputBounds.left, el.clientHeight = visibleInputBounds.bottom - visibleInputBounds.top, visibleInputBounds;
    }
  }, {
    key: "getInnerBoundingClientRect",
    value: function getInnerBoundingClientRect(target, el) {
      var self = this.getBoundingClientRect(target);
      var bounds = this.getBoundingClientRect(el);

      if (!(self.right < bounds.left || self.left > bounds.right || self.bottom < bounds.top || self.top > bounds.bottom)) {
        var element = {};

        if (self.left <= bounds.left) {
          element.left = bounds.left;
          element.x = element.left;
        } else {
          if (self.left >= bounds.left) {
            element.left = self.left;
            element.x = element.left;
          }
        }

        if (self.right <= bounds.right) {
          element.right = self.right;
          element.width = element.right - element.left;
        } else {
          if (self.right >= bounds.right) {
            element.right = bounds.right;
            element.width = element.right - element.left;
          }
        }

        if (bounds.top <= self.top) {
          element.top = self.top;
          element.y = element.top;
        } else {
          if (bounds.top >= self.top) {
            element.top = bounds.top;
            element.y = element.top;
          }
        }

        if (bounds.bottom <= self.bottom) {
          element.bottom = bounds.bottom;
        } else {
          if (bounds.bottom >= self.bottom) {
            element.bottom = self.bottom;
          }
        }

        if (element.top && element.bottom) {
          element.height = element.bottom - element.top;
        }

        element.isOverflow = true;
        element.clientWidth = element.width;
        element.clientHeight = element.height;
        this.innerRect.push(element);
      }
    }
  }, {
    key: "funcB",
    value: function funcB(el) {
      if (el.parentElement) {
        for (var current = el.parentElement; current;) {
          if (-1 !== this.innerRect.indexOf(current)) {
            return false;
          }

          var props = ["hidden", "scroll", "auto", "visible"];
          var item = window.getComputedStyle(current);

          if (-1 < props.indexOf(item.overflow) || -1 < props.indexOf(item["overflow-x"]) || -1 < props.indexOf(item["overflow-y"])) {
            return this.getInnerBoundingClientRect(el, current), true;
          }

          current = current.parentElement;
        }
      }

      return false;
    }
  }, {
    key: "isContentElement",
    value: function isContentElement(el) {
      if (typeof el._isContentElement !== "undefined") {
        return el._isContentElement;
      }

      ;

      if (this.isAdElement(el)) {
        el._isAd = true;
        return true;
      }

      if (el.parentNode.tagName && el.parentNode.tagName === "VLI") {
        for (; el && el !== document; el = el.parentNode) {
          if (el.id === this.elementID) {
            return false;
          }
        }
      }

      if (el.tagName === 'IFRAME') {
        for (; el && el !== document; el = el.parentNode) {
          if (el.id === this.elementID) {
            return false;
          }
        }
      }

      if (hasClass(el, "vliIgnore")) {
        if (el.children) {
          for (var i = 0; i < el.children.length; i++) {
            if (el.children[i].classList) {
              el.children[i].classList.add("vliIgnore");
            }
          }
        }

        return false;
      }

      for (var n = el; n;) {
        if (this.innerRect.indexOf(n) !== -1 || hasClass(n, "vliIgnore") || hasClass(n, "qc-cmp2-persistent-link")) // qc-cmp2-persistent-link ==> Class cmp
          return false;
        n = n.parentElement;
      }

      var result = !isHiddenElement(el) && this.funcB(el) && (!(!el.nodeName || "video" !== el.nodeName.toLowerCase()) || !(!el.nodeName || "img" !== el.nodeName.toLowerCase()) || (void 0 === el.clientWidth && getBoundingClientRect(el), !(el.clientWidth < 2 || el.clientHeight < 2) && !(document.body.clientWidth <= el.clientWidth)));
      el._isContentElement = result;
      return result;
    }
  }, {
    key: "getScrollX",
    value: function getScrollX() {
      return window ? window.pageXOffset : window.document.documentElement.scrollLeft;
    }
  }, {
    key: "getScrollY",
    value: function getScrollY() {
      return window ? window.pageYOffset : window.document.documentElement.scrollTop;
    }
  }, {
    key: "scanContent",
    value: function scanContent() {
      var contentsLabeled = [];
      var allContents = [];
      var docWidth = document.body.clientWidth || top.innerWidth;
      var docHeight = document.body.clientHeight || top.innerHeight;
      this.quadtree = new quadtree_min({
        width: docWidth,
        height: docHeight,
        maxElements: 4
      });
      allContents = (allContents = allContents.concat(function (body) {
        for (var text = void 0, result = [], nodeIter = document.createTreeWalker(body, NodeFilter.SHOW_TEXT, null, false); text = nodeIter.nextNode();) {
          if (result.indexOf(text) === -1) {
            result.push(text);
          }
        }

        return result;
      }(document.body))).concat(Array.from(document.querySelectorAll("ins, video, iframe, img, span, p, a *")));

      for (var i = 0; i < allContents.length; i++) {
        var item = allContents[i];

        if (this.isContentElement(item)) {
          contentsLabeled.push(item);
        }
      }

      var target = [];
      contentsLabeled.forEach(function (elem) {
        var rect = void 0;
        rect = elem.isOverflow ? elem : this.getBoundingClientRect(elem);
        target.push({
          x: rect.left + this.getScrollX(),
          y: rect.top + this.getScrollY(),
          width: elem.clientWidth,
          height: elem.clientHeight,
          element: elem
        });
      }.bind(this));
      this.quadtree.pushAll(target);
      utlis_vilog("[SM] Scanned " + allContents.length + " HTML elements");
      utlis_vilog("[SM] Found " + contentsLabeled.length + " HTML elements labeled as content");
      this.nicePositions = this.collisionCheck();
    }
  }, {
    key: "getBids",
    value: function getBids(isReGetBids) {
      var _this4 = this;

      if (this.isPaused) {
        utlis_vilog("[SM] Prevent getBids. Ad is paused");
        return;
      }

      plugins_v2_constants.dataBidWin = {};
      this.chosenPosition = null;
      this.removeAdContainer();
      var sizesManager = [];
      var adUnitCodes = [],
          apstagSlots = [];
      this.allPosition.forEach(function (position) {
        if (position.type === _this4.deviceType) {
          var size = position.width + "_" + position.height;

          if (_this4.smartBannerSlots.adunit[size]) {
            if (sizesManager.indexOf(size) === -1) {
              sizesManager.push(size);
              var adunit = JSON.parse(JSON.stringify(_this4.smartBannerSlots.adunit[size]));

              if (adunit) {
                adunit.code = adunit.code + "_" + position.id;
                adunit.bids = utlis_buildBids(adunit.bids, plugins_v2_constants.smartBanner[0].floorPrice);
                vlipb.removeAdUnit(adunit.code);
                vlipb.addAdUnits(adunit);

                if (adunit.bids.length > 0 && !plugins_v2_constants.auctionLogs[adunit.code]) {
                  plugins_v2_constants.auctionLogs[adunit.code] = {
                    bidder: putOutBidders(adunit.bids),
                    preAuction: ''
                  };
                }

                adUnitCodes.push(adunit.code);

                if (plugins_v2_constants.amazonEnabled) {
                  var apstagSlotSizes = amazonUAMSizeFilter(adunit.mediaTypes.banner.sizes);

                  if (apstagSlotSizes.length > 0) {
                    var apstagSlot = {
                      slotID: adunit.code,
                      sizes: apstagSlotSizes,
                      slotName: getDfpAdunitCode("SMART_BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.smartBanner)
                    };
                    apstagSlots.push(apstagSlot);
                  }
                }
              }
            }
          }
        }
      });
      if (adUnitCodes.length === 0) return;
      utlis_requestBids(adUnitCodes, apstagSlots, this.displayBackHandler.bind(this));
    }
  }, {
    key: "displayBackHandler",
    value: function displayBackHandler(adUnitCodes) {
      var responses = [];
      adUnitCodes.forEach(function (currentDivId) {
        var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

        utlis_vilog("[SM] Bid Responses For Ad Unit Code: " + currentDivId);
        utlis_vilog(_rsp);
        responses = responses.concat(_rsp); // check amazon response

        var amazonResponse = plugins_v2_constants.amazonBidResponses[currentDivId];

        if (amazonResponse) {
          utlis_vilog("[SM] Amazon Response for: " + currentDivId);
          utlis_vilog(amazonResponse);
          responses = responses.concat(amazonResponse);
        }
      });
      var responseSorted = sortResponseBids(responses);
      utlis_vilog("[SM] All Sorted Responses");
      utlis_vilog(responseSorted);
      responseSorted = responseSorted.filter(function (bid) {
        if (bid.cpm < this.floorPrice) {
          if (!bid.amznbid) {
            vlipb.markWinningBidAsUsed({
              adId: bid.adId
            });
          }

          return false;
        }

        return true;
      }.bind(this));
      this.beforeRenderAd(responseSorted);
    }
  }, {
    key: "beforeRenderAd",
    value: function beforeRenderAd(bids) {
      var _this5 = this;

      if (this.nicePositions.length <= 0) {
        setTimeout(function () {
          _this5.beforeRenderAd(bids);
        }, 1000);
      } else {
        if (bids.length > 0) {
          var chosenBid = bids[0];
          bids.splice(0, 1);

          if (!this.chosenPosition) {
            for (var i = 0; i < this.nicePositions.length; i++) {
              if (chosenBid.amznbid) {
                var size = chosenBid.amznsz.split("x");

                if (size.length === 2) {
                  if (this.nicePositions[i].width === parseInt(size[0]) && this.nicePositions[i].height === parseInt(size[1])) {
                    this.chosenPosition = this.nicePositions[i];
                    break;
                  }
                }
              } else {
                if (this.nicePositions[i].width === chosenBid.width && this.nicePositions[i].height === chosenBid.height) {
                  this.chosenPosition = this.nicePositions[i];
                  break;
                }
              }
            }
          }

          if (!this.chosenPosition) {
            this.beforeRenderAd(bids);
          } else {
            utlis_vilog("[SM] Position & bid is matched");
            utlis_vilog(this.chosenPosition);
            utlis_vilog(chosenBid);
            this.renderAd(this.chosenPosition, chosenBid);
          }
        } else {
          if (!this.chosenPosition) {
            this.chosenPosition = this.nicePositions[0];
          }

          this.renderAd(this.chosenPosition, null);
        }
      }
    }
  }, {
    key: "createAdContainer",
    value: function createAdContainer(chosenPosition) {
      var offset = 30;
      var adDiv = document.createElement("div");
      adDiv.id = this.adUnitCode;
      adDiv.style.cssText = "z-index: 9999; position: relative; display: inline-block;";
      var div = document.createElement("div");
      div.id = this.elementID;
      div.setAttribute("data-id", this.adUnitCode);
      div.status = "hide";
      div.style.position = "fixed";
      div.style.zIndex = 2147483647;
      div.style.transition = "all 0.5s ease 0s";
      div.style.boxShadow = "rgb(105 105 105 / 80%) 0px 0px 7px 0px";
      div.style.backgroundColor = "#ffffff";
      div.style.width = chosenPosition.width + "px";
      div.style.height = chosenPosition.height + "px";
      div.style.textAlign = "center";

      if (chosenPosition.horizontal === "left") {
        div.style.left = "-" + (chosenPosition.width + offset) + "px";
      }

      if (chosenPosition.horizontal === "right") {
        div.style.right = "-" + (chosenPosition.width + offset) + "px";
      }

      if (chosenPosition.horizontal === "middle") {
        if (mobileDetect()) {
          div.style.left = "0";
        } else {
          div.style.height = chosenPosition.height + 4 + "px";
          div.style.zIndex = 2147483646;
          div.style.boxShadow = "rgba(0, 0, 0, 0.6) 0px 0px 6px 0px";
          div.style.backgroundColor = "rgb(250, 250, 250, 0.8)";
          div.style.width = "100%";
          div.style.left = "0px";
          div.style.paddingTop = "4px";
        }
      }

      if (chosenPosition.vertical === "top") {
        div.style.top = chosenPosition.horizontal === "middle" ? "-" + (chosenPosition.height + offset) + "px" : 0;
      }

      if (chosenPosition.vertical === "bottom") {
        div.style.bottom = chosenPosition.horizontal === "middle" ? "-" + (chosenPosition.height + offset) + "px" : 0;
      }

      if (chosenPosition.type === "mobile") {
        adDiv.style.height = chosenPosition.height + "px";
        adDiv.style.overflow = "hidden";
        div.style.width = window.screen.width + "px";
        div.style.backgroundColor = "rgb(250, 250, 250)";
        div.style.height = chosenPosition.height + 5 + "px";

        if (chosenPosition.vertical === "bottom") {
          var hideBanner = " <div id=\"hideSlideBanner\" style=\"border-top: 1px solid #d4d4d4; box-shadow: 2px 0px 1px -1px #d8d8d8; width: 60px; height: 20px; position: absolute; top: -20px; left: 0; text-align: center; background-color: rgb(250, 250, 250) !important; border-top-right-radius: 5px; border-top-left-radius: 5px;\">\n                <div style=\"display: block; width: 36px; height: 20px; margin: 0 auto;\">\n                    <svg style=\"width: 30px; height: 30px; fill:#908989;margin-top: -4px;enable-background:new 0 0 512 512;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><polygon points=\"396.6,160 416,180.7 256,352 96,180.7 115.3,160 256,310.5 \"/></svg>\n                </div>\n            </div>";
          div.innerHTML = "<vli class=\"vliIgnore\" style=\"background-color: rgb(250, 250, 250) !important;display:block;width:100%;top:0;height:5px;box-shadow:rgba(0, 0, 0, 0.2) 0px 1px 2px -1px, rgba(0, 0, 0, 0.1) 0px -1px 0px -1px !important\">" + (this.opts.hiddenCloseAds ? '' : hideBanner) + "</vli>";
        }

        if (chosenPosition.vertical === "top") {
          var hideBanner = "<div id=\"hideSlideBanner\" style=\"border-bottom: 1px solid #d4d4d4; box-shadow: 2px 0px 1px -1px #d8d8d8;width: 60px; height: 20px; position: absolute; bottom: -20px; text-align: center; background-color: rgb(250, 250, 250) !important; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;\">\n                <div style=\"display: block; width: 36px; height: 20px; margin: 0 auto;\">\n                    <svg style=\"width: 30px; height: 30px;margin-top: -8px; fill:#908989;enable-background:new 0 0 512 512;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><polygon points=\"396.6,352 416,331.3 256,160 96,331.3 115.3,352 256,201.5 \"/></svg>\n                </div>\n            </div>";
          div.innerHTML = "<vli class=\"vliIgnore\" style=\"background-color: rgb(250, 250, 250) !important;display:block;width:100%;bottom:0;position: absolute;height:5px;box-shadow:rgba(0, 0, 0, 0.2) 0px 1px 2px 1px, rgba(0, 0, 0, 0.1) 0px -1px 0px -1px !important\">" + (this.opts.hiddenCloseAds ? '' : hideBanner) + "</vli>";
        }
      } else {
        if (!this.opts.hiddenCloseAds) {
          if (chosenPosition.horizontal === "middle") {
            div.innerHTML = "\n                <vli class=\"vliIgnore\" style=\"".concat(plugins_v2_constants.enableIcon == "on" ? 'width: 105px;' : 'width: 20px;', " background: unset!important;box-sizing: unset!important;display: block; border-top: 20px solid rgba(0, 0, 0, 0.7); border-left: 10px solid transparent; right: 0; position: absolute; top:0;z-index:2147483647;\">\n                    <vli style=\"background: unset!important;box-sizing: unset!important;padding: 2px;position:absolute; bottom: 0; left: 0;\">\n                        ").concat(plugins_v2_constants.enableIcon == "on" ? '<a style="box-sizing: unset!important;display: flex; float: left; margin-right: 5px;background-color: transparent !important" href="//' + plugins_v2_constants.brandHomepage + '/?ref=' + window.location.hostname + '" target="_blank" rel="nofollow"><img style="width: 80px!important; height: 15px!important; margin: 0 auto!important; background-image: none!important;" src="//' + plugins_v2_constants.brandLogo + '"></a>' : '', "\n                        <vli id=\"hideSlideBanner\" style=\"background: unset!important;box-sizing: unset!important;cursor:pointer;display: block; float: left; width: 10px; height: 10px; margin: 3px;\">\n                            <svg width=\"512px\" height=\"512px\" display=\"inherit\" enable-background=\"new 0 0 92.132 92.132\" style=\"display: block!important;box-sizing:unset!important;height:100%;width:100%\" version=\"1.1\" viewBox=\"0 0 92.132 92.132\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"active-path\" d=\"m2.141 89.13c1.425 1.429 3.299 2.142 5.167 2.142 1.869 0 3.742-0.713 5.167-2.142l33.591-33.592 33.591 33.592c1.426 1.429 3.299 2.142 5.167 2.142 1.867 0 3.74-0.713 5.167-2.142 2.854-2.854 2.854-7.48 0-10.334l-33.593-33.591 31.869-31.869c2.855-2.853 2.855-7.481 0-10.334-2.853-2.855-7.479-2.855-10.334 0l-31.868 31.868-31.867-31.869c-2.854-2.855-7.481-2.855-10.333 0-2.855 2.853-2.855 7.481 0 10.334l31.868 31.869-33.59 33.591c-2.857 2.853-2.857 7.479-2e-3 10.335z\" fill=\"#fff\" data-old_color=\"#ffffff\" data-original=\"#000000\"></path></svg>\n                        </vli>\n                    </vli>\n                </vli>");
          } else {
            div.innerHTML = "\n                <vli class=\"vliIgnore\" style=\"".concat(plugins_v2_constants.enableIcon == "on" ? 'width: 105px;' : 'width: 20px;', " background: unset!important;box-sizing: unset!important;display: block; border-bottom: 20px solid rgba(0, 0, 0, 0.7); border-right: 10px solid transparent; left: 0; position: absolute; top: -20px; \">\n                    <vli style=\"background: unset!important;box-sizing: unset!important;padding: 2px;position:absolute; top: 0; left: 0;\">\n                        <vli id=\"hideSlideBanner\" style=\"background: unset!important;box-sizing: unset!important;cursor:pointer;display: block; float: left; width: 10px; height: 10px; margin: 3px;\">\n                            <svg width=\"512px\" height=\"512px\" display=\"inherit\" enable-background=\"new 0 0 92.132 92.132\" style=\"display: block!important;box-sizing:unset!important;height:100%;width:100%\" version=\"1.1\" viewBox=\"0 0 92.132 92.132\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"active-path\" d=\"m2.141 89.13c1.425 1.429 3.299 2.142 5.167 2.142 1.869 0 3.742-0.713 5.167-2.142l33.591-33.592 33.591 33.592c1.426 1.429 3.299 2.142 5.167 2.142 1.867 0 3.74-0.713 5.167-2.142 2.854-2.854 2.854-7.48 0-10.334l-33.593-33.591 31.869-31.869c2.855-2.853 2.855-7.481 0-10.334-2.853-2.855-7.479-2.855-10.334 0l-31.868 31.868-31.867-31.869c-2.854-2.855-7.481-2.855-10.333 0-2.855 2.853-2.855 7.481 0 10.334l31.868 31.869-33.59 33.591c-2.857 2.853-2.857 7.479-2e-3 10.335z\" fill=\"#fff\" data-old_color=\"#ffffff\" data-original=\"#000000\"></path></svg>\n                        </vli>\n                        ").concat(plugins_v2_constants.enableIcon == "on" ? '<a style="box-sizing: unset!important;display: flex; float: left; margin-left: 5px;background-color: transparent !important" href="//' + plugins_v2_constants.brandHomepage + '/?ref=' + window.location.hostname + '" target="_blank" rel="nofollow"><img style="width: 80px!important; height: 15px!important; margin: 0 auto!important; background-image: none!important;" src="//' + plugins_v2_constants.brandLogo + '"></a>' : '', "\n                    </vli>\n                </vli>");
          }
        } else {
          if (plugins_v2_constants.enableIcon === "on") {
            if (chosenPosition.horizontal === "middle") {
              div.innerHTML = "\n                            <vli class=\"vliIgnore\" style=\"width: 90px; background: unset!important;box-sizing: unset!important;display: block; border-top: 20px solid rgba(0, 0, 0, 0.7); border-left: 10px solid transparent; right: 0; position: absolute; top:0;z-index:2147483647;\">\n                                <vli style=\"background: unset!important;box-sizing: unset!important;padding: 2px;position:absolute; bottom: 0; left: 0;\">\n                                    <a style=\"box-sizing: unset!important;display: flex; float: left; margin-right: 5px;background-color: transparent !important\" href=\"//" + plugins_v2_constants.brandHomepage + '/?ref=' + window.location.hostname + "\" target=\"_blank\" rel=\"nofollow\"><img style=\"width: 80px!important; height: 15px!important; margin: 0 auto!important; background-image: none!important;\" src=\"//" + plugins_v2_constants.brandLogo + "\"></a>\n                                </vli>\n                            </vli>";
            } else {
              div.innerHTML = "\n                        <vli class=\"vliIgnore\" style=\"width: 90px; background: unset!important;box-sizing: unset!important;display: block; border-bottom: 20px solid rgba(0, 0, 0, 0.7); border-right: 10px solid transparent; left: 0; position: absolute; top: -20px; \">\n                            <vli style=\"background: unset!important;box-sizing: unset!important;padding: 2px;position:absolute; top: 0; left: 0;\">\n                               <a style=\"box-sizing: unset!important;display: flex; float: left; margin-left: 2px;background-color: transparent !important\" href=\"//" + plugins_v2_constants.brandHomepage + '/?ref=' + window.location.hostname + "\" target=\"_blank\" rel=\"nofollow\"><img style=\"width: 80px!important; height: 15px!important; margin: 0 auto!important; background-image: none!important;\" src=\"//" + plugins_v2_constants.brandLogo + "\"></a>\n                            </vli>\n                        </vli>";
            }
          }
        }
      }

      if (plugins_v2_constants.enableIcReport === "on" && typeof plugins_v2_constants.enableItemIcReport[this.adUnitCode] != 'undefined' && plugins_v2_constants.enableItemIcReport[this.adUnitCode] != "off") {
        // add icon report
        if (chosenPosition.horizontal === "middle") {
          this.marginLWrapper = (document.documentElement.clientWidth - chosenPosition.width) / 2;
        }

        var viIc = document.createElement("div");
        viIc.style.cssText = "width:100%;position: relative;display: block; margin-left:" + this.marginLWrapper + "px;z-index:10000";
        var viIcRp = renderViIconRp(this.adUnitCode, chosenPosition);

        if (plugins_v2_constants.enableItemIcReport[this.adUnitCode] === "on") {
          viIc.appendChild(viIcRp);
        }

        div.append(viIc);
      }

      var isViewability = function () {
        plugins_v2_constants.viewabilityCheck[this.elementID].setInterval = setInterval(function () {
          if (plugins_v2_constants.isVisible) {
            plugins_v2_constants.viewabilityCheck[this.elementID].viewableTime++;

            if (plugins_v2_constants.viewabilityCheck[this.elementID].viewableTime >= this.refreshTime) {
              this.refreshAd();
              plugins_v2_constants.viewabilityCheck[this.elementID].viewableTime = 0;
              this.adDiv.style.setProperty("z-index", "9999", "important");
              document.querySelectorAll('.vi-wrp-clsm').forEach(function (element) {
                element.remove();
              });
            }
          }
        }.bind(this), 1000);
      }.bind(this);

      var isNonViewability = function () {
        clearInterval(plugins_v2_constants.viewabilityCheck[this.elementID].setInterval);
      }.bind(this);

      plugins_v2_constants.viewabilityCheck[this.elementID] = {};
      plugins_v2_constants.viewabilityCheck[this.elementID].viewableTime = 0;
      plugins_v2_constants.viewabilityCheck[this.elementID].setInterval = null;
      isInViewPort(adDiv, isViewability, isNonViewability, {
        threshold: [51]
      });
      div.appendChild(adDiv);
      document.body.appendChild(div);
      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(this.adUnitCode);
      this.adContainer = div;
      this.adDiv = adDiv;
    }
  }, {
    key: "showDiv",
    value: function showDiv() {
      var _this6 = this;

      if (!this.adContainer) {
        utlis_vilog("[SM] not found adContainer");
        return;
      }

      if (this.adContainer.status === "show") {
        return;
      }

      if (this.adContainer.hasAd !== true) {
        return;
      }

      utlis_vilog("[SM] show ad element");

      if (this.chosenPosition) {
        this.adContainer.status = "show";

        if (this.chosenPosition.horizontal === "left") {
          this.adContainer.style.left = 0;
        } else if (this.chosenPosition.horizontal === "right") {
          this.adContainer.style.right = 0;
        } else if (this.chosenPosition.horizontal === "middle") {
          if (mobileDetect()) {
            this.adContainer.style.left = "0";
          } else {
            this.adContainer.style.left = "50%";
            this.adContainer.style.transform = "translateX(-50%)";
          }
        }

        if (this.chosenPosition.vertical === "top") {
          if (mobileDetect()) {
            var bodyMarginTopInt = parseInt(this.bodyMarginTop.replace("px", "")) ? parseInt(this.bodyMarginTop.replace("px", "")) : 0;
            utlis_vilog("[SM] this.opts.shiftLayout " + this.opts.shiftLayout);

            if (this.opts.shiftLayout) {
              document.body.style.setProperty('margin-top', bodyMarginTopInt + this.chosenPosition.height + 25 + "px", 'important');
            } else {
              window.addEventListener("scroll", function () {
                if (this.getScrollY() < 100) {
                  this.hideDiv();
                } else {
                  this.showDiv();
                }
              }.bind(this));
            }
          }

          this.adContainer.style.top = 0;
        } else if (this.chosenPosition.vertical === "bottom") {
          this.adContainer.style.bottom = 0;

          if (this.chosenPosition.horizontal === "middle") {
            _eventFire("INCREASE_DISTANCE_BOTTOM_STICKY_VIDEO");
          }
        }

        clearInterval(this.onHideTimer);
        this.onHideTimer = null;
        this.hideTime = 0;
      }

      if (!this.opts.hiddenCloseAds) {
        if (document.getElementById("hideSlideBanner")) {
          document.getElementById("hideSlideBanner").addEventListener("click", function (e) {
            _this6.hideDiv(true);

            _this6.chosenPosition = null;
            setTimeout(function () {
              this.removeAdContainer();
            }.bind(_this6), 500);
          });
        }
      }
    }
  }, {
    key: "hideDiv",
    value: function hideDiv(noReload) {
      if (!this.adContainer) {
        utlis_vilog("[SM] not found adContainer");
        return;
      }

      if (this.adContainer.status === "hide") {
        return;
      }

      utlis_vilog("[SM] hide ad element");

      if (this.chosenPosition) {
        var offset = 25;
        this.adContainer.status = "hide";

        if (this.chosenPosition.horizontal === "left") {
          this.adContainer.style.left = "-" + (this.chosenPosition.width + offset) + "px";
        } else if (this.chosenPosition.horizontal === "right") {
          this.adContainer.style.right = "-" + (this.chosenPosition.width + offset) + "px";
        } else if (this.chosenPosition.horizontal === "middle") {
          if (this.chosenPosition.vertical === "top") {
            if (mobileDetect()) {
              document.body.style.setProperty('margin-top', this.bodyMarginTop);
            }

            this.adContainer.style.top = "-" + (this.chosenPosition.height + offset) + "px";
          }

          if (this.chosenPosition.vertical === "bottom") {
            this.adContainer.style.bottom = "-" + (this.chosenPosition.height + offset) + "px";

            _eventFire("REDUCTION_DISTANCE_BOTTOM_STICKY_VIDEO");
          }
        }

        if (this.chosenPosition.horizontal !== "middle") {
          if (!noReload && !this.onHideTimer) {
            this.onHideTimer = setInterval(function () {
              this.hideTime++;

              if (this.hideTime >= 10) {
                clearInterval(this.onHideTimer);
                this.onHideTimer = null;
                this.hideTime = 0;
                this.getBids(true);
              }
            }.bind(this), 1000);
          }
        }
      }
    }
  }, {
    key: "renderAd",
    value: function renderAd(chosenPosition, chosenBid) {
      var accTargetSmartBanner = true;

      if (isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.smartBanner) === true) {
        accTargetSmartBanner = false;
      }

      if (!this.adDiv) {
        this.createAdContainer(chosenPosition);
      }

      var pixel = {
        type: "hb",
        divID: this.elementID,
        zoneID: this.smartBannerSlots.zid,
        cpm: 0
      };

      if (chosenBid) {
        pixel.cpm = chosenBid.cpm;
        pixel.bidder = chosenBid.bidderCode;
        plugins_v2_constants.dataBidWin[this.adUnitCode] = chosenBid;
      }

      var renderHBBids = function () {
        utlis_vilog("[SM] Render ad");

        switch (chosenBid.mediaType) {
          case "banner":
            if (plugins_v2_constants.noneSafeFrameBidder.indexOf(chosenBid.bidderCode) !== -1) {
              vlipb.renderAd(renderIframeForSmartBanner(this.adDiv, this.adUnitCode, chosenBid.width ? chosenBid.width : chosenPosition.width, chosenBid.height ? chosenBid.height : chosenPosition.height), chosenBid.adId);
            } else {
              if (plugins_v2_constants.safeFrame === 'on') {
                this.adDiv.innerHTML = '<div id="vli_sf_' + this.adUnitCode + '"></div>';
                initSafeFrameRender(onBidWon);
                renderSafeFrame('vli_sf_' + this.adUnitCode, {
                  width: chosenBid.width ? chosenBid.width : chosenPosition.width,
                  height: chosenBid.height ? chosenBid.height : chosenPosition.height
                }, chosenBid.ad);
              } else {
                vlipb.renderAd(renderIframeForSmartBanner(this.adDiv, this.adUnitCode, chosenBid.width ? chosenBid.width : chosenPosition.width, chosenBid.height ? chosenBid.height : chosenPosition.height), chosenBid.adId);
              }
            }

            break;

          case "native":
            var adData = {
              adUnitCode: this.adUnitCode,
              adId: chosenBid.adId,
              pubUrl: window.location.href,
              width: chosenPosition.width,
              height: chosenPosition.height
            };
            renderNativeAd(renderIframeForSmartBanner(this.adDiv, this.adUnitCode, chosenBid.width ? chosenBid.width : chosenPosition.width, chosenBid.height ? chosenBid.height : chosenPosition.height), adData);
            break;

          default:
            break;
        }
      }.bind(this);

      var renderAmazonBid = function () {
        utlis_vilog("[SM] Render amz ad");
        plugins_v2_constants.enableItemIcReport[this.adUnitCode] = "off";

        if (document.getElementsByClassName("vliIconRpSM")[0]) {
          document.getElementsByClassName("vliIconRpSM")[0].style.display = "none";
        }

        var ifrDoc = renderIframeForSmartBanner(this.adDiv, this.adUnitCode, chosenPosition.width, chosenPosition.height);
        apstag.renderImp(ifrDoc, chosenBid.amzniid);
        onBidWon(this.adUnitCode);
      }.bind(this);

      plugins_v2_constants.adRenderAction.gAdRequestTimeout[this.adUnitCode] = function () {
        if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp') {
          this.reGetBids();
        }

        if (plugins_v2_constants.bannerRequestMode == 'dfp') {
          if (chosenBid) {
            if (chosenBid.amznbid) {
              renderAmazonBid();
            } else {
              renderHBBids();
            }
          } else {
            this.reGetBids();
          }
        }
      }.bind(this);

      if ((plugins_v2_constants.bannerRequestMode == 'dfp' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp') && accTargetSmartBanner) {
        if (plugins_v2_constants.gSlots[this.adUnitCode]) googletag.destroySlots([plugins_v2_constants.gSlots[this.adUnitCode]]);
        googletag.cmd.push(function () {
          if (chosenBid && chosenBid.mediaType === "native") {
            plugins_v2_constants.gSlots[this.adUnitCode] = googletag.defineSlot(getDfpAdunitCode("SMART_BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.smartBanner), "fluid", this.adUnitCode).addService(googletag.pubads());
          } else {
            plugins_v2_constants.gSlots[this.adUnitCode] = googletag.defineSlot(getDfpAdunitCode("SMART_BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.smartBanner), [[chosenPosition.width, chosenPosition.height]], this.adUnitCode).addService(googletag.pubads());
          }

          if (!this.slotRenderEndedRegisted[this.adUnitCode]) {
            plugins_v2_constants.enableItemIcReport[this.adUnitCode] = "off";

            if (document.getElementsByClassName("vliIconRpSM")[0]) {
              document.getElementsByClassName("vliIconRpSM")[0].style.display = "none";
            }

            googletag.pubads().addEventListener('slotRenderEnded', function (data) {
              if (data.slot.getSlotElementId() !== this.adUnitCode) return;

              if (data.isEmpty === true) {
                utlis_vilog("[SM] isEmpty");

                if (typeof_default()(plugins_v2_constants.dataBidWin[this.adUnitCode]) === undefined || !plugins_v2_constants.dataBidWin[this.adUnitCode]) {
                  utlis_vilog("[SM] isEmpty No BidWon");
                  this.hideDiv(true);
                  this.clearChildAdContainer();
                  this.reGetBids();
                } else {
                  utlis_vilog("[SM] isEmpty but isset BidWon");

                  if (plugins_v2_constants.adRenderAction.gAdRequestTimeout[this.adUnitCode]) {
                    plugins_v2_constants.adRenderAction.gAdRequestTimeout[this.adUnitCode]();
                    delete plugins_v2_constants.adRenderAction.gAdRequestTimeout[this.adUnitCode];
                  }
                }
              } else {
                if (data.isBackfill === true) {
                  utlis_vilog("[SM] Adx WIN");
                  this.adContainer.hasAd = true;
                  this.showDiv();
                  showOnAnalytics({
                    bidder: "Adx_smartbanner",
                    cpm: 0
                  });
                  var dataBid = {
                    adId: "unknown from Adx",
                    bidder: "Adx",
                    creativeId: "unknown from Adx"
                  };
                  pushInfoDebugOverlay(this.adUnitCode, dataBid);

                  if (this.adDiv) {
                    this.adDiv.style.display = "inline-block";
                  }
                } else {
                  var hasAmazonBid = false;

                  if (data.slot.getTargeting("isamzn").length === 1 && data.slot.getTargeting("isamzn")[0] === "1") {
                    renderAmazonBid();
                    hasAmazonBid = true;
                  }

                  if (data.slot.getTargeting("up_bid").indexOf("true") !== -1 && !hasAmazonBid) {
                    utlis_vilog("[SM] Empty");
                    this.hideDiv(true);
                    this.clearChildAdContainer();
                    this.reGetBids();
                  }
                }
              }
            }.bind(this));
            this.slotRenderEndedRegisted[this.adUnitCode] = true;
          }
        }.bind(this));
      }

      if (chosenBid) {
        if (chosenBid.mediaType === "native") {
          pixel.adType = "native";
        }

        var handlerOnBidWon = function (data) {
          savePixel(pixel);
          utlis_vilog("[SM] ___WIN___ " + data.bidderCode + "__" + data.cpm);
          utlis_vilog(data);
          this.adContainer.hasAd = true;
          this.showDiv();

          if (this.adDiv) {
            this.adDiv.style.display = "inline-block";
          }

          logBidData("smart_banner", data);
          vlipb.offEvent('bidWon', handlerOnBidWon, chosenBid.adUnitCode);
          plugins_v2_constants.dataBidWin[this.adUnitCode] = data;

          if (document.getElementsByClassName("vliIconRpSM")[0]) {
            document.getElementsByClassName("vliIconRpSM")[0].style.display = "block";
          }
        }.bind(this);

        vlipb.onEvent('bidWon', handlerOnBidWon, chosenBid.adUnitCode);

        var onBidWon = function (adUnitCode) {
          if (plugins_v2_constants.adRenderAction.bidWon[adUnitCode]) {
            plugins_v2_constants.adRenderAction.bidWon[adUnitCode]();
            delete plugins_v2_constants.adRenderAction.bidWon[adUnitCode];
          }
        }.bind(this);

        plugins_v2_constants.adRenderAction.bidWon[this.adUnitCode] = function () {
          utlis_vilog("[SM] ___WIN___ in SafeFrame");
          savePixel(pixel);
          this.adContainer.hasAd = true;
          this.showDiv();
        }.bind(this);

        if (plugins_v2_constants.bannerRequestMode == 'dfp' && accTargetSmartBanner) {
          googletag.cmd.push(function () {
            if (plugins_v2_constants.gSlots[this.adUnitCode]) {
              if (plugins_v2_constants.refererDomainID) {
                plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
              } else {
                plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_adslot", this.smartBannerSlots.zid);
              }

              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_adtype", "display");
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("hb_width", chosenPosition.width);
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("hb_height", chosenPosition.height);
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.smartBanner.accId);
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_sf", "1");

              if (chosenBid && chosenBid.amznbid) {
                plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("isamzn", "1");
                plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("hb_pb", chosenBid.hb_pb);
              } else {
                if (chosenBid) {
                  adserverTargeting(chosenBid, plugins_v2_constants.gSlots[this.adUnitCode]);
                } else {
                  if (plugins_v2_constants.sendTargeting === "on") {
                    plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("up_bid", "true");
                    plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("hb_pb", utlis_getCustomHBPB('banner', this.floorPrice));
                  }
                }
              }

              googletag.pubads().refresh([plugins_v2_constants.gSlots[this.adUnitCode]]);
            }
          }.bind(this));
        }

        if (plugins_v2_constants.bannerRequestMode == 'postbid' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp' || !accTargetSmartBanner) {
          if (chosenBid) {
            if (chosenBid.amznbid) {
              renderAmazonBid();
            } else {
              renderHBBids();
            }
          } else {
            this.reGetBids();
          }
        }

        pushInfoDebugOverlay(this.adUnitCode, chosenBid);
      } else {
        if (plugins_v2_constants.bannerRequestMode === 'postbid' || !accTargetSmartBanner) {
          this.reGetBids();
        }

        if ((plugins_v2_constants.bannerRequestMode === 'dfp' || plugins_v2_constants.bannerRequestMode === 'postbid_dfp') && accTargetSmartBanner) {
          utlis_vilog("[SM] Try get ad from Adx");
          googletag.cmd.push(function () {
            if (plugins_v2_constants.refererDomainID) {
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
            } else {
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_adslot", this.smartBannerSlots.zid);
            }

            plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_adtype", "display");
            plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_sf", "1");
            plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.smartBanner.accId);

            if (plugins_v2_constants.sendTargeting === "on") {
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("up_bid", "true");
              plugins_v2_constants.gSlots[this.adUnitCode].setTargeting("hb_pb", utlis_getCustomHBPB('banner', this.floorPrice));
            }

            googletag.pubads().refresh([plugins_v2_constants.gSlots[this.adUnitCode]]);
          }.bind(this));
          plugins_v2_constants.enableItemIcReport[this.adUnitCode] = "off";

          if (document.getElementsByClassName("vliIconRpSM")[0]) {
            document.getElementsByClassName("vliIconRpSM")[0].style.display = "none";
          }

          var dataBid = {
            adId: "unknown from Adx",
            bidder: "Adx",
            creativeId: "unknown from Adx"
          };
          pushInfoDebugOverlay(this.adUnitCode, dataBid);
        }
      }
    }
  }, {
    key: "reGetBids",
    value: function reGetBids() {
      utlis_vilog("[SM] Wait to refetch bids");
      var intervalTime = 0;
      var intervalTimer = setInterval(function () {
        if (plugins_v2_constants.isVisible) {
          intervalTime++;
        }

        if (intervalTime >= this.refreshTime) {
          clearInterval(intervalTimer);

          if (this.adContainer && this.adContainer.status === "hide") {
            this.getBids(true);
          }
        }
      }.bind(this), 1000);
    }
  }, {
    key: "collisionCheck",
    value: function collisionCheck() {
      var nicePositions = [];

      for (var i = 0; i < this.allPosition.length; i++) {
        var position = this.allPosition[i];

        if (document.documentElement.clientWidth < position.width || document.documentElement.clientHeight < position.height) {
          utlis_vilog("[SM] Window too small");
          continue;
        } else if (0.3 <= position.width * position.height / (document.documentElement.clientWidth * document.documentElement.clientHeight)) {
          utlis_vilog("[SM] Placement covers too much area");
          continue;
        }

        if (this.deviceType === position.type) {
          if (this.deviceType === "pc") {
            if (position.width === 728 && position.height === 90 || position.width === 970 && position.height === 90) {
              nicePositions.push(position);
              continue;
            }

            var item = {
              x: position.horizontal === "left" ? this.getScrollX() + 0 : this.getScrollX() + window.innerWidth - position.width,
              y: position.vertical === "top" ? this.getScrollY() + 0 : this.getScrollY() + window.innerHeight - position.height,
              width: position.width + 15,
              height: position.height
            };

            if (!this.isColliding(item)) {
              nicePositions.push(position);
            }
          }

          if (this.deviceType === "mobile") {
            nicePositions.push(position);
          }
        }
      }

      utlis_vilog("[SM] Position can display banner");
      utlis_vilog(nicePositions);
      return nicePositions;
    }
  }, {
    key: "isColliding",
    value: function isColliding(item) {
      var collision = this.quadtree.colliding(item);

      if (collision.length > 0) {
        return true;
      }

      return false;
    }
  }]);

  return Smartbanner;
}();

/* harmony default export */ var smartbanner = (smartbanner_Smartbanner);
// CONCATENATED MODULE: ./src/plugins_v2/custom-vast.js
var initAnalytic = function initAnalytic(pixelID) {
  var analyticIframe = document.getElementById("VIEventStats");
  if (analyticIframe) return;
  var vliPixel = document.getElementById(pixelID);
  var ifr = document.createElement('iframe');
  ifr.id = "VIEventStats";
  ifr.width = "0";
  ifr.height = "0";
  ifr.style.cssText = "display:none";
  vliPixel.appendChild(ifr);
  var html = '<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128776493-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag("js", new Date()); function viPushStats(medium, source, campaign, content) { gtag("config", "UA-128776493-10", { "page_title": medium + "_" + source + "_" + campaign + "_" + content, "campaign": { "medium": medium, "source": source, "name": campaign, "content": content } }); } </script>';
  ifr.contentWindow.document.open();
  ifr.contentWindow.document.write(html);
  ifr.contentWindow.document.close();
},
    pushTracking = function pushTracking(medium, source, campaign, content) {
  var analyticIframe = document.getElementById("VIEventStats");

  if (!analyticIframe) {
    vilog("[Custom Vast] Analytic Iframe Not Found");
    return;
  }

  if (typeof analyticIframe.contentWindow.viPushStats === 'function') {
    analyticIframe.contentWindow.viPushStats(medium, source, campaign, content);
  } else {
    vilog("[Custom Vast] Can't Invoking viPushStats");
  }
},
    linkFilter = function linkFilter(url) {
  if (url.search("<PAGE_URL>") !== -1) {
    url = url.replace("<PAGE_URL>", window.location.href);
  }

  return url;
};


// CONCATENATED MODULE: ./src/plugins_v2/outstream-inline.js







var outstream_inline_OutstreamInline = /*#__PURE__*/function () {
  function OutstreamInline(adSlot) {
    classCallCheck_default()(this, OutstreamInline);

    this.dId = "vi_outstrAd_" + adSlot;
    this.stop = false;
    this.timeReq = 20;
    this.reqLimit = 10;
    this.reqCount = 0;
    this.adIsActive = false;
    this.action = false;
    this.adSlot = adSlot;
    this.config = this.getAdConfig();
    this.floorPrice = 0;
    this.outstreamSlot = this.getOutStreamSlot("inline");
    this.outstreamID = null;
    this.inViewport = false;
    this.adContainer = null;
    this.adContainerChild = null;
    this.adPlayer = null;
    this.viPlayer = new vlPlayer({
      baseDomain: plugins_v2_constants.rootDomain
    });

    this.viAcAd = function () {};

    this.wrapperWidth = null;
    this.wrapperHeight = null;
  }

  createClass_default()(OutstreamInline, [{
    key: "init",
    value: function init() {
      var _this = this;

      if (!this.outstreamSlot) {
        utlis_vilog("[OI] Not found slot");
        return;
      }

      if (this.config.enablePC === false && !mobileDetect()) {
        utlis_vilog("[OI] OutstreamInline not enable on PC");
        return;
      }

      if (this.config.enableMobile === false && mobileDetect()) {
        utlis_vilog("[OI] OutstreamInline not enable on Mobile");
        return;
      }

      if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
        utlis_vilog("[OI] Inventory Block");
        return;
      }

      var adslots = document.getElementsByClassName(plugins_v2_constants.adClass);

      if (adslots.length > 0) {
        for (var i = 0; i < adslots.length; i++) {
          if (adslots[i].getAttribute("data-ad-slot") === this.adSlot) {
            this.adContainer = adslots[i];
            break;
          }
        }
      }

      if (!this.adContainer) return;
      var showBanner = validateShowBanner();

      if (showBanner) {
        convertVideoIntoBanner(this.adContainer, this.outstreamSlot, this.adSlot);
        return;
      }

      this.floorPrice = this.outstreamSlot.floorPrice ? this.outstreamSlot.floorPrice : 0;
      var adUnit = JSON.parse(JSON.stringify(this.outstreamSlot.adunit));
      if (!adUnit.bids) return;

      if (!adUnit.mediaTypes || adUnit.mediaTypes == null) {
        adUnit.mediaTypes = mediaTypesAdFormatVideo('outstream');
      }

      adUnit.bids = utlis_buildBids(adUnit.bids, this.floorPrice, "outstream"); //add renderer

      adUnit.renderer = adUnit.renderer || {
        url: '',
        render: function render() {}
      };
      vlipb.removeAdUnit(adUnit.code);
      vlipb.addAdUnits(adUnit);
      this.outstreamID = adUnit.code;

      if (adUnit.bids.length > 0 && !plugins_v2_constants.auctionLogs[this.outstreamID]) {
        plugins_v2_constants.auctionLogs[this.outstreamID] = {
          bidder: putOutBidders(adUnit.bids),
          preAuction: ''
        };
      }

      elementReady("body", function () {
        document.body.addEventListener('click', this.viBodyCLick.bind(this));
        document.body.addEventListener('click', this.viActiveAd.bind(this));
      }.bind(this));
      window.addEventListener('scroll', this.viActiveAd.bind(this));
      addVsbInterval(this.viReqBid.bind(this), 1000); //viewPortDetect Player

      var inView = function inView() {
        utlis_vilog("[OI] Ad in viewport");

        if (!_this.inViewport) {
          _this.inViewport = true;
          if (_this.action) _this.viAcAd();
        }

        setTimeout(function () {
          if (this.adPlayer) this.adPlayer.resume();
        }.bind(_this), 200);
      };

      var outView = function outView() {
        utlis_vilog("[OI] Ad out viewport");
        if (_this.inViewport) _this.inViewport = false;
        if (_this.adPlayer) _this.adPlayer.pause();
      };

      isInViewPort(this.adContainer, inView, outView, {
        threshold: [0]
      });
    }
  }, {
    key: "getOutStreamSlot",
    value: function getOutStreamSlot(type) {
      if (!plugins_v2_constants.outstreamSlot) return false;

      for (var key in plugins_v2_constants.outstreamSlot) {
        if (plugins_v2_constants.outstreamSlot[key].type === type) return plugins_v2_constants.outstreamSlot[key];
      }

      return false;
    }
  }, {
    key: "getAdConfig",
    value: function getAdConfig() {
      var defaultDisplayFrequency = {
        limit: null,
        every: null,
        unit: null
      };
      var defaultConfig = {
        enablePC: true,
        enableMobile: true,
        displayFrequency: defaultDisplayFrequency,
        complete: function complete() {},
        error: function error() {},
        hidden: function hidden() {}
      };
      cloneDefaultConfig({
        outstreamInlineConfig: defaultConfig
      });
      if (!window[plugins_v2_constants.tagName].outstreamInlineConfig) return defaultConfig;
      var config = window[plugins_v2_constants.tagName].outstreamInlineConfig;

      for (var key in defaultConfig) {
        if (typeof config[key] === "undefined") {
          config[key] = defaultConfig[key];
        }
      } //validate displayFrequency


      if (config.displayFrequency.limit !== null && (!Number.isInteger(config.displayFrequency.limit) || config.displayFrequency.limit <= 0)) {
        utlis_vilog("[OI] Display Frequency Limit Error. Display unlimited");
        config.displayFrequency = defaultDisplayFrequency;
      } else if (config.displayFrequency.every !== null && (!Number.isInteger(config.displayFrequency.every) || config.displayFrequency.every <= 0)) {
        utlis_vilog("[OI] Display Frequency Time period Error. Display unlimited");
        config.displayFrequency = defaultDisplayFrequency;
      } else if (config.displayFrequency.unit !== null && (!config.displayFrequency.unit || ["second", "minute", "hour", "day"].indexOf(config.displayFrequency.unit) === -1)) {
        utlis_vilog("[OI] Display Frequency Unit Error. Display unlimited");
        config.displayFrequency = defaultDisplayFrequency;
      }

      return config;
    }
  }, {
    key: "viActiveAd",
    value: function viActiveAd() {
      this.action = true;
      document.body.removeEventListener('click', this.viActiveAd.bind(this));
      window.removeEventListener('scroll', this.viActiveAd.bind(this));
      this.viAcAd();
    }
  }, {
    key: "viBodyCLick",
    value: function viBodyCLick() {
      document.body.removeEventListener('click', this.viBodyCLick.bind(this));
    }
  }, {
    key: "viReqBid",
    value: function viReqBid() {
      if (this.isFrequencyLimit()) {
        utlis_vilog("[OI] Display limit. Try request bid again after " + this.timeReq + "s");
        this.refreshBid();
        return;
      }

      if (this.stop == true || this.reqCount == this.reqLimit) return;
      utlis_vilog("[OI] Request bid");
      vlipb.requestBids({
        timeout: plugins_v2_constants.prebidTimeout,
        adUnitCodes: [this.outstreamID],
        bidsBackHandler: function () {
          var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(this.outstreamID), this.outstreamID);

          utlis_vilog("[OI] Bid response");
          utlis_vilog(_rsp);

          var callBack = function callBack() {};

          var dspPrice = this.floorPrice;

          if (_rsp.length > 0) {
            var winKey = getWinBidder(_rsp);
            var bidWon = _rsp[winKey];

            if (bidWon.cpm >= this.floorPrice) {
              callBack = function () {
                this.viDisplayOutstream(bidWon, function () {
                  this.tryWithAnotherBidder(winKey, _rsp);
                }.bind(this));
              }.bind(this);

              dspPrice = bidWon.cpm;
            } else {
              utlis_vilog("[OI] oustream win < floor price");
              showOnAnalytics({
                bidder: bidWon.bidderCode + "_Below_Floor_Outstream",
                cpm: bidWon.cpm
              });

              callBack = function () {
                this.tryCustomVast();
              }.bind(this);
            }
          } else {
            utlis_vilog("[OI] oustream not win");
            showOnAnalytics({
              bidder: "Nobid_Outstream",
              cpm: "0.00"
            });

            callBack = function () {
              this.tryCustomVast();
            }.bind(this);
          }

          var dspCallback = function (dspWin) {
            if (dspWin) {
              this.viDisplayOutstream(dspWin, function () {
                this.tryWithAnotherBidder(false, _rsp);
              }.bind(this));
            } else {
              try {
                callBack();
              } catch (error) {
                console.log(error);
              }
            }
          }.bind(this);

          this.tryDspAd(dspPrice, dspCallback);
        }.bind(this)
      });
      this.reqCount++;
    }
  }, {
    key: "tryDspAd",
    value: function tryDspAd(price, callback) {
      var browser = getBrowser();
      var device = mobileDetect() ? "mobile" : "desktop";

      if ([101, 392, 400, 435, 575, 788, 789, 801, 845, 955, 1213, 2659, 3103].indexOf(plugins_v2_constants.domainID) !== -1) {
        var xhr = new XMLHttpRequest();

        xhr.onreadystatechange = function () {
          if (this.readyState === 4) {
            if (this.status === 200) {
              if (this.responseText) {
                var response = JSON.parse(this.responseText);

                if (response.status) {
                  var bidWonDsp = {
                    bidderCode: "vlidsp",
                    vastUrl: response.vast,
                    cpm: response.price,
                    creativeId: "dspcreative",
                    auctionId: generateUUID()
                  };
                  callback(bidWonDsp);
                } else {
                  callback(false);
                }
              } else {
                callback(false);
              }
            } else {
              callback(false);
            }
          }
        };

        xhr.timeout = 1500;

        xhr.ontimeout = function () {
          callback(false);
        };

        xhr.open("GET", "//ms.vliplatform.com/campaign/get?location=" + plugins_v2_constants.VIGeo + "&device=" + device + "&browser=" + browser + "&price=" + price + "&d=" + encodeURI(window.location.protocol + "//" + window.location.hostname), true);
        xhr.withCredentials = true;
        xhr.send();
      } else {
        callback(false);
      }
    }
  }, {
    key: "viDisplayOutstream",
    value: function viDisplayOutstream(bidWon, errCallBack) {
      if (!this.inViewport || !this.action) {
        utlis_vilog("[OI] Wait action & ad enter viewport to play");

        this.viAcAd = function () {
          if (this.inViewport && this.action) {
            if (this.adIsActive) return;
            this.adIsActive = true;
            this.viDisplayOutstream(bidWon, errCallBack);
          }
        }.bind(this);

        return;
      }

      this.viCreateAdwrapper();
      utlis_vilog("[OI] Start with " + (bidWon.bidderCode ? bidWon.bidderCode : "Adx") + "___" + (bidWon.cpm ? bidWon.cpm : 0));
      var vastXml = getVastXml(bidWon);
      var vastUrl = bidWon.vastUrl ? bidWon.vastUrl : null;
      this.adPlayer = this.viPlayer.play({
        type: 'outstream',
        vastXml: vastXml,
        vastUrl: vastUrl,
        divID: this.dId,
        adHeight: this.wrapperHeight,
        volumeControl: true,
        start: function () {
          addVsbAction({
            divID: this.outstreamID,
            hidden: function () {
              this.adPlayer.pause();
            }.bind(this),
            watching: function () {
              this.adPlayer.resume();
            }.bind(this)
          });
          pushInfoDebugOverlay(this.outstreamID, bidWon);
          this.viShowAd();
        }.bind(this),
        complete: function () {
          this.reqCount = 0;

          if (this.config.complete) {
            this.config.complete({
              id: this.outstreamID
            });
          }
        }.bind(this),
        error: function (errorCode) {
          clearVsbAction(this.outstreamID);
          errorRenderVideo({
            e: errorCode,
            b: bidWon.bidderCode,
            t: 'outstream',
            c: bidWon.creativeId
          });
          errCallBack();
        }.bind(this),
        impression: function () {
          utlis_vilog("[OI] Win ___ " + bidWon.bidderCode + " ___ " + bidWon.cpm);
          savePixel({
            type: "hb_video",
            divID: this.outstreamID,
            zoneID: this.outstreamSlot.zid,
            bidder: bidWon.bidderCode,
            cpm: bidWon.cpm
          });
        }.bind(this),
        hidden: function () {
          this.viHideAd();
          clearVsbAction(this.outstreamID);

          if (this.config.hidden) {
            this.config.hidden({
              id: this.outstreamID
            });
          }

          this.refreshBid();
        }.bind(this)
      });
    }
  }, {
    key: "tryCustomVast",
    value: function tryCustomVast() {
      utlis_vilog("[OI Vast] Try custom vast");
      this.viCreateAdwrapper();

      var errorCb = function () {
        if (this.config.error) {
          this.config.error({
            id: this.outstreamID
          });
        }
      }.bind(this);

      var renderAds = function () {
        if (vastArr.length <= 0) {
          utlis_vilog("[OI Vast] vastArr[] empty");
          errorCb();
          utlis_vilog("[OI Vast] Call refresh");
          this.refreshBid();
          return;
        }

        var vastUrl = "";
        var vastName = "";

        for (var i = 0; i < vastArr.length; i++) {
          if (!vastArr[i].requested) {
            vastArr[i].requested = true;
            vastUrl = vastArr[i].link;
            vastName = vastArr[i].bidder;
            break;
          }
        }

        if (!vastUrl || !vastName) {
          utlis_vilog("[OI Vast] vast link|vast bidder empty");
          errorCb();
          utlis_vilog("[OI Vast] Call refresh");
          this.refreshBid();
          return;
        }

        this.adPlayer = this.viPlayer.play({
          type: 'outstream',
          vastXml: null,
          vastUrl: vastUrl,
          divID: this.dId,
          adHeight: this.wrapperHeight,
          volumeControl: true,
          start: function () {
            addVsbAction({
              divID: this.outstreamID,
              hidden: function () {
                this.adPlayer.pause();
              }.bind(this),
              watching: function () {
                this.adPlayer.resume();
              }.bind(this)
            });
            var dataBid = {
              adId: "unknown from Custom Vast",
              bidder: "Custom Vast",
              creativeId: "unknown from Custom Vast"
            };
            pushInfoDebugOverlay(this.outstreamID, dataBid);
            this.viShowAd();
            utlis_vilog("[OI Vast]  ++++++ Bidder: " + vastName + ", Event: Start");
          }.bind(this),
          complete: function () {
            this.reqCount = 0;

            if (this.config.complete) {
              this.config.complete({
                id: this.outstreamID
              });
            }
          }.bind(this),
          error: function (errorEvent) {
            clearVsbAction(this.outstreamID);
            utlis_vilog("[OI Vast] ++++++ Bidder: " + vastName + ", Event: Error: " + errorEvent.getErrorCode());
            pushTracking(plugins_v2_constants.domainName, "ERROR - " + vastName, "er", "er");
            renderAds();
          }.bind(this),
          impression: function () {
            utlis_vilog("[OI Vast] ++++++ Bidder: " + vastName + ", Event: Impression");
            pushTracking(plugins_v2_constants.domainName, "OK - " + vastName, "ok", "ok");
          }.bind(this),
          hidden: function () {
            this.viHideAd();
            clearVsbAction(this.outstreamID);

            if (this.config.hidden) {
              this.config.hidden({
                id: this.outstreamID
              });
            }

            utlis_vilog("[OI Vast] Call refresh");
            this.refreshBid();
          }.bind(this)
        });
      }.bind(this);

      initAnalytic(plugins_v2_constants.pixelID);
      var vastArr = [];

      if (this.outstreamSlot.vast) {
        vastArr = JSON.parse(JSON.stringify(this.outstreamSlot.vast));
      }

      for (var i = 0; i < vastArr.length; i++) {
        vastArr[i].requested = false;
        vastArr[i].link = linkFilter(vastArr[i].link);
      }

      renderAds();
    }
  }, {
    key: "tryWithAnotherBidder",
    value: function tryWithAnotherBidder(winKey, response) {
      clearVsbAction(this.outstreamID);

      if (response.length <= 1) {
        utlis_vilog("[OI] Empty response");
        this.viHideAd();
        this.tryCustomVast();
        return;
      }

      ;

      if (winKey !== false) {
        response.splice(winKey, 1);
      }

      var newKey = getWinBidder(response);
      var bidWon = response[newKey];

      if (bidWon.cpm < this.floorPrice) {
        this.viHideAd();
        this.tryCustomVast();
        return;
      }

      utlis_vilog("[OI] Try again with " + bidWon.bidderCode + "___" + bidWon.cpm);
      this.viDisplayOutstream(bidWon, function () {
        this.tryWithAnotherBidder(newKey, response);
      }.bind(this));
    }
  }, {
    key: "refreshBid",
    value: function refreshBid() {
      utlis_vilog("[OI] Refresh after " + this.timeReq + "s");
      noRefreshRubicon("video");
      setTimeout(function () {
        var _this2 = this;

        if (plugins_v2_constants.isVisible) {
          this.viReqBid();
        } else {
          var vsbKey = "outstream_refresh_queue";
          addVsbAction({
            divID: vsbKey,
            hidden: function hidden() {},
            watching: function watching() {
              clearVsbAction(vsbKey);

              _this2.viReqBid();
            }
          });
        }
      }.bind(this), this.timeReq * 1000);
    }
  }, {
    key: "isFrequencyLimit",
    value: function isFrequencyLimit() {
      if (this.config.displayFrequency.limit !== null && this.config.displayFrequency.every !== null && this.config.displayFrequency.unit !== null) {
        var data = getCookie("vi-outstream-frequency");

        if (data) {
          var json = JSON.parse(data);

          if (json[this.outstreamID]) {
            var count = json[this.outstreamID].count;
            var start = json[this.outstreamID].start;
            var offset = this.calcTimeOffset(start);

            if (offset < this.config.displayFrequency.every && count >= this.config.displayFrequency.limit) {
              return true;
            }
          }
        }
      }

      return false;
    }
  }, {
    key: "countDisplay",
    value: function countDisplay() {
      if (this.config.displayFrequency.limit !== null && this.config.displayFrequency.every !== null && this.config.displayFrequency.unit !== null) {
        var data = {};
        var cookie = getCookie("vi-outstream-frequency");

        if (cookie) {
          data = JSON.parse(cookie);
        }

        if (data[this.outstreamID]) {
          var count = data[this.outstreamID].count;
          var start = data[this.outstreamID].start;
          var offset = this.calcTimeOffset(start);

          if (offset < this.config.displayFrequency.every) {
            data[this.outstreamID] = {
              count: count + 1,
              start: start
            };
          } else {
            data[this.outstreamID] = {
              count: 1,
              start: new Date().getTime()
            };
          }
        } else {
          data[this.outstreamID] = {
            count: 1,
            start: new Date().getTime()
          };
        }

        setCookie("vi-outstream-frequency", JSON.stringify(data));
      }
    }
  }, {
    key: "calcTimeOffset",
    value: function calcTimeOffset(time_start) {
      var curent = new Date().getTime();
      var offset = 0;

      if (this.config.displayFrequency.unit === "second") {
        offset = Math.round((curent - time_start) / 1000);
      }

      if (this.config.displayFrequency.unit === "minute") {
        offset = Math.round((curent - time_start) / 1000 / 60);
      }

      if (this.config.displayFrequency.unit === "hour") {
        offset = Math.round((curent - time_start) / 1000 / 60 / 60);
      }

      if (this.config.displayFrequency.unit === "day") {
        offset = Math.round((curent - time_start) / 1000 / 60 / 60 / 24);
      }

      return offset;
    }
  }, {
    key: "viHideAd",
    value: function viHideAd() {
      this.adContainerChild.style.height = '0px';
      this.adPlayer = null;
    }
  }, {
    key: "viShowAd",
    value: function viShowAd() {
      this.countDisplay();
      this.adContainerChild.style.height = this.wrapperHeight + 'px';
    }
  }, {
    key: "cleanAdwrapper",
    value: function cleanAdwrapper() {
      var adWraps = document.getElementsByClassName("vlioutstream");

      for (var i = 0; i < adWraps.length; i++) {
        if (adWraps[i].id && adWraps[i].id === this.outstreamID) {
          adWraps[i].parentNode.removeChild(adWraps[i]);
        }
      }
    }
  }, {
    key: "viCreateAdwrapper",
    value: function viCreateAdwrapper() {
      this.cleanAdwrapper();
      var adHtm = document.createElement("vli");
      adHtm.id = this.outstreamID;
      adHtm.className = "vlioutstream";
      if (!this.adContainer) return;
      this.wrapperWidth = this.adContainer.clientWidth;
      if (this.wrapperWidth > 640) this.wrapperWidth = 640;
      if (this.wrapperWidth < 300) this.wrapperWidth = 300;
      this.wrapperHeight = parseInt(this.wrapperWidth / 16 * 9);
      adHtm.style.cssText = 'background:unset!important;position:relative; transition: height 0.5s ease-in-out 0s; width: ' + this.wrapperWidth + 'px; height: 0px; overflow: hidden; background-color: rgba(0, 0, 0, 0.6); display: block; margin: 0 auto;';
      adHtm.innerHTML = this.vioutstrCloseBtn() + '<vli style="background:unset!important;display:block" id="' + this.dId + '"></vli>';
      this.adContainer.appendChild(adHtm);
      this.adContainerChild = adHtm;
      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(this.outstreamID, true);
      document.getElementById("vi_outstrClose_" + this.outstreamID).addEventListener('click', function () {
        this.adPlayer.pause();
        this.stop = true;
        clearVsbAction(this.outstreamID);

        if (this.config.hidden) {
          this.config.hidden({
            id: this.outstreamID
          });
        }

        this.viHideAd();
      }.bind(this));
    }
  }, {
    key: "vioutstrCloseBtn",
    value: function vioutstrCloseBtn() {
      return "<vli id=\"vi_outstrClose_".concat(this.outstreamID, "\" style=\"background: unset!important;-webkit-box-sizing: unset !important; -ms-box-sizing: unset !important; -moz-box-sizing: unset !important; box-sizing: unset !important;position:absolute;z-index:9999;cursor:pointer;width:14px;height:14px;top:8px;left:8px;\">\n            <svg width=\"512px\" height=\"512px\" display=\"inherit\" enable-background=\"new 0 0 92.132 92.132\" style=\"box-sizing:unset!important;height:100%;width:100%\" version=\"1.1\" viewBox=\"0 0 92.132 92.132\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"><path class=\"active-path\" d=\"m2.141 89.13c1.425 1.429 3.299 2.142 5.167 2.142 1.869 0 3.742-0.713 5.167-2.142l33.591-33.592 33.591 33.592c1.426 1.429 3.299 2.142 5.167 2.142 1.867 0 3.74-0.713 5.167-2.142 2.854-2.854 2.854-7.48 0-10.334l-33.593-33.591 31.869-31.869c2.855-2.853 2.855-7.481 0-10.334-2.853-2.855-7.479-2.855-10.334 0l-31.868 31.868-31.867-31.869c-2.854-2.855-7.481-2.855-10.333 0-2.855 2.853-2.855 7.481 0 10.334l31.868 31.869-33.59 33.591c-2.857 2.853-2.857 7.479-2e-3 10.335z\" fill=\"#fff\" data-old_color=\"#ffffff\" data-original=\"#000000\"/></svg>\n        </vli>");
    }
  }]);

  return OutstreamInline;
}();

/* harmony default export */ var outstream_inline = (outstream_inline_OutstreamInline);
// CONCATENATED MODULE: ./src/plugins_v2/instream.js





var instream = function () {
  var init = function init(adSlot) {
    var adContainer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    var slotCallbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var currentVolume = 1;
    var adslots = document.getElementsByClassName(plugins_v2_constants.adClass);
    if (adslots.length === 0) return;

    if (!adContainer) {
      for (var i = 0; i < adslots.length; i++) {
        if (adslots[i].getAttribute("data-ad-slot") !== adSlot || adslots[i].classList.contains("running")) {
          continue;
        }

        adContainer = adslots[i];
        break;
      }
    }

    if (!adContainer) return;

    if (adContainer.offsetParent === null) {
      utlis_vilog("[Instream] Ad container not visible");
      return;
    }

    if (plugins_v2_constants.VIdebug) {
      debug_createInfoOverlay(adContainer.getAttribute("data-ad-slot"));
    }

    var userConfigs = getVideoConfigs(adSlot, adContainer);
    var instrLib = new instream_instreamLib(adSlot, userConfigs, adContainer, currentVolume, slotCallbacks);
    instrLib.init();
  },
      getVideoConfigs = function getVideoConfigs(adSlot, adContainer) {
    var defaultConfig = {
      responsiveMode: false,
      width: 640,
      height: 480,
      timeoutVideo: null,
      timeoutVast: null,
      loadingText: "Loading advertisement..",
      start: function start() {},
      complete: function complete() {},
      error: function error() {},
      hidden: function hidden() {}
    };
    cloneDefaultConfig({
      videoConfig: defaultConfig
    });
    if (!window[plugins_v2_constants.tagName].videoConfig) return defaultConfig;
    var config = {};

    for (var key in defaultConfig) {
      if (typeof window[plugins_v2_constants.tagName].videoConfig[key] === "undefined") {
        config[key] = defaultConfig[key];
      } else {
        config[key] = window[plugins_v2_constants.tagName].videoConfig[key];
      }

      ;
    }

    if (window[plugins_v2_constants.tagName].videoConfig[adSlot]) {
      for (var key in config) {
        if (typeof window[plugins_v2_constants.tagName].videoConfig[adSlot][key] !== "undefined") {
          config[key] = window[plugins_v2_constants.tagName].videoConfig[adSlot][key];
        }

        ;
      }
    }

    if (config.responsiveMode === true) {
      config.width = adContainer.parentNode.offsetWidth;
      config.height = adContainer.parentNode.offsetHeight;
    }

    return config;
  },
      render_container = function render_container() {
    var style = document.createElement("style");
    style.innerText = ".vi-instream--container{position: relative;display: inline-block;}";
    style.innerText += ".vi-instream--play-handler{cursor:pointer;z-index:9997;position: absolute;background-color: rgba(0, 0, 0, 0.3); top: 0;left: 0; width: 100%;height: 100%;}";
    style.innerText += ".vi-instream--play-button{width: 100px; height: 100px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); fill:#282828;}";
    style.innerText += ".vi-instream--play-button g{fill: #fff;}";
    document.head.appendChild(style);
    var containerClass = "vi-instream--container";
    var containerElements = document.getElementsByClassName(containerClass);

    for (var i = 0; i < containerElements.length; i++) {
      var adSlot = containerElements[i].getAttribute("data-ad-slot");
      if (!adSlot) continue;
      containerElements[i].insertAdjacentHTML('afterbegin', '<div class="vi-instream--play-handler" data-ad-slot="' + adSlot + '"><svg class="vi-instream--play-button" enable-background="new 0 0 58 58" version="1.1" viewBox="0 0 58 58" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><circle class="active-path" cx="29" cy="29" r="29" data-old_color="#EBBA16" data-original="#EBBA16"/><g><polygon class="" points="44 29 22 44 22 29.273 22 14" data-old_color="#FFFFFF" data-original="#FFFFFF"/><path class="" d="M22,45c-0.16,0-0.321-0.038-0.467-0.116C21.205,44.711,21,44.371,21,44V14   c0-0.371,0.205-0.711,0.533-0.884c0.328-0.174,0.724-0.15,1.031,0.058l22,15C44.836,28.36,45,28.669,45,29s-0.164,0.64-0.437,0.826   l-22,15C22.394,44.941,22.197,45,22,45z M23,15.893v26.215L42.225,29L23,15.893z" data-old_color="#FFFFFF" data-original="#FFFFFF"/></g></svg></div><div class="' + plugins_v2_constants.adClass + '" data-ad-slot="' + adSlot + '"></div>');
    }

    var play_handler_elems = document.getElementsByClassName("vi-instream--play-handler");

    for (var i = 0; i < play_handler_elems.length; i++) {
      play_handler_elems[i].addEventListener("click", function () {
        var adSlot = this.getAttribute("data-ad-slot");
        init(adSlot);
        this.style.display = "none";
      });
    }
  };

  return {
    init: init,
    render_container: render_container
  };
}();

var instream_instreamLib = function instreamLib(adSlot, userConfigs, adContainer, currentVolume, slotCallbacks) {
  var instreamID = adSlot;
  var player = null;
  var callbackResp = {
    slotID: instreamID
  };
  var videoSlot;
  var floorPrice;
  var bannerSlot;
  var floorPriceBanner;
  var adPlayed = false;

  var showLoading = function showLoading() {
    adContainer.insertAdjacentHTML('afterbegin', '<style>.instream_ad_loader{ border-radius: inherit; bottom: 0; left: 0; overflow: hidden; position: absolute; right: 0; top: 0; z-index: 99999; background-color: #060606; } @-webkit-keyframes "av-loading-dash" { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0; } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50; } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210; } } @-moz-keyframes "av-loading-dash" { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0; } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50; } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210; } } @-o-keyframes av-loading-dash { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0 } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50 } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210 } } @keyframes "av-loading-dash" { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0; } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50; } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210; } } @-webkit-keyframes "av-loading-rotate" { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg); } } @-moz-keyframes "av-loading-rotate" { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg); } } @-o-keyframes av-loading-rotate { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg) } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg) } } @keyframes "av-loading-rotate" { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg); } } .instream_ad_loader svg { position: absolute; top: 50%; left: 50%; } .instream_ad_loader svg.circle { fill: transparent; stroke: rgba(255, 255, 255, 0.2); stroke-width: 3; width: 70px; height: 70px; margin-left: -35px; margin-top: -35px; } .instream_ad_loader svg.circle.active { color: #00b3ff; stroke: white; stroke-linecap: round; animation: av-loading-dash 2s ease infinite, av-loading-rotate 2.5s linear infinite; }</style>');
    var preLoader = document.createElement('div');
    preLoader.className = 'instream_ad_loader';
    preLoader.innerHTML = '<svg class="circle" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg><svg class="circle active" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>';
    adContainer.appendChild(preLoader);
  },
      init = function init() {
    if (plugins_v2_constants.isVideoRunning && plugins_v2_constants.dfpApproved === "on") {
      utlis_vilog("[Instream] Other Video is Running");

      if (userConfigs.hidden) {
        userConfigs.hidden();
      }

      return;
    }

    if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
      utlis_vilog("[Instream] Inventory Blocked");

      if (userConfigs.hidden) {
        userConfigs.hidden();
      }

      return;
    }

    if (!plugins_v2_constants.instreamSlot) return;
    if (!plugins_v2_constants.instreamSlot[adSlot]) return;
    if (!adContainer) return;
    if (adContainer.classList.contains("running")) return;
    videoSlot = JSON.parse(JSON.stringify(plugins_v2_constants.instreamSlot[adSlot]));
    floorPrice = videoSlot.floorPrice ? videoSlot.floorPrice : 0;
    floorPriceBanner = videoSlot.bannerFloorPrice ? videoSlot.bannerFloorPrice : 0;
    var adUnitCodes = [],
        apstagSlots = [];
    var adunit = videoSlot.adunit;
    var adunitExt = videoSlot.adunitExt;

    if (!adunit.bids && !adunitExt.bids) {
      if (userConfigs.error) {
        userConfigs.error();
      }

      if (slotCallbacks.error) {
        slotCallbacks.error();
      }

      return;
    }

    if (!adunit.mediaTypes || adunit.mediaTypes == null) {
      adunit.mediaTypes = mediaTypesAdFormatVideo('instream');
    }

    adContainer.classList.add("running");
    showLoading();
    adunit.code = adSlot;
    adunit.bids = utlis_buildBids(adunit.bids, floorPrice);
    vlipb.removeAdUnit(adSlot);
    vlipb.addAdUnits(adunit);
    adUnitCodes.push(adunit.code);

    if (adunit.bids.length > 0 && !plugins_v2_constants.auctionLogs[adSlot]) {
      plugins_v2_constants.auctionLogs[adSlot] = {
        bidder: putOutBidders(adunit.bids),
        preAuction: ''
      };
    } // bid Ext


    if (adunitExt) {
      if (!adunitExt.mediaTypes || adunitExt.mediaTypes == null) {
        adunitExt.mediaTypes = mediaTypesAdFormatVideo('instreamExt');
      }

      adunitExt.bids = utlis_buildBids(adunitExt.bids, floorPrice);
      adunitExt.renderer = adunitExt.renderer || {
        url: '',
        render: function render() {}
      };
      vlipb.removeAdUnit(adunitExt.code);
      vlipb.addAdUnits(adunitExt);
      adUnitCodes.push(adunitExt.code);

      if (adunitExt.bids.length > 0 && !plugins_v2_constants.auctionLogs[adunitExt.code]) {
        plugins_v2_constants.auctionLogs[adunitExt.code] = {
          bidder: putOutBidders(adunitExt.bids),
          preAuction: ''
        };
      }
    } //Add banner unit


    var adContainerWidth = !isInIframe() ? adContainer.parentNode.clientWidth : window.innerWidth;
    var adContainerHeight = !isInIframe() ? adContainer.parentNode.clientHeight : window.innerHeight;

    if (plugins_v2_constants.displaySlot && adContainerWidth > 300 && adContainerHeight > 250) {
      for (var key in plugins_v2_constants.displaySlot) {
        if (plugins_v2_constants.displaySlot[key].w === 300 && plugins_v2_constants.displaySlot[key].h === 250) {
          bannerSlot = JSON.parse(JSON.stringify(plugins_v2_constants.displaySlot[key]));
          var bannerAdUnit = bannerSlot.adunit;
          bannerAdUnit.code = adSlot + "_banner_" + Math.floor(Math.random() * 10000 + 1);
          bannerAdUnit.bids = getBidsForAdUnit("300_250");
          bannerAdUnit.bids = utlis_buildBids(bannerAdUnit.bids, floorPriceBanner);

          if (bannerAdUnit.bids.length > 0 && !plugins_v2_constants.auctionLogs[bannerAdUnit.code]) {
            plugins_v2_constants.auctionLogs[bannerAdUnit.code] = {
              bidder: putOutBidders(bannerAdUnit.bids),
              preAuction: ''
            };
          }

          vlipb.addAdUnits(bannerAdUnit);
          adUnitCodes.push(bannerAdUnit.code);

          if (plugins_v2_constants.amazonEnabled) {
            var apstagSlotSizes = amazonUAMSizeFilter(bannerAdUnit.mediaTypes.banner.sizes);

            if (apstagSlotSizes.length > 0) {
              var apstagSlot = {
                slotID: bannerAdUnit.code,
                sizes: apstagSlotSizes,
                slotName: "Amazon"
              };
              apstagSlots.push(apstagSlot);
            }
          }

          break;
        }
      }
    }

    utlis_requestBids(adUnitCodes, apstagSlots, videoBackHandler);
  },
      videoBackHandler = function videoBackHandler(adUnitCodes) {
    plugins_v2_constants.isVideoRunning = true;
    var responses = [];
    adUnitCodes.forEach(function (currentDivId) {
      var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

      utlis_vilog("[Instream] Response for: " + currentDivId);
      utlis_vilog(_rsp);
      responses = responses.concat(_rsp); // check amazon response

      var amazonResponse = plugins_v2_constants.amazonBidResponses[currentDivId];

      if (amazonResponse) {
        utlis_vilog("[Instream] Amazon Response for: " + currentDivId);
        utlis_vilog(amazonResponse);
        responses = responses.concat(amazonResponse);
      }
    });
    var responseSorted = sortResponseBids(responses);
    utlis_vilog("[Instream] All Sorted Responses");
    utlis_vilog(responseSorted);
    responseSorted = responseSorted.filter(function (bid) {
      if (bid.mediaType === "video" && bid.cpm < floorPrice) {
        vlipb.markWinningBidAsUsed({
          adId: bid.adId
        });
        return false;
      }

      if (bid.mediaType === "banner") {
        if (!bid.amznbid && bid.width > 300 && bid.height > 250) {
          // remove bid have big size
          utlis_vilog("[Instream] Bidwon has big size");
          return false;
        }
      }

      if (bid.mediaType === "banner" && bid.cpm < floorPriceBanner) {
        if (!bid.amznbid) {
          vlipb.markWinningBidAsUsed({
            adId: bid.adId
          });
        }

        return false;
      }

      return true;
    });

    if (plugins_v2_constants.videoRequestMode === "dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.instream) === false) {
      var bidSelected = null;

      if (responseSorted.length > 0) {
        bidSelected = responseSorted[0];
      }

      if (bidSelected && bidSelected.mediaType === "banner") {
        startRender(responseSorted);
      } else {
        var pixelToken = "";
        var adUnitWin = videoSlot.adunit;

        if (bidSelected) {
          var pixel = {
            type: "hb_video",
            divID: instreamID,
            zoneID: videoSlot.zid,
            bidder: bidSelected.bidderCode,
            cpm: bidSelected.cpm
          };
          pixelToken = getPixelToken(pixel);

          if (videoSlot.adunit && videoSlot.adunit.code == bidSelected.adUnitCode) {
            adUnitWin = videoSlot.adunit;
          }

          if (videoSlot.adunitExt && videoSlot.adunitExt.code == bidSelected.adUnitCode) {
            adUnitWin = videoSlot.adunitExt;
          }
        }

        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.instream.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "instream",
          impression_url: plugins_v2_constants.statsDomain,
          token: pixelToken,
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? videoSlot.zid : "instream_" + videoSlot.zid;
        }

        if (!bidSelected) {
          cust_params.hb_pb = floorPrice;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.instream)
          },
          adUnit: adUnitWin,
          bidWon: bidSelected,
          customParams: cust_params
        });
        utlis_vilog("[INSTREAM] New Vast Url: " + vastUrl);
        if (bidSelected) vlipb.markWinningBidAsUsed({
          adId: bidSelected.adId
        });
        var callbacks = {
          start: function start() {
            var dataBid = {
              adId: bidSelected ? bidSelected.adId : "unknown from Adx",
              bidder: bidSelected ? bidSelected.bidder : "Adx",
              creativeId: bidSelected ? bidSelected.creativeId : "unknown from Adx"
            };
            pushInfoDebugOverlay(instreamID, dataBid);
          },
          error: function error() {
            startRender(responseSorted);
          }
        };
        playVast({
          vastUrl: vastUrl,
          vastXml: null
        }, callbacks);
      }
    } else {
      startRender(responseSorted);
    }
  },
      startRender = function startRender() {
    var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
    var vastUrl = null;
    var vastXml = null;
    var data = {};
    var callbacks = {
      start: function start() {},
      impression: function impression() {},
      error: function error() {},
      hidden: function hidden() {}
    };

    if (bids.length > 0) {
      var bidWon = bids[0];
      vlipb.markWinningBidAsUsed({
        adId: bidWon.adId
      });
      bids.splice(0, 1);

      if (bidWon.mediaType === "video") {
        vastUrl = bidWon.vastUrl || null;
        vastXml = bidWon.vastXml || null;

        callbacks.start = function () {
          pushInfoDebugOverlay(instreamID, bidWon);
        };

        callbacks.error = function (errorCode) {
          startRender(bids);
        };

        callbacks.impression = function () {
          var pixel = {
            type: "hb_video",
            divID: instreamID,
            zoneID: videoSlot.zid,
            bidder: bidWon.bidderCode,
            cpm: bidWon.cpm
          };
          savePixel(pixel);
          utlis_vilog("Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm);
        };

        data = {
          vastUrl: vastUrl,
          vastXml: vastXml
        };
        playVast(data, callbacks);
      } else {
        displayBanner(bidWon);
      }
    } else {
      caseTwo();
    }
  },
      caseTwo = function caseTwo() {
    if (plugins_v2_constants.videoRequestMode === "postbid_dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.instream) === false) {
      var cust_params = {
        vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.instream.accId,
        hb_domain: plugins_v2_constants.domainName,
        section: "blog",
        anotherKey: "anotherValue",
        vli_adtype: "instream",
        vli_network: "true"
      };

      if (plugins_v2_constants.refererDomainID) {
        cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
      } else {
        cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? videoSlot.zid : "instream_" + videoSlot.zid;
      }

      var vastUrl = buildDfpVideoUrl({
        params: {
          iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.instream)
        },
        adUnit: videoSlot.adunit,
        customParams: cust_params
      });
      utlis_vilog("[INSTREAM] caseTwo - New Vast Url: " + vastUrl);
      var callbacks = {
        start: function start() {
          var dataBid = {
            adId: "unknown from Adx",
            bidder: "Adx",
            creativeId: "unknown from Adx"
          };
          pushInfoDebugOverlay(instreamID, dataBid);
        },
        error: function error() {
          displayBanner(null, tryWithCustomVast);
        }
      };
      playVast({
        vastUrl: vastUrl
      }, callbacks);
    }

    if (plugins_v2_constants.videoRequestMode === "postbid") {
      displayBanner(null, tryWithCustomVast);
    }

    if (plugins_v2_constants.videoRequestMode === "dfp") {
      displayBanner(null, tryWithCustomVast);
    }
  },
      tryWithCustomVast = function tryWithCustomVast() {
    utlis_vilog("[Instream] Try with Custom Vast");
    initAnalytic(plugins_v2_constants.pixelID);
    var vastArr = [];
    if (videoSlot.vast) vastArr = JSON.parse(JSON.stringify(videoSlot.vast));

    for (var i = 0; i < vastArr.length; i++) {
      vastArr[i].link = linkFilter(vastArr[i].link);
    }

    renderCustomVast(vastArr);
  },
      renderCustomVast = function renderCustomVast(vastArray) {
    var data = {};
    var callbacks = {
      start: function start() {},
      impression: function impression() {},
      error: function error() {},
      hidden: function hidden() {},
      adsVolumeChange: function adsVolumeChange() {}
    };

    if (vastArray.length > 0) {
      var currentVast = vastArray[0];
      vastArray.splice(0, 1);

      if (!currentVast.link || !currentVast.bidder) {
        utlis_vilog("[Instream] Custom Vast: vast link|vast bidder empty");
        renderCustomVast(vastArray);
        utlis_vilog("[Instream] Custom Vast: Try another vast");
      } else {
        callbacks.start = function () {
          var dataBid = {
            adId: "unknown from Custom Vast",
            bidder: "Custom Vast",
            creativeId: "unknown from Custom Vast"
          };
          pushInfoDebugOverlay(instreamID, dataBid);
          utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Start");
        }, callbacks.complete = function () {
          utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Complete");
        }, callbacks.impression = function () {
          utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Impression");
          pushTracking(plugins_v2_constants.domainName, "OK - " + currentVast.bidder, "ok", "ok");
        }, callbacks.error = function (errorCode) {
          utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Error: " + errorCode);
          pushTracking(plugins_v2_constants.domainName, "ERROR - " + currentVast.bidder, "er", "er");
          renderCustomVast(vastArray);
        };
        data = {
          vastUrl: currentVast.link,
          vastXml: null
        };
        playVast(data, callbacks);
      }
    } else {
      utlis_vilog("[Instream] Custom Vast: vastArr[] empty");
      utlis_vilog("[Instream] Not found Ad");
      adContainer.style.display = "none";

      if (userConfigs.error) {
        userConfigs.error();
      }

      ;

      if (slotCallbacks.error) {
        slotCallbacks.error();
      }

      ;
      instreamEndedAds();
    }
  },
      playVast = function playVast(data, callbacks) {
    clearVsbAction(instreamID);
    utlis_vilog("[Instream] Play vast data:");
    utlis_vilog(data);
    var viPlayer = new vlPlayer({
      baseDomain: plugins_v2_constants.rootDomain,
      brandLogo: plugins_v2_constants.brandLogo
    });
    player = viPlayer.play({
      vastUrl: data.vastUrl ? data.vastUrl : null,
      vastXml: data.vastXml ? data.vastXml : null,
      adElement: adContainer,
      volume: currentVolume,
      volumeControl: true,
      loadVideoTimeout: userConfigs.timeoutVideo ? userConfigs.timeoutVideo * 1000 : null,
      vastLoadTimeout: userConfigs.timeoutVast ? userConfigs.timeoutVast * 1000 : null,
      loadingText: userConfigs.loadingText,
      complete: function complete() {
        utlis_vilog("[Instream] Vast Event Complete");

        if (userConfigs.complete) {
          userConfigs.complete(callbackResp);
        }

        if (slotCallbacks.complete) {
          slotCallbacks.complete(callbackResp);
        }

        callbacks.complete && callbacks.complete();
      },
      start: function start() {
        utlis_vilog("[Instream] Vast Event Start");

        if (userConfigs.start) {
          userConfigs.start(callbackResp);
        }

        callbacks.start && callbacks.start();
        isInViewPort(adContainer, inViewPort, outViewPort, {
          threshold: [80]
        });
      },
      error: function error(errorEvent) {
        utlis_vilog("[Instream] Vast Event Error");
        utlis_vilog(errorEvent);
        callbacks.error && callbacks.error(errorEvent.getErrorCode());
      },
      impression: function impression() {
        utlis_vilog("[Instream] Vast Event Impression");
        adPlayed = true;
        callbacks.impression && callbacks.impression();
      },
      hidden: function hidden() {
        utlis_vilog("[Instream] Vast Event Hidden");

        if (adPlayed === false) {
          callbacks.error && callbacks.error();
          return;
        }

        if (userConfigs.hidden) {
          userConfigs.hidden(callbackResp);
        }

        if (slotCallbacks.hidden) {
          slotCallbacks.hidden(callbackResp);
        }

        clearVsbAction(instreamID);
        callbacks.hidden && callbacks.hidden();
        instreamEndedAds();
      },
      adsVolumeChange: function adsVolumeChange(currentAdsVolumn) {
        utlis_vilog("[Instream] Vast Event VolumeChange");

        if (userConfigs.adsVolumeChange) {
          userConfigs.adsVolumeChange(currentAdsVolumn);
        }

        if (slotCallbacks.adsVolumeChange) {
          slotCallbacks.adsVolumeChange(currentAdsVolumn);
        }
      }
    });
    addVsbAction({
      divID: instreamID,
      hidden: function hidden() {
        player.pause();
      },
      watching: function watching() {
        player.resume();
      }
    });
  },
      inViewPort = function inViewPort() {
    utlis_vilog("[Instream] in viewport");

    if (player) {
      player.resume();
    }
  },
      outViewPort = function outViewPort() {
    utlis_vilog("[Instream] out viewport");

    if (player) {
      player.pause();
    }
  },
      displayBanner = function displayBanner() {
    var bidWon = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var notFillCallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

    if (!notFillCallback) {
      notFillCallback = function notFillCallback() {
        userConfigs.error && userConfigs.error();
        slotCallbacks.error && slotCallbacks.error();
        clearVsbAction(instreamID);
        instreamEndedAds();
      };
    }

    if (!bannerSlot) {
      notFillCallback && notFillCallback();
      return;
    }

    utlis_vilog("[Instream] Display banner");

    if (userConfigs.start) {
      utlis_vilog("[Instream] Banner start Ad");
      userConfigs.start && userConfigs.start(callbackResp);
    }

    var bannerId = bannerSlot.adunit.code;
    adContainer.style.cssText = "z-index: 9998; position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; background: rgb(0, 0, 0); display: block; padding: 0px; margin: 0px;overflow:hidden;";
    adContainer.innerHTML = "<div id=\"".concat(bannerId, "\"></div>\n                                <style>vli{ display:block; } .videoAdUiPreSkipContainer { display: none; opacity: 0; bottom: 12px; cursor: default; padding: 15px 0 15px 15px; pointer-events: auto; position: absolute; right: 0; z-index: 1000; } .videoAdUiPreSkipContainer .skipTime{ display: inline; } .videoAdUiPreSkipButton { background: rgba(0,0,0,0.8); min-width: 155px; padding: 6px; } .videoAdUiPreSkipText { color: #e6e6e6; font-family: arial,sans-serif; font-weight: normal; font-size: 11px; line-height: 21px; padding-right: 0; text-align: center; display: inline-block; width: 100%; vertical-align: middle; } .videoAdUiSkipContainer { display: none; opacity: 0; -webkit-tap-highlight-color: rgba(0,0,0,0); bottom: 12px; cursor: pointer; padding: 15px 0 15px 15px; pointer-events: auto; position: absolute; right: 0; z-index: 1000; } .videoAdUiSkipButton { line-height: normal; min-width: 0; padding: 7px 6px 7px 10px; width: auto; margin: 0; } .videoAdUiAction { -webkit-tap-highlight-color: rgba(0,0,0,0); background: rgba(0,0,0,0.8); border: 1px solid rgba(255,255,255,0.5); border-right: 0; box-sizing: content-box; color: #fff; cursor: pointer; direction: ltr; font-family: arial,sans-serif; font-weight: normal; font-size: 18px; line-height: normal; min-width: 100px; padding: 10px 7px; text-align: center; } .videoAdUiSkipButtonExperimentalText { display: inline-block; font-size: 18px; vertical-align: middle; width: initial; } .videoAdUiSkipIcon { background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAAZElEQVQ4y+3SwQmDQBBGYRFy9mYLSRXWEyvRRtKBbdhDUoTH8HkVllX+u++48GD2zTTNTYiPrnhDXeBnyAT+Zo9EgNUrE9iMmQCLvhTas2jXWY8jvbNPP5OsU5L1my0uPY2bCjtXdo6mqRVtTgAAAABJRU5ErkJggg==\"); background-repeat: no-repeat; display: inline-block; height: 24px; margin-left: 2px; vertical-align: middle; width: 24px; } .videoAdCountdownContainer{ display: none; opacity: 0; color: #e6e6e6; font-family: arial,sans-serif; font-weight: normal; font-size: 12px; line-height: 21px; padding-right: 0; display: block; vertical-align: middle; -webkit-tap-highlight-color: rgba(0,0,0,0); top: 8px; left: 8px; cursor: pointer; pointer-events: auto; position: absolute; z-index: 1000; } .remainingTime{ display: inline-block; }</style>\n                                <vli class=\"videoAdUiSkipWidgetV2\">\n                                    <vli class=\"videoAdUiPreSkipContainer\">\n                                        <vli class=\"videoAdUiPreSkipButton\">\n                                            <vli class=\"videoAdUiPreSkipText\">You can skip this ad in <vli class=\"skipTime\">5</vli></vli>\n                                        </vli>\n                                    </vli>\n                                    <vli class=\"videoAdUiSkipContainer\">\n                                        <button class=\"videoAdUiSkipButton videoAdUiAction\">\n                                            <vli class=\"videoAdUiSkipButtonExperimentalText\">Skip Ad</vli>\n                                            <vli class=\"videoAdUiSkipIcon\"></vli>\n                                        </button>\n                                    </vli>\n                                    <vli class=\"videoAdCountdownContainer\">Ad (00:<vli class=\"remainingTime\">15</vli>)</vli>\n                                </vli>");
    var adDiv = document.getElementById(bannerId);

    var skipControl = function skipControl() {
      var doneBanner = function doneBanner() {
        userConfigs.hidden && userConfigs.hidden(callbackResp);
        slotCallbacks.hidden && slotCallbacks.hidden(callbackResp);
        setRemainingTime && clearInterval(setRemainingTime);
        countDown && clearInterval(countDown);
        instreamEndedAds();
      };

      var skipContainer = adContainer.querySelector(".videoAdUiSkipContainer");
      skipContainer.addEventListener("click", function () {
        doneBanner();
      });
      var countdownContainer = adContainer.querySelector(".videoAdCountdownContainer");
      countdownContainer.style.display = "block";
      countdownContainer.style.opacity = "1";
      var remainingTime = 15;
      var remainingTimeElement = countdownContainer.querySelector(".remainingTime");
      remainingTimeElement.innerText = remainingTime;
      var setRemainingTime = setInterval(function () {
        if (remainingTime <= 1) {
          userConfigs.complete && userConfigs.complete();
          slotCallbacks.complete && slotCallbacks.complete();
          doneBanner();
        } else {
          remainingTime--;
          var remainingText = remainingTime;

          if (remainingTime < 10) {
            remainingText = "0" + remainingTime;
          }

          remainingTimeElement.innerText = remainingText;
        }
      }, 1000);
      var preSkipContainer = adContainer.querySelector(".videoAdUiPreSkipContainer");
      preSkipContainer.style.display = "block";
      preSkipContainer.style.opacity = "1";
      var skipTime = 5;
      var skipTimeElement = preSkipContainer.querySelector(".skipTime");
      skipTimeElement.innerText = skipTime;
      var countDown = setInterval(function () {
        if (skipTime <= 1) {
          preSkipContainer.style.display = "none";
          preSkipContainer.style.opacity = "0";
          skipContainer.style.display = "block";
          skipContainer.style.opacity = "1";
        } else {
          skipTime--;
          skipTimeElement.innerText = skipTime;
        }
      }, 1000);
    };

    var accTargetInstream = true;

    if (isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.display) === true) {
      accTargetInstream = false;
    }

    var pixel = {
      type: "hb_video",
      divID: instreamID,
      zoneID: videoSlot.zid,
      bidder: bidWon ? bidWon.bidderCode : "",
      cpm: bidWon ? bidWon.cpm : 0
    };

    var handlerOnBidWon = function handlerOnBidWon(data) {
      if (data.adUnitCode !== bannerId) return;
      savePixel(pixel);
      utlis_vilog("[Instream] ___WIN___" + data.adUnitCode + "__" + data.bidderCode + "__" + data.cpm);
      utlis_vilog(data);

      if (plugins_v2_constants.bannerRequestMode === "dfp") {
        adDiv.style.cssText = 'width:' + data.width + 'px!important;height:' + data.height + 'px!important;margin:0 auto!important;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;';
      }

      skipControl();
      vlipb.offEvent('bidWon', handlerOnBidWon, bannerId);
    };

    vlipb.onEvent('bidWon', handlerOnBidWon, bannerId);

    var onBidWon = function onBidWon(adUnitCode) {
      if (plugins_v2_constants.adRenderAction.bidWon[adUnitCode]) {
        plugins_v2_constants.adRenderAction.bidWon[adUnitCode]();
        delete plugins_v2_constants.adRenderAction.bidWon[adUnitCode];
      }
    };

    plugins_v2_constants.adRenderAction.bidWon[bannerId] = function () {
      utlis_vilog("[Instream] ___WIN___ in SafeFrame");
      skipControl();
      savePixel(pixel);

      if (bidWon.amznbid) {
        var dataBid = {
          adId: "unknown from amz",
          bidder: "amz",
          creativeId: "unknown from amz"
        };
        pushInfoDebugOverlay(instreamID, dataBid);
      } else {
        pushInfoDebugOverlay(instreamID, bidWon);
      }
    };

    var renderAmazonBid = function renderAmazonBid() {
      utlis_vilog("[Instream] Render ad amz for " + bannerId);
      adDiv.style.cssText = 'width:' + bannerSlot.w + 'px!important;height:' + bannerSlot.h + 'px!important;margin:0 auto!important;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;';
      var ifrDoc = renderIframeForSmartBanner(adDiv, bannerId, bannerSlot.w, bannerSlot.h);
      apstag.renderImp(ifrDoc, bidWon.amzniid);
      skipControl();
      onBidWon(bannerId);
    };

    var renderHBBids = function renderHBBids() {
      utlis_vilog("[Instream] Render ad for " + bannerId);
      adDiv.style.cssText = 'width:' + (bidWon.width ? bidWon.width : bannerSlot.w) + 'px!important;height:' + (bidWon.height ? bidWon.height : bannerSlot.h) + 'px!important;margin:0 auto!important;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;';

      switch (bidWon.mediaType) {
        case "banner":
          if (plugins_v2_constants.noneSafeFrameBidder.indexOf(bidWon.bidderCode) !== -1) {
            vlipb.renderAd(renderIframeForSmartBanner(adDiv, bannerId, bidWon.width ? bidWon.width : bannerSlot.w, bidWon.height ? bidWon.height : bannerSlot.h), bidWon.adId);
          } else {
            if (plugins_v2_constants.safeFrame === 'on') {
              adDiv.innerHTML = '<div id="vli_sf_' + bannerId + '"></div>';
              initSafeFrameRender(onBidWon);
              renderSafeFrame('vli_sf_' + bannerId, {
                width: bidWon.width ? bidWon.width : bannerSlot.w,
                height: bidWon.height ? bidWon.height : bannerSlot.h
              }, bidWon.ad);
              skipControl();
            } else {
              vlipb.renderAd(renderIframeForSmartBanner(adDiv, bannerId, bidWon.width ? bidWon.width : bannerSlot.w, bidWon.height ? bidWon.height : bannerSlot.h), bidWon.adId);
            }
          }

          break;

        case "native":
          var adData = {
            adUnitCode: bannerId,
            adId: bidWon.adId,
            pubUrl: window.location.href,
            width: bannerSlot.w,
            height: bannerSlot.h
          };
          renderNativeAd(renderIframeForSmartBanner(adDiv, bannerId, bidWon.width ? bidWon.width : bannerSlot.w, bidWon.height ? bidWon.height : bannerSlot.h), adData);
          break;

        default:
          break;
      }

      pushInfoDebugOverlay(instreamID, bidWon);
    };

    plugins_v2_constants.adRenderAction.gAdRequestTimeout[bannerId] = function () {
      if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp') {
        notFillCallback && notFillCallback();
      }

      if (plugins_v2_constants.bannerRequestMode == 'dfp') {
        if (bidWon) {
          if (bidWon.amznbid) {
            renderAmazonBid();
            var dataBid = {
              adId: "unknown from amz",
              bidder: "amz",
              creativeId: "unknown from amz"
            };
            pushInfoDebugOverlay(instreamID, dataBid);
          } else {
            renderHBBids();
          }
        } else {
          notFillCallback && notFillCallback();
        }
      }
    };

    if ((plugins_v2_constants.bannerRequestMode == 'dfp' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp') && accTargetInstream) {
      if (plugins_v2_constants.gSlots[bannerId]) googletag.destroySlots([plugins_v2_constants.gSlots[bannerId]]);
      googletag.cmd.push(function () {
        if (bidWon && bidWon.mediaType === "native") {
          pixel.adType = "native";
          plugins_v2_constants.gSlots[bannerId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.display, bannerId), "fluid", bannerId).addService(googletag.pubads());
        } else {
          var adunit = JSON.parse(JSON.stringify(bannerSlot.adunit));
          plugins_v2_constants.gSlots[bannerId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.display, bannerId), adunit.mediaTypes.banner.sizes, bannerId).addService(googletag.pubads());
        }

        googletag.pubads().addEventListener('slotRenderEnded', function (data) {
          if (data.slot.getSlotElementId() !== bannerId) return;

          if (data.isEmpty === true) {
            notFillCallback && notFillCallback();
          } else {
            if (data.isBackfill === true) {
              utlis_vilog("[Instream] Adx WIN " + bannerId);
              showOnAnalytics({
                bidder: "Adx_instream_banner",
                cpm: 0
              });
              skipControl();
              var dataBid = {
                adId: "unknown from Adx",
                bidder: "Adx",
                creativeId: "unknown from Adx"
              };
              pushInfoDebugOverlay(instreamID, dataBid);
            } else {
              var hasAmazonBid = false;

              if (data.slot.getTargeting("isamzn").length === 1 && data.slot.getTargeting("isamzn")[0] === "1") {
                renderAmazonBid();
                hasAmazonBid = true;
              }

              if (data.slot.getTargeting("up_bid").indexOf("true") !== -1 && !hasAmazonBid) {
                notFillCallback && notFillCallback();
              }
            }
          }

          if (!data.isEmpty && data.isBackfill && data.size !== null && [0, 1].indexOf(data.size[0]) === -1 && [0, 1].indexOf(data.size[1]) === -1) {
            adDiv.style.setProperty('width', data.size[0] + 'px', 'important');
            adDiv.style.setProperty('height', data.size[1] + 'px', 'important');
            adDiv.style.setProperty('position', 'absolute', 'important');
            adDiv.style.setProperty('top', '50%', 'important');
            adDiv.style.setProperty('left', '50%', 'important');
            adDiv.style.setProperty('transform', 'translate(-50%,-50%)', 'important');
          }
        });
      });
    }

    if (plugins_v2_constants.bannerRequestMode == 'dfp' && accTargetInstream) {
      googletag.cmd.push(function () {
        if (plugins_v2_constants.gSlots[bannerId]) {
          if (plugins_v2_constants.refererDomainID) {
            plugins_v2_constants.gSlots[bannerId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
          } else {
            plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adslot", videoSlot.zid);
          }

          plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adtype", "display");
          plugins_v2_constants.gSlots[bannerId].setTargeting("hb_width", bannerSlot.w);
          plugins_v2_constants.gSlots[bannerId].setTargeting("hb_height", bannerSlot.h);
          plugins_v2_constants.gSlots[bannerId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.display.accId);
          plugins_v2_constants.gSlots[bannerId].setTargeting("vli_sf", "1");

          if (bidWon && bidWon.amznbid) {
            plugins_v2_constants.gSlots[bannerId].setTargeting("isamzn", "1");
            plugins_v2_constants.gSlots[bannerId].setTargeting("hb_pb", bidWon.hb_pb);
          } else {
            if (bidWon) {
              adserverTargeting(bidWon, plugins_v2_constants.gSlots[bannerId]);
            }

            if (!bidWon) {
              if (plugins_v2_constants.sendTargeting === "on") {
                plugins_v2_constants.gSlots[bannerId].setTargeting("up_bid", "true");
                plugins_v2_constants.gSlots[bannerId].setTargeting("hb_pb", utlis_getCustomHBPB('banner', floorPriceBanner));
              }
            }
          }

          googletag.pubads().refresh([plugins_v2_constants.gSlots[bannerId]]);
        }
      });
    }

    if (plugins_v2_constants.bannerRequestMode == 'postbid' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp' || !accTargetInstream) {
      if (bidWon) {
        if (bidWon.amznbid) {
          renderAmazonBid();
          var dataBid = {
            adId: "unknown from amz",
            bidder: "amz",
            creativeId: "unknown from amz"
          };
          pushInfoDebugOverlay(instreamID, dataBid);
        } else {
          renderHBBids();
        }
      } else {
        if (plugins_v2_constants.bannerRequestMode == 'postbid' || !accTargetInstream) {
          notFillCallback && notFillCallback();
        }

        if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp' && accTargetInstream) {
          utlis_vilog("[Instream] Try get ad from Adx for: " + bannerId);
          googletag.cmd.push(function () {
            if (plugins_v2_constants.gSlots[bannerId]) {
              if (plugins_v2_constants.amazonEnabled) {
                apstag.setDisplayBids([bannerId]);
              }

              if (plugins_v2_constants.refererDomainID) {
                plugins_v2_constants.gSlots[bannerId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
              } else {
                plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adslot", videoSlot.zid);
              }

              plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adtype", "display");
              plugins_v2_constants.gSlots[bannerId].setTargeting("vli_sf", "1");
              plugins_v2_constants.gSlots[bannerId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.display.accId);

              if (plugins_v2_constants.sendTargeting === "on") {
                plugins_v2_constants.gSlots[bannerId].setTargeting("up_bid", "true");
                plugins_v2_constants.gSlots[bannerId].setTargeting("hb_pb", utlis_getCustomHBPB('banner', floorPriceBanner));
              }

              googletag.pubads().refresh([plugins_v2_constants.gSlots[bannerId]]);
            }
          });
        }
      }
    }
  },
      instreamEndedAds = function instreamEndedAds() {
    plugins_v2_constants.isVideoRunning = false;
    plugins_v2_constants.isPlayedInstream = true;
    adContainer.style.cssText = "";
    adContainer.innerHTML = "";
    adContainer.classList.remove("running");

    if (plugins_v2_constants.instreamTag) {
      _eventFire("INSTREAM_ENDED_ADS");
    }

    if (plugins_v2_constants.instreamTag && plugins_v2_constants.funcPlayDiscovery) {
      plugins_v2_constants.funcPlayDiscovery && plugins_v2_constants.funcPlayDiscovery();
    }
  };

  return {
    init: init
  };
};


// CONCATENATED MODULE: ./src/plugins_v2/validate-user.js





var validate_user_ClientStorage = /*#__PURE__*/function () {
  function ClientStorage() {
    classCallCheck_default()(this, ClientStorage);

    this.storage = "cookie";

    if (this.existLocalStorage()) {
      this.storage = "localStorage";
    }
  }

  createClass_default()(ClientStorage, [{
    key: "setItem",
    value: function setItem(key, value, expiredSeconds) {
      var d = new Date();
      var data = {
        value: value,
        expiredAt: d.getTime() + expiredSeconds * 1000
      };

      if (this.storageIsLocalStorage()) {
        localStorage.setItem(key, JSON.stringify(data));
      } else {
        this.setCookie(key, JSON.stringify(data), expiredSeconds);
      }
    }
  }, {
    key: "getItem",
    value: function getItem(key) {
      if (this.storageIsLocalStorage()) {
        try {
          var d = new Date();
          var data = JSON.parse(localStorage.getItem(key));

          if (data && data.expiredAt > d.getTime()) {
            return data.value;
          }

          localStorage.removeItem(key);
          return false;
        } catch (e) {
          utlis_vilog(e);
          return false;
        }
      } else {
        try {
          var _data = JSON.parse(getCookie(key));

          return _data.value;
        } catch (e) {
          utlis_vilog(e);
          return false;
        }
      }
    }
  }, {
    key: "storageIsLocalStorage",
    value: function storageIsLocalStorage() {
      if (this.storage == "localStorage") {
        return true;
      }

      return false;
    }
  }, {
    key: "existLocalStorage",
    value: function existLocalStorage() {
      var mod = "test";

      try {
        localStorage.setItem(mod, mod);
        localStorage.removeItem(mod);
        return true;
      } catch (e) {
        return false;
      }
    }
  }, {
    key: "setCookie",
    value: function setCookie(cookieName, cookieValue, expiredSeconds) {
      if (!expiredSeconds) {
        expiredSeconds = 90;
      }

      var d = new Date();
      d.setTime(d.getTime() + expiredSeconds * 1000);
      var expires = "expires=" + d.toUTCString();
      document.cookie = cookieName + "=" + cookieValue + ";" + expires + ";path=/";
    }
  }]);

  return ClientStorage;
}();

var validate_user_ValidateUser = /*#__PURE__*/function () {
  function ValidateUser() {
    classCallCheck_default()(this, ValidateUser);

    this.ok = true;
    this.notOk = false;
    this.reffererBlacklist = ["mybesucher.de", "bird-mailer.de"];
    this.ipLimit = 5;
    this.excludeJsSourceValidate = ["tintuconline.com.vn", "2sao.vn", "vietnamnet.vn"];
  }

  createClass_default()(ValidateUser, [{
    key: "validate",
    value: function validate() {
      utlis_vilog("=========MODE=========");
      utlis_vilog(undefined); // if (MODE && MODE === "dev") {

      if (true) {
        utlis_vilog("====MODE DEV========");
        return this.ok;
      }

      if (!navigator.cookieEnabled) {
        utlis_vilog("[User Validate] User Not Cookie");
        return this.notOk;
      }

      if (this.checkVliObj() === this.notOk) {
        utlis_vilog("[User Validate] VliObj invalid");
        return this.notOk;
      }

      if (this.checkBlacklistReferrer() === this.notOk) {
        utlis_vilog("[User Validate] Blacklist refferer");
        return this.notOk;
      }

      if (this.checkJsSource() === this.notOk) {
        utlis_vilog("[User Validate] Check js source fail");
        return this.notOk;
      }

      if (this.checkIPList() === this.notOk) {
        utlis_vilog("[User Validate] check Ip fail");
        return this.notOk;
      }

      return this.ok;
    }
  }, {
    key: "checkVliObj",
    value: function checkVliObj() {
      if (!window["_VLIOBJ"] || !window["_VLIOBJ"].hasOwnProperty("geo") || !window["_VLIOBJ"].hasOwnProperty("state") || !window["_VLIOBJ"].hasOwnProperty("blk") || !window["_VLIOBJ"].hasOwnProperty("ip") || !window["_VLIOBJ"].hasOwnProperty("ipProbability")) {
        saveLog({
          type: "err_vliobj"
        }, {
          domain: plugins_v2_constants.domainName,
          url: window.location.href
        });
        return this.notOk;
      }

      return this.ok;
    }
  }, {
    key: "checkBlacklistReferrer",
    value: function checkBlacklistReferrer() {
      var isBlocked = false;

      if (getCookie("_vlirfbbc") != "") {
        isBlocked = true;
      } else {
        for (var i = 0; i < this.reffererBlacklist.length; ++i) {
          if (document.referrer && document.referrer.search(this.reffererBlacklist[i]) !== -1) {
            setCookie("_vlirfbbc", document.referrer, 1);
            isBlocked = true;
          }
        }
      }

      if (isBlocked) {
        saveLog({
          type: "ref_blocked"
        }, {
          domain: plugins_v2_constants.domainName,
          referrer: getCookie("_vlirfbbc"),
          url: window.location.href
        });
        return this.notOk;
      }

      return this.ok;
    }
  }, {
    key: "checkJsSource",
    value: function checkJsSource() {
      var script = document.getElementsByTagName("script");
      var counter = 0;

      for (var i = 0; i < script.length; i++) {
        var src = script[i].src;

        if (src.search(plugins_v2_constants.rootDomain) !== -1) {
          counter++;
        }
      }

      if (counter >= 2 || this.excludeJsSourceValidate.indexOf(plugins_v2_constants.domainName) !== -1) {
        return this.ok;
      }

      saveLog({
        type: "err_source",
        domain: plugins_v2_constants.domainName
      }, {
        url: window.location.href
      });
      return this.notOk;
    }
  }, {
    key: "checkIPList",
    value: function checkIPList() {
      var cacheKey = "__vliIPL";
      var cacheExpire = 120 * 60;
      var newStorage = new validate_user_ClientStorage();
      var data = newStorage.getItem(cacheKey);

      if (getCookie("__vliiplimit") != "") {
        return this.notOk;
      }

      if (!data) {
        try {
          newStorage.setItem(cacheKey, [window["_VLIOBJ"].ip], cacheExpire);
        } catch (e) {}

        return this.ok;
      }

      if (data.indexOf(window["_VLIOBJ"].ip) === -1) {
        data.push(window["_VLIOBJ"].ip);
        newStorage.setItem(cacheKey, data, cacheExpire);
      }

      if (data.length >= this.ipLimit) {
        saveLog({
          type: "ip_err",
          domain: plugins_v2_constants.domainName,
          counter: data.length,
          os: getMobileOperatingSystem()
        }), {
          ipl: data
        };
        setCookie("__vliiplimit", 1, 0.5);
        return this.notOk;
      }

      return this.ok;
    }
  }], [{
    key: "isOk",
    value: function isOk() {
      return true;
    }
  }]);

  return ValidateUser;
}();

/* harmony default export */ var validate_user = (validate_user_ValidateUser);
// CONCATENATED MODULE: ./src/plugins_v2/interstitial.js







var interstitial_Interstitial = /*#__PURE__*/function () {
  function Interstitial() {
    classCallCheck_default()(this, Interstitial);

    this.config = this.getAdConfig();
    this.adActive = getStatsActiveAd();
    this.interstitialSlot = null;
    this.href = null;
    this.floorPrice = 0;
    this.adUnitCodes = [];
    this.outstreamSlot = null;
    this.adId = null;
    this.currentDivId = null;
    this.adContainer = null;
    this.wrapperWidth = 0;
    this.wrapperHeight = 0;
    this.adsManager = null;
    this.adUnitBanner = null;
    this.toggleVolume = null;
    this.backgroundVideo = null;
    this.active = false;
    this.dataBidWin = null;
    this.action = false;

    this.viAcAd = function () {};

    this.adPlaying = false;
    this.adUnitOutstream = null;
    this.adUnitInstream = null;
    this.adUnitBanner = null;
    this.numberG = 0;
    this.issetClick = false;
    this.slotRenderEndedRegisted = false;
    this.isInitAd = false;
    this.adPlayed = false;
  }

  createClass_default()(Interstitial, [{
    key: "getAdConfig",
    value: function getAdConfig() {
      var defaultConfig = {
        enablePC: true,
        enableMobile: true,
        enableBanner: true,
        enableOutstream: true,
        enableInstream: true,
        volumnControl: true,
        volume: true,
        frequencyDisplay: 60
      };
      cloneDefaultConfig({
        interstitialConfig: defaultConfig
      });
      if (!window[plugins_v2_constants.tagName].interstitialConfig) return defaultConfig;
      var config = window[plugins_v2_constants.tagName].interstitialConfig;

      for (var key in defaultConfig) {
        if (typeof config[key] === "undefined") {
          config[key] = defaultConfig[key];
        }
      }

      return config;
    }
  }, {
    key: "eventListener",
    value: function eventListener() {
      _addEventListener("INTERSTITIAL_REDIRECT_LINK_AFTER_REMOVE_AD", this.redirectHref.bind(this));

      _addEventListener("USER_OUT_PAGE", this.onPauseAds.bind(this));

      _addEventListener("USER_FOCUS_PAGE", this.onResumeAds.bind(this));
    }
  }, {
    key: "init",
    value: function init() {
      var _this = this;

      this.isInitAd = true;

      if (isInIframe()) {
        utlis_vilog("[ITT] No init in Iframe");
        return;
      }

      if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
        utlis_vilog("[ITT] Inventory Block");
        return;
      }

      if (this.config.enablePC === false && !mobileDetect()) {
        utlis_vilog("[ITT] Interstitial not enable on PC");
        return;
      }

      if (this.config.enableMobile === false && mobileDetect()) {
        utlis_vilog("[ITT] Interstitial not enable on mobile");
        return;
      }

      if (getCookie("__viIfmt") == "true") {
        utlis_vilog("[ITT] Actived");
        return;
      }

      if (window.location.hash != "") {
        utlis_vilog("[ITT] location hash url has value");
        return;
      }

      if (document.getElementsByClassName("adsbygoogle-noablate").length > 0) {
        // detect ads google interstitial 
        for (var i = 0; i < document.getElementsByClassName("adsbygoogle-noablate").length; i++) {
          var element = document.getElementsByClassName("adsbygoogle-noablate")[i];

          if (element.getAttribute("data-vignette-loaded")) {
            utlis_vilog("[ITT] Google Interstitial Not yet initialized");
            return;
          }
        }
      }

      this.interstitialSlot = plugins_v2_constants.interstitial && plugins_v2_constants.interstitial[0] ? JSON.parse(JSON.stringify(plugins_v2_constants.interstitial[0])) : null;

      if (!this.interstitialSlot) {
        utlis_vilog("[ITT] Interstitial no Slot");
        return;
      }

      var elemTag = document.getElementsByTagName("a");

      if (elemTag.length == 0) {
        utlis_vilog("[ITT] Interstitial not element Tag A");
        return;
      }

      if (this.adActive == true || this.active) {
        utlis_vilog("[ITT] Interstitial is Actived");
        return;
      }

      var _loop = function _loop(index) {
        var element = elemTag[index];
        element.addEventListener("click", function (e) {
          if (!element.getAttribute('onclick') && element.getAttribute('target') !== "_blank" && this.isInitAd === false) {
            e.preventDefault();
            var arrHref = ['', '#', 'javascript:;', 'javascript:void(0);'];

            if (!this.active && !arrHref.includes(element.getAttribute('href')) && !element.getAttribute('href').includes('#')) {
              var target = e.target || e.srcElement;

              while (target) {
                if (target instanceof HTMLAnchorElement) {
                  this.href = target.getAttribute('href');
                  break;
                }

                target = target.parentNode;
              }

              this.action = true;
              this.viAcAd();
              this.active = true;
              plugins_v2_constants.initSmartBanner = true;

              _eventFire("VIDEO_SLIDER_USER_CLOSE_AD");
            }
          }
        }.bind(_this));
      };

      for (var index = 0; index < elemTag.length; index++) {
        _loop(index);
      }

      addVsbInterval(function () {
        this.getAds();
      }.bind(this), 1000);
    }
  }, {
    key: "getAds",
    value: function getAds() {
      utlis_vilog("[ITT] getAds===========");
      this.adPlayed = false;
      this.numberG++;
      this.eventListener();
      var apstagSlots = [];
      this.adUnitCodes = [];
      this.adUnitInstream = null;
      this.adUnitOutstream = null;
      this.adUnitBanner = null;
      this.adSlot = this.interstitialSlot.adSlot;
      this.floorPrice = this.interstitialSlot.floorPrice ? this.interstitialSlot.floorPrice : 0;

      if (this.config.enableBanner) {
        if (!this.slotRenderEndedRegisted) {
          var slotRendered = function (data) {
            var adCode = data.slot.getSlotElementId();
            if (!adCode) return;
            if (adCode != this.currentDivId) return;
            utlis_vilog("[ITT] Slot rendered____" + adCode);
            var adDiv = document.getElementById(adCode);

            if (plugins_v2_constants.adRenderAction.pb[adCode]) {
              var type = false;

              if (data.isEmpty === true) {
                utlis_vilog("[ITT] isEmpty");
                type = "passback";

                if (typeof_default()(this.dataBidWin) === undefined || !this.dataBidWin) {
                  utlis_vilog("[ITT] isEmpty No BidWon");
                } else {
                  utlis_vilog("[ITT] isEmpty but isset BidWon");

                  if (plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode]) {
                    plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode]();
                    delete plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode];
                  }
                }
              } else {
                adDiv.setAttribute("content-type", "ad");

                if (data.isBackfill === true) {
                  utlis_vilog("[ITT] Adx WIN " + adCode);
                  type = "hb"; // Adx Fill
                } else {
                  var hasAmazonBid = false;

                  if (data.slot.getTargeting("isamzn").length === 1 && data.slot.getTargeting("isamzn")[0] === "1") {
                    type = "amz";
                    hasAmazonBid = true;
                  }

                  if (data.slot.getTargeting("up_bid").indexOf("true") !== -1 && !hasAmazonBid) {
                    utlis_vilog("[ITT] Empty");
                    type = "passback";
                  }
                }
              }

              plugins_v2_constants.adRenderAction.pb[adCode](type);
              delete plugins_v2_constants.adRenderAction.pb[adCode];
            }

            if (adDiv && !data.isEmpty) {
              if (!data.isBackfill) {} else if (data.size !== null && [0, 1].indexOf(data.size[0]) === -1 && [0, 1].indexOf(data.size[1]) === -1) {
                if (!mobileDetect()) {
                  adDiv.style.setProperty('margin', '0 auto');
                } else {
                  var requestSizes = data.slot.getSizes();

                  if (requestSizes[0]['l'] === data.size[0]) {
                    adDiv.style.setProperty('margin', '0 auto', 'important');
                  }
                }

                adDiv.style.setProperty('width', data.size[0] + 'px', 'important');
                adDiv.style.setProperty('height', data.size[1] + 'px', 'important');
                adDiv.style.setProperty('position', 'relative', 'important');
              }
            }
          }.bind(this);

          googletag.cmd = googletag.cmd || [];
          googletag.cmd.push(function () {
            googletag.pubads().disableInitialLoad();
            googletag.pubads().addEventListener('slotRenderEnded', function (event) {
              slotRendered(event);
            });
          });
          this.slotRenderEndedRegisted = true;
        }

        this.adUnitBanner = JSON.parse(JSON.stringify(this.interstitialSlot.adunitBannner));
        var adID = this.adSlot + "_" + generateUniqueAdID(); // add adunit

        var adunit = this.adUnitBanner;
        adunit.code = adID;
        adunit.bids = utlis_buildBids(adunit.bids, this.interstitialSlot.floorPrice);
        vlipb.removeAdUnit(adunit.code);
        vlipb.addAdUnits(adunit);

        if (adunit.bids.length > 0) {
          plugins_v2_constants.auctionLogs[adID] = {
            bidder: putOutBidders(adunit.bids),
            preAuction: ''
          };
        }

        this.adUnitCodes.push(adID);

        if (plugins_v2_constants.amazonEnabled) {
          var apstagSlotSizes = amazonUAMSizeFilter(adunit.mediaTypes.banner.sizes);

          if (apstagSlotSizes.length > 0) {
            var apstagSlot = {
              slotID: adID,
              sizes: apstagSlotSizes,
              slotName: "Amazon"
            };
            apstagSlots.push(apstagSlot);
          }
        }
      }

      if (this.config.enableOutstream) {
        this.adUnitOutstream = JSON.parse(JSON.stringify(this.interstitialSlot.adunitOutstream));
        this.adUnitOutstream.code = this.adSlot + "_ost";

        if (!this.adUnitOutstream.mediaTypes || this.adUnitOutstream.mediaTypes == null) {
          this.adUnitOutstream.mediaTypes = mediaTypesAdFormatVideo('outstream');
        }

        this.adUnitOutstream.bids = utlis_buildBids(this.adUnitOutstream.bids, this.floorPrice, "outstream"); //add renderer

        this.adUnitOutstream.renderer = this.adUnitOutstream.renderer || {
          url: '',
          render: function render() {}
        };
        vlipb.removeAdUnit(this.adUnitOutstream.code);
        vlipb.addAdUnits(this.adUnitOutstream);

        if (this.adUnitOutstream.bids.length > 0 && !plugins_v2_constants.auctionLogs[this.adUnitOutstream.code]) {
          plugins_v2_constants.auctionLogs[this.adUnitOutstream.code] = {
            bidder: putOutBidders(this.adUnitOutstream.bids),
            preAuction: ''
          };
        }

        this.adUnitCodes.push(this.adUnitOutstream.code);
      }

      if (this.config.enableInstream) {
        this.adUnitInstream = JSON.parse(JSON.stringify(this.interstitialSlot.adunitInstream));
        this.adUnitInstream.code = this.adSlot + "_ins";

        if (!this.adUnitInstream.mediaTypes || this.adUnitInstream.mediaTypes == null) {
          this.adUnitInstream.mediaTypes = mediaTypesAdFormatVideo('outstreamExt');
        }

        this.adUnitInstream.bids = utlis_buildBids(this.adUnitInstream.bids, this.floorPrice, "instream"); //add renderer

        this.adUnitInstream.renderer = this.adUnitInstream.renderer || {
          url: '',
          render: function render() {}
        };
        vlipb.removeAdUnit(this.adUnitInstream.code);
        vlipb.addAdUnits(this.adUnitInstream);

        if (this.adUnitInstream.bids.length > 0 && !plugins_v2_constants.auctionLogs[this.adUnitInstream.code]) {
          plugins_v2_constants.auctionLogs[this.adUnitInstream.code] = {
            bidder: putOutBidders(this.adUnitInstream.bids),
            preAuction: ''
          };
        }

        this.adUnitCodes.push(this.adUnitInstream.code);
      }

      utlis_requestBids(this.adUnitCodes, apstagSlots, this.bidBackHandler.bind(this));
    }
  }, {
    key: "bidBackHandler",
    value: function bidBackHandler(adUnitCodes) {
      var responses = [];
      adUnitCodes.forEach(function (currentDivId) {
        var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

        utlis_vilog("[ITT] Response for: " + currentDivId);
        utlis_vilog(_rsp);
        responses = responses.concat(_rsp); // Check amazon response

        var amazonResponse = plugins_v2_constants.amazonBidResponses[currentDivId];
        utlis_vilog("[ITT] Amazon Response for: " + currentDivId);
        utlis_vilog(amazonResponse);

        if (amazonResponse) {
          responses = responses.concat(amazonResponse);
        }
      });
      var responseSorted = sortResponseBids(responses);
      utlis_vilog("[ITT] All Sorted Responses");
      utlis_vilog(responseSorted);
      responseSorted = responseSorted.filter(function (bid) {
        bid.vliAdType = "banner";
        bid.used = false;

        if (bid && bid.adUnitCode && bid.adUnitCode.split('_')[2].toUpperCase() === "OST") {
          bid.vliAdType = "outstream";
        }

        if (bid && bid.adUnitCode && bid.adUnitCode.split('_')[2].toUpperCase() === "INS") {
          bid.vliAdType = "instream";
        }

        if (bid.mediaType && bid.mediaType === "banner") {
          if (!bid.amznbid && bid.width > 300 && bid.height > 250) {
            // remove bid have big size
            utlis_vilog("[ITT] Bidwon has big size");
            return false;
          }
        }

        if (bid.cpm < this.floorPrice) {
          if (!bid.amznbid) {
            vlipb.markWinningBidAsUsed({
              adId: bid.adId
            });
          }

          return false;
        }

        return true;
      }.bind(this));
      this.isInitAd = false;
      var bidChoose = null;

      if (responseSorted.length <= 0 && plugins_v2_constants.videoRequestMode != "dfp") {
        utlis_vilog("[ITT] Wait tranfer page No bid");

        this.viAcAd = function () {
          utlis_vilog("[ITT] Action click viAcAd()=====");
          this.redirectHref();
        }.bind(this);
      }

      if (responseSorted.length > 0) {
        var bidChoose = responseSorted[0];
      }

      if (bidChoose && bidChoose.mediaType === "banner") {
        this.startRender(responseSorted);
      } else {
        if (bidChoose && bidChoose.vliAdType === "outstream" && bidChoose.used == false && this.config.enableInstream) {
          // init newbidder ty instream request to DFP
          var newBidder = JSON.parse(JSON.stringify(bidChoose));
          bidChoose.used = true;

          try {
            newBidder.cpm += 0.000001;
            newBidder.bidder = "newbidder";
            newBidder.bidderCode = "newbidder";
            newBidder.vastXml = null;
            newBidder.vastUrl = null;

            if (newBidder.vliAdType == "outstream") {
              newBidder.vliAdType = "instream";
            }

            if (newBidder.adserverTargeting) {
              newBidder.adserverTargeting.hb_uuid = undefined;
              newBidder.adserverTargeting.hb_cache_id = undefined;
            }
          } catch (error) {
            utlis_vilog("[ITT] error in trycatch init newbidder");
            utlis_vilog(error);
          }

          responseSorted.unshift(newBidder);
        }

        this.adId = this.adSlot;

        if (plugins_v2_constants.videoRequestMode === "dfp" && this.config.enableInstream && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.interstitial) === false) {
          var bidSelected = null;

          if (responseSorted.length > 0) {
            bidSelected = responseSorted[0];
          }

          var pixelToken = "";
          var adUnitWin = this.adUnitInstream;

          if (bidSelected) {
            var pixel = {
              type: "hb_video",
              divID: this.adId,
              zoneID: this.interstitialSlot.zid,
              bidder: bidSelected.bidderCode,
              cpm: bidSelected.cpm
            };
            pixelToken = getPixelToken(pixel);

            if (this.adUnitInstream && this.adUnitInstream.code == bidSelected.adUnitCode) {
              adUnitWin = this.adUnitInstream;
            }

            if (this.adUnitOutstream && this.adUnitOutstream.code == bidSelected.adUnitCode) {
              adUnitWin = this.adUnitOutstream;
            }
          }

          var cust_params = {
            vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.interstitial.accId,
            hb_domain: plugins_v2_constants.domainName,
            section: "blog",
            anotherKey: "anotherValue",
            vli_adtype: "discovery",
            impression_url: plugins_v2_constants.statsDomain,
            token: pixelToken,
            vli_network: "true"
          };

          if (plugins_v2_constants.refererDomainID) {
            cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
          } else {
            cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.interstitialSlot.zid : "videodiscovery_" + this.interstitialSlot.zid;
          }

          var vastUrl = buildDfpVideoUrl({
            params: {
              iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.interstitial)
            },
            adUnit: adUnitWin,
            bidWon: bidSelected,
            customParams: cust_params
          });
          utlis_vilog("[ITT] New Vast Url: " + vastUrl);
          if (bidSelected) vlipb.markWinningBidAsUsed({
            adId: bidSelected.adId
          });
          var callbacks = {
            start: function () {
              this.viReportObserver("", "Interstitial");
            }.bind(this),
            error: function () {
              this.startRender(responseSorted);
            }.bind(this)
          };

          if (bidSelected) {
            this.dataBidWin = bidSelected;
          }

          this.playVast({
            vastUrl: vastUrl,
            vastXml: null
          }, callbacks);
        } else {
          this.startRender(responseSorted);
        }
      }
    }
  }, {
    key: "startRender",
    value: function startRender() {
      var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      var vastUrl = null;
      var vastXml = null;
      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {}
      };

      if (bids.length > 0) {
        var bidWon = bids[0];
        vlipb.markWinningBidAsUsed({
          adId: bidWon.adId
        });
        bids.splice(0, 1);

        if (bidWon.mediaType === "video") {
          vastUrl = bidWon.vastUrl || null;
          vastXml = bidWon.vastXml || null;

          callbacks.start = function () {
            this.viReportObserver(bidWon.creativeId, "Interstitial");
          }.bind(this);

          callbacks.error = function (errorCode) {
            this.startRender(bids);
          }.bind(this);

          callbacks.impression = function () {
            var pixel = {
              type: "hb_video",
              divID: this.adId,
              zoneID: this.interstitialSlot.zid,
              bidder: bidWon.bidderCode,
              cpm: bidWon.cpm
            };
            savePixel(pixel);
            utlis_vilog("Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm);
          }.bind(this);

          data = {
            vastUrl: vastUrl,
            vastXml: vastXml
          };

          if (vastUrl == null && vastXml == null) {
            this.startRender(bids);
          } else {
            this.dataBidWin = bidWon;
            this.playVast(data, callbacks);
          }
        } else {
          this.displayBanner(bidWon);
        }
      } else {
        utlis_vilog("[ITT] No Bid response =====");

        if (plugins_v2_constants.videoRequestMode === "dfp") {
          this.redirectHref();
        } else {
          utlis_vilog("[ITT] Wait tranfer page No bid");

          this.viAcAd = function () {
            utlis_vilog("[ITT] Action click viAcAd()=====");
            this.redirectHref();
          }.bind(this);
        }
      }
    }
  }, {
    key: "playVast",
    value: function playVast(data, callbacks) {
      if (!this.adPlaying) {
        var timeCount = 0;
        var countTtl = setInterval(function () {
          timeCount++;

          if (this.dataBidWin && timeCount > this.dataBidWin.ttl && this.adPlaying == false) {
            this.getAds();
            clearInterval(countTtl);
            timeCount = 0;
          }
        }.bind(this), 1000);
      }

      if (!this.action) {
        utlis_vilog("[ITT] Wait action click url to play");

        this.viAcAd = function () {
          if (this.action) {
            if (this.adIsActive) {
              return;
            }

            this.adIsActive = true;
            this.playVast(data, callbacks);
            clearInterval(countTtl);
          }
        }.bind(this);

        return;
      }

      this.createWrapperVideoAd();
      utlis_vilog("[ITT] Play vast data:");
      var viPlayer = new vlPlayer({
        baseDomain: plugins_v2_constants.rootDomain,
        brandLogo: plugins_v2_constants.brandLogo
      });
      this.adsManager = viPlayer.play({
        type: "instreamBanner",
        vastUrl: data.vastUrl ? data.vastUrl : null,
        vastXml: data.vastXml ? data.vastXml : null,
        adElement: this.adWrapper,
        adHeight: null,
        volume: this.config.volume === true ? 1 : 0,
        volumeControl: mobileDetect() || this.config.volumnControl === true ? true : false,
        start: function () {
          utlis_vilog("[ITT] Vast Event Start");
          callbacks.start && callbacks.start();
          this.showAds();
          this.setEventIntertitialActive();
          this.adPlaying = true;

          if (this.config.enableInstream && this.backgroundVideo) {
            this.backgroundVideo.pause();
          }

          pushInfoDebugOverlay(this.adId, this.dataBidWin);
        }.bind(this),
        complete: function () {
          utlis_vilog("[ITT] Vast Event Complete");
          callbacks.complete && callbacks.complete();
        }.bind(this),
        error: function (errorEvent) {
          utlis_vilog("[ITT] Vast Event Error");
          utlis_vilog(errorEvent);
          callbacks.error && callbacks.error(errorEvent.getErrorCode());
        }.bind(this),
        impression: function () {
          utlis_vilog("[ITT] Vast Event Impression");
          this.adPlayed = true;
          callbacks.impression && callbacks.impression();
        }.bind(this),
        adClicked: function () {
          callbacks.adClicked && callbacks.adClicked();

          _eventFire("VIDEO_SLIDER_AD_CLICKED");
        }.bind(this),
        videoClicked: function () {
          callbacks.videoClicked && callbacks.videoClicked();

          _eventFire("VIDEO_SLIDER_VIDEO_CLICKED");
        }.bind(this),
        hidden: function () {
          utlis_vilog("[ITT] Vast Event Hidden");

          if (this.adPlayed === false) {
            callbacks.error && callbacks.error();
            return;
          }

          callbacks.hidden && callbacks.hidden();
          this.hiddenAds();
          this.adPlaying = false;

          if (this.backgroundVideo) {
            this.backgroundVideo.play();
          }

          this.adsManager = null;
          this.adWrapper.style.cssText = "";
          this.adWrapper.innerHTML = "";
          this.toggleVolume.style.cssText = "display:block";

          this.viAcAd = function () {};
        }.bind(this),
        adsVolumeChange: function (currentAdsVolumn) {
          utlis_vilog("[ITT] Vast Event VolumeChange");
          callbacks.adsVolumeChange && callbacks.adsVolumeChange(currentAdsVolumn);
        }.bind(this)
      });
    }
  }, {
    key: "viReportObserver",
    value: function viReportObserver(creativeId, adFormat) {
      if (!this.adWrapper) {
        return;
      }

      var iframeAd = this.adWrapper.getElementsByTagName("iframe")[0];
      var jData = {
        "creativeId": creativeId,
        "adFormat": adFormat
      };
      reportingObserver(iframeAd, jData);
    }
  }, {
    key: "cleanWrapperVideoAd",
    value: function cleanWrapperVideoAd() {
      var wrapperAd = document.getElementById("vi_interstial");

      if (wrapperAd) {
        wrapperAd.remove();
      }
    }
  }, {
    key: "createWrapperVideoAd",
    value: function createWrapperVideoAd() {
      this.cleanWrapperVideoAd();
      var adHtm = document.createElement("vli");
      adHtm.id = "vi_interstial";
      adHtm.className = plugins_v2_constants.adClass + " vliinterstial";
      adHtm.setAttribute("data-ad-slot", this.adSlot);
      adHtm.addEventListener('touchmove', function (e) {
        e.preventDefault();
      }, false);
      this.wrapperWidth = mobileDetect() ? document.documentElement.clientWidth <= 480 ? Math.round(document.documentElement.clientWidth / 100 * 90) : Math.round(document.documentElement.clientWidth / 100 * 50) : 410;
      this.wrapperHeight = mobileDetect() ? parseInt(this.wrapperWidth / 16 * 9) : 231;
      adHtm.style.cssText = "visibility: hidden; opacity: 0; transition: opacity .25s ease-in-out; -moz-transition: opacity .25s ease-in-out; -webkit-transition: opacity .25s ease-in-out; position: fixed; z-index: 2147483647; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(52, 58, 65, 0.7)!important; -webkit-backdrop-filter: blur(15px);backdrop-filter:blur(15px); -webkit-flex: 1; -ms-flex: 1; flex: 1;";
      var textHeading = "<a style=\"text-decoration: none; color:" + (mobileDetect() ? '#fff' : '#5F6368') + "\" href=\"//" + plugins_v2_constants.brandHomepage + "/?ref=" + window.location.hostname + "\" target=\"_blank\" rel=\"nofollow\"><vli style=\"font-size:15px!important;font-family:inherit!important;line-height:8px;font-weight:400;display:inline!important;\">Ad by</vli> <vli style=\"font-size:18px!important;line-height:8px;font-weight:600;display:inline!important\">".concat(plugins_v2_constants.brandName, "</vli></a>");

      if (plugins_v2_constants.enableIcon === "off") {
        textHeading = "<span style=\"font-weight: 600; font-size: 18px; letter-spacing: 0.8;\">Interstitial Ads</span>";
      }

      adHtm.innerHTML = "<style>.vibtn:focus{outline: none} .vibtn{cursor:pointer;font-family: Arial, Helvetica, sans-serif !important; padding-bottom: 5px; background: transparent; color: #fff;}" + (mobileDetect() ? '.toprow{padding: 15px 10px; background-color: #333;}' : '') + "</style>" + "<vli style=\"box-sizing: initial!important;padding:" + (mobileDetect() ? 0 : 26) + "px;border-radius: " + (mobileDetect() ? 0 : 8) + "px;display: block; background-color: " + (mobileDetect() ? 'transparent' : '#fff') + "; width:  " + (mobileDetect() ? '100%' : this.wrapperWidth + 'px') + "; height: " + (mobileDetect() ? '100%' : this.wrapperHeight + 50 + 'px') + "; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);\">" + "<vli style=\"background:unset!important;display:block;\">" + "<div class=\"toprow\">" + "<div id=\"vi_dismiss\" title=\"Skip ad\" class=\"vibtn skip\" style=\"float: right; opacity: 0.8\" aria-label=\"Close ad\" tabindex=\"1\"> <div><svg width=\"24\" viewBox=\"0 0 48 48\" fill=\"#5F6368\"> <path d=\"M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z\"> </path> <path d=\"M0 0h48v48H0z\" fill=\"none\"></path> </svg></div> </div>" + "<div id=\"vi_report\" class=\"vibtn report\" title=\"Feedback on this ad\" style=\"float: left; opacity: 0.6\" ><svg viewBox=\"0 0 14 24\" fill=\"none\" width=\"15\" style=\"margin-left: 5px;\"> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2 8C3.1 8 4 7.1 4 6C4 4.9 3.1 4 2 4C0.9 4 0 4.9 0 6C0 7.1 0.9 8 2 8ZM2 10C0.9 10 0 10.9 0 12C0 13.1 0.9 14 2 14C3.1 14 4 13.1 4 12C4 10.9 3.1 10 2 10ZM0 18C0 16.9 0.9 16 2 16C3.1 16 4 16.9 4 18C4 19.1 3.1 20 2 20C0.9 20 0 19.1 0 18Z\" fill=\"#5F6368\"></path> </svg></div>" + "<div id=\"vi_heading\" class=\"vibtn heading\" style=\"margin: 0 auto;display:table;padding-top: 5px\"> <div class=\"text\" style=\"color:#5F6368;display: table-cell; vertical-align: middle;\">" + textHeading + "</div> </div>" + "</div>" + "</vli>" + "<vli style=\"background:unset!important;display: block; background-color: #111; width: " + this.wrapperWidth + "px; height: " + this.wrapperHeight + "px; position: fixed; top: " + (mobileDetect() ? '50%' : '58%') + "; left: 50%; transform: translate(-50%, -50%);box-shadow:0px 10px 22px rgba(0,0,0,0.65)\">" + "<vli style=\"background:unset!important;display:block;\" id=\"" + this.adId + "\"></vli>" + (this.config.enableInstream ? "<vli style=\"background:unset!important;display:block;\" id=\"backgroundWrapper\"></vli>" : "") + "</vli>" + "</vli>" + "<vli id=\"vi_feedback\"></vli>";
      document.body.appendChild(adHtm);

      if (this.config.enableInstream && this.dataBidWin && this.dataBidWin.vliAdType != "outstream") {
        var videoWrapper = document.createElement("div");
        videoWrapper.className = "videoWrapper";
        videoWrapper.style.cssText = "position:absolute;top:0;left:0;height:100%;width:100%;background: #fff; padding:initial";

        if (plugins_v2_constants.defaultWidget) {
          var key = Math.floor(Math.random() * plugins_v2_constants.defaultWidget.length);
          var featuredVid = plugins_v2_constants.defaultWidget[key];
        }

        var backgroundVideo = document.createElement("video");
        var vidPoster = featuredVid.thumb.startsWith("http") ? featuredVid.thumb : "//assets." + plugins_v2_constants.rootDomain + featuredVid.thumb;
        var vidSrc = isURL(featuredVid.video_url.mp4) ? featuredVid.video_url.mp4 : "//media." + plugins_v2_constants.rootDomain + featuredVid.video_url.mp4;
        backgroundVideo.poster = vidPoster;
        backgroundVideo.muted = plugins_v2_constants.sliderVolume ? false : true;
        backgroundVideo.src = vidSrc;
        backgroundVideo.setAttribute('playsinline', true);
        backgroundVideo.style.width = "100%";
        backgroundVideo.style.height = "100%";
        backgroundVideo.style.padding = "initial";
        videoWrapper.appendChild(backgroundVideo);

        if (this.config.volumnControl) {
          this.toggleVolume = document.createElement('div');
          this.toggleVolume.id = "vi_toggleVolVideo";
          this.toggleVolume.style.cssText = "display: none;";
          this.toggleVolume.className = plugins_v2_constants.sliderVolume ? "sound_on" : "sound_off";
          var toggleVolume = '<style>#vi_toggleVolVideo {padding: initial;background-color: transparent; position: absolute; z-index: 9999; left: 10px; bottom: 6px; cursor: pointer} #vi_toggleVolVideo svg{font-size: initial;padding: initial;background-color: transparent;} .sound_on .vi__mutedVideo{display:none !important;} .sound_off .vi__volVideo{display:none !important;}</style>';
          toggleVolume += '<div class="vi__mutedVideo" style="padding: initial;background-color: transparent;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="1.3em" height="1.3em" viewBox="0 0 124.625 124.625" style="enable-background:new 0 0 124.625 124.625;" xml:space="preserve"> <g> <path d="M6,92.404h23.1l25.6,19.3c4,3,9.601,0.2,9.601-4.8v-89.2c0-4.9-5.701-7.8-9.601-4.8l-25.6,19.3H6c-3.3,0-6,2.7-6,6v48.301 C0,89.704,2.7,92.404,6,92.404z" fill="#dddddd"></path> <path d="M122.4,40.604c-2.7-2.7-7.2-2.7-9.9,0l-11.8,11.8l-11.8-11.8c-2.7-2.7-7.2-2.7-9.9,0c-2.699,2.7-2.699,7.2,0,9.9 l11.801,11.8L79,74.104c-2.699,2.7-2.699,7.2,0,9.9c1.4,1.399,3.2,2.1,5,2.1c1.801,0,3.6-0.7,5-2.1l11.801-11.801L112.6,84.004 c1.4,1.399,3.201,2.1,5,2.1c1.801,0,3.601-0.7,5-2.1c2.701-2.7,2.701-7.2,0-9.9l-12-11.8l11.801-11.8 C125.1,47.804,125.1,43.304,122.4,40.604z" fill="#dddddd"></path> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg></div>';
          toggleVolume += '<div class="vi__volVideo" style="padding: initial;background-color: transparent;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="1.3em" height="1.3em" viewBox="0 0 115.3 115.3" style="enable-background:new 0 0 115.3 115.3;" xml:space="preserve"> <g> <path d="M47.9,14.306L26,30.706H6c-3.3,0-6,2.7-6,6v41.8c0,3.301,2.7,6,6,6h20l21.9,16.4c4,3,9.6,0.2,9.6-4.8v-77 C57.5,14.106,51.8,11.306,47.9,14.306z" fill="#dddddd"></path> <path d="M77.3,24.106c-2.7-2.7-7.2-2.7-9.899,0c-2.7,2.7-2.7,7.2,0,9.9c13,13,13,34.101,0,47.101c-2.7,2.7-2.7,7.2,0,9.899 c1.399,1.4,3.199,2,4.899,2s3.601-0.699,4.9-2.1C95.8,72.606,95.8,42.606,77.3,24.106z" fill="#dddddd"></path> <path d="M85.1,8.406c-2.699,2.7-2.699,7.2,0,9.9c10.5,10.5,16.301,24.4,16.301,39.3s-5.801,28.8-16.301,39.3 c-2.699,2.7-2.699,7.2,0,9.9c1.4,1.399,3.2,2.1,4.9,2.1c1.8,0,3.6-0.7,4.9-2c13.1-13.1,20.399-30.6,20.399-49.2 c0-18.6-7.2-36-20.399-49.2C92.3,5.706,87.9,5.706,85.1,8.406z" fill="#dddddd"></path> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg></div>';
          this.toggleVolume.innerHTML = toggleVolume;
          videoWrapper.appendChild(this.toggleVolume);
          var volumeSMButton = videoWrapper.querySelector('#vi_toggleVolVideo');
          volumeSMButton.addEventListener('click', function () {
            if (backgroundVideo.muted) {
              utlis_vilog("[Background Video] set volume to 1");
              backgroundVideo.muted = false;
              plugins_v2_constants.sliderVolume = 1;
              volumeSMButton.classList.remove('sound_off');
              volumeSMButton.classList.add('sound_on');
            } else {
              utlis_vilog("[Background Video] set volume to 0");
              backgroundVideo.muted = true;
              plugins_v2_constants.sliderVolume = 0;
              volumeSMButton.classList.remove('sound_on');
              volumeSMButton.classList.add('sound_off');
            }
          });
          this.volumeSMButton = volumeSMButton;
        }

        var backgroundWrapper = document.getElementById("backgroundWrapper");
        backgroundWrapper.appendChild(videoWrapper);
        this.backgroundVideo = backgroundVideo;
      }

      this.adWrapper = document.getElementById(this.adId);
      this.adContainer = adHtm;
      this.handlerControls();
      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(this.adId);
    }
  }, {
    key: "handlerControls",
    value: function handlerControls() {
      var viDismiss = document.getElementById("vi_dismiss");

      if (viDismiss) {
        viDismiss.addEventListener("click", function () {
          this.redirectHref();
        }.bind(this));
      }

      var viReport = document.getElementById("vi_report");

      if (viReport) {
        viReport.addEventListener("click", function () {
          if (this.adsManager) {
            this.adsManager.pause();
          }

          this.adContainer.style.backgroundColor = "rgba(0, 0, 0, 0.8)";
          this.createBoxFeedBack();
          this.adWrapper.style.display = "none";

          if (this.config.enableInstream) {
            var backgroundWrapper = document.getElementById("backgroundWrapper");

            if (backgroundWrapper) {
              backgroundWrapper.style.display = "none";
            }
          }

          this.adWrapper.parentNode.style.boxShadow = "";
        }.bind(this));
      }
    }
  }, {
    key: "createBoxFeedBack",
    value: function createBoxFeedBack() {
      var flag = false;
      var vi_feedback = document.getElementById("vi_feedback");
      vi_feedback.style.cssText = "padding:" + (mobileDetect() ? 0 : 26) + "px;border-radius: " + (mobileDetect() ? 0 : 8) + "px;display: block;background-color: #2929298f; width:  " + (mobileDetect() ? '100%' : this.wrapperWidth + 'px') + "; height: " + (mobileDetect() ? '100%' : this.wrapperHeight + 50 + 'px') + "; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);";
      vi_feedback.innerHTML = "<style>.vi-survey-header span { font-size: 1.25em; font-family: sans-serif; padding: 0 24px; white-space: nowrap; }.vi-interstitial-survey { display: block; font-size: 16px; margin: 10px auto; max-width: 90%; }.btn-section { padding: 0.8em 0px; }.vi-section-container { border-radius: 3px; -moz-border-radius: 3px; -webkit-border-radius: 3px; background-color: #FFFFFF; margin-bottom: 8px; }.vi-survey-header{background-color: #4285f4; color: #FFFFFF; display: block; height: 64px; line-height: 64px; width: 100%; border-top-left-radius: 3px; -moz-border-top-left-radius: 3px; -webkit-border-top-left-radius: 3px; border-top-right-radius: 3px; -moz-border-top-right-radius: 3px; -webkit-border-top-right-radius: 3px;}.vi-interstitial-survey div { display: block; width: 100%; }.btn-section a, .survey-confirmation-header, .survey-confirmation-closing {cursor: pointer; box-sizing: border-box; display: block; padding: 0 24px; width: 100%; }.btn-section a span, .survey-confirmation-header span, .survey-confirmation-closing span {display: inline-block; color: rgba(0, 0, 0, 0.54); font-family: sans-serif; font-size: 1em; margin: 14px 0; max-width: 224px; }</style>" + "<div class=\"vi-interstitial-survey\">" + "<div id=\"vi_interstitial_survey\">" + "<div class=\"vi-section-container\">" + "<div class=\"vi-survey-header\"><span>Feedback on this ad</span></div>" + "<div id=\"vi_feedback_btns\" class=\"btn-section\">" + "<a class='itemfb' data-reason-id='3' data-reason='Already bought this'><span>Already bought this</span></a>" + "<a class='itemfb' data-reason-id='2' data-reason='Not interested in this ad'><span>Not interested in this</span></a>" + "<a class='itemfb' data-reason-id='5' data-reason='Ad with offensive content'><span>Ad with offensive content</span></a>" + "</div>" + "</div>" + "</div>" + "<div id=\"confirmation-view\" style=\"display: none;\">" + "<div class=\"vi-section-container\">" + "<div class=\"survey-confirmation-header\"><span>We'll try not to show that ad again</span></div>" + "<div class=\"survey-confirmation-closing\"><span>Closing ad...</span></div>" + "</div>" + "</div>" + "</div>";
      var surveyview = document.getElementById("vi_interstitial_survey");
      var confirmview = document.getElementById("confirmation-view");
      setTimeout(function () {
        document.addEventListener('click', function (e) {
          if (!flag) {
            if (!document.getElementById("vi_interstitial_survey").contains(e.target)) {
              this.adWrapper.style.display = "block";
              this.adWrapper.parentNode.style.boxShadow = "0px 10px 22px rgba(0,0,0,0.65)";

              if (this.config.enableInstream) {
                var backgroundWrapper = document.getElementById("backgroundWrapper");

                if (backgroundWrapper) {
                  backgroundWrapper.style.display = "block";
                }
              }

              if (this.adsManager) {
                this.adsManager.resume();
              }

              if (this.backgroundVideo) {
                this.backgroundVideo.play();
              }

              var vi_feedback = document.getElementById("vi_feedback");
              vi_feedback.innerHTML = "";
              vi_feedback.style.cssText = "";

              if (confirmview) {
                confirmview.style.display = "none";
              }

              if (surveyview) {
                surveyview.style.display = "none";
              }

              flag = true;
            }
          }
        }.bind(this));
      }.bind(this), 300);
      var itemfb = document.getElementsByClassName("itemfb");
      Array.from(itemfb).forEach(function (item, index) {
        var _this2 = this;

        item.addEventListener('click', function () {
          if (confirmview) {
            confirmview.style.display = "block";
          }

          if (surveyview) {
            surveyview.style.display = "none";
          } // Send feedback


          var bidder = _this2.dataBidWin;

          if (bidder) {
            var obj = {
              adslotId: _this2.adSlot,
              adFormat: "interstitial_" + bidder.mediaType,
              reason: item.getAttribute('data-reason')
            };
            sendReportOfUsers(bidder, obj);
          }

          setTimeout(function () {
            this.redirectHref();
          }.bind(_this2), 500);
        });
      }.bind(this));
    }
  }, {
    key: "setEventIntertitialActive",
    value: function setEventIntertitialActive() {
      if (this.config.frequencyDisplay && this.config.frequencyDisplay < 10) {
        this.config.frequencyDisplay = 10;
      }

      setCookie("__viIfmt", true, this.config.frequencyDisplay / 60 / 24);
    }
  }, {
    key: "redirectHref",
    value: function redirectHref() {
      utlis_vilog("[ITT] Link redirect ===============");
      utlis_vilog(this.href);

      if (this.href) {
        window.location.href = this.href;
      }

      this.viAcAd = function () {};
    }
  }, {
    key: "onPauseAds",
    value: function onPauseAds() {
      if (this.adsManager) {
        this.adsManager.pause();
      }

      if (this.backgroundVideo) {
        this.backgroundVideo.pause();
      }
    }
  }, {
    key: "onResumeAds",
    value: function onResumeAds() {
      if (this.adsManager) {
        this.adsManager.resume();
      }

      if (this.backgroundVideo) {
        this.backgroundVideo.play();
      }
    }
  }, {
    key: "showAds",
    value: function showAds() {
      // window.history.replaceState(null, null, "#vi_vignette");
      this.adContainer.style.visibility = "visible";
      this.adContainer.style.opacity = "1";
    }
  }, {
    key: "hiddenAds",
    value: function hiddenAds() {
      this.redirectHref();
      this.adContainer.style.visibility = "hidden";
      this.adContainer.style.opacity = "0";
    }
  }, {
    key: "createWrapperBannerAd",
    value: function createWrapperBannerAd() {
      this.cleanWrapperVideoAd();
      var adHtm = document.createElement("vli");
      this.adId = this.currentDivId;
      adHtm.className = plugins_v2_constants.adClass + " vliinterstial";
      adHtm.setAttribute("data-ad-slot", this.adSlot);
      adHtm.setAttribute("data-id", this.adId);
      this.wrapperWidth = this.adUnitBanner.w;
      this.wrapperHeight = this.adUnitBanner.h;
      adHtm.style.cssText = "visibility: hidden; opacity: 0; transition: opacity .25s ease-in-out; -moz-transition: opacity .25s ease-in-out; -webkit-transition: opacity .25s ease-in-out; position: fixed; z-index: 2147483647; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(52, 58, 65, 0.7)!important; -webkit-backdrop-filter: blur(15px);backdrop-filter:blur(15px); -webkit-flex: 1; -ms-flex: 1; flex: 1;";
      var textHeading = "<a style=\"text-decoration: none; color:" + (mobileDetect() ? '#fff' : '#5F6368') + "\" href=\"//" + plugins_v2_constants.brandHomepage + "/?ref=" + window.location.hostname + "\" target=\"_blank\" rel=\"nofollow\"><vli style=\"font-size:15px!important;font-family:inherit!important;line-height:8px;font-weight:400;display:inline!important;\">Ad by</vli> <vli style=\"font-size:18px!important;line-height:8px;font-weight:600;display:inline!important\">".concat(plugins_v2_constants.brandName, "</vli></a>");

      if (plugins_v2_constants.enableIcon === "off") {
        textHeading = "<span style=\"font-weight: 600; font-size: 18px; letter-spacing: 0.8;\">Interstitial Ads</span>";
      }

      adHtm.innerHTML = "<style>.vibtn:focus{outline: none} .vibtn{cursor:pointer;font-family: Arial, Helvetica, sans-serif !important; padding-bottom: 5px; background: transparent; color: #fff;}" + (mobileDetect() ? '.toprow{padding: 15px 10px; background-color: #333;}' : '') + "</style>" + "<vli style=\"box-sizing: initial!important;padding:" + (mobileDetect() ? 0 : 26) + "px;border-radius: " + (mobileDetect() ? 0 : 8) + "px;display: block; background-color: " + (mobileDetect() ? 'transparent' : '#fff') + "; min-width:  " + (mobileDetect() ? '100%' : this.wrapperWidth + 'px') + "; height: " + (mobileDetect() ? '100%' : this.wrapperHeight + 50 + 'px') + "; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);overflow: hidden\">" + "<vli style=\"background:unset!important;display:block;\">" + "<div class=\"toprow\">" + "<div id=\"vi_dismiss\"  class=\"vibtn skip\" style=\"float: right; opacity: 0.8\" aria-label=\"Close ad\" tabindex=\"1\"> <div><svg width=\"24\" viewBox=\"0 0 48 48\" fill=\"#5F6368\"> <path d=\"M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z\"> </path> <path d=\"M0 0h48v48H0z\" fill=\"none\"></path> </svg></div> </div>" + "<div id=\"vi_report\" class=\"vibtn report\" style=\"float: left; opacity: 0.6\" ><svg viewBox=\"0 0 14 24\" fill=\"none\" width=\"15\" style=\"margin-left: 5px;\"> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2 8C3.1 8 4 7.1 4 6C4 4.9 3.1 4 2 4C0.9 4 0 4.9 0 6C0 7.1 0.9 8 2 8ZM2 10C0.9 10 0 10.9 0 12C0 13.1 0.9 14 2 14C3.1 14 4 13.1 4 12C4 10.9 3.1 10 2 10ZM0 18C0 16.9 0.9 16 2 16C3.1 16 4 16.9 4 18C4 19.1 3.1 20 2 20C0.9 20 0 19.1 0 18Z\" fill=\"#5F6368\"></path> </svg></div>" + "<div id=\"vi_heading\" class=\"vibtn heading\" style=\"margin: 0 auto;display:table;padding-top: 5px\"> <div class=\"text\" style=\"color:#5F6368;display: table-cell; vertical-align: middle;\">" + textHeading + "</div> </div>" + "</div>" + "</vli>" + "<vli style=\"background:unset!important;display: block; background-color: #111;" + (mobileDetect() ? "position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);" : "margin-top: 20px;") + "box-shadow:0px 10px 22px rgba(0,0,0,0.65)\">" + "<vli style=\"background:unset!important;display:block;\" id=\"" + this.adId + "\"></vli>" + "</vli>" + "</vli>" + "<vli id=\"vi_feedback\"></vli>";
      document.body.appendChild(adHtm);
      this.adWrapper = document.getElementById(this.adId);
      this.adContainer = adHtm;
      this.handlerControls();
      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(this.adId);
    }
  }, {
    key: "displayBanner",
    value: function displayBanner() {
      var bidWon = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      utlis_vilog("[ITT] displayBanner =============");

      if (!bidWon) {
        this.hiddenAds();
      }

      if (!this.adPlaying) {
        var timeCount = 0;
        var countTtl = setInterval(function () {
          timeCount++;
          bidWon.ttl = bidWon.ttl ? bidWon.ttl : 360;

          if (timeCount > bidWon.ttl && this.adPlaying == false) {
            this.getAds();
            clearInterval(countTtl);
            timeCount = 0;
          }
        }.bind(this), 1000);
      }

      if (!this.action) {
        utlis_vilog("[ITT] Wait action click url to play");

        this.viAcAd = function () {
          if (this.action) {
            if (this.adIsActive) {
              return;
            }

            this.adIsActive = true;
            this.displayBanner(bidWon);
            clearInterval(countTtl);
          }
        }.bind(this);

        return;
      }

      this.currentDivId = bidWon.adUnitCode;
      this.createWrapperBannerAd();
      var pixel = {
        divID: this.adId,
        zoneID: this.interstitialSlot.zid,
        cpm: 0
      };
      this.adWrapper.setAttribute("data-display", "interstitial");
      this.adWrapper.removeAttribute("data-ad-slot");
      this.adWrapper.dataset.id = this.adId;
      this.adWrapper.style.cssText = 'display:block!important;position:relative!important;margin:0 auto!important;z-index:0!important;';
      this.showAds();
      this.adPlaying = true;
      this.adPlayed = true;
      this.setEventIntertitialActive();
      var adDiv = document.getElementById(this.adId);

      if (adDiv) {
        var returnPassback = false;
        var accTargetInterstitial = true;

        if (isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.display) === true) {
          accTargetInterstitial = false;
        }

        if (bidWon) {
          pixel.type = "hb";
          pixel.cpm = bidWon.cpm;
          pixel.bidder = bidWon.bidderCode;

          if (bidWon && bidWon.mediaType === "native") {
            pixel.adType = "native";
          }

          this.dataBidWin = bidWon;
        }

        var renderAmazonBid = function () {
          utlis_vilog("[ITT] Render ad for " + this.adId);
          adDiv.setAttribute("content-type", "ad");
          adDiv.style.cssText = 'width:' + this.adUnitBanner.w + 'px!important;height:' + this.adUnitBanner.h + 'px!important;margin:0 auto!important;position:relative!important;display: block!important;';
          var ifrDoc = renderIframeForSmartBanner(adDiv, this.adId, bidWon.width ? bidWon.width : this.adUnitBanner.w, bidWon.height ? bidWon.height : this.adUnitBanner.h);
          apstag.renderImp(ifrDoc, bidWon.amzniid);
          onBidWon(this.adId);
        }.bind(this);

        var renderHBBids = function () {
          utlis_vilog("[ITT] Render ad");

          switch (bidWon.mediaType) {
            case "banner":
              if (plugins_v2_constants.noneSafeFrameBidder.indexOf(bidWon.bidderCode) !== -1) {
                vlipb.renderAd(renderIframeForSmartBanner(adDiv, this.adId, bidWon.width ? bidWon.width : this.adUnitBanner.w, bidWon.height ? bidWon.height : this.adUnitBanner.h), bidWon.adId);
              } else {
                if (plugins_v2_constants.safeFrame === 'on') {
                  adDiv.innerHTML = '<div id="vli_sf_' + this.adId + '"></div>';
                  initSafeFrameRender(onBidWon);
                  renderSafeFrame('vli_sf_' + this.adId, {
                    width: bidWon.width ? bidWon.width : this.adUnitBanner.w,
                    height: bidWon.height ? bidWon.height : this.adUnitBanner.h
                  }, bidWon.ad);
                } else {
                  vlipb.renderAd(renderIframeForSmartBanner(adDiv, this.adId, bidWon.width ? bidWon.width : this.adUnitBanner.w, bidWon.height ? bidWon.height : this.adUnitBanner.h), bidWon.adId);
                }
              }

              break;

            case "native":
              var adData = {
                adUnitCode: this.adId,
                adId: bidWon.adId,
                pubUrl: window.location.href,
                width: this.adUnitBanner.w,
                height: this.adUnitBanner.h
              };
              renderNativeAd(renderIframeForSmartBanner(adDiv, this.adId, bidWon.width ? bidWon.width : this.adUnitBanner.w, bidWon.height ? bidWon.height : this.adUnitBanner.h), adData);
              break;

            default:
              break;
          }

          pushInfoDebugOverlay(this.adId, bidWon);
        }.bind(this);

        plugins_v2_constants.adRenderAction.gAdRequestTimeout[this.adId] = function () {
          if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp') {
            this.hiddenAds();
          }

          if (plugins_v2_constants.bannerRequestMode == 'dfp') {
            if (bidWon) {
              if (bidWon.cpm >= this.floorPrice) {
                if (bidWon.amznbid) {
                  renderAmazonBid();
                } else {
                  renderHBBids();
                }
              } else {
                utlis_vilog("[OB] " + this.adId + ": CPM < Floor Price");
                this.hiddenAds();
              }
            } else {
              pixel.type = "passback";
              this.hiddenAds();
            }
          }
        }.bind(this);

        if ((plugins_v2_constants.bannerRequestMode == 'dfp' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp') && accTargetInterstitial) {
          if (plugins_v2_constants.gSlots[this.adId]) googletag.destroySlots([plugins_v2_constants.gSlots[this.adId]]);
          googletag.cmd.push(function () {
            if (bidWon && bidWon.mediaType === "native") {
              plugins_v2_constants.gSlots[this.adId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.display, this.adId), "fluid", this.adId).addService(googletag.pubads());
            } else {
              var adunit = JSON.parse(JSON.stringify(this.interstitialSlot.adunitBannner));
              plugins_v2_constants.gSlots[this.adId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.display, this.adId), adunit.mediaTypes.banner.sizes, this.adId).addService(googletag.pubads());
            }
          }.bind(this));
        }

        var onBidWon = function (adUnitCode) {
          if (plugins_v2_constants.adRenderAction.bidWon[adUnitCode]) {
            plugins_v2_constants.adRenderAction.bidWon[adUnitCode]();
            delete plugins_v2_constants.adRenderAction.bidWon[adUnitCode];
          }
        }.bind(this);

        var handlerOnBidWon = function (data) {
          if (this.adUnitCodes.indexOf(data.adUnitCode) === -1) return;
          this.dataBidWin = data;
          utlis_vilog("[ITT] ____WIN___" + data.adUnitCode + "__" + data.bidderCode + "__" + data.cpm);

          if (plugins_v2_constants.bannerRequestMode === "dfp") {
            var adDiv = document.getElementById(data.adUnitCode);

            if (adDiv) {
              adDiv.style.cssText = 'width:' + data.width + 'px!important;height:' + data.height + 'px!important;margin:0 auto!important;position:relative!important;display: block !important;overflow: hidden !important';
            }
          }

          onBidWon(data.adUnitCode);
          logBidData("banner", data);
          vlipb.offEvent('bidWon', handlerOnBidWon, this.adId);
        }.bind(this);

        vlipb.onEvent('bidWon', handlerOnBidWon, this.adId);

        if (plugins_v2_constants.bannerRequestMode == 'dfp' && accTargetInterstitial) {
          googletag.cmd.push(function () {
            vlipb.que.push(function () {
              if (plugins_v2_constants.gSlots[this.adId]) {
                if (plugins_v2_constants.refererDomainID) {
                  plugins_v2_constants.gSlots[this.adId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
                } else {
                  plugins_v2_constants.gSlots[this.adId].setTargeting("vli_adslot", this.interstitialSlot.zid);
                }

                plugins_v2_constants.gSlots[this.adId].setTargeting("vli_adtype", "display");
                plugins_v2_constants.gSlots[this.adId].setTargeting("hb_width", this.interstitialSlot.w);
                plugins_v2_constants.gSlots[this.adId].setTargeting("hb_height", this.interstitialSlot.h);
                plugins_v2_constants.gSlots[this.adId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.display.accId);
                plugins_v2_constants.gSlots[this.adId].setTargeting("vli_sf", "1");

                if (bidWon && bidWon.amznbid) {
                  plugins_v2_constants.gSlots[this.adId].setTargeting("isamzn", "1");
                  plugins_v2_constants.gSlots[this.adId].setTargeting("hb_pb", bidWon.hb_pb);
                } else {
                  if (plugins_v2_constants.disableDefaultDfpFloorPrice.indexOf(plugins_v2_constants.domainID) !== -1) {
                    if (bidWon) adserverTargeting(bidWon, plugins_v2_constants.gSlots[this.adId]);
                  } else {
                    if (bidWon) {
                      adserverTargeting(bidWon, plugins_v2_constants.gSlots[this.adId]);
                    } else {
                      pixel.cpm = this.interstitialSlot.floorPrice;

                      if (plugins_v2_constants.sendTargeting === "on") {
                        plugins_v2_constants.gSlots[this.adId].setTargeting("up_bid", "true");
                        plugins_v2_constants.gSlots[this.adId].setTargeting("hb_pb", getCustomHBPB('banner', this.displaySlot.floorPrice));
                      }
                    }
                  }
                }

                googletag.pubads().refresh([plugins_v2_constants.gSlots[this.adId]]);
              }
            }.bind(this));
          }.bind(this));
        }

        plugins_v2_constants.adRenderAction.bidWon[this.adId] = function () {
          if (bidWon) {
            savePixel(pixel);

            if (plugins_v2_constants.bannerRequestMode === 'dfp') {
              if (bidWon.amznbid) {
                var dataBid = {
                  adId: "unknown from amz",
                  bidder: "amz",
                  creativeId: "unknown from amz"
                };
                pushInfoDebugOverlay(this.adId, dataBid);
              } else {
                pushInfoDebugOverlay(this.adId, bidWon);
              }
            }
          }
        }.bind(this);

        if (plugins_v2_constants.bannerRequestMode == 'postbid' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp' || !accTargetInterstitial) {
          if (bidWon) {
            if (bidWon.cpm >= this.floorPrice) {
              if (bidWon.amznbid) {
                renderAmazonBid();
              } else {
                renderHBBids();
              }
            } else {
              utlis_vilog("[ITT] " + this.adId + ": CPM < Floor Price");
              returnPassback = true;
            }
          } else {
            returnPassback = true;
          }
        }

        if (returnPassback == true) {
          pixel.type = "passback";

          if (plugins_v2_constants.bannerRequestMode == 'postbid' || !accTargetInterstitial) {
            this.hiddenAds();
          }

          if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp' && accTargetInterstitial) {
            utlis_vilog("[ITT] Try get ad from Adx for: " + this.adId);
            googletag.cmd.push(function () {
              vlipb.que.push(function () {
                if (plugins_v2_constants.gSlots[this.adId]) {
                  if (plugins_v2_constants.refererDomainID) {
                    plugins_v2_constants.gSlots[this.adId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
                  } else {
                    plugins_v2_constants.gSlots[this.adId].setTargeting("vli_adslot", this.interstitialSlot.zid);
                  }

                  plugins_v2_constants.gSlots[this.adId].setTargeting("vli_adtype", "display");
                  plugins_v2_constants.gSlots[this.adId].setTargeting("vli_sf", "1");
                  plugins_v2_constants.gSlots[this.adId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.display.accId);

                  if (plugins_v2_constants.disableDefaultDfpFloorPrice.indexOf(plugins_v2_constants.domainID) !== -1) {
                    pixel.cpm = this.interstitialSlot.floorPrice;

                    if (plugins_v2_constants.sendTargeting === "on") {
                      plugins_v2_constants.gSlots[this.adId].setTargeting("up_bid", "true");
                      plugins_v2_constants.gSlots[this.adId].setTargeting("hb_pb", getCustomHBPB('banner', this.displaySlot.floorPrice));
                    }
                  }

                  googletag.pubads().refresh([plugins_v2_constants.gSlots[this.adId]]);
                }
              });
            }.bind(this));
          }
        }

        if (plugins_v2_constants.bannerRequestMode == 'dfp' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp' && returnPassback == true) {
          plugins_v2_constants.adRenderAction.pb[this.adId] = function (type) {
            if (!type) return;

            if (type == "amz") {
              renderAmazonBid();
            }

            if (type == "hb") {
              if (plugins_v2_constants.bannerRequestMode === 'dfp') {
                var dataBid = {
                  adId: "unknown from Adx",
                  bidder: "Adx",
                  creativeId: "unknown from Adx"
                };
                pushInfoDebugOverlay(this.adId, dataBid);
              }
            }

            if (type === "passback") {
              this.hiddenAds();
            }
          }.bind(this);
        }
      }
    }
  }]);

  return Interstitial;
}();

/* harmony default export */ var interstitial = (interstitial_Interstitial);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(10);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);

// EXTERNAL MODULE: ./src/plugins_v2/template/player.html
var template_player = __webpack_require__(36);
var player_default = /*#__PURE__*/__webpack_require__.n(template_player);

// EXTERNAL MODULE: ./src/plugins_v2/template/video_player.html
var video_player = __webpack_require__(15);
var video_player_default = /*#__PURE__*/__webpack_require__.n(video_player);

// EXTERNAL MODULE: ./src/plugins_v2/template/slider.html
var slider = __webpack_require__(37);
var slider_default = /*#__PURE__*/__webpack_require__.n(slider);

// EXTERNAL MODULE: ./src/plugins_v2/template/playlist.html
var playlist = __webpack_require__(38);
var playlist_default = /*#__PURE__*/__webpack_require__.n(playlist);

// EXTERNAL MODULE: ./src/plugins_v2/template/power_by.html
var power_by = __webpack_require__(39);
var power_by_default = /*#__PURE__*/__webpack_require__.n(power_by);

// EXTERNAL MODULE: ./src/plugins_v2/template/control.html
var template_control = __webpack_require__(40);
var control_default = /*#__PURE__*/__webpack_require__.n(template_control);

// EXTERNAL MODULE: ./src/plugins_v2/template/content.html
var template_content = __webpack_require__(41);
var content_default = /*#__PURE__*/__webpack_require__.n(template_content);

// EXTERNAL MODULE: ./src/plugins_v2/template/fullscreen.html
var fullscreen = __webpack_require__(42);
var fullscreen_default = /*#__PURE__*/__webpack_require__.n(fullscreen);

// EXTERNAL MODULE: ./src/plugins_v2/template/svgPlay.html
var svgPlay = __webpack_require__(43);
var svgPlay_default = /*#__PURE__*/__webpack_require__.n(svgPlay);

// EXTERNAL MODULE: ./src/plugins_v2/template/svgPause.html
var svgPause = __webpack_require__(44);
var svgPause_default = /*#__PURE__*/__webpack_require__.n(svgPause);

// EXTERNAL MODULE: ./src/plugins_v2/template/splide_image.html
var splide_image = __webpack_require__(45);
var splide_image_default = /*#__PURE__*/__webpack_require__.n(splide_image);

// EXTERNAL MODULE: ./src/plugins_v2/template/control_play.html
var control_play = __webpack_require__(16);
var control_play_default = /*#__PURE__*/__webpack_require__.n(control_play);

// CONCATENATED MODULE: ./src/plugins_v2/siema_run.js



var siema_run_SiemaRun = /*#__PURE__*/function () {
  function SiemaRun() {
    classCallCheck_default()(this, SiemaRun);

    this._siema_opts = {
      root: null,
      selector: ".vi__slider .vi__flx",
      duration: 200,
      easing: "ease-out",
      perPage: 5,
      startIndex: 0,
      draggable: true,
      multipleDrag: true,
      threshold: 20,
      loop: false,
      rtl: false,
      onInit: function onInit() {},
      onChange: function onChange() {}
    };
    this._siema = null;
  }

  createClass_default()(SiemaRun, [{
    key: "init",
    value: function init() {
      this.processInit(false);
      return this._siema;
    }
  }, {
    key: "siema_change_option",
    value: function siema_change_option(opt, value) {
      this._siema_opts[opt] = value;
    }
  }, {
    key: "siema_reinit",
    value: function siema_reinit() {
      this.processInit(true);
      return this._siema;
    }
  }, {
    key: "processInit",
    value: function processInit(isDestroy) {
      if (isDestroy) {
        this.siema_destroy();
      }

      if (!this._siema_opts.root) return;
      this._siema = new Siema(this._siema_opts);
    }
  }, {
    key: "siema_goto",
    value: function siema_goto(pos) {
      if (typeof this._siema.goTo === "function") this._siema.goTo(pos);
    }
  }, {
    key: "siema_swipe_to_active_slide",
    value: function siema_swipe_to_active_slide() {
      var allPost = this._siema_opts.root.getElementsByClassName("vi__post");

      var index = 0;

      for (var i = 0; i < allPost.length; i++) {
        if (allPost[i].classList.contains("vi__featured")) {
          this.siema_goto(index);
        }

        index++;
      }
    }
  }, {
    key: "siema_destroy",
    value: function siema_destroy() {
      if (typeof this._siema.destroy === "function") {
        this._siema.destroy(true);
      }
    }
  }]);

  return SiemaRun;
}();

/* harmony default export */ var siema_run = (siema_run_SiemaRun);
// CONCATENATED MODULE: ./src/plugins_v2/widgetContent.js





function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }


















var widgetContent_WidgetContent = /*#__PURE__*/function () {
  function WidgetContent(config) {
    classCallCheck_default()(this, WidgetContent);

    this.FORMAT_OUTSTREAM = "outstream";
    this.FORMAT_VIDEO_DISCOVERY = "videodiscovery";
    this.FORMAT_TOP_ARTICLES = "toparticles";
    this.FORMAT_SLIDER = "slider";
    this.RENDER_ROOT = "root";
    this.RENDER_IFRAME = "iframe";
    this.ASSETS_URL = '//assets.';
    this.MEDIA_URL = '//media.';
    this.config = {
      textShow: {
        play: '',
        pause: '',
        next: '',
        prev: '',
        fullscreen: '',
        collapse: '',
        enableVolume: '',
        disableVolume: '',
        nowPlaying: '',
        readMore: '',
        powerBy: ''
      }
    };
    this.defaultConfig = {
      hidePlaylist: false,
      random: false,
      disableCache: false,
      oldControls: false,
      showIcon: true,
      defaultMuteVolume: true
    };
    this.appendSource = false;
    this.videoContent = null;
    this.formatList = [this.FORMAT_OUTSTREAM, this.FORMAT_VIDEO_DISCOVERY, this.FORMAT_TOP_ARTICLES, this.FORMAT_SLIDER];
    this.renderList = [this.RENDER_ROOT, this.RENDER_IFRAME];
    this.running = false;
    this.valueCache = undefined && undefined === "dev" ? new Date().getTime().toString() : "vi_0408211045";
    this.init(config);
    if (!this.running) return;
    this.m3u8 = false;
    this.MUTE_VIDEO = {
      "class": "sound_off",
      title: this.config.textShow.enableVolume
    };
    this.UNMUTE_VIDEO = {
      "class": "sound_on",
      title: this.config.textShow.disableVolume
    };
    this.STATUS_PLAY = {
      title: this.config.textShow.play,
      svg: svgPlay_default.a
    };
    this.STATUS_PAUSE = {
      title: this.config.textShow.pause,
      svg: svgPause_default.a
    };
    this.isOutstream = null;
    this.isVideoDiscovery = null;
    this.isTopArticles = null;
    this.isSlider = null;
    this.isRoot = null;
    this.isIframe = null;
    this.vliWrapper = null;
    this.playerWrapper = null;
    this.bodyDiv = null;
    this.viVideo = null;
    this.viPlayer = null;
    this.targetVideo = null;
    this.adContainer = null;
    this.viContent = null;
    this.viPlayPause = null;
    this.viTitle = null;
    this.fullScreenButton = null;
    this.viToggle = null;
    this.arrowSplide = null;
    this.powedBrand = null;
    this.videoContains = null;
    this.widthRenderElement = null;
    this.heightRenderElement = null;
    this.playerHeight = 0;
    this.viContentHeight = 0;
    this.fullHTML = '';
    this.eventSliderInit = false;
    this.vidKey = null;
    this.sliderHeight = 250;
    this.sliderWidth = 445;
    this.sliderWrapperWidth = 660;
    this.perPage = null;
    this.renderTitle = false;
    this.defaultPostionVideo = 0;
    this.NewSiema = null;
    this.SiemaBtt = null;
    this.numberOfLinks = 5;
    this.timeToLoop = 8; //seconds

    this.reProcess = false;
    this.IDToggleVolume = null;
    this.backgroundPlayed = false;
    this.clickBackgroundVideo = false;
    this.btnControlPlayer = null;
    this.svgPause = null;
    this.svgPlay = null;
    this.overlayVideo = null;
    this.widthPlayer = null;
    this.posterVideo = null;
  } //initialization, set config


  createClass_default()(WidgetContent, [{
    key: "init",
    value: function init(config) {
      //Check required fields
      if (!config || typeof_default()(config) !== 'object' || !config.renderElement || !Object(help["i" /* isNode */])(config.renderElement) && !Object(help["h" /* isElement */])(config.renderElement) || !config.renderMode || typeof config.renderMode !== 'string' || !this.renderList.includes(config.renderMode) || !config.format || typeof config.format !== 'string' || !this.formatList.includes(config.format) || !config.videoData || !Array.isArray(config.videoData)) return utlis_vilog("Please check config");
      this.clearLocalStorage();
      var check = this.checkVideoData(config);
      if (check) return utlis_vilog("check video data input!");
      this.config = this.setConfig(config);
      this.renderVideoData();
      this.renderLogo();
      this.running = true;
    }
  }, {
    key: "clearLocalStorage",
    value: function clearLocalStorage() {
      try {
        var valueCache = localStorage.getItem("vi_KCache");

        if (valueCache !== this.valueCache) {
          localStorage.removeItem("vi_Config");
          localStorage.removeItem("vi_Render");
          localStorage.removeItem("vi_Iframe");
          this.config.disableCache = true;
        }
      } catch (error) {
        utlis_vilog(error);
      }
    } //Method to set config

  }, {
    key: "setConfig",
    value: function setConfig(widgetConfig) {
      for (var key in this.defaultConfig) {
        if (Object.hasOwnProperty.call(this.defaultConfig, key)) {
          if (!(typeof_default()(this.defaultConfig[key]) === typeof_default()(widgetConfig[key]))) {
            widgetConfig[key] = this.defaultConfig[key];
          }
        }
      }

      if (typeof Storage === "undefined") {
        //If browser not support local storage -> disable cache
        widgetConfig.disableCache = true;
      }

      widgetConfig.textShow = Object(help["f" /* getTextShow */])(widgetConfig.language);
      this.config = Object.assign(this.config, widgetConfig);
      return this.config;
    } //render videoData to true links

  }, {
    key: "renderVideoData",
    value: function renderVideoData() {
      var _this = this;

      if (!this.config.videoData) return;
      this.config.videoData.forEach(function (element) {
        if (element.video_url) {
          for (var key in element.video_url) {
            if (Object.hasOwnProperty.call(element.video_url, key)) {
              if (element.video_url[key] != "") {
                _this.changeLink(element.video_url, key, _this.MEDIA_URL);
              }
            }
          }
        }

        _this.changeLink(element, 'background', _this.ASSETS_URL);

        _this.changeLink(element, 'thumb', _this.ASSETS_URL);

        _this.changeLink(element, 'poster', _this.ASSETS_URL);
      });
    }
  }, {
    key: "changeLink",
    value: function changeLink(element, prop, typeLink, isLogo) {
      if (element[prop] && element[prop] != '') {
        element[prop] = element[prop].startsWith('http') ? element[prop] : typeLink + (isLogo ? '//' : plugins_v2_constants.rootDomain) + element[prop];
      }
    }
  }, {
    key: "renderLogo",
    value: function renderLogo() {
      if (!this.config.customLogo) return;
      this.changeLink(this.config.customLogo, 'logo', '', true);
      this.changeLink(this.config.customLogo, 'logoIcon', '', true);
    } //valid input video data

  }, {
    key: "checkVideoData",
    value: function checkVideoData(config) {
      //an element of videoData is not object (or == null) -> wrong input
      var isNotObject = function isNotObject(props) {
        if (!props) return true;
        return typeof_default()(props) != 'object';
      };

      if (config.videoData.some(isNotObject)) return true; //an element of videoData wrong videoURL -> wrong input

      var isNotValidVideoURL = function isNotValidVideoURL(props) {
        return typeof_default()(props.video_url) != 'object';
      };

      if (config.videoData.some(isNotValidVideoURL)) return true; //an element of videoData type != string (except videoURL) -> wrong input

      var objectPropsIsNotString = function objectPropsIsNotString(props) {
        var cloneObject = _objectSpread({}, props);

        delete cloneObject.video_url;
        var check = false;

        for (var key in cloneObject) {
          if (Object.hasOwnProperty.call(cloneObject, key)) {
            var element = cloneObject[key];

            if (typeof element != 'string') {
              check = true;
              break;
            }
          }
        }

        return check;
      };

      if (config.videoData.some(objectPropsIsNotString)) return true; //a prop of video URL type != string -> wrong input

      var isNotStringVideoURLProps = function isNotStringVideoURLProps(props) {
        var check = false;

        for (var key in props.video_url) {
          if (Object.hasOwnProperty.call(props.video_url, key)) {
            var element = props.video_url[key];

            if (typeof element != 'string' && element != '') {
              check = true;
              break;
            }
          }
        }

        return check;
      };

      if (config.videoData.some(isNotStringVideoURLProps)) return true;
      return false;
    } //render player

  }, {
    key: "render",
    value: function render() {
      if (!this.running) return;
      this.checkM3u8();

      if (typeof Hls == 'undefined' && this.m3u8) {
        //If Hls not exists and config has video m3u8
        loadScript('//' + plugins_v2_constants.staticDomain + '/plugins/hls.js/hls.min.js', false, function () {
          this.start();
        }.bind(this), function () {
          this.start();
        }.bind(this));
        return;
      }

      this.start();
    } //check m3u8 video exist or not

  }, {
    key: "checkM3u8",
    value: function checkM3u8() {
      for (var index = 0, videoLen = this.config.videoData.length; index < videoLen; index++) {
        var element = this.config.videoData[index];

        if (element.video_url) {
          if (element.video_url.m3u8) {
            this.m3u8 = true;
            break;
          }
        }
      }
    } //start, check, read or save to local storage

  }, {
    key: "start",
    value: function start() {
      if (this.config.disableCache) {
        this.process();
        return;
      }

      var temp = Object.assign({}, this.config);
      temp.height = temp.renderElement.style.height;
      temp.width = temp.renderElement.style.width;
      temp.mobile = mobileDetect();
      delete temp.renderElement;
      var HTMLRender = '';
      var HTMLRenderIframe = '';

      try {
        var listConfig = JSON.parse(localStorage.getItem("vi_Config"));
        var listReRender = JSON.parse(localStorage.getItem("vi_Render"));
        var listIframe = JSON.parse(localStorage.getItem("vi_Iframe"));
      } catch (error) {
        utlis_vilog(error);
      }

      if (listConfig != null) {
        for (var index = 0; index < listConfig.length; index++) {
          var element = listConfig[index];
          this.reProcess = Object(help["e" /* deepCompare */])(temp, element);

          if (this.reProcess) {
            HTMLRender = listReRender[index];
            HTMLRenderIframe = listIframe[index];
            break;
          }
        }
      }

      if (this.reProcess) {
        this.config.renderElement.innerHTML += HTMLRender;

        if (this.config.renderMode === this.RENDER_IFRAME) {
          var iframeElement = this.config.renderElement.querySelector('.playerWrapper').contentWindow.document || this.config.renderElement.querySelector('.playerWrapper').contentDocument.document;
          iframeElement.open();
          iframeElement.write(HTMLRenderIframe);
          iframeElement.close();
        }

        this.process();
        return;
      }

      this.process();
      var trueHTML = this.viPlayer.outerHTML;

      if (this.config.renderMode === this.RENDER_IFRAME) {
        trueHTML = this.fullHTML;
      }

      if (listConfig != null) {
        listConfig.push(temp);
        listReRender.push(this.playerWrapper.outerHTML);
        listIframe.push(trueHTML);
      } else {
        listConfig = [];
        listReRender = [];
        listIframe = [];
        listConfig[0] = temp;
        listReRender[0] = this.playerWrapper.outerHTML;
        listIframe[0] = trueHTML;
      }

      try {
        setLocal(this.valueCache);
      } catch (error) {
        //Catch error full storage. Setting the value of exceeded the quota. cut half of array to save.
        var half_length = Math.ceil(listConfig.length / 2);
        listConfig = listConfig.splice(half_length);
        listReRender = listReRender.splice(half_length);
        listIframe = listIframe.splice(half_length);
        setLocal(this.valueCache);
      }

      function setLocal(valueCache) {
        localStorage.setItem("vi_Config", JSON.stringify(listConfig));
        localStorage.setItem("vi_Render", JSON.stringify(listReRender));
        localStorage.setItem("vi_Iframe", JSON.stringify(listIframe));
        localStorage.setItem("vi_KCache", valueCache);
      }
    }
  }, {
    key: "process",
    value: function process() {
      Object(help["d" /* classListRegister */])();
      this.isOutstream = this.config.format === this.FORMAT_OUTSTREAM;
      this.isVideoDiscovery = this.config.format === this.FORMAT_VIDEO_DISCOVERY;
      this.isTopArticles = this.config.format === this.FORMAT_TOP_ARTICLES;
      this.isSlider = this.config.format === this.FORMAT_SLIDER;
      this.isRoot = this.config.renderMode === this.RENDER_ROOT;
      this.isIframe = this.config.renderMode === this.RENDER_IFRAME;

      if (!this.reProcess) {
        this.createPlayerWrapper();
      }

      this.playerWrapper = this.config.renderElement.querySelector('.playerWrapper');
      this.widthRenderElement = this.config.renderElement.style.width.replace("px", "");
      this.heightRenderElement = this.config.renderElement.style.height.replace("px", "");
      this.playerHeight = this.widthRenderElement / 16 * 9;

      if (this.config.random) {
        this.defaultPostionVideo = Math.floor(Math.random() * this.config.videoData.length);
      }

      if (this.isVideoDiscovery) {
        this.viContentHeight = this.calcSlider(this.widthRenderElement).viContentHeight;
      }

      if (!this.reProcess) {
        if (this.isSlider) {
          var obj = {};
          obj.browserInfo = Object(help["c" /* browserSniff */])();
          obj.browserName = obj.browserInfo[0];
          obj.browserVersion = obj.browserInfo[1];

          if (obj.browserName === "IE" && (obj.browserVersion === 8 || obj.browserVersion === 9)) {
            this.config.oldControls = true;
          }
        }

        if (this.isTopArticles) {
          this.playerWrapper.style.height = this.playerHeight + 25 + 'px';
        }

        this.renderHTML();
      }

      if (this.isRoot) {
        this.vliWrapper = this.config.renderElement;
        this.bodyDiv = this.playerWrapper;
      }

      if (this.isIframe) {
        this.vliWrapper = this.playerWrapper.contentWindow.document || this.playerWrapper.contentDocument.document;
        this.bodyDiv = this.vliWrapper.body;
      }

      this.viPlayer = this.vliWrapper.querySelector('.vi__player');
      this.targetVideo = this.vliWrapper.querySelector("video");
      this.adContainer = this.vliWrapper.querySelector("#vi__adcontainer");

      if (this.isVideoDiscovery) {
        this.IDToggleVolume = "vi_toggleVolVideoDiscovery";
        this.viContent = this.vliWrapper.querySelector("#vi__content");
        this.viVideo = this.vliWrapper.querySelector(".vi__flx");
        this.viTitle = this.vliWrapper.querySelector("#vi__video_title");
        this.viPlayPause = this.vliWrapper.querySelector(".vi_button_play_pause");
        this.fullScreenButton = this.vliWrapper.querySelector('.fullscreen');
        this.viToggle = this.vliWrapper.querySelector("#vi__toggle_fullscreen");
        this.posterVideo = this.vliWrapper.querySelector("#vi_poster__videoDiscovery");
        this.renderTitle = true;
        this.perPage = this.calcSlider(this.widthRenderElement).itemPerPage;

        if (!this.NewSiema) {
          Object(help["a" /* SiemaDefine */])();
          this.NewSiema = new siema_run();
        }

        if (this.reProcess) {
          //re-create vipost to reinit siema
          var viPost = '';

          for (var index = 0, viVideoLen = this.viVideo.firstChild.children.length; index < viVideoLen; index++) {
            var element = this.viVideo.firstChild.children[index];
            viPost += element.innerHTML;
          }

          this.viVideo.innerHTML = viPost;
        }

        this.NewSiema.siema_change_option('root', this.vliWrapper);
        this.NewSiema.siema_change_option('perPage', this.perPage);
        this.SiemaBtt = this.NewSiema.init();
        this.addEventButton();
        this.timeProgress();
        this.addEventVolume();
        this.addClickVideo();
        this.playlistButtons();
        this.targetVideo.addEventListener("ended", function () {
          this.videoChange("next");
        }.bind(this));
      }

      if (this.isTopArticles) {
        this.addEventReadMore();
      }

      if (this.isSlider) {
        this.IDToggleVolume = "vi_toggleVolVideo";
        var splideList = this.vliWrapper.querySelector('.splide__list');
        this.arrowSplide = this.vliWrapper.querySelector('.splide__arrows');
        this.powedBrand = this.vliWrapper.getElementsByClassName("powed-brand");
        this.videoContains = this.vliWrapper.querySelector('#video-player-contain'); //render everytime avoid splide errors

        var splideData = this.getDataHTML("splide");
        splideList.innerHTML = splideData;

        if (!window.Splide) {
          Object(help["b" /* SplideDefine */])();
        }
      }

      if (this.isOutstream) {
        this.IDToggleVolume = "vi_toggleVolVideo";

        if (this.config.random) {
          this.targetVideo.addEventListener("ended", function () {
            var randomIndex = Math.floor(Math.random() * this.config.videoData.length);
            this.vidKey = randomIndex;
            this.videoContent = this.config.videoData[this.vidKey];
            this.changeVideo(this.videoContent);
            this.play();
          }.bind(this));
        }
      }

      if (this.isSlider || this.isOutstream) {
        this.fullScreenButton = this.vliWrapper.querySelector('.fullscreen');
        this.listenerEventSlider();
        this.declareVariableIconPlay();
        this.listenerEventClickVideoSlider();
        this.addEventVolume();
        this.timeProgress();
      }

      this.changeOneVideo();

      if (!this.reProcess) {
        //Get full HTML in iframe
        this.fullHTML = this.vliWrapper.getElementsByTagName("STYLE")[0].outerHTML + this.bodyDiv.innerHTML;
      }

      this.listenerEventVideoPlay();
      this.eventVideo();

      if (this.config.defaultMuteVolume) {
        this.mute();
      } else {
        this.unmute();
      }
    }
  }, {
    key: "giveBackPropertyPlayer",
    value: function giveBackPropertyPlayer() {
      return this.backgroundPlayed;
    }
  }, {
    key: "backgroundVideoPlayed",
    value: function backgroundVideoPlayed() {
      this.backgroundPlayed = true;
      this.clickBackgroundVideo = true;
      this.viPlayer.classList.add("vi__played");
    }
  }, {
    key: "listenerEventVideoPlay",
    value: function listenerEventVideoPlay() {
      this.targetVideo.addEventListener("playing", this.backgroundVideoPlayed.bind(this), true);
    }
  }, {
    key: "getAdIframeWrapper",
    value: function getAdIframeWrapper() {
      return this.bodyDiv;
    }
  }, {
    key: "declareVariableIconPlay",
    value: function declareVariableIconPlay() {
      var targetDocs = document;

      if (this.config.renderMode === this.RENDER_IFRAME) {
        targetDocs = this.vliWrapper;
      }

      this.overlayVideo = targetDocs.getElementById("vislider_control_overlay");
      this.btnControlPlayer = targetDocs.getElementById("btn_control_player");
      this.posterVideo = targetDocs.getElementById("vi_poster__video");
      this.svgPlay = targetDocs.getElementById("vi_svg_play");
      this.svgPause = targetDocs.getElementById("vi_svg_pause");
    }
  }, {
    key: "showStatusPlayerSlider",
    value: function showStatusPlayerSlider() {
      if (this.targetVideo.paused) {
        if (this.svgPlay) {
          this.svgPlay.style.display = "block";
        }

        if (this.svgPause) {
          this.svgPause.style.display = "none";
        }

        if (this.posterVideo && this.clickBackgroundVideo) {
          this.posterVideo.style.visibility = "visible";
          this.posterVideo.style.opacity = "1";
        }
      } else {
        if (this.svgPlay) {
          this.svgPlay.style.display = "none";
        }

        if (this.svgPause) {
          this.svgPause.style.display = "block";
        }

        if (this.posterVideo) {
          this.posterVideo.style.visibility = "hidden";
          this.posterVideo.style.opacity = "0";
        }
      }
    }
  }, {
    key: "validatePlayBackgroundVideo",
    value: function validatePlayBackgroundVideo() {
      if (this.clickBackgroundVideo === false) {
        return;
      }

      this.play();
    }
  }, {
    key: "handlerClickBackgroundVideo",
    value: function handlerClickBackgroundVideo() {
      this.clickBackgroundVideo = true;

      if (this.targetVideo.paused === true) {
        this.play();
      } else {
        this.pause();
      }
    }
  }, {
    key: "listenerEventClickVideoSlider",
    value: function listenerEventClickVideoSlider() {
      // Click
      this.btnControlPlayer.addEventListener("click", this.handlerClickBackgroundVideo.bind(this));
      this.overlayVideo.addEventListener("click", this.handlerClickBackgroundVideo.bind(this));
      this.targetVideo.addEventListener("click", this.handlerClickBackgroundVideo.bind(this));
    }
  }, {
    key: "hideBrand",
    value: function hideBrand() {
      if (this.powedBrand && this.powedBrand[0]) {
        this.powedBrand[0].style.display = "none";
      }
    }
  }, {
    key: "showBrand",
    value: function showBrand() {
      if (this.powedBrand && this.powedBrand[0]) {
        this.powedBrand[0].style.display = "block";
      }
    }
  }, {
    key: "hideSplideArrows",
    value: function hideSplideArrows() {
      if (this.arrowSplide) {
        this.arrowSplide.style.visibility = "hidden";
        this.arrowSplide.style.opacity = "0";
      }
    }
  }, {
    key: "showSplideArrows",
    value: function showSplideArrows() {
      if (this.arrowSplide) {
        this.arrowSplide.style.visibility = "visible";
        this.arrowSplide.style.opacity = "1";
      }
    }
  }, {
    key: "changeSizeVideoPlayer",
    value: function changeSizeVideoPlayer(size) {
      if (this.videoContains) {
        this.videoContains.style.width = size.width + "px";
        this.videoContains.style.height = size.height + "px";
      }
    }
  }, {
    key: "renderHTML",
    value: function renderHTML() {
      var player;
      var objectTemplate = {};

      if (this.isOutstream) {
        this.widthPlayer = "100%";
        player = player_default.a;
        objectTemplate = {
          controls: this.config.oldControls ? 'controls' : '',
          controlPlay: control_play_default.a
        };
      }

      if (this.isSlider) {
        var _objectTemplate;

        player = slider_default.a;
        this.widthPlayer = Math.round(this.config.renderElement.style.height.replace("px", "") / 9 * 16) + "px";
        var styleViPlayer = 'style="width:' + this.widthPlayer + '; height: 100%; display:block;"';
        var styleVli = "style=\"position: relative; display: block; width: 100%; height: 100%;float: left;\"";
        var styleMore = "<style>.splide__list vli{text-align: center;transform: translate(" + this.calculatorWidthRest() + "px, 0px);}.splide__list vli.is-active+vli{transform: translate(-" + this.calculatorWidthRest() + "px, 0px);}</style>";
        var styleSplideHeight = '<style>#splide {margin-top: ' + (this.config.renderElement.style.height.replace("px", "") - 67.5) / 2 + 'px;}</style>';
        objectTemplate = (_objectTemplate = {
          styleSplideHeight: styleSplideHeight,
          brand: plugins_v2_constants.brandHomepage,
          location: window.location.hostname,
          name: plugins_v2_constants.brandName,
          controlPlay: control_play_default.a,
          // volHTML: volumeButtons,
          styleViPlayer: styleViPlayer,
          styleVli: styleVli,
          styleMore: styleMore,
          showPower: this.config.showIcon ? 'style="display: block;"' : 'style="display: none;"',
          prev: this.config.textShow.prev,
          next: this.config.textShow.next
        }, defineProperty_default()(_objectTemplate, "brand", this.config.textShow.brand), defineProperty_default()(_objectTemplate, "powerBy", this.config.textShow.powerBy), _objectTemplate);
      }

      if (this.isVideoDiscovery) {
        player = video_player_default.a;
        var objectTemp = {};
        objectTemp.textShow = this.config.textShow;
        objectTemp.isCustomLogo = 'style="display:none"';
        objectTemp.styleInline = 'style="width: 20px;"';
        objectTemp.styleIconBrand = '"';
        objectTemp.next = this.config.textShow.next;
        objectTemp.pause = this.config.textShow.pause;
        objectTemp.prev = this.config.textShow.prev;
        objectTemp.fullscreen = this.config.textShow.fullscreen;
        objectTemp.collapse = this.config.textShow.collapse;
        var enableIcon = plugins_v2_constants.enableIcon === "on" && this.config.customLogo && (this.config.customLogo.logo && this.config.customLogo.logo != "" || this.config.customLogo.logoIcon && this.config.customLogo.logoIcon != "" || this.config.customLogo.logoName && this.config.customLogo.logoName != "");

        if (enableIcon) {
          objectTemp.imgLogo = this.config.customLogo.logo;
          objectTemp.logoName = this.config.customLogo.logoName;
          objectTemp.logoIcon = this.config.customLogo.logoIcon;
          objectTemp.brand = plugins_v2_constants.brandHomepage;
          objectTemp.location = window.location.hostname;
          objectTemp.isCustomLogo = 'style="display:block;line-height: initial;"';
          objectTemp.styleInline = '';
          objectTemp.styleIconBrand = 'style="padding:1px;margin-left:5px;line-height: initial;"';
        } //Control player


        objectTemp.hideControls = this.config.oldControls ? 'style="display:none;"' : '';

        if (this.config.customLogo) {
          objectTemp.customLogo = this.config.customLogo;
        }

        var fullscreenRender = Object(help["g" /* handleBarsCustom */])(fullscreen_default.a, objectTemp);
        var control = Object(help["g" /* handleBarsCustom */])(control_default.a, objectTemp);
        var viPost = this.getDataHTML("playlist");
        var contentRender = Object(help["g" /* handleBarsCustom */])(content_default.a, {
          styleViContent: this.config.hidePlaylist ? 'style="height:0; display:none;"' : 'style="height: ' + this.viContentHeight + 'px;"',
          vipost: viPost
        });
        objectTemplate = {
          styleAdContainer: 'style="height: ' + this.playerHeight + 'px;"',
          //1
          fullscreen: fullscreenRender,
          loop: '',
          power_by: "",
          controls: this.config.oldControls ? 'controls' : '',
          control: control,
          content: contentRender,
          viPC: !mobileDetect() ? "vi__pc" : '',
          nowPlaying: '<style>.vi__slider .vi__featured a:after {content: "' + this.config.textShow.nowPlaying + '";}</style>'
        };
      }

      if (this.isTopArticles) {
        this.IDToggleVolume = "vi_toggleVolVideoDiscovery";
        player = video_player_default.a;
        var objectTemp = {
          textShow: this.config.textShow
        };
        var infor = "<vli style=\"text-align: left; color: #a7a7a7; font-size: 12px; padding-top: 6px; padding-left: 6px; position: absolute; left: 0;\">" + this.config.textShow.powerBy + "<span><b> <a style=\"color: #a7a7a7!important; text-decoration: none!important;\" href=\"//" + plugins_v2_constants.brandHomepage + "/?ref=" + window.location.hostname + "\" target=\"_blank\" rel=\"nofollow\">" + plugins_v2_constants.brandName + "</a></b> </span> </vli>";

        if (plugins_v2_constants.enableIcon === "off") {
          infor = "";
        }

        var contentRender = Object(help["g" /* handleBarsCustom */])(power_by_default.a, {
          infor: infor,
          readMore: this.config.textShow.readMore
        });
        objectTemplate = {
          styleAdContainer: 'style="overflow: visible; height: ' + this.playerHeight + 'px"',
          loop: 'loop=true',
          controls: this.config.oldControls ? 'controls' : '',
          nowPlaying: "",
          fullscreen: "",
          control: "",
          content: "",
          viPC: !mobileDetect() ? "vi__pc" : '',
          power_by: contentRender
        };
      }

      var templateRender = Object(help["g" /* handleBarsCustom */])(player, objectTemplate);

      if (this.isRoot) {
        this.playerWrapper.innerHTML = templateRender;
      }

      if (this.isIframe) {
        var iframeElement = this.playerWrapper.contentWindow.document || this.playerWrapper.contentDocument.document;
        iframeElement.open();
        iframeElement.write(templateRender);
        iframeElement.close();
      }
    }
  }, {
    key: "calculatorWidthRest",
    value: function calculatorWidthRest() {
      var distance = this.widthRenderElement.replace("px", "") > 650 ? 35 : 20;
      var rest = this.widthRenderElement.replace("px", "") - this.heightRenderElement.replace("px", "") / 9 * 16 - distance;
      return Math.abs(120 - Math.ceil(rest / 2));
    }
  }, {
    key: "getDataHTML",
    value: function getDataHTML(type) {
      var data = '';
      var dataArray = [];
      var object = {};
      var htmlTemplate = null;

      for (var index = 0, len = this.config.videoData.length; index < len; index++) {
        var element = this.config.videoData[index];

        if (type === "splide") {
          object = {
            index: index,
            image: element.poster || element.thumb
          };
          htmlTemplate = splide_image_default.a;
        }

        if (type === "playlist") {
          object = {
            feature: this.defaultPostionVideo == index ? 'vi__featured' : '',
            id: element.id,
            background: element.thumb,
            title: element.des || element.title
          };
          htmlTemplate = playlist_default.a;
        }

        var dataRender = Object(help["g" /* handleBarsCustom */])(htmlTemplate, object);
        this.defaultPostionVideo == index ? data += dataRender : dataArray.push(dataRender);
      }

      dataArray.forEach(function (element) {
        data += element;
      });
      return data;
    }
  }, {
    key: "listenerEventSlider",
    value: function listenerEventSlider() {
      var _this2 = this;

      if (this.eventSliderInit) {
        return;
      }

      this.vidKey = 0;

      if (this.isSlider) {
        var gliderContainer = this.vliWrapper.getElementsByClassName('glider-contain')[0];

        if (gliderContainer) {
          gliderContainer.style.visibility = 'visible';
          gliderContainer.style.opacity = '1';
        }

        window.viSplide = new Splide('#splide', {
          type: 'loop',
          perPage: 2,
          focus: 'center',
          drag: false,
          lazyLoad: true,
          rootElement: this.vliWrapper
        });

        if (window.viSplide) {
          window.viSplide.mount();
        }
      }

      var arrowSplide = this.vliWrapper.querySelectorAll(".vi_slider__button");

      if (arrowSplide) {
        var _loop = function _loop(index) {
          var element = arrowSplide[index];
          element.addEventListener("click", function () {
            if (element.classList.contains("vi__button_prev")) {
              this.vidKey--;

              if (this.vidKey < 0) {
                this.vidKey = this.config.videoData.length - 1;
              }
            }

            if (element.classList.contains("vi__button_next")) {
              this.vidKey++;

              if (this.vidKey > this.config.videoData.length - 1) {
                this.vidKey = 0;
              }
            }

            this.videoContent = this.config.videoData[this.vidKey];
            this.changeVideo(this.videoContent);
            this.play();
          }.bind(_this2));
        };

        for (var index = 0; index < arrowSplide.length; index++) {
          _loop(index);
        }
      }

      if (this.targetVideo) {
        this.targetVideo.addEventListener("ended", function () {
          this.vidKey++;

          if (this.vidKey > this.config.videoData.length - 1) {
            this.vidKey = 0;
          }

          if (this.isSlider) {
            window.viSplide.go(this.vidKey);
          }

          this.videoContent = this.config.videoData[this.vidKey];
          this.changeVideo(this.videoContent);
          this.play();
        }.bind(this));
      }

      this.eventSliderInit = true;
    }
  }, {
    key: "changeOneVideo",
    value: function changeOneVideo() {
      if (!this.reProcess || this.m3u8 || this.isVideoDiscovery) {
        this.videoContent = this.config.videoData[this.defaultPostionVideo];
        this.changeVideo(this.videoContent);
      }
    }
  }, {
    key: "addEventReadMore",
    value: function addEventReadMore() {
      this.vliWrapper.querySelector('#vi__btn_read').addEventListener('click', function () {
        var timeCurrentVid = this.targetVideo.currentTime;
        var timePer = Math.ceil(timeCurrentVid / this.timeToLoop);

        if (this.config.videoData.length < this.numberOfLinks) {
          this.numberOfLinks = this.config.videoData.length;
        }

        if (timePer > 0 && timePer <= this.numberOfLinks) {
          var urlPost = this.config.videoData[timePer - 1].link;
          window.open(urlPost, '_blank');
        }
      }.bind(this));
    }
  }, {
    key: "createPlayerWrapper",
    value: function createPlayerWrapper() {
      var vliName;

      if (this.isRoot) {
        vliName = "vli";
      }

      if (this.isIframe) {
        vliName = "iframe";
      }

      var vliElement = document.createElement(vliName);
      vliElement.classList.add('playerWrapper');

      if (this.isVideoDiscovery || this.isTopArticles) {
        vliElement.classList.add('videoDiscovery');
      }

      vliElement.style.cssText = 'position: absolute; top: 0; left: 0; height: 100%; width: 100%;';

      if (this.isOutstream) {
        vliElement.style.cssText += 'background: #fff;';
      }

      if (this.isSlider) {
        vliElement.style.cssText += 'background: #000;';
      }

      if (this.isIframe) {
        var setAttributes = function setAttributes(el, attrs) {
          for (var key in attrs) {
            el.setAttribute(key, attrs[key]);
          }
        };

        var attributes = {
          "frameborder": "0",
          "scrolling": "no",
          "marginheight": "0",
          "marginwidth": "0",
          "leftmargin": "0",
          "allowtransparency": "true",
          "src": "about:blank"
        };
        setAttributes(vliElement, attributes);
      }

      this.config.renderElement.appendChild(vliElement);
    }
  }, {
    key: "hidden",
    value: function hidden() {
      if (!this.config.renderElement) return;
      this.playerWrapper.style.display = "none";
      this.playerWrapper.style.opacity = 0;
      this.pause();
    }
  }, {
    key: "show",
    value: function show() {
      if (!this.config.renderElement) return;
      this.playerWrapper.style.display = "block";
      this.playerWrapper.style.opacity = 1;
    }
  }, {
    key: "remove",
    value: function remove() {
      if (this.noWrapper()) return;
      this.targetVideo.src = ""; // Create Element.remove() function if not exist

      if (!('remove' in Element.prototype)) {
        Element.prototype.remove = function () {
          if (this.parentNode) {
            this.parentNode.removeChild(this);
          }
        };
      }

      this.playerWrapper.remove();
    }
  }, {
    key: "changePosterVideoLoaded",
    value: function changePosterVideoLoaded() {
      if (this.posterVideo && this.videoContent) {
        var poster = this.videoContent.poster || this.videoContent.thumb;
        this.posterVideo.setAttribute("src", poster);
      }
    } //play video

  }, {
    key: "play",
    value: function play() {
      if (this.noWrapper() || !this.targetVideo) return;

      if (this.targetVideo.src != window.location.href) {
        if (this.appendSource === false) {
          if (!this.videoContent) {
            this.videoContent = this.config.videoData[this.vidKey];
          }

          if (!this.videoContent.video_url.m3u8) {
            var source = this.getSourceAddToVideo(this.videoContent);

            if (source) {
              this.targetVideo.appendChild(source);
              this.targetVideo.load();
              this.appendSource = true;
              this.changePosterVideoLoaded();
            }
          }
        }

        this.targetVideo.play()["catch"](function (error) {
          utlis_vilog(error);
        });

        if (this.isSlider || this.isOutstream) {
          this.showStatusPlayerSlider();
          this.addClassPlayer();
        }
      }
    } //pause video

  }, {
    key: "pause",
    value: function pause() {
      if (this.noWrapper() || !this.targetVideo) return;

      if (this.targetVideo.src != window.location.href) {
        if (!this.targetVideo.paused) {
          this.targetVideo.pause();

          if (this.isSlider || this.isOutstream) {
            this.showStatusPlayerSlider();
            this.addClassPlayer();
          }
        }
      }
    }
  }, {
    key: "addClassPlayer",
    value: function addClassPlayer() {
      if (!this.viPlayer || !this.clickBackgroundVideo) {
        return;
      }

      if (this.isSlider || this.isOutstream) {
        if (this.targetVideo.paused) {
          this.viPlayer.classList.add("vi__paused");
        } else {
          this.viPlayer.classList.remove("vi__paused");
        }
      }
    } //Check no Wrapper

  }, {
    key: "noWrapper",
    value: function noWrapper() {
      if (!this.vliWrapper) return true;
      return false;
    } //setVolume

  }, {
    key: "setVolume",
    value: function setVolume(vol) {
      if (vol == 0) {
        this.mute();
        return;
      }

      this.unmute();
    }
  }, {
    key: "getVolume",
    value: function getVolume() {
      return this.targetVideo.muted ? 0 : 1;
    } //mute video

  }, {
    key: "mute",
    value: function mute() {
      this.volumeVideo(true);
    } //enable sound video

  }, {
    key: "unmute",
    value: function unmute() {
      this.volumeVideo(false);
    }
  }, {
    key: "volumeVideo",
    value: function volumeVideo(isMute) {
      var toggleVol = this.vliWrapper.querySelector("#" + this.IDToggleVolume);
      if (this.noWrapper() || !this.targetVideo) return;
      ;

      if (toggleVol) {
        var optionToggle;
        isMute ? optionToggle = this.MUTE_VIDEO : optionToggle = this.UNMUTE_VIDEO;
        toggleVol.className = optionToggle["class"];
        toggleVol.title = optionToggle.title;
      }

      this.targetVideo.muted = isMute;
    } //Add event click volume buttons

  }, {
    key: "addEventVolume",
    value: function addEventVolume() {
      if (this.noWrapper()) return;
      var targetDocs = document;

      if (this.config.renderMode === this.RENDER_IFRAME) {
        targetDocs = this.vliWrapper;
      }

      var toggleVol = targetDocs.getElementById(this.IDToggleVolume);

      if (toggleVol) {
        toggleVol.addEventListener("click", function () {
          toggleVol.classList.contains(this.MUTE_VIDEO["class"]) ? this.unmute() : this.mute();
        }.bind(this));
      }
    }
  }, {
    key: "viPlayPauseAction",
    value: function viPlayPauseAction() {
      if (this.targetVideo.paused) {
        // play video and show pause button, text
        this.play();
        this.showPauseStatus();
        return;
      } // pause video and show play button, text


      this.pause();
      this.showPlayStatus();
      return;
    }
  }, {
    key: "showPlayStatus",
    value: function showPlayStatus() {
      if (!this.viPlayPause) return;
      this.viPlayPause.innerHTML = this.STATUS_PLAY.svg;
      this.viPlayPause.title = this.STATUS_PLAY.title;

      if (this.posterVideo) {
        this.posterVideo.style.visibility = "visible";
        this.posterVideo.style.opacity = "1";
      }
    }
  }, {
    key: "showPauseStatus",
    value: function showPauseStatus() {
      if (!this.viPlayPause) return;
      this.viPlayPause.innerHTML = this.STATUS_PAUSE.svg;
      this.viPlayPause.title = this.STATUS_PAUSE.title;

      if (this.posterVideo) {
        this.posterVideo.style.visibility = "hidden";
        this.posterVideo.style.opacity = "0";
      }
    } //video change when click prev, next, or click playlist

  }, {
    key: "videoChange",
    value: function videoChange(typeClick, inputElement) {
      var _this3 = this;

      var element = inputElement || this.config.renderElement;
      if (!element) return;
      if (element.firstChild.classList.contains("vi__featured")) return; // this.viPlayer.classList.add("vi__loading");

      var thisDiv = this.vliWrapper.querySelector(".vi__featured");
      thisDiv.classList.remove("vi__featured");
      var allNodes = Array.prototype.slice.call(this.viVideo.firstChild.children);
      var toDiv;
      var nowParent;

      switch (typeClick) {
        case 'next':
          nowParent = thisDiv.parentElement.nextElementSibling || thisDiv.parentElement.parentElement.firstChild;
          toDiv = nowParent.firstChild;
          break;

        case 'prev':
          nowParent = thisDiv.parentElement.previousElementSibling || thisDiv.parentElement.parentElement.lastChild;
          toDiv = nowParent.firstChild;
          break;

        case 'direct':
          nowParent = element;
          toDiv = element.firstChild;
          break;

        default:
          break;
      }

      var index = allNodes.indexOf(nowParent);
      this.NewSiema.siema_goto(index);
      this.viPlayPause.innerHTML = this.STATUS_PAUSE.svg;
      this.viPlayPause.title = this.STATUS_PAUSE.title;
      toDiv.classList.add("vi__featured");
      this.config.videoData.forEach(function (element) {
        if (element.id == toDiv.getAttribute("data-id")) {
          _this3.videoContent = element;

          _this3.changeVideo(element);
        }
      });
    }
  }, {
    key: "changeVideo",
    value: function changeVideo(element) {
      if (this.isVideoDiscovery) {
        this.targetVideo.style.backgroundImage = 'url("' + (element.poster || element.thumb) + '")';
      } else {
        this.targetVideo.poster = element.poster || element.thumb;
        this.targetVideo.style.backgroundImage = '';
      }

      this.targetVideo.innerHTML = "";

      if (element.video_url.m3u8) {
        var streamServer = ["s.vlicdn5.com", "s.vlicdn6.com"];
        var vidUrl = isURL(element.video_url.m3u8) ? element.video_url.m3u8 : '//' + streamServer[Math.floor(Math.random() * streamServer.length)] + element.video_url.m3u8;

        if (Hls.isSupported()) {
          this.hls = new Hls();
          this.hls.loadSource(vidUrl);
          this.hls.attachMedia(this.targetVideo);
          this.hls.on(Hls.Events.MANIFEST_PARSED, function () {
            if (this.backgroundPlayed) {
              this.targetVideo.play();
            }
          }.bind(this));
        } else if (this.targetVideo.canPlayType('application/vnd.apple.mpegurl')) {
          this.targetVideo.src = vidUrl;
          this.targetVideo.addEventListener('loadedmetadata', function () {
            if (this.backgroundPlayed) {
              this.targetVideo.play();
            }
          }.bind(this));
        }
      } else {
        if (this.hls) this.hls.detachMedia();

        if (this.backgroundPlayed) {
          var source = this.getSourceAddToVideo(element);
          this.targetVideo.appendChild(source);
          this.targetVideo.load();
          this.appendSource = true;
          this.play();
        }

        if (plugins_v2_constants.listAdPlaying.videoDiscovery) {
          this.targetVideo.pause();
        }
      }

      if (this.renderTitle) {
        this.viTitle.querySelector("a").href = element.link;
        this.viTitle.title = element.des || element.title;
        this.viTitle.querySelector("span").innerHTML = element.des || element.title;
      }

      if (this.posterVideo) {
        var poster = element.poster || element.thumb;
        this.posterVideo.setAttribute("src", poster);
      }
    }
  }, {
    key: "getSourceAddToVideo",
    value: function getSourceAddToVideo(element) {
      var source = document.createElement("source");
      var temp = {
        url: '',
        type: ''
      };

      if (element.video_url.mp4) {
        temp = {
          url: element.video_url.mp4,
          type: "video/mp4"
        };
      }

      if (element.video_url.ogg) {
        temp = {
          url: element.video_url.ogg,
          type: "video/ogg"
        };
      }

      source.src = temp.url;
      source.type = temp.type;
      return source;
    } //add event click to buttons

  }, {
    key: "addEventButton",
    value: function addEventButton() {
      if (this.noWrapper()) return;
      var viNext = this.vliWrapper.querySelector(".vi__button_next");
      this.processClick('next', viNext);
      var viPrev = this.vliWrapper.querySelector(".vi__button_prev");
      this.processClick('prev', viPrev);

      if (this.viPlayPause) {
        this.viPlayPause.addEventListener("click", function () {
          this.viPlayPauseAction();
        }.bind(this));
        this.viPlayPause.addEventListener("focus", function () {
          this.viPlayPauseAction();
        }.bind(this));
      }
    }
  }, {
    key: "addClickVideo",
    value: function addClickVideo() {
      if (this.viVideo) {
        var allVideo = this.viVideo.getElementsByClassName("vi__post");

        for (var k = 0; k < allVideo.length; k++) {
          var element = allVideo[k];
          this.processClick("direct", element.parentElement);
        }
      }
    }
  }, {
    key: "processClick",
    value: function processClick(typeClick, element) {
      if (element) {
        var thisClass = this;
        element.addEventListener("click", function () {
          thisClass.videoChange(typeClick, element);
        });
      }
    }
  }, {
    key: "timeProgress",
    value: function timeProgress() {
      var progress = this.vliWrapper.querySelector('.progress');
      var progressBar = this.vliWrapper.querySelector('.progress__filled');
      var currentTimeText = this.vliWrapper.querySelector('.vi__time.vi__current_time');
      var durationText = this.vliWrapper.querySelector('.vi__time.vi__duration');
      this.targetVideo.addEventListener('timeupdate', function () {
        handleRunningTime(this, progressBar, currentTimeText, durationText);
      });
      var video = this.targetVideo;
      progress.addEventListener('click', function (e) {
        scrub(e, video, progress);
      });

      function handleRunningTime(video, progressBar, currentTimeText, durationText) {
        var duration = video.duration;

        if (isNaN(duration)) {
          duration = 0;
        }

        var current_time = video.currentTime;

        if (isNaN(current_time)) {
          current_time = 0;
        }

        var percent = current_time / duration * 100;
        progressBar.style.flexBasis = percent + '%';
        var cur_s = parseInt(current_time % 60);
        var cur_m = parseInt(current_time / 60 % 60);
        currentTimeText.innerHTML = (cur_m < 10 ? '0' : '') + cur_m + ':' + (cur_s < 10 ? '0' : '') + cur_s;
        var dur_s = parseInt(duration % 60);
        var dur_m = parseInt(duration / 60 % 60);
        durationText.innerHTML = (dur_m < 10 ? '0' : '') + dur_m + ':' + (dur_s < 10 ? '0' : '') + dur_s;
      }

      function scrub(e, video, progress) {
        var scrubTime = e.offsetX / progress.offsetWidth * video.duration;
        video.currentTime = scrubTime;
      }
    } //eventVideo canplay, waiting

  }, {
    key: "eventVideo",
    value: function eventVideo() {
      this.targetVideo.addEventListener("canplay", function () {
        this.viPlayer.classList.remove("vi__loading");
      }.bind(this));
      this.targetVideo.addEventListener("waiting", function () {
        this.viPlayer.classList.add("vi__loading");
      }.bind(this));
    }
  }, {
    key: "playlistButtons",
    value: function playlistButtons() {
      var prevBtt = this.vliWrapper.querySelector('.siema_prev');
      prevBtt.addEventListener("click", function () {
        this.SiemaBtt.prev(this.perPage);
      }.bind(this));
      var nextBtt = this.vliWrapper.querySelector('.siema_next');
      nextBtt.addEventListener("click", function () {
        this.SiemaBtt.next(this.perPage);
      }.bind(this));
    }
  }, {
    key: "calcSlider",
    value: function calcSlider(_adWidth) {
      var itemPerPage = 5;

      if (_adWidth <= 600) {
        itemPerPage = 4;
      }

      if (_adWidth <= 400) {
        itemPerPage = 3;
      }

      if (_adWidth <= 300) {
        itemPerPage = 3;
      }

      if (_adWidth <= 200) {
        itemPerPage = 2;
      }

      var itemWidth = parseInt(_adWidth / itemPerPage) - 4;
      var viContentHeight = parseInt(itemWidth * 9 / 16);
      return {
        viContentHeight: viContentHeight,
        itemPerPage: itemPerPage
      };
    }
  }, {
    key: "reSiema",
    value: function reSiema(perPage) {
      this.NewSiema.siema_change_option('perPage', perPage);
      this.SiemaBtt = this.NewSiema.siema_reinit();
      this.addClickVideo();
      this.NewSiema.siema_swipe_to_active_slide();
    }
  }]);

  return WidgetContent;
}();

/* harmony default export */ var widgetContent = (widgetContent_WidgetContent);
// CONCATENATED MODULE: ./src/plugins_v2/outstream.js








var outstream_Slider = /*#__PURE__*/function () {
  function Slider() {
    classCallCheck_default()(this, Slider);

    this.opts = this.getAdConfig();
    this.adSlot = null;
    this.adUnitOutstream = null;
    this.adUnitInstream = null;
    this.slotID = null;
    this.outstreamID = null;
    this.smartID = null;
    this.dataWidget = null;
    this.adWidth = null;
    this.adHeight = null;
    this.mWidth = null;
    this.mHeight = null;
    this.adWrapper = null;
    this.adsManager = null;
    this.skipBtn = null;
    this.adDiv = null;
    this.timeNobid = 1; // thời gian bid nếu trước đó không có quảng cáo

    this.refreshAdsTime = 30; // thời gian bid nếu trước đó có quảng cáo

    this.numBidRequest = 0;
    this.maxBidRequest = 5;
    this.adProcessing = false;
    this.adRefreshing = false;
    this.userInPage = false;
    this.adHtm = null;
    this.inViewAd = false;

    this.viAcAd = function () {};

    this.adIsActive = false;
    this.fixedOutView = true;
    this.detectVer = false;
    this.adInContent = false;
    this.bannerSlot = false;
    this.showBanner = true;
    this.newTemplate = true;
    this.outView = false;
    this.instreamEnded = false;
    this.mainAdWidth = 445;
    this.videoWrapper = null;
    this.runningVideoFixed = false;
    this.stopAds = false;
    this.Widgets = null;
    this.playBackgroundVideo = false;
    this.distanceFinal = null;
    this.adElementContent = false;
    this.adVidEl = null;
    this.viPlayer = null;
    this.fullScreen = false;
    this.adPlayed = false;
  }

  createClass_default()(Slider, [{
    key: "eventListener",
    value: function eventListener() {
      _addEventListener("USER_ACTIVE_ON_PAGE", this.onResumeAds.bind(this));

      _addEventListener("USER_FOCUS_PAGE", this.onResumeAds.bind(this));

      _addEventListener("USER_OUT_PAGE", this.onPauseAds.bind(this));

      _addEventListener("VIDEO_SLIDER_CLEAN_ADS", this.onCleanAds.bind(this));
    }
  }, {
    key: "getAdConfig",
    value: function getAdConfig() {
      var defaultDisplayFrequency = {
        limit: null,
        every: null,
        unit: null
      };
      var defaultOpts = {
        skipDelay: 5
      };
      var defaultConfig = {
        outstreamSlot: null,
        outstreamID: null,
        type: "slider",
        instantLoad: true,
        position: "right",
        enablePC: true,
        enableMobile: true,
        disableOutstream: false,
        disableVideoBackground: false,
        scrollPercent: null,
        volumnControl: true,
        controlVideo: true,
        displayFrequency: defaultDisplayFrequency,
        distanceBottom: 0,
        slotFixed: false,
        sizeStickyVideo: mobileDetect() ? 256 : 410,
        disableAdToHead: false,
        // tự động gắn div lên đầu trang với site chạy google hoặc spotx
        bannerAttach: true,
        removeElementAds: false,
        fixedSlider: true,
        randomVideo: false,
        isNewVersion: false,
        // Site use spotX or Google -> isNewVersion = true and run new version
        language: {
          hideAds: "Hide Ads"
        },
        passbackFunction: null,
        renderMode: "root",
        complete: function complete() {},
        error: function error() {},
        hidden: function hidden() {}
      };
      cloneDefaultConfig({
        videoSliderConfig: defaultConfig
      });

      if (window[plugins_v2_constants.tagName] && window[plugins_v2_constants.tagName].sizeStickyVideo) {
        defaultConfig.sizeStickyVideo = handlerSizeStickyVideo(window[plugins_v2_constants.tagName].sizeStickyVideo);
      }

      if (isObjectEmpty(window[plugins_v2_constants.tagName].outStreamConfig) && isObjectEmpty(window[plugins_v2_constants.tagName].videoSliderConfig)) {
        defaultConfig = Object.assign(defaultConfig, defaultOpts, window[plugins_v2_constants.tagName].smartVideoConfig);
        return defaultConfig;
      }

      var config = !isObjectEmpty(window[plugins_v2_constants.tagName].videoSliderConfig) ? window[plugins_v2_constants.tagName].videoSliderConfig : window[plugins_v2_constants.tagName].outStreamConfig;
      var language = {};

      if (config.language) {
        language = config.language;
      }

      var mPosition = ["left", "right", "middle"];

      if (!mPosition.includes(config.position)) {
        config.position = "right";
      }

      for (var key in defaultConfig) {
        if (key === "language") {
          for (var k in defaultConfig[key]) {
            if (typeof language[k] === "undefined") language[k] = defaultConfig[key][k];
          }

          config[key] = language;
        } else if (typeof config[key] === "undefined") {
          config[key] = defaultConfig[key];
        }
      } // Config SmartVideo


      var smartConfig = Object.assign({}, defaultOpts, window[plugins_v2_constants.tagName].smartVideoConfig);

      for (var key in smartConfig) {
        if (typeof config[key] === "undefined") {
          config[key] = smartConfig[key];
        }
      }

      if (config.skipDelay !== parseInt(config.skipDelay, 10) || config.skipDelay < 6 || config.skipDelay > 10) {
        config.skipDelay = defaultOpts.skipDelay;
      } //validate displayFrequency


      if (config.displayFrequency.limit !== null && (!Number.isInteger(config.displayFrequency.limit) || config.displayFrequency.limit <= 0)) {
        utlis_vilog("[New Slider] Display Frequency Limit Error. Display unlimited");
        config.displayFrequency = defaultDisplayFrequency;
      } else if (config.displayFrequency.every !== null && (!Number.isInteger(config.displayFrequency.every) || config.displayFrequency.every <= 0)) {
        utlis_vilog("[New Slider] Display Frequency Time period Error. Display unlimited");
        config.displayFrequency = defaultDisplayFrequency;
      } else if (config.displayFrequency.unit !== null && (!config.displayFrequency.unit || ["second", "minute", "hour", "day"].indexOf(config.displayFrequency.unit) === -1)) {
        utlis_vilog("[New Slider] Display Frequency Unit Error. Display unlimited");
        config.displayFrequency = defaultDisplayFrequency;
      }

      return config;
    }
  }, {
    key: "isReadyToGetAds",
    value: function isReadyToGetAds() {
      if (!plugins_v2_constants.userTracking.userActive || !plugins_v2_constants.userTracking.focusPage || this.adProcessing === true || this.adRefreshing === true) {
        return false;
      }

      return true;
    }
  }, {
    key: "init",
    value: function init() {
      elementReady("body", function () {
        if (isInIframe()) {
          utlis_vilog("[Video Slider] No init in Iframe");
          return;
        }

        if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
          utlis_vilog("[Video Slider] Inventory Block");
          return;
        }

        if (this.opts.enablePC === false && !mobileDetect()) {
          utlis_vilog("[New Slider] Outstream Slider not enable on PC");
          return;
        }

        if (this.opts.disableAdToHead === true && this.opts.fixedSlider === false) {
          utlis_vilog("[New Slider] Outstream Slider Conflict Config");
          return;
        }

        if (this.opts.enableMobile === false && mobileDetect()) {
          utlis_vilog("[New Slider] Slider not enable on Mobile");
          return;
        }

        if (this.adProcessing === true) {
          utlis_vilog("[New Slider] Slider is Processing");
          return;
        }

        if (this.opts.disableOutstream === true && this.opts.disableVideoBackground === true && plugins_v2_constants.dfpApproved === "on") {
          utlis_vilog("[New Slider] Slider not Allowed");
          window[plugins_v2_constants.tagName].videoDiscoverConfig.instantLoad = false;
          return;
        }

        if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
          this.adProcess();
        } else {
          document.addEventListener('DOMContentLoaded', this.adProcess());
        }
      }.bind(this));
    }
  }, {
    key: "adProcess",
    value: function adProcess() {
      var classBaseAd = document.getElementsByClassName(plugins_v2_constants.adClass);
      var isDevice = "pc";

      if (mobileDetect()) {
        isDevice = "mobile";
      }

      for (var i = 0; i < classBaseAd.length; i++) {
        var elem = classBaseAd[i];

        if (elem && elem.getAttribute("data-ad-slot") === "outstream") {
          var attrDevice = elem.getAttribute("data-device") ? elem.getAttribute("data-device") : mobileDetect() ? "mobile" : "pc";

          if (attrDevice === isDevice) {
            this.opts.slotFixed = true;
            this.adInContent = true;
            this.adElementContent = true;
            this.adHtm = elem;
            this.adHtm.setAttribute("data-device", isDevice);
            break;
          }
        }
      }

      if (!this.detectVer && !this.opts.disableAdToHead && this.adHtm === null) {
        this.opts.isNewVersion = this.validateBidderOutstream();
        utlis_vilog("[New Slider] isNewVersion__ " + this.opts.isNewVersion);

        if (this.opts.isNewVersion) {
          this.fixedOutView = true;
        }

        this.detectVer = true;
      }

      if (this.opts.isNewVersion && this.adHtm === null) {
        var div = document.createElement("div");
        div.className = plugins_v2_constants.adClass;
        div.setAttribute("data-ad-slot", "outstream");
        div.setAttribute("data-ad-type", "adhead");

        if (document.body) {
          document.body.insertBefore(div, document.body.firstChild);
        }

        this.adHtm = div;
        this.opts.slotFixed = true;
        this.adElementContent = true;
      }

      if (auditFormatVideoDiscovery() && this.opts.slotFixed === false && plugins_v2_constants.dfpApproved === "on") {
        utlis_vilog("[New Slider] Slider not found content and isset Discovery");
        return;
      }

      if (plugins_v2_constants.dfpApproved === "off") {
        this.maxBidRequest = 10;
      }

      this.eventListener();
      this.getSlotOutstream();

      if (!this.adSlot) {
        return;
      }

      this.getDataWidget();
      this.createWrapper();
      addVsbInterval(function () {
        if (!plugins_v2_constants.instreamTag) {
          this.instreamEnded = true;
          this.getAds();
        }
      }.bind(this), 1000);
    }
  }, {
    key: "changeBottomStickyAds",
    value: function changeBottomStickyAds() {
      if (this.opts.slotFixed) {
        this.adDiv.firstChild.style.bottom = this.distanceFinal + "px";
      } else {
        this.adDiv.style.bottom = this.distanceFinal + "px";
      }
    }
  }, {
    key: "increaseBottomStickyAds",
    value: function increaseBottomStickyAds() {
      if (!this.adDiv) {
        return;
      }

      this.distanceFinal = mobileDetect() ? 110 : 105;

      if (this.adElementContent) {
        if (this.outView && this.videoWrapper.classList.contains("video-running-outview") === true) {
          this.changeBottomStickyAds();
        }
      } else {
        this.changeBottomStickyAds();
      }
    }
  }, {
    key: "reductionBottomStickyAds",
    value: function reductionBottomStickyAds() {
      if (!this.adDiv) {
        return;
      }

      this.distanceFinal = mobileDetect() ? this.opts.distanceBottom + 40 : 20;

      if (this.adElementContent) {
        if (this.outView && this.videoWrapper.classList.contains("video-running-outview") === true) {
          this.changeBottomStickyAds();
        }
      } else {
        this.changeBottomStickyAds();
      }
    }
  }, {
    key: "validateBidderOutstream",
    value: function validateBidderOutstream() {
      if (plugins_v2_constants.dfpApproved && plugins_v2_constants.dfpApproved === "on") {
        return true;
      }

      return false;
    }
  }, {
    key: "getDataWidget",
    value: function getDataWidget() {
      if (!this.opts.slotFixed) {
        if (!plugins_v2_constants.defaultWidget && (!this.adSlot.vid.contents || this.adSlot.vid.contents.length < 0)) return;

        if (plugins_v2_constants.defaultWidget) {
          this.dataWidget = plugins_v2_constants.defaultWidget;
        }

        if (plugins_v2_constants.instreamSlot) {
          var matchVideoDiscovery = null;

          for (var k in plugins_v2_constants.instreamSlot) {
            if (plugins_v2_constants.instreamSlot[k].type === "inbanner") {
              matchVideoDiscovery = plugins_v2_constants.instreamSlot[k];
              break;
            }
          }

          if (matchVideoDiscovery) {
            if (matchVideoDiscovery.vid != null && matchVideoDiscovery.vid.contents && matchVideoDiscovery.vid.contents.length > 0) {
              this.dataWidget = matchVideoDiscovery.vid.contents;
            }
          }
        }
      } else {
        if (!plugins_v2_constants.defaultWidget && (!this.adSlot.vid.contents || this.adSlot.vid.contents.length < 0)) return;
        this.dataWidget = plugins_v2_constants.defaultWidget;

        if (plugins_v2_constants.instreamSlot) {
          var matchVideoDiscovery = null;

          for (var k in plugins_v2_constants.instreamSlot) {
            if (plugins_v2_constants.instreamSlot[k].type === "inbanner") {
              matchVideoDiscovery = plugins_v2_constants.instreamSlot[k];
              break;
            }
          }

          if (matchVideoDiscovery) {
            if (matchVideoDiscovery.vid != null && matchVideoDiscovery.vid.contents && matchVideoDiscovery.vid.contents.length > 0) {
              this.dataWidget = matchVideoDiscovery.vid.contents;
            }
          }
        }
      }
    }
  }, {
    key: "createWrapper",
    value: function createWrapper() {
      if (this.opts.distanceBottom < 0 || this.opts.distanceBottom >= 500) {
        this.opts.distanceBottom = 0;
      }

      this.distanceFinal = mobileDetect() ? this.opts.distanceBottom + 40 : 20;
      var adWrapper = document.createElement("div");
      adWrapper.className = "adWrapper";

      if (!this.opts.slotFixed) {
        this.adWidth = this.opts.sizeStickyVideo;
        this.adHeight = this.opts.sizeStickyVideo * 9 / 16;
        var adDiv = document.createElement("vli");
        adDiv.className = plugins_v2_constants.adClass + " videoslider";
        adDiv.id = this.slotID;
        document.body.appendChild(adDiv);
      } else {
        if (!this.adHtm) {
          return;
        }

        this.adWidth = this.adHtm.parentNode.offsetWidth;

        if (this.adWidth > 970) {
          this.adWidth = 970;
        }

        if (this.adWidth < 950) {
          if (this.adWidth >= 650) {
            this.adWidth = 650;
          }

          this.showBanner = false;
        }

        if (this.showBanner && this.opts.bannerAttach === false) {
          this.showBanner = false;
          this.adWidth = 650;
        }

        if (this.adWidth < 640) {
          this.newTemplate = false;

          if (this.adWidth < 300) {
            this.adWidth = 300;
          }
        }

        this.adHeight = Math.round(this.adWidth / 16 * 9);

        if (this.newTemplate) {
          this.adHeight = 250;
        }

        this.mWidth = this.newTemplate ? this.adWidth - (this.showBanner ? 310 : 0) : this.adWidth;
        this.mHeight = this.newTemplate ? 250 : this.adHeight;
        this.adHtm.innerHTML = "";
        this.adHtm.className = plugins_v2_constants.adClass + " videoslider";
        this.adHtm.id = this.slotID;
      }

      var cssTextSM = "width: " + this.adWidth + "px; height:" + this.adHeight + "px; position: " + (this.opts.slotFixed ? "relative" : "fixed") + "; background-color: unset; " + (this.opts.slotFixed ? "transition: height 0.5s ease-in-out 0s; margin: 0 auto 15px;" : " transition: " + this.opts.position + " 1s ease 0s") + "; z-index: " + (this.opts.slotFixed ? 1 : 2147483647) + ";padding:initial !important;";

      if (!this.opts.slotFixed) {
        if (this.opts.position === "middle") {
          cssTextSM += "left:50%; bottom: -" + (this.adHeight + 50) + "px;transition: bottom .8s;-webkit-transition: bottom .8s; -moz-transition: bottom .8s;transform: translate(-50%);";
        } else {
          cssTextSM += "" + this.opts.position + ":-" + (this.adWidth + 50) + "px;bottom: " + this.distanceFinal + "px;";
        }
      }

      if (this.opts.slotFixed) {
        cssTextSM += "font-size: 14px !important;";
      }

      if (this.opts.isNewVersion) {
        cssTextSM += "margin-top: 15px;";
      }

      if (this.opts.slotFixed) {
        this.adHtm.style.cssText = cssTextSM;
      } else {
        adDiv.style.cssText = cssTextSM;
      }

      this.videoWrapper = document.createElement("div");
      this.videoWrapper.className = "videoWrapper";
      this.videoWrapper.style.cssText = "position:absolute;top:0;left:0;height:" + (this.opts.slotFixed ? this.mHeight + "px" : "100%") + ";width:" + (this.opts.slotFixed ? this.mWidth + "px" : "100%") + "; " + (this.opts.slotFixed ? "background: #000" : "background: #fff") + "; padding:initial !important; margin:initial !important";
      var customConfig = {
        renderMode: "root",
        videoData: JSON.parse(JSON.stringify(this.dataWidget)),
        oldControls: this.opts.volumnControl && this.opts.controlVideo === false ? true : false,
        random: this.opts.randomVideo,
        defaultMuteVolume: plugins_v2_constants.sliderVolume ? false : true
      };

      if (!this.opts.slotFixed) {
        customConfig.renderElement = adDiv;
        customConfig.format = 'outstream';
        customConfig.oldControls = true;
        customConfig.random = this.opts.randomVideo;
        customConfig.disableCache = this.opts.disableCache;
        this.Widgets = new widgetContent(customConfig);
        this.Widgets.render();
        adDiv.appendChild(adWrapper);
      }

      if (this.opts.slotFixed) {
        var viWrapper = document.createElement("vli");
        viWrapper.style.cssText = "background:unset!important;position: relative;display:block;width:" + this.mWidth + "px;height:" + this.mHeight + "px; float:left;";
        viWrapper.appendChild(this.videoWrapper);

        if (this.newTemplate) {
          var viadWrapper = document.createElement("vli");
          viadWrapper.className = "adWrapperBox";
          viadWrapper.style.cssText = "background:unset!important;position: relative;display:none;width:" + this.mainAdWidth + "px; height:250px; margin: 0px auto;";
          viadWrapper.appendChild(adWrapper);
          viWrapper.appendChild(viadWrapper);
        } else {
          viWrapper.appendChild(adWrapper);
        }

        customConfig.renderElement = this.videoWrapper;

        if (this.newTemplate) {
          // create slot Banner
          if (this.showBanner) {
            var bnWrapper = document.createElement("vli");
            bnWrapper.style.cssText = "background:unset!important;position: relative;display:block;width:300px;height:250px; float: right;padding:initial !important;";
            var matched = false;

            for (var key in plugins_v2_constants.displaySlot) {
              if (plugins_v2_constants.displaySlot[key].w === 300 && plugins_v2_constants.displaySlot[key].h === 250) {
                this.bannerSlot = this.slotID;
                plugins_v2_constants.displaySlot[this.bannerSlot] = JSON.parse(JSON.stringify(plugins_v2_constants.displaySlot[key]));
                plugins_v2_constants.displaySlot[this.bannerSlot].display_type = "";
                plugins_v2_constants.displaySlot[this.bannerSlot].zid = this.adSlot.zid;

                if (plugins_v2_constants.displaySlot[this.bannerSlot].adunit) {
                  plugins_v2_constants.displaySlot[this.bannerSlot].adunit.mediaTypes.banner.sizes = [[300, 250]];
                }

                utlis_vilog(plugins_v2_constants.displaySlot[this.bannerSlot]);
                matched = true;
                break;
              }
            }

            if (matched) {
              bnWrapper.innerHTML = "<div class=\"" + plugins_v2_constants.adClass + "\" data-ad-slot=\"" + this.bannerSlot + "\"></div>";
            }
          }

          this.adHtm.appendChild(viWrapper);
          customConfig.format = 'slider';
          customConfig.showIcon = plugins_v2_constants.enableIcon === 'on' ? true : false;
          customConfig.oldControls = false;
          this.Widgets = new widgetContent(customConfig);
          this.Widgets.render();

          if (this.showBanner) {
            this.adHtm.appendChild(bnWrapper);
            window[tagApi].display(this.bannerSlot);
          }
        } else {
          viWrapper.appendChild(adWrapper);
          this.adHtm.appendChild(viWrapper);
          customConfig.format = 'outstream';
          customConfig.oldControls = true;
          customConfig.random = this.opts.randomVideo;
          customConfig.disableCache = this.opts.disableCache;
          this.Widgets = new widgetContent(customConfig);
          this.Widgets.render();
          this.Widgets.play();
        }
      }

      this.callbackInitElement(adDiv);
      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(this.slotID, true);
    }
  }, {
    key: "callbackInitElement",
    value: function callbackInitElement(adDiv) {
      this.adVidEl = this.Widgets.getAdIframeWrapper();

      if (this.adVidEl === null) {
        var intervals = setInterval(function () {
          this.callbackInitElement(adDiv);
          clearInterval(intervals);
          return;
        }.bind(this), 1000);
        return;
      }

      this.adDiv = this.opts.slotFixed ? this.adHtm : adDiv;
      this.adWrapper = this.adDiv.querySelector('.adWrapper');
      this.viPlayer = this.adDiv.querySelector(".vi__player");
      this.viPlayer.querySelector('#hide_fullscreen_slider').addEventListener("click", this.toggleFullscreen.bind(this), false);
      this.adDiv.querySelector('.fullscreen').addEventListener("click", this.toggleFullscreen.bind(this));
      this.showSkip();

      if (this.opts.slotFixed) {
        isInViewPort(this.adDiv, this.inViewPort.bind(this), this.outViewPort.bind(this), {
          threshold: [40]
        });
      }
    }
  }, {
    key: "getAds",
    value: function getAds() {
      this.adPlayed = false;
      this.adRefreshing = false;

      if (!this.adSlot) {
        utlis_vilog("[New Slider] Slider not Slot");
        return;
      }

      if (this.Widgets) {
        plugins_v2_constants.sliderVolume = this.Widgets.getVolume();
      }

      if (this.stopAds) {
        utlis_vilog("[New Slider] Ads Stoped");
        return;
      }

      if (this.isFrequencyLimit()) {
        utlis_vilog("[New Slider] Display limit. Try request bid again after " + this.refreshAdsTime + "seconds");
        this.refreshBid(this.refreshAdsTime);
        return;
      }

      if (!this.isReadyToGetAds()) {
        utlis_vilog("[New Slider] Slider not ready");
        return;
      }

      this.adUnitCodes = [];
      this.adUnitInstream = null;
      this.adUnitOutstream = null;
      this.floorPrice = this.adSlot.floorPrice ? this.adSlot.floorPrice : 0;

      if (!this.opts.disableOutstream) {
        this.adUnitOutstream = JSON.parse(JSON.stringify(this.adSlot.adunit));

        if (!this.adUnitOutstream.bids) {
          return;
        }

        ;

        if (!this.adUnitOutstream.mediaTypes || this.adUnitOutstream.mediaTypes == null) {
          this.adUnitOutstream.mediaTypes = mediaTypesAdFormatVideo('outstream');
        }

        this.adUnitOutstream.bids = utlis_buildBids(this.adUnitOutstream.bids, this.floorPrice, "outstream"); //add renderer

        this.adUnitOutstream.renderer = this.adUnitOutstream.renderer || {
          url: '',
          render: function render() {}
        };
        vlipb.removeAdUnit(this.adUnitOutstream.code);
        vlipb.addAdUnits(this.adUnitOutstream);
        this.outstreamID = this.adUnitOutstream.code;

        if (this.adUnitOutstream.bids.length > 0 && !plugins_v2_constants.auctionLogs[this.outstreamID]) {
          plugins_v2_constants.auctionLogs[this.outstreamID] = {
            bidder: putOutBidders(this.adUnitOutstream.bids),
            preAuction: ''
          };
        }

        this.adUnitCodes.push(this.adUnitOutstream.code);
      }

      if (!this.opts.disableVideoBackground) {
        this.adUnitInstream = JSON.parse(JSON.stringify(this.adSlot.adunitExt));

        if (!this.adUnitInstream.mediaTypes || this.adUnitInstream.mediaTypes == null) {
          this.adUnitInstream.mediaTypes = mediaTypesAdFormatVideo('outstreamExt');
        }

        this.adUnitInstream.bids = utlis_buildBids(this.adUnitInstream.bids, this.floorPrice, "smartvideo");
        vlipb.removeAdUnit(this.adUnitInstream.code);
        vlipb.addAdUnits(this.adUnitInstream);
        this.smartID = this.adUnitInstream.code;

        if (this.adUnitInstream.bids.length > 0 && !plugins_v2_constants.auctionLogs[this.smartID]) {
          plugins_v2_constants.auctionLogs[this.smartID] = {
            bidder: putOutBidders(this.adUnitInstream.bids),
            preAuction: ""
          };
        }

        this.adUnitCodes.push(this.adUnitInstream.code);
      }

      utlis_requestBids(this.adUnitCodes, [], this.bidBackHandler.bind(this));
      this.numBidRequest++;
    }
  }, {
    key: "conditionRequestDfp",
    value: function conditionRequestDfp() {
      var condition = false;

      if (this.opts.disableAdToHead === true) {
        if (this.adInContent === true) {
          condition = true;
        }
      } else {
        condition = true;
      }

      return condition;
    }
  }, {
    key: "bidBackHandler",
    value: function bidBackHandler(adUnitCodes) {
      var responses = [];
      adUnitCodes.forEach(function (currentDivId) {
        var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

        utlis_vilog("[New Slider] Response for: " + currentDivId);
        utlis_vilog(_rsp);
        responses = responses.concat(_rsp);
      });
      var responseSorted = sortResponseBids(responses);
      utlis_vilog("[New Slider] All Sorted Responses");
      utlis_vilog(responseSorted);
      responseSorted = responseSorted.filter(function (bid) {
        try {
          if (bid && bid.adUnitCode && bid.adUnitCode.split('_')[2] && bid.adUnitCode.split('_')[2].toUpperCase() === "EXT") {
            bid.vliAdType = "smartvideo";
          } else {
            bid.vliAdType = "outstream";
          }
        } catch (error) {
          utlis_vilog(error);
        }

        if (bid.cpm < this.floorPrice) {
          if (!bid.amznbid) {
            vlipb.markWinningBidAsUsed({
              adId: bid.adId
            });
          }

          return false;
        }

        return true;
      }.bind(this));
      utlis_vilog("[New Slider] All Sorted Responses Filters");
      utlis_vilog(responseSorted);
      var bidChoose = null;

      if (responseSorted.length > 0) {
        bidChoose = responseSorted[0];
      }

      if (bidChoose && bidChoose.vliAdType === "outstream" && this.opts.disableVideoBackground === false && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery) === false) {
        // init newbidder ty instream request to DFP
        var newBidder = JSON.parse(JSON.stringify(bidChoose));

        try {
          newBidder.cpm += 0.000001;
          newBidder.bidder = "newbidder";
          newBidder.bidderCode = "newbidder";
          newBidder.vastXml = null;
          newBidder.vastUrl = null;

          if (newBidder.vliAdType == "outstream") {
            newBidder.vliAdType = "smartvideo";
          }
        } catch (error) {
          utlis_vilog("[New Slider] error in trycatch init newbidder");
          utlis_vilog(error);
        }

        responseSorted.unshift(newBidder);
      }

      utlis_vilog("[New Slider] Constants.numberRequestVideoToDfp ======= " + plugins_v2_constants.numberRequestVideoToDfp);
      var bidSelected = null;

      if (responseSorted.length > 0) {
        bidSelected = responseSorted[0];
      }

      if ((!bidSelected || bidSelected.vliAdType === "smartvideo") && plugins_v2_constants.videoRequestMode === "dfp" && this.conditionRequestDfp() && plugins_v2_constants.numberRequestVideoToDfp < 2 && this.opts.disableVideoBackground === false && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery) === false) {
        plugins_v2_constants.numberRequestVideoToDfp += 1;
        var pixelToken = "";
        var adUnitWin = this.adUnitInstream;

        if (bidSelected) {
          var pixel = {
            type: "hb_video",
            divID: this.slotID,
            zoneID: this.adSlot.zid,
            bidder: bidSelected.bidderCode,
            cpm: bidSelected.cpm
          };
          pixelToken = getPixelToken(pixel);

          if (this.adUnitInstream && this.adUnitInstream.code == bidSelected.adUnitCode) {
            adUnitWin = this.adUnitInstream;
          }

          if (this.adUnitOutstream && this.adUnitOutstream.code == bidSelected.adUnitCode) {
            adUnitWin = this.adUnitOutstream;
          }
        }

        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "discovery",
          impression_url: plugins_v2_constants.statsDomain,
          token: pixelToken,
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.adSlot.zid : "videodiscovery_" + this.adSlot.zid;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery)
          },
          adUnit: adUnitWin,
          bidWon: bidSelected,
          customParams: cust_params
        });
        utlis_vilog("[New Slider] New Vast Url: " + vastUrl);
        if (bidSelected) vlipb.markWinningBidAsUsed({
          adId: bidSelected.adId
        });
        var callbacks = {
          start: function () {
            var dataBid = {
              adId: bidSelected ? bidSelected.adId : "unknown from Adx",
              bidder: bidSelected ? bidSelected.bidder : "Adx",
              creativeId: bidSelected ? bidSelected.creativeId : "unknown from Adx"
            };
            pushInfoDebugOverlay(this.slotID, dataBid);
            this.viReportObserver("", "Smartvideo");
          }.bind(this),
          error: function (errorCode) {
            this.startRender(responseSorted);
          }.bind(this),
          impression: function () {
            utlis_vilog("[New Slider] numberRequestVideoToDfp " + plugins_v2_constants.numberRequestVideoToDfp);
            plugins_v2_constants.numberRequestVideoToDfp = 0;
          }.bind(this)
        };
        this.playVast({
          vastUrl: vastUrl,
          vastXml: null
        }, callbacks);
      } else {
        this.startRender(responseSorted);
      }
    }
  }, {
    key: "playVast",
    value: function playVast(data, callbacks) {
      if (!this.inViewAd && !this.opts.fixedSlider && this.opts.slotFixed) {
        utlis_vilog("[New Slider] Wait ad in viewport to play");

        this.viAcAd = function () {
          if (this.inViewAd) {
            if (this.adIsActive) {
              return;
            }

            this.adIsActive = true;
            this.playVast(data, callbacks);
          }
        }.bind(this);

        return;
      }

      utlis_vilog("[New Slider] Play vast data:");
      utlis_vilog(data);
      var viPlayer = new vlPlayer({
        baseDomain: plugins_v2_constants.rootDomain,
        brandLogo: plugins_v2_constants.brandLogo
      });
      this.adsManager = viPlayer.play({
        type: "instreamBanner",
        vastUrl: data.vastUrl ? data.vastUrl : null,
        vastXml: data.vastXml ? data.vastXml : null,
        adElement: this.adWrapper,
        volume: mobileDetect() && getMobileOperatingSystem() === "iOS" ? 0 : plugins_v2_constants.sliderVolume,
        volumeControl: mobileDetect() || this.opts.volumnControl === true ? true : false,
        start: function () {
          this.showAd();

          if (this.Widgets) {
            this.Widgets.backgroundVideoPlayed();
            this.Widgets.pause();
          }

          if (this.opts.slotFixed) {
            isInViewPort(this.adDiv, this.inViewPort.bind(this), this.outViewPort.bind(this), {
              threshold: [40]
            });
          }

          this.visibilityCloseBtn();
          this.playBackgroundVideo = true;
          this.adProcessing = true;
          this.runningVideoFixed = true;
          utlis_vilog("[New Slider] Vast Event Start");
          callbacks.start && callbacks.start();
          plugins_v2_constants.isVideoRunning = true;
          plugins_v2_constants.listAdPlaying.outstream = true;

          if (this.opts.slotFixed) {
            var arrowSplide = this.Widgets.bodyDiv.querySelector('.splide__arrows');

            if (arrowSplide) {
              arrowSplide.style.display = "none";
            }

            var splideDiv = this.Widgets.bodyDiv.querySelector('#splide');

            if (splideDiv) {
              splideDiv.style.opacity = "0.6";
            }
          }
        }.bind(this),
        complete: function () {
          utlis_vilog("[New Slider] Vast Event Complete");
          callbacks.complete && callbacks.complete();

          if (this.opts.complete) {
            this.opts.complete({
              id: this.slotID
            });
          }
        }.bind(this),
        error: function (errorEvent) {
          utlis_vilog("[New Slider] Vast Event Error");
          utlis_vilog(errorEvent);
          callbacks.error && callbacks.error(errorEvent.getErrorCode());

          if (this.opts.error) {
            this.opts.error({
              id: this.slotID
            });
          }
        }.bind(this),
        impression: function () {
          utlis_vilog("[New Slider] Vast Event Impression");
          this.adPlayed = true;
          callbacks.impression && callbacks.impression();
        }.bind(this),
        hidden: function () {
          utlis_vilog("[New Slider] Vast Event Hidden");

          if (this.adPlayed === false) {
            callbacks.error && callbacks.error();
            return;
          }

          if (this.Widgets) {
            this.Widgets.play();
          }

          this.adWrapper.style.cssText = "";
          this.adWrapper.innerHTML = "";
          this.adsManager = null;
          this.numBidRequest = 0;
          this.adProcessing = false;
          this.refreshBid(this.refreshAdsTime);
          callbacks.hidden && callbacks.hidden();

          if (this.opts.hidden) {
            this.opts.hidden({
              id: this.slotID
            });
          }

          if (this.opts.slotFixed) {
            var arrowSplide = this.Widgets.bodyDiv.querySelector('.splide__arrows');

            if (arrowSplide) {
              arrowSplide.style.display = "block";
            }

            var splideDiv = this.Widgets.bodyDiv.querySelector('#splide');

            if (splideDiv) {
              splideDiv.style.opacity = "1";
            }

            if (this.adWrapper.parentElement && this.adWrapper.parentElement.classList.contains("adWrapperBox")) {
              this.adWrapper.parentElement.style.display = "none";
            }

            isInViewPort(this.adDiv, this.inViewPort.bind(this), this.outViewPort.bind(this), {
              threshold: [40]
            });
          }

          if (this.opts.instantLoad === false) {
            utlis_vilog("[New Slider] Clear Element Hidden");
            this.removeAd();
            this.closeAds();
          }

          this.adIsActive = false;
          this.runningVideoFixed = false;

          this.viAcAd = function () {};

          plugins_v2_constants.isVideoRunning = false;
          plugins_v2_constants.listAdPlaying.outstream = false;
        }.bind(this),
        adClicked: function () {
          callbacks.adClicked && callbacks.adClicked();

          _eventFire("VIDEO_SLIDER_AD_CLICKED");
        }.bind(this),
        videoClicked: function () {
          callbacks.videoClicked && callbacks.videoClicked();

          _eventFire("VIDEO_SLIDER_VIDEO_CLICKED");
        }.bind(this),
        adsVolumeChange: function (currentAdsVolumn) {
          plugins_v2_constants.changeAdsVolume = true;
          this.changeVolumeAdsChange(currentAdsVolumn);
          utlis_vilog("[New Slider] Vast Event VolumeChange");
          callbacks.adsVolumeChange && callbacks.adsVolumeChange(currentAdsVolumn);
        }.bind(this)
      });
    }
  }, {
    key: "visibilityCloseBtn",
    value: function visibilityCloseBtn() {
      var _this = this;

      this.skipBtn.style.visibility = "hidden";
      this.skipBtn.style.opacity = "0";

      if (!this.fullScreen) {
        setTimeout(function () {
          _this.skipBtn.style.visibility = "visible";
          _this.skipBtn.style.opacity = "1";
        }, 300);
      }
    }
  }, {
    key: "startRender",
    value: function startRender(bids) {
      var vastUrl = null;
      var vastXml = null;
      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {},
        refresh: function refresh() {},
        adsVolumeChange: function adsVolumeChange() {}
      };

      if (bids.length > 0) {
        var bidWon = bids[0];
        vlipb.markWinningBidAsUsed({
          adId: bidWon.adId
        });
        bids.splice(0, 1);
        vastUrl = bidWon.vastUrl || null;
        vastXml = bidWon.vastXml || null;

        callbacks.start = function () {
          pushInfoDebugOverlay(this.slotID, bidWon);
          this.viReportObserver(bidWon.creativeId, "Smartvideo");
        }.bind(this);

        callbacks.error = function (errorCode) {
          this.startRender(bids);
        }.bind(this);

        callbacks.impression = function () {
          var pixel = {
            type: "hb_video",
            divID: this.slotID,
            zoneID: this.adSlot.zid,
            bidder: bidWon.bidderCode,
            cpm: bidWon.cpm
          };
          savePixel(pixel);
          utlis_vilog("[New Slider] Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm + "_____ " + bidWon.vliAdType);
        }.bind(this);

        data = {
          vastUrl: vastUrl,
          vastXml: vastXml
        };

        if (vastUrl == null && vastXml == null) {
          this.startRender(bids);
        } else {
          this.playVast(data, callbacks);
        }
      } else {
        if (this.opts.disableVideoBackground === false) {
          this.caseTwo();
        }

        if (this.opts.disableOutstream === false && this.opts.disableVideoBackground === true) {
          this.tryCustomVast();
        }
      }
    }
  }, {
    key: "caseTwo",
    value: function caseTwo() {
      var _this2 = this;

      if (plugins_v2_constants.videoRequestMode === "postbid_dfp" && this.conditionRequestDfp() && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery) === false) {
        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "discovery",
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.adSlot.zid : "videodiscovery_" + this.adSlot.zid;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery)
          },
          adUnit: this.adUnitInstream,
          customParams: cust_params
        });
        utlis_vilog("[New Slider] caseTwo - New Vast Url: " + vastUrl);
        var callbacks = {
          start: function start() {
            var dataBid = {
              adId: "unknown from Adx",
              bidder: "Adx",
              creativeId: "unknown from Adx"
            };
            pushInfoDebugOverlay(_this2.slotID, dataBid);

            _this2.viReportObserver("", "Smartvideo");
          },
          error: function error() {
            _this2.tryCustomVast();
          }
        };
        this.playVast({
          vastUrl: vastUrl
        }, callbacks);
      }

      if (plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid") {
        this.tryCustomVast();
      }
    }
  }, {
    key: "tryCustomVast",
    value: function tryCustomVast() {
      utlis_vilog("[Custom Vast Outstream] BEGIN Try Custom Vast");

      var error = function () {
        if (typeof this.opts.passbackFunction === "function") {
          this.opts.passbackFunction();
        }

        if (this.opts.error) {
          this.opts.error({
            id: this.slotID
          });
        }
      }.bind(this);

      var renderAds = function () {
        if (vastArr.length <= 0) {
          utlis_vilog("[Custom Vast Outstream] vastArr[] empty");
          error();
          this.adWrapper.style.cssText = "";
          this.adWrapper.innerHTML = "";

          if (this.newTemplate && this.adWrapper.parentElement && this.adWrapper.parentElement.classList.contains("adWrapperBox")) {
            this.adWrapper.parentElement.style.display = "none";
          }

          this.refreshBid(this.timeNobid);
          return;
        }

        var vastUrl = "";
        var vastName = "";

        for (var i = 0; i < vastArr.length; i++) {
          if (!vastArr[i].requested) {
            vastArr[i].requested = true;
            vastUrl = vastArr[i].link;
            vastName = vastArr[i].bidder;
            break;
          }
        }

        if (!vastUrl || !vastName) {
          utlis_vilog("[Custom Vast Outstream] vast link|vast bidder empty");
          error();
          this.adWrapper.style.cssText = "";
          this.adWrapper.innerHTML = "";

          if (this.newTemplate && this.adWrapper.parentElement) {
            this.adWrapper.parentElement.style.display = "none";
          }

          this.refreshBid(this.timeNobid);
          return;
        }

        var data = {};
        var callbacks = {
          start: function start() {},
          impression: function impression() {},
          error: function error() {},
          hidden: function hidden() {},
          refresh: function refresh() {},
          adsVolumeChange: function adsVolumeChange() {}
        };
        data = {
          vastUrl: vastUrl
        };

        callbacks.start = function (errorCode) {
          var dataBid = {
            adId: "unknown from Custom Vast",
            bidder: "Custom Vast",
            creativeId: "unknown from Custom Vast"
          };
          pushInfoDebugOverlay(this.slotID, dataBid);
          utlis_vilog("[New Slider] Custom Vast: ++++++ Bidder: " + vastName + ", Event: Start");
          this.viReportObserver("", "Smartvideo");
        }.bind(this);

        callbacks.error = function (errorCode) {
          renderAds();
        }.bind(this);

        this.playVast(data, callbacks);
      }.bind(this);

      initAnalytic(plugins_v2_constants.pixelID);
      var vastArr = [];

      if (this.adSlot.vast) {
        vastArr = JSON.parse(JSON.stringify(this.adSlot.vast));
      }

      for (var i = 0; i < vastArr.length; i++) {
        vastArr[i].requested = false;
        vastArr[i].link = linkFilter(vastArr[i].link);
      }

      renderAds();
    }
  }, {
    key: "getSlotOutstream",
    value: function getSlotOutstream() {
      if (!plugins_v2_constants.outstreamSlot) return false;

      if (typeof this.opts.slotRender != "undefined" && this.opts.slotRender) {
        if (plugins_v2_constants.outstreamSlot[this.opts.slotRender] && plugins_v2_constants.outstreamSlot[this.opts.slotRender].type == "slider") {
          this.adSlot = plugins_v2_constants.outstreamSlot[this.opts.slotRender];
          this.slotID = this.opts.slotRender;
        }
      } else {
        for (var key in plugins_v2_constants.outstreamSlot) {
          if (plugins_v2_constants.outstreamSlot.hasOwnProperty(key)) {
            var element = plugins_v2_constants.outstreamSlot[key];

            if (element.type === "slider") {
              this.slotID = key;
              this.adSlot = JSON.parse(JSON.stringify(element));
            }
          }
        }
      }
    }
  }, {
    key: "changeVolumeAdsChange",
    value: function changeVolumeAdsChange(currentAdsVolumn) {
      plugins_v2_constants.sliderVolume = currentAdsVolumn;

      if (currentAdsVolumn == 1) {
        this.Widgets.unmute();
      } else {
        this.Widgets.mute();
      }
    }
  }, {
    key: "showSkip",
    value: function showSkip() {
      var svg_cross = '<svg width="32" height="38" style="width: 32px!important; height: 38px!important; margin: 0!important"><circle cx="16" cy="16" r="16" fill="grey"></circle><line x1="11" y1="11" x2="21" y2="21" style="stroke:rgb(255,255,255);stroke-width:3"></line><line x1="21" y1="11" x2="11" y2="21" style="stroke:rgb(255,255,255);stroke-width:3"></line></svg>';
      this.skipBtn = document.createElement("vli");

      if (this.opts.slotFixed) {
        var _vismartCloseBtn_css = 'transition: visibility 0s, opacity 0.5s linear; visibility: hidden;opacity: 0;-webkit-box-sizing: unset !important; -ms-box-sizing: unset !important; -moz-box-sizing: unset !important; box-sizing: unset !important; position: absolute; z-index: 9999; cursor: pointer; top: -45px; right: 0px; width: 32px; height: 32px; background-color: rgb(66 66 66 / 70%); box-shadow: rgb(0, 0, 0) 0px 0px 6px 0px; padding: 0px; border-radius: 18px;';
        this.skipBtn.style.cssText = _vismartCloseBtn_css;
        var html = '<vli class="vi_closeSlider" id="vi_slider_close" >' + svg_cross + '</vli>';
        this.skipBtn.innerHTML = html;
        this.adDiv.firstChild.insertBefore(this.skipBtn, this.adDiv.firstChild.firstChild);
      } else {
        if (mobileDetect()) {
          var coating = document.createElement("vli");
          coating.style.cssText = 'width: ' + (this.adWidth + 35) + 'px; height: ' + (this.adHeight + 70) + 'px; background: transparent !important; position: absolute; ' + (this.opts.position === "middle" ? 'right: -20px' : this.opts.position + ': 0px') + '; top: -50px;';
          this.adDiv.insertBefore(coating, this.adDiv.firstChild);
          this.skipBtn.style.cssText = '-webkit-box-sizing: unset !important; -ms-box-sizing: unset !important; -moz-box-sizing: unset !important; box-sizing: unset !important;position: absolute; z-index: 9999; cursor: pointer;top: -40px;' + (this.opts.position === 'left' ? 'right' : 'left') + ': 0px;width:32px;height:32px; background-color: rgba(0, 0, 0, 0.5); box-shadow: rgb(0, 0, 0) 0px 0px 6px 0px; padding: 0px; border-radius: 32px;visibility: hidden;transition: opacity .3s, visibility .3s;opacity: 0;';
          this.skipBtn.innerHTML = '<vli style="display: block" class="vi_closeSlider" id="vi_slider_close">' + svg_cross + '</vli>';
        } else {
          this.skipBtn.style.cssText = '-webkit-box-sizing: unset !important; -ms-box-sizing: unset !important; -moz-box-sizing: unset !important; box-sizing: unset !important;position: absolute; z-index: 9999; cursor: pointer;top: -45px;' + (this.opts.position === 'middle' ? 'right' : this.opts.position) + ': 0px;width:32px;height:32px; background-color: rgba(0, 0, 0, 0.5); box-shadow: rgb(0, 0, 0) 0px 0px 6px 0px; padding: 0px; border-radius: 32px;visibility: hidden;transition: opacity .3s, visibility .3s;opacity: 0;';
          this.skipBtn.innerHTML = '<vli style="display: block" class="vi_closeSlider" id="vi_slider_close">' + svg_cross + '</vli>';
        }

        this.adDiv.insertBefore(this.skipBtn, this.adDiv.firstChild);
      }

      var vi_closeSlider = document.getElementById("vi_slider_close");

      if (vi_closeSlider) {
        vi_closeSlider.addEventListener("click", function () {
          if (this.opts.slotFixed && this.opts.removeElementAds === false && this.opts.instantLoad === true) {
            if (this.adWrapper) {
              this.adWrapper.classList.add("player_disable_fixed");
              this.disableFixedBacgroundVideo();
              return;
            }
          } else {
            if (this.opts.instantLoad === false) {
              this.adProcessing = false;
            }

            this.stopAds = true;
            this.removeAd();
            this.closeAds();
          }
        }.bind(this));
      }
    }
  }, {
    key: "closeAds",
    value: function closeAds() {
      this.cleanAdwrapper();
      this.adsManager = null;
      this.Widgets.remove();
      plugins_v2_constants.isVideoRunning = false;
      return;
    }
  }, {
    key: "cleanAdwrapper",
    value: function cleanAdwrapper() {
      var adWraps = document.getElementsByClassName("videoslider");

      if (adWraps) {
        for (var i = 0; i < adWraps.length; i++) {
          var element = adWraps[i];

          if (element.id && element.id === this.slotID) {
            if (this.opts.slotFixed && this.opts.removeElementAds === false) {
              element.style.height = "0px";

              if (this.skipBtn) {
                this.skipBtn.style.visibility = 'hidden';
                this.skipBtn.style.opacity = '0';
              }

              element.innerHTML = "";
            } else {
              setTimeout(function () {
                if (element.parentNode) {
                  element.parentNode.removeChild(element);
                }
              }, 350);
            }
          }
        }
      }
    }
  }, {
    key: "removeAd",
    value: function removeAd() {
      if (!this.opts.slotFixed) {
        this.adDiv.style.right = "-" + (this.adWidth + 50) + "px";
      } else {
        this.skipBtn.firstChild.style.visibility = "hidden";
        this.skipBtn.firstChild.style.opacity = "0";
        this.adDiv.firstChild.style.height = "0px";
        this.adDiv.style.marginTop = 0 + "px";
      }
    }
  }, {
    key: "showAd",
    value: function showAd() {
      if (this.fullScreen) {
        this.showAdFullScreen();
        return;
      }

      this.countDisplay();

      if (!this.opts.slotFixed) {
        if (this.opts.position === "middle") {
          this.adDiv.style.bottom = this.distanceFinal + "px";
        }

        if (this.opts.position == "left") {
          this.adDiv.style.left = mobileDetect() ? 0 : 10 + "px";
        }

        if (this.opts.position == "right") {
          this.adDiv.style.right = mobileDetect() ? 0 : 10 + "px";
        }
      }
    }
  }, {
    key: "refreshBid",
    value: function refreshBid(delayTime) {
      this.adRefreshing = true;
      this.adsManager = null;
      utlis_vilog("[New Slider] Refresh Bid after " + delayTime + " second");

      if (this.numBidRequest >= this.maxBidRequest) {
        utlis_vilog("[New Slider] Refresh Bid Limit");
        return;
      }

      if (this.opts.instantLoad === false) {
        utlis_vilog("[New Slider] instantLoad is false. No refresh");
        return;
      }

      noRefreshRubicon("video");
      setTimeout(function () {
        var _this3 = this;

        if (plugins_v2_constants.isVisible) {
          this.getAds();
        } else {
          var vsbKey = "slider_refresh_queue";
          addVsbAction({
            divID: vsbKey,
            hidden: function hidden() {},
            watching: function watching() {
              clearVsbAction(vsbKey);

              _this3.getAds();
            }
          });
        }
      }.bind(this), delayTime * 1000);
    }
  }, {
    key: "isFrequencyLimit",
    value: function isFrequencyLimit() {
      if (this.opts.displayFrequency.limit !== null && this.opts.displayFrequency.every !== null && this.opts.displayFrequency.unit !== null) {
        var data = getCookie("vi-videoslider-frequency");

        if (!data) {
          return false;
        }

        var json = JSON.parse(data);

        if (json) {
          var count = json.count;
          var start = json.start;
          var offset = this.calcTimeOffset(start);

          if (offset < this.opts.displayFrequency.every && count >= this.opts.displayFrequency.limit) {
            return true;
          }
        }
      }

      return false;
    }
  }, {
    key: "calcTimeOffset",
    value: function calcTimeOffset(time_start) {
      var curent = new Date().getTime();
      var offset = 0;

      if (this.opts.displayFrequency.unit === "second") {
        offset = Math.round((curent - time_start) / 1000);
      }

      if (this.opts.displayFrequency.unit === "minute") {
        offset = Math.round((curent - time_start) / 1000 / 60);
      }

      if (this.opts.displayFrequency.unit === "hour") {
        offset = Math.round((curent - time_start) / 1000 / 60 / 60);
      }

      if (this.opts.displayFrequency.unit === "day") {
        offset = Math.round((curent - time_start) / 1000 / 60 / 60 / 24);
      }

      return offset;
    }
  }, {
    key: "countDisplay",
    value: function countDisplay() {
      if (this.opts.displayFrequency.limit !== null && this.opts.displayFrequency.every !== null && this.opts.displayFrequency.unit !== null) {
        var data = {};
        var cookie = getCookie("vi-videoslider-frequency");

        if (cookie) {
          data = JSON.parse(cookie);
        }

        if (data) {
          var count = data.count;
          var start = data.start;
          var offset = this.calcTimeOffset(start);

          if (offset < this.opts.displayFrequency.every) {
            data = {
              count: count + 1,
              start: start
            };
          } else {
            data = {
              count: 1,
              start: new Date().getTime()
            };
          }
        } else {
          data = {
            count: 1,
            start: new Date().getTime()
          };
        }

        setCookie("vi-videoslider-frequency", JSON.stringify(data));
      }
    }
  }, {
    key: "onPauseAds",
    value: function onPauseAds() {
      this.userInPage = false;

      if (this.adsManager) {
        this.adsManager.pause();
      }

      if (this.Widgets) {
        this.Widgets.pause();
      }
    }
  }, {
    key: "onCleanAds",
    value: function onCleanAds() {
      utlis_vilog("[New Slider onCleanAds=========]");
      this.adsManager = null;
      this.Widgets.remove();
      this.adProcessing = false;
      plugins_v2_constants.isVideoRunning = false;
      this.cleanAdwrapper();
    }
  }, {
    key: "onResumeAds",
    value: function onResumeAds() {
      this.userInPage = true;

      if (this.isReadyToGetAds() && this.instreamEnded) {
        this.getAds();
      }

      if (this.adsManager) {
        if (this.outView === false && this.opts.fixedSlider === false) {
          this.adsManager.resume();
        }

        if (this.opts.fixedSlider === true) {
          this.adsManager.resume();
        }
      }

      if (this.Widgets && this.adProcessing === false && !this.adsManager && (this.playBackgroundVideo === true || this.Widgets.giveBackPropertyPlayer() === true)) {
        if (this.outView === true && this.videoWrapper.classList.contains("video-running-outview") === true) {
          this.Widgets.validatePlayBackgroundVideo();
        }

        if (this.outView === false && this.videoWrapper.classList.contains("video-running-outview") === false && (this.playBackgroundVideo === true || this.Widgets.giveBackPropertyPlayer() === true)) {
          this.Widgets.validatePlayBackgroundVideo();
        }
      }
    }
  }, {
    key: "inViewPort",
    value: function inViewPort() {
      utlis_vilog("[New Slider] InViewPort");

      if (this.fullScreen) {
        this.showAdFullScreen();
        return;
      }

      if (this.opts.slotFixed) {
        if (!this.inViewAd) {
          this.inViewAd = true;
        }
      }

      this.skipBtn.style.display = "none";
      this.outView = false;

      if (this.playBackgroundVideo === false && this.Widgets.giveBackPropertyPlayer() === false) {
        if (this.Widgets) {
          this.Widgets.pause();
        }

        return;
      }

      if (this.Widgets && !this.adsManager) {
        this.Widgets.play();
      }

      ;

      if (this.adWrapper && this.adWrapper.classList.contains("player_disable_fixed")) {
        if (this.adsManager) this.adsManager.resume();
      }

      if (this.opts.isNewVersion && !this.fixedOutView) {
        this.fixedOutView = true;
      }

      if (!this.adDiv.firstChild) return;

      if (!this.opts.fixedSlider) {
        if (!this.inViewAd) {
          this.inViewAd = true;
          this.viAcAd();
        }

        if (this.newTemplate && this.adsManager) {
          var parentAd = this.adWrapper.parentElement;

          if (parentAd) {
            parentAd.style.display = "block";
          }
        }

        setTimeout(function () {
          if (this.adsManager) this.adsManager.resume();
        }.bind(this), 200);
      } else {
        this.adDiv.style.zIndex = 1;
        this.adDiv.firstChild.style.cssText = "background:unset!important;position: relative;display:block;width:" + this.mWidth + "px;height:" + this.mHeight + "px; float:left;";

        if (this.adsManager) {
          this.adsManager.resize(this.mWidth, this.mHeight, 'NORMAL');

          if (this.newTemplate) {
            var parentAd = this.adWrapper.parentElement;

            if (parentAd) {
              parentAd.style.cssText = "position: relative;display: block;width: " + this.mainAdWidth + "px;height: 250px;margin: 0px auto;background: unset !important;";
            }

            this.adsManager.resize(this.mainAdWidth, 250, 'NORMAL');
          }

          this.adsManager.resume();
        }

        if (this.videoWrapper) {
          this.videoWrapper.classList.remove("video-running-outview");
          this.videoWrapper.style.width = this.mWidth + "px";
          this.videoWrapper.style.height = this.mHeight + "px";
          this.videoWrapper.style.background = "#000";
        }

        if (plugins_v2_constants.enableIcon === "on") {
          this.Widgets.showBrand();
        }

        this.Widgets.showSplideArrows();
        this.Widgets.changeSizeVideoPlayer({
          width: this.mainAdWidth,
          height: this.mHeight
        });
      }

      this.skipBtn.style.top = "-45px";
      this.skipBtn.style.right = "0px";
      this.skipBtn.style.left = "unset";
    }
  }, {
    key: "outViewPort",
    value: function outViewPort() {
      utlis_vilog("[New Slider] OutViewPort ");

      if (this.fullScreen) {
        this.showAdFullScreen();
        return;
      }

      if (!this.runningVideoFixed) {
        this.outView = true;

        if (this.adWrapper && this.adWrapper.classList.contains("player_disable_fixed")) {
          if (this.adsManager) this.adsManager.pause();
        }

        if (this.videoWrapper && this.videoWrapper.classList.contains("video-running-outview") === false) {
          if (this.Widgets) this.Widgets.pause();
        }

        return;
      }

      if (!this.opts.fixedSlider) {
        this.outView = true;
        if (this.inViewAd) this.inViewAd = false;
        if (this.adsManager) this.adsManager.pause();
      } else {
        if (this.adWrapper && this.adWrapper.classList.contains("player_disable_fixed")) {
          this.outView = true;
          if (this.adsManager) this.adsManager.pause();
          if (this.Widgets) this.Widgets.pause();
          return;
        }

        if (!this.fixedOutView) {
          if (this.adsManager) this.adsManager.pause();
          return;
        }

        this.outView = true;
        var fWidth = this.opts.sizeStickyVideo;
        var fHeight = this.opts.sizeStickyVideo * 9 / 16;
        var fBottomOffset = this.distanceFinal;
        if (!this.adDiv.firstChild) return;
        this.adDiv.style.zIndex = 2147483647;

        if (this.opts.position === "middle") {
          this.adDiv.firstChild.style.cssText = "position: fixed; display: block; width: " + fWidth + "px; height: " + fHeight + "px;bottom: " + (this.hiddenAds ? fBottomOffset : "-" + (fHeight + 50)) + "px; left: 50%; transform: translate(-50%); background: unset !important; transition: bottom .3s; -webkit-transition: bottom .3s; -moz-transition: bottom .3s;";
        } else {
          var cssTexts = "background: unset!important; position: fixed; display: block; width: " + fWidth + "px; height: " + fHeight + "px; bottom: " + fBottomOffset + "px;" + this.opts.position + ":" + (this.hiddenAds ? mobileDetect() ? 0 : 10 : "-" + (fWidth + 50)) + "px;";

          if (this.videoWrapper && this.videoWrapper.classList.contains("video-running-outview") === false) {
            cssTexts += "transition: " + this.opts.position + " .8s ease 0s;";
          }

          this.adDiv.firstChild.style.cssText = cssTexts;
        }

        if (this.adDiv.firstChild && !this.hiddenAds) {
          setTimeout(function () {
            if (this.opts.position == "middle") {
              this.adDiv.firstChild.style.bottom = fBottomOffset + "px";
            }

            if (this.opts.position == "right") {
              this.adDiv.firstChild.style.right = (mobileDetect() ? 0 : 10) + "px";
            }

            if (this.opts.position == "left") {
              this.adDiv.firstChild.style.left = (mobileDetect() ? 0 : 10) + "px";
            }
          }.bind(this), 100);
        }

        if (this.adsManager) {
          this.adsManager.resize(fWidth, fHeight, 'NORMAL');
          this.adsManager.resume();
        }

        if (this.videoWrapper) {
          this.videoWrapper.className = "videoWrapper video-running-outview";
          this.videoWrapper.style.width = fWidth + "px";
          this.videoWrapper.style.height = fHeight + "px";
        }

        this.Widgets.hideBrand();
        this.Widgets.hideSplideArrows();
        this.Widgets.changeSizeVideoPlayer({
          width: fWidth,
          height: fHeight
        });

        if (this.newTemplate) {
          var parentAd = this.adWrapper.parentElement;

          if (parentAd) {
            parentAd.style.cssText = "position: relative;display: block;width: 100%;height: 100%;margin: 0px auto;background: unset !important;";
          }
        }

        if (this.Widgets && !this.adsManager) this.Widgets.play();

        if (mobileDetect()) {
          this.skipBtn.style.top = "-40px";
        } else {
          this.skipBtn.style.top = "-45px";
        }

        if (this.opts.position === "right") {
          if (mobileDetect()) {
            this.skipBtn.style.left = "0px";
            this.skipBtn.style.right = "unset";
          } else {
            this.skipBtn.style.left = "unset";
            this.skipBtn.style.right = "0px";
          }
        }

        if (this.opts.position === "left") {
          if (mobileDetect()) {
            this.skipBtn.style.right = "0px";
            this.skipBtn.style.left = "unset";
          } else {
            this.skipBtn.style.left = "0px";
            this.skipBtn.style.right = "unset";
          }
        }

        if (this.opts.position === "middle") {
          this.skipBtn.style.left = "unset";
          this.skipBtn.style.right = "0px";
        }

        this.skipBtn.style.display = "block";
        this.skipBtn.style.visibility = 'visible';
        this.skipBtn.style.opacity = '1';
      }
    }
  }, {
    key: "disableFixedBacgroundVideo",
    value: function disableFixedBacgroundVideo() {
      if (this.adHtm && this.adHtm.firstChild) {
        var cssText = "background:unset!important;position: relative;display:block;width:" + this.mWidth + "px;height:" + this.mHeight + "px; float:left;";
        this.adHtm.firstChild.style.cssText = cssText;
      }

      if (this.adsManager) {
        this.adsManager.pause();
      }

      if (this.Widgets) {
        this.Widgets.pause();
      }
    }
  }, {
    key: "viReportObserver",
    value: function viReportObserver(creativeId, adFormat) {
      var vliWrapper = document.getElementsByClassName("adWrapper")[0];

      if (!vliWrapper) {
        return;
      }

      var iframeAd = vliWrapper.getElementsByTagName("iframe")[0];
      var jData = {
        "creativeId": creativeId,
        "adFormat": adFormat
      };

      if (iframeAd) {
        reportingObserver(iframeAd, jData);
      }
    }
  }, {
    key: "showAdFullScreen",
    value: function showAdFullScreen() {
      if (!this.adsManager) {
        return;
      }

      var adIframeElemWidth = window.innerWidth <= 900 ? Math.round(window.innerWidth / 100 * 90) : 900;
      var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);
      var cssFull = "display: block !important; z-index: 2147483647 !important; position: fixed !important; top: 50% !important; left: 50% !important; transform: translate(-50%, -50%) !important; width: " + adIframeElemWidth + "px !important; height: " + adIframeElemHeight + "px !important;";

      if (this.newTemplate === false || this.adElementContent === false) {
        this.adWrapper.style.cssText = cssFull;
      } else {
        var adBoxWrapper = this.adDiv.querySelector(".adWrapperBox");
        adBoxWrapper.style.cssText = cssFull;
      }

      if (this.skipBtn) {
        this.skipBtn.style.visibility = 'hidden';
        this.skipBtn.style.opacity = '0';
      }

      this.adsManager.resize(adIframeElemWidth, adIframeElemHeight, 'NORMAL');
      this.adsManager.resume();
    }
  }, {
    key: "toggleFullscreen",
    value: function toggleFullscreen() {
      var overlayID = 'slider-fullscreen-overlay';
      var childWrapper = this.adDiv.getElementsByTagName("vli")[0];
      var adBoxWrapper = this.adDiv.querySelector(".adWrapperBox");

      if (!this.adVidEl.classList.contains('player-fullscreen')) {
        this.fullScreen = true;
        document.body.style.overflow = 'hidden';
        this.adVidEl.classList.add('player-fullscreen');
        this.adVidEl.style.backgroundColor = "transparent";
        this.adDiv.insertAdjacentHTML('afterbegin', '<div id="' + overlayID + '" style="width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); position: fixed; top: 0; left: 0; z-index: 2147483647;"></div>');

        if (this.skipBtn) {
          this.skipBtn.style.visibility = 'hidden';
          this.skipBtn.style.opacity = '0';
        }

        var adIframeElemWidth = window.innerWidth <= 900 ? Math.round(window.innerWidth / 100 * 90) : 900;
        var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);
        var cssFull = "background: #fff; display: block !important; z-index: 2147483647 !important; position: fixed !important; top: 50% !important; left: 50% !important; transform: translate(-50%, -50%) !important; width: " + adIframeElemWidth + "px !important; height: " + adIframeElemHeight + "px !important;";

        if (this.newTemplate || this.outView) {
          this.videoWrapper.style.cssText = cssFull;
          childWrapper.style.cssText = cssFull;
        } else {
          this.videoWrapper.style.backgroundColor = "transparent";
        }

        this.viPlayer.style.cssText = cssFull;
        this.viPlayer.querySelector('.fullscreen').style.display = "none";
        this.viPlayer.querySelector('#hide_fullscreen_slider').style.display = "block";
        var overlayDiv = this.adDiv.querySelector('#' + overlayID);
        overlayDiv.addEventListener('click', this.toggleFullscreen.bind(this), false);
        overlayDiv.addEventListener('touchmove', function (e) {
          e.preventDefault();
        }, false);
      } else {
        this.fullScreen = false;
        document.body.style.overflow = '';
        this.adDiv.querySelector('#' + overlayID).parentNode.removeChild(this.adDiv.querySelector('#' + overlayID));
        this.adVidEl.classList.remove('player-fullscreen');

        if (this.outView) {
          var fWidth = this.opts.sizeStickyVideo;
          var fHeight = this.opts.sizeStickyVideo * 9 / 16;
          var fBottomOffset = this.distanceFinal;
          if (!childWrapper) return;
          this.adDiv.style.zIndex = 2147483647;

          if (this.opts.position === "middle") {
            childWrapper.style.cssText = "position: fixed; display: block; width: " + fWidth + "px; height: " + fHeight + "px;bottom: " + (this.hiddenAds ? fBottomOffset : "-" + (fHeight + 50)) + "px; left: 50%; transform: translate(-50%); background: unset !important; transition: bottom .3s; -webkit-transition: bottom .3s; -moz-transition: bottom .3s;";
          } else {
            var cssTexts = "background: unset!important; position: fixed; display: block; width: " + fWidth + "px; height: " + fHeight + "px; bottom: " + fBottomOffset + "px;" + this.opts.position + ":" + (this.hiddenAds ? mobileDetect() ? 0 : 10 : "-" + (fWidth + 50)) + "px;";

            if (this.videoWrapper && this.videoWrapper.classList.contains("video-running-outview") === false) {
              cssTexts += "transition: " + this.opts.position + " .8s ease 0s;";
            }

            childWrapper.style.cssText = cssTexts;
          }

          if (this.skipBtn) {
            this.skipBtn.style.visibility = 'visible';
            this.skipBtn.style.opacity = '1';
          }

          if (childWrapper && !this.hiddenAds) {
            setTimeout(function () {
              if (this.opts.position == "middle") {
                childWrapper.style.bottom = fBottomOffset + "px";
              }

              if (this.opts.position == "right") {
                childWrapper.style.right = (mobileDetect() ? 0 : 10) + "px";
              }

              if (this.opts.position == "left") {
                childWrapper.style.left = (mobileDetect() ? 0 : 10) + "px";
              }
            }.bind(this), 100);
          }

          if (this.newTemplate) {
            var cssBox = "position: relative; display: " + (this.adsManager ? "block" : "none") + "; width: 100%; height: 100%; margin: 0px auto; background: unset !important;";
            adBoxWrapper.style.cssText = cssBox;
          }

          this.viPlayer.style.cssText = "height:100%;width:100%;display:block";

          if (this.adsManager) {
            this.adsManager.resize(fWidth, fHeight, 'NORMAL');
            this.adsManager.resume();
          }

          if (this.videoWrapper) {
            this.videoWrapper.className = "videoWrapper video-running-outview";
            this.videoWrapper.style.cssText = "position: absolute; top: 0px; left: 0px; height: " + fHeight + "px; width: " + fWidth + "px; background: rgb(255 255 255); padding: initial !important; margin: initial !important;";
            this.adWrapper.style.cssText = "z-index: 9998; position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; background:rgb(255 255 255); display: " + (this.adsManager ? "block" : "none") + "; padding: 0px; margin: 0px;";
          }
        } else {
          var cssFull = "width:" + this.mainAdWidth + "px; height: 100%; display:block;";
          var cssChild = "background:unset!important;position: relative;display:block;width:" + this.mWidth + "px;height:" + this.mHeight + "px; float:left;";

          if (this.newTemplate === false || this.adElementContent === false) {
            this.adVidEl.style.backgroundColor = "#fff";
            cssFull = "width:100%; height: 100%; display:block;";
            var cssBox = "";

            if (this.adElementContent === false) {
              var fWidth = this.opts.sizeStickyVideo;
              var fHeight = this.opts.sizeStickyVideo * 9 / 16;

              if (this.adsManager) {
                this.adsManager.resize(fWidth, fHeight, 'NORMAL');
                this.adsManager.resume();
                cssBox = "z-index: 9998; position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; background: rgb(0, 0, 0); display: block; padding: 0px; margin: 0px;";
              }
            } else {
              if (this.adsManager) {
                this.adsManager.resize(this.mWidth, this.mHeight, 'NORMAL');
                this.adsManager.resume();
                cssBox = "z-index: 9998; position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; background: rgb(0, 0, 0); display: block; padding: 0px; margin: 0px;";
              }
            }

            if (this.adElementContent === false) {
              cssChild = "position: absolute; z-index: 9999; cursor: pointer; top: " + (mobileDetect() ? -40 : -45) + "px; " + (mobileDetect() ? this.opts.position === 'left' ? 'right' : 'left' : this.opts.position === 'middle' ? 'right' : this.opts.position) + ":0px; width: 32px; height: 32px; background-color: rgba(0, 0, 0, 0.5); box-shadow: rgb(0, 0, 0) 0px 0px 6px 0px; padding: 0px; border-radius: 32px; visibility: visible; transition: opacity 0.3s ease 0s, visibility 0.3s ease 0s; opacity: 1; box-sizing: unset !important;";

              if (mobileDetect) {
                "position: absolute; z-index: 9999; cursor: pointer; top: -40px; left: 0px; width: 32px; height: 32px; background-color: rgba(0, 0, 0, 0.5); box-shadow: rgb(0, 0, 0) 0px 0px 6px 0px; padding: 0px; border-radius: 32px; visibility: visible; transition: opacity 0.3s ease 0s, visibility 0.3s ease 0s; opacity: 1; box-sizing: unset !important;";
              }

              if (this.skipBtn) {
                this.skipBtn.style.visibility = 'visible';
                this.skipBtn.style.opacity = '1';
              }
            }

            this.adWrapper.style.cssText = cssBox;
          } else {
            this.adVidEl.style.backgroundColor = "#000";
            cssFull = "width:" + this.mainAdWidth + "px; height: 100%; display:block;";
            var cssBox = "position: relative; display: " + (this.adsManager ? "block" : "none") + "; width:" + this.mainAdWidth + "px;height:250px; margin: 0px auto; background: unset !important;";

            if (this.adsManager) {
              this.adsManager.resize(this.mainAdWidth, 250, 'NORMAL');
              this.adsManager.resume();
            }

            adBoxWrapper.style.cssText = cssBox;
          }

          this.viPlayer.style.cssText = cssFull;

          if (this.videoWrapper) {
            this.videoWrapper.style.cssText = "position:absolute;top:0;left:0;height:" + (this.opts.slotFixed ? this.mHeight + "px" : "100%") + ";width:" + (this.opts.slotFixed ? this.mWidth + "px" : "100%") + "; " + (this.opts.slotFixed ? "background: #000" : "background: #fff") + "; padding:initial !important; margin:initial !important";
          }

          childWrapper.style.cssText = cssChild;
        }

        if (this.Widgets) {
          this.Widgets.pause();
        }

        this.viPlayer.querySelector('.fullscreen').style.display = "block";
        this.viPlayer.querySelector('#hide_fullscreen_slider').style.display = "none";
      }
    }
  }]);

  return Slider;
}();

/* harmony default export */ var outstream = (outstream_Slider);
// CONCATENATED MODULE: ./src/plugins_v2/imageslide.js








var imageslide_AdSlideImage = /*#__PURE__*/function () {
  function AdSlideImage() {
    classCallCheck_default()(this, AdSlideImage);

    this.bigDivID = 'vliAdWrapper';
    this.wrapDivID = 'slideWrapper';
    this.maxHeightSlide = null;
    this.adHeight = 90;
    this.limitSmallImage = 200;
    this.bigDiv = null;
    this.WrapDiv = null;
    this.screenHeight = null;
    this.screenWidth = null;
    this.DivHeight = 0;
    this.opts = this.getAdConfig();
    this.adSlot = null;
    this.imageSlideSlot = null;
    this.adWrapper = null;
    this.slotRenderEndedRegisted = false;
    this.currentDivId = null;
    this.adShowed = false;
    this.action = false;

    this.viAcAd = function () {};

    this.adunit = null;
    this.bidWon = null;
    this.floorPrice = 0;
    this.refreshInterval = null;
    this.onTimeActive = false;
    this.size = false;
    this.renderPassback = false;
  }

  createClass_default()(AdSlideImage, [{
    key: "getAdConfig",
    value: function getAdConfig() {
      var defaultConfig = {
        mainID: '',
        mainClass: '',
        showCaption: false,
        enablePC: true,
        enableMobile: true
      };
      cloneDefaultConfig({
        imageSlideConfig: defaultConfig
      });
      if (!window[plugins_v2_constants.tagName].imageSlideConfig) return defaultConfig;
      var config = window[plugins_v2_constants.tagName].imageSlideConfig;

      for (var key in defaultConfig) {
        if (typeof config[key] === "undefined") {
          config[key] = defaultConfig[key];
        }
      }

      return config;
    }
  }, {
    key: "init",
    value: function init() {
      if (isInIframe()) {
        utlis_vilog("[Image SlideAd]  No init in Iframe");
        return;
      }

      if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
        utlis_vilog("[Image SlideAd]  Inventory Block");
        return;
      }

      this.imageSlideSlot = plugins_v2_constants.imageSlide && plugins_v2_constants.imageSlide[0] ? JSON.parse(JSON.stringify(plugins_v2_constants.imageSlide[0])) : null;

      if (!this.imageSlideSlot) {
        utlis_vilog("[Image SlideAd]  Not found imageSlideSlot");
        return;
      }

      if (this.opts.enablePC === false && !mobileDetect()) {
        utlis_vilog("[Image SlideAd]  Image SlideAd not enable on PC");
        return;
      }

      if (this.opts.enableMobile === false && mobileDetect()) {
        utlis_vilog("[Image SlideAd]  Image SlideAd not enable on Mobile");
        return;
      }

      this.adSlot = this.imageSlideSlot.adSlot;

      if (!this.adSlot) {
        utlis_vilog("[Image SlideAd]  adSlot not found");
        return;
      }

      elementReady("body", function () {
        this.processImage();
      }.bind(this));
    }
  }, {
    key: "processImage",
    value: function processImage() {
      this.createDiv();
      this.addWrapDiv();
      this.createWrapperAd();
      this.addButton();
      this.createSlideImage();
    }
  }, {
    key: "createWrapperAd",
    value: function createWrapperAd() {
      var vliAdContain = document.createElement('vli');
      var cssTextadWrapper = 'position: absolute; left: 50%; bottom: ' + (mobileDetect() ? 10 : 5) + '%; transform: translate(-50%, ' + (mobileDetect() ? 10 : 5) + '%);';
      vliAdContain.style.cssText = cssTextadWrapper;
      this.adWrapper = document.createElement("div");
      this.adWrapper.className = plugins_v2_constants.adClass;
      this.adWrapper.setAttribute('data-ad-slot', this.adSlot);
      vliAdContain.appendChild(this.adWrapper);
      this.bigDiv.appendChild(vliAdContain);
      this.getAds();
    }
  }, {
    key: "getAds",
    value: function getAds() {
      if (!this.slotRenderEndedRegisted) {
        var slotRendered = function (data) {
          var adCode = data.slot.getSlotElementId();
          if (!adCode) return;
          if (adCode != this.currentDivId) return;
          utlis_vilog("[Image SlideAd] Slot rendered____" + adCode);
          var adDiv = document.getElementById(adCode);

          if (plugins_v2_constants.adRenderAction.pb[adCode]) {
            var type = false;

            if (data.isEmpty === true) {
              if (typeof_default()(this.bidWon) === undefined || !this.bidWon) {
                utlis_vilog("[Image SlideAd] isEmpty");
                type = "passback";
              } else {
                utlis_vilog("[Image SlideAd] isEmpty but isset BidWon");
                utlis_vilog(this.bidWon);

                if (plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode]) {
                  plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode]();
                  delete plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode];
                }
              }
            } else {
              adDiv.setAttribute("content-type", "ad");

              if (data.isBackfill === true) {
                utlis_vilog("[Image SlideAd] Adx WIN " + adCode);
                type = "hb"; // Adx Fill
              } else {
                var hasAmazonBid = false;

                if (data.slot.getTargeting("isamzn").length === 1 && data.slot.getTargeting("isamzn")[0] === "1") {
                  type = "amz";
                  hasAmazonBid = true;
                }

                if (data.slot.getTargeting("up_bid").indexOf("true") !== -1 && !hasAmazonBid) {
                  utlis_vilog("[Image SlideAd] Empty");
                  type = "passback";
                }
              }
            }

            plugins_v2_constants.adRenderAction.pb[adCode](type);
            delete plugins_v2_constants.adRenderAction.pb[adCode];
          }

          if (adDiv && !data.isEmpty) {
            if (!data.isBackfill) {} else if (data.size !== null && [0, 1].indexOf(data.size[0]) === -1 && [0, 1].indexOf(data.size[1]) === -1) {
              if (!mobileDetect()) {
                adDiv.style.setProperty('margin', '0 auto');
              } else {
                var requestSizes = data.slot.getSizes();

                if (requestSizes[0]['l'] === data.size[0]) {
                  adDiv.style.setProperty('margin', '0 auto', 'important');
                }
              }

              adDiv.style.setProperty('width', data.size[0] + 'px', 'important');
              adDiv.style.setProperty('height', data.size[1] + 'px', 'important');
              adDiv.style.setProperty('position', 'relative', 'important');
            }
          }
        }.bind(this);

        googletag.cmd = googletag.cmd || [];
        googletag.cmd.push(function () {
          googletag.pubads().addEventListener('slotRenderEnded', function (event) {
            slotRendered(event);
          });
        });
        this.slotRenderEndedRegisted = true;
      }

      var apstagSlots = [];
      var adID = this.adSlot + "_" + generateUniqueAdID();
      var size = "728_90";

      if (this.screenWidth < 767) {
        size = "320_50";
      }

      this.size = size;
      this.adWrapper.dataset.id = adID;
      this.adWrapper.innerHTML = '<div id="' + adID + '" data-ad-slot="' + this.adSlot + '"></div>';
      this.adWrapper.style.cssText = 'display:block!important;position:relative!important;margin:0 auto!important;z-index:0!important;padding: initial';

      if (this.imageSlideSlot.adunit[size]) {
        this.adunit = JSON.parse(JSON.stringify(this.imageSlideSlot.adunit[size]));

        if (this.adunit) {
          this.adunit.code = adID;
          this.adunit.bids = utlis_buildBids(this.adunit.bids, this.imageSlideSlot.floorPrice);
          this.floorPrice = this.imageSlideSlot.floorPrice;
          vlipb.addAdUnits(this.adunit);

          if (this.adunit.bids.length > 0) {
            plugins_v2_constants.auctionLogs[adID] = {
              bidder: putOutBidders(this.adunit.bids),
              preAuction: ''
            };
          } else {
            utlis_vilog("[Image SlideAd] adunit.bids.length == 0 - " + adID);
          }

          if (plugins_v2_constants.amazonEnabled) {
            var apstagSlotSizes = amazonUAMSizeFilter(this.adunit.mediaTypes.banner.sizes);

            if (apstagSlotSizes.length > 0) {
              var apstagSlot = {
                slotID: adID,
                sizes: apstagSlotSizes,
                slotName: "Amazon"
              };
              apstagSlots.push(apstagSlot);
            }
          }
        }
      }

      this.onTimeActive = false;

      if (this.refreshInterval && this.action === false) {
        clearInterval(this.refreshInterval);
      }

      this.currentDivId = adID;
      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(this.currentDivId);
      utlis_requestBids([this.currentDivId], apstagSlots, this.displayBackHandler.bind(this));
    }
  }, {
    key: "showBannerAds",
    value: function showBannerAds() {
      var bidWon = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      utlis_vilog("[Image SlideAd] displayBanner =============");

      if (this.adShowed === false) {
        var timeCount = 0;
        var countTtl = setInterval(function () {
          timeCount++;
          var bidTtl = bidWon && bidWon.ttl ? bidWon.ttl : plugins_v2_constants.adRefreshTime;

          if (timeCount > bidTtl && this.adShowed === false) {
            clearInterval(countTtl);
            timeCount = 0;
            this.getAds();
          }
        }.bind(this), 1000);
      }

      if (!this.action) {
        utlis_vilog("[Image SlideAd] Wait action click Image to show");

        this.viAcAd = function () {
          if (this.action) {
            this.adShowed = true;
            this.showBannerAds(bidWon);

            if (plugins_v2_constants.adRefreshTime && plugins_v2_constants.imageSlide !== null) {
              this.refreshInterval = setInterval(function () {
                this.refreshDisplayAds();
              }.bind(this), plugins_v2_constants.adRefreshTime);
            }

            clearInterval(countTtl);
          }
        }.bind(this);

        return;
      }

      var pixel = {
        divID: this.currentDivId,
        zoneID: this.imageSlideSlot.zid,
        cpm: 0
      };
      var adDiv = document.getElementById(this.currentDivId);

      if (adDiv) {
        this.onTimeActive = true;
        var returnPassback = false;
        var accTargetImageSlide = true;

        if (isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.imageSlide) === true) {
          accTargetImageSlide = false;
        }

        if (bidWon) {
          pixel.type = "hb";
          pixel.cpm = bidWon.cpm;
          pixel.bidder = bidWon.bidderCode;

          if (bidWon && bidWon.mediaType === "native") {
            pixel.adType = "native";
          }

          plugins_v2_constants.dataBidWin[this.currentDivId] = bidWon;
        }

        var renderAmazonBid = function () {
          utlis_vilog("[Image SlideAd] Render ad for " + this.currentDivId);
          adDiv.setAttribute("content-type", "ad");
          adDiv.style.cssText = 'width:' + this.adunit.w + 'px!important;height:' + this.adunit.h + 'px!important;margin:0 auto!important;position:relative!important;display: block!important;';
          var ifrDoc = renderIframeForSmartBanner(adDiv, this.currentDivId, bidWon.width ? bidWon.width : this.adunit.w, bidWon.height ? bidWon.height : this.adunit.h);
          apstag.renderImp(ifrDoc, bidWon.amzniid);
          onBidWon(this.currentDivId);
        }.bind(this);

        var renderHBBids = function () {
          utlis_vilog("[Image SlideAd] Render ad");

          switch (bidWon.mediaType) {
            case "banner":
              if (plugins_v2_constants.noneSafeFrameBidder.indexOf(bidWon.bidderCode) !== -1) {
                vlipb.renderAd(renderIframeForSmartBanner(adDiv, this.currentDivId, bidWon.width ? bidWon.width : this.adunit.w, bidWon.height ? bidWon.height : this.adunit.h), bidWon.adId);
              } else {
                if (plugins_v2_constants.safeFrame === 'on') {
                  adDiv.innerHTML = '<div id="vli_sf_' + this.currentDivId + '"></div>';
                  initSafeFrameRender(onBidWon);
                  renderSafeFrame('vli_sf_' + this.currentDivId, {
                    width: bidWon.width ? bidWon.width : this.adunit.w,
                    height: bidWon.height ? bidWon.height : this.adunit.h
                  }, bidWon.ad);
                } else {
                  vlipb.renderAd(renderIframeForSmartBanner(adDiv, this.currentDivId, bidWon.width ? bidWon.width : this.adunit.w, bidWon.height ? bidWon.height : this.adunit.h), bidWon.adId);
                }
              }

              break;

            case "native":
              var adData = {
                adUnitCode: this.currentDivId,
                adId: bidWon.adId,
                pubUrl: window.location.href,
                width: this.adunit.w,
                height: this.adunit.h
              };
              renderNativeAd(renderIframeForSmartBanner(adDiv, this.currentDivId, bidWon.width ? bidWon.width : this.adunit.w, bidWon.height ? bidWon.height : this.adunit.h), adData);
              break;

            default:
              break;
          }

          pushInfoDebugOverlay(this.currentDivId, bidWon);
        }.bind(this);

        plugins_v2_constants.adRenderAction.gAdRequestTimeout[this.currentDivId] = function () {
          if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp') {
            this.renderPbDisplay(pixel);
          }

          if (plugins_v2_constants.bannerRequestMode == 'dfp') {
            if (bidWon) {
              if (bidWon.cpm >= this.floorPrice) {
                if (bidWon.amznbid) {
                  renderAmazonBid();
                } else {
                  renderHBBids();
                }
              } else {
                utlis_vilog("[Image SlideAd] " + this.currentDivId + ": CPM < Floor Price");
                this.renderPbDisplay(pixel);
              }
            } else {
              pixel.type = "passback";
              this.renderPbDisplay(pixel);
            }
          }
        }.bind(this);

        if ((plugins_v2_constants.bannerRequestMode == 'dfp' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp') && accTargetImageSlide) {
          if (plugins_v2_constants.gSlots[this.currentDivId]) googletag.destroySlots([plugins_v2_constants.gSlots[this.currentDivId]]);
          googletag.cmd.push(function () {
            if (bidWon && bidWon.mediaType === "native") {
              plugins_v2_constants.gSlots[this.currentDivId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.imageSlide, this.currentDivId), "fluid", this.currentDivId).addService(googletag.pubads());
            } else {
              var adunit = JSON.parse(JSON.stringify(this.imageSlideSlot.adunit[this.size]));
              plugins_v2_constants.gSlots[this.currentDivId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.imageSlide, this.currentDivId), adunit.mediaTypes.banner.sizes, this.currentDivId).addService(googletag.pubads());
            }
          }.bind(this));
        }

        var onBidWon = function (adUnitCode) {
          var showIcon = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

          if (plugins_v2_constants.adRenderAction.bidWon[adUnitCode]) {
            plugins_v2_constants.adRenderAction.bidWon[adUnitCode]();
            delete plugins_v2_constants.adRenderAction.bidWon[adUnitCode];
          }

          if (showIcon) {
            var adDiv = document.getElementById(adUnitCode);
            var adSlot = adDiv.getAttribute("data-ad-slot");

            if (adDiv && adSlot) {
              plugins_v2_constants.enableItemIcReport[adUnitCode] = plugins_v2_constants.enableIcReport;
              var iconEl = renderViIcon(adUnitCode);

              if (iconEl) {
                adDiv.appendChild(iconEl);
                iconEl.style.cssText = "position: absolute!important; bottom: 0px!important; left: 0px!important; display: inline-block !important;";
              }
            }
          }
        }.bind(this);

        var handlerOnBidWon = function (data) {
          if ([this.currentDivId].indexOf(data.adUnitCode) === -1) return;
          plugins_v2_constants.dataBidWin[this.currentDivId] = data;
          utlis_vilog("[Image SlideAd] ____WIN___" + data.adUnitCode + "__" + data.bidderCode + "__" + data.cpm);

          if (plugins_v2_constants.bannerRequestMode === "dfp") {
            var adDiv = document.getElementById(data.adUnitCode);

            if (adDiv) {
              adDiv.style.cssText = 'width:' + data.width + 'px!important;height:' + data.height + 'px!important;margin:0 auto!important;position:relative!important;display: block !important;overflow: hidden !important';
            }
          }

          onBidWon(data.adUnitCode);
          logBidData("banner", data);
          vlipb.offEvent('bidWon', handlerOnBidWon, this.currentDivId);
        }.bind(this);

        vlipb.onEvent('bidWon', handlerOnBidWon, this.currentDivId);

        if (plugins_v2_constants.bannerRequestMode == 'dfp' && accTargetImageSlide) {
          googletag.cmd.push(function () {
            vlipb.que.push(function () {
              if (plugins_v2_constants.gSlots[this.currentDivId]) {
                if (plugins_v2_constants.refererDomainID) {
                  plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
                } else {
                  plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_adslot", this.imageSlideSlot.zid);
                }

                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_adtype", "display");
                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("hb_width", this.size.split("_")[0]);
                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("hb_height", this.size.split("_")[1]);
                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.imageSlide.accId);
                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_sf", "1");

                if (bidWon && bidWon.amznbid) {
                  plugins_v2_constants.gSlots[this.currentDivId].setTargeting("isamzn", "1");
                  plugins_v2_constants.gSlots[this.currentDivId].setTargeting("hb_pb", bidWon.hb_pb);
                } else {
                  if (plugins_v2_constants.disableDefaultDfpFloorPrice.indexOf(plugins_v2_constants.domainID) !== -1) {
                    if (bidWon) adserverTargeting(bidWon, plugins_v2_constants.gSlots[this.currentDivId]);
                  } else {
                    if (bidWon) {
                      adserverTargeting(bidWon, plugins_v2_constants.gSlots[this.currentDivId]);
                    } else {
                      pixel.cpm = this.imageSlideSlot.floorPrice;

                      if (plugins_v2_constants.sendTargeting === "on") {
                        plugins_v2_constants.gSlots[this.currentDivId].setTargeting("hb_pb", utlis_getCustomHBPB("banner", this.imageSlideSlot.floorPrice));
                      }
                    }
                  }
                }

                googletag.pubads().refresh([plugins_v2_constants.gSlots[this.currentDivId]]);
              }
            }.bind(this));
          }.bind(this));
        }

        plugins_v2_constants.adRenderAction.bidWon[this.currentDivId] = function () {
          if (bidWon) {
            savePixel(pixel);

            if (plugins_v2_constants.bannerRequestMode === 'dfp') {
              if (bidWon.amznbid) {
                var dataBid = {
                  adId: "unknown from amz",
                  bidder: "amz",
                  creativeId: "unknown from amz"
                };
                pushInfoDebugOverlay(this.currentDivId, dataBid);
              } else {
                pushInfoDebugOverlay(this.currentDivId, bidWon);
              }
            }
          }
        }.bind(this);

        if (plugins_v2_constants.bannerRequestMode == 'postbid' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp' || !accTargetImageSlide) {
          if (bidWon) {
            if (bidWon.cpm >= this.floorPrice) {
              if (bidWon.amznbid) {
                renderAmazonBid();
              } else {
                renderHBBids();
              }
            } else {
              utlis_vilog("[Image SlideAd] " + this.currentDivId + ": CPM < Floor Price");
              returnPassback = true;
            }
          } else {
            returnPassback = true;
          }
        }

        if (returnPassback == true) {
          pixel.type = "passback";

          if (plugins_v2_constants.bannerRequestMode == 'postbid' || !accTargetImageSlide) {
            this.renderPbDisplay(pixel);
          }

          if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp' && accTargetImageSlide) {
            utlis_vilog("[Image SlideAd] Try get ad from Adx for: " + this.currentDivId);
            googletag.cmd.push(function () {
              vlipb.que.push(function () {
                if (plugins_v2_constants.refererDomainID) {
                  plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
                } else {
                  plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_adslot", this.imageSlideSlot.zid);
                }

                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_adtype", "display");
                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_sf", "1");
                plugins_v2_constants.gSlots[this.currentDivId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.imageSlide.accId);

                if (plugins_v2_constants.disableDefaultDfpFloorPrice.indexOf(plugins_v2_constants.domainID) !== -1) {
                  pixel.cpm = this.interstitialSlot.floorPrice;

                  if (plugins_v2_constants.sendTargeting === "on") {
                    plugins_v2_constants.gSlots[this.currentDivId].setTargeting("hb_pb", utlis_getCustomHBPB("banner", this.imageSlideSlot.floorPrice));
                  }
                }

                googletag.pubads().refresh([plugins_v2_constants.gSlots[this.currentDivId]]);
              });
            }.bind(this));
          }
        }

        if (plugins_v2_constants.bannerRequestMode == 'dfp' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp' && returnPassback == true) {
          plugins_v2_constants.adRenderAction.pb[this.currentDivId] = function (type) {
            if (!type) return;

            if (type == "amz") {
              renderAmazonBid();
            }

            if (type == "hb") {
              if (plugins_v2_constants.bannerRequestMode === 'dfp') {
                var dataBid = {
                  adId: "unknown from Adx",
                  bidder: "Adx",
                  creativeId: "unknown from Adx"
                };
                pushInfoDebugOverlay(this.currentDivId, dataBid);
              }
            }

            if (type === "passback") {
              this.renderPbDisplay(pixel);
            }
          }.bind(this);
        }
      }
    }
  }, {
    key: "displayBackHandler",
    value: function displayBackHandler() {
      var adDiv = document.getElementById(this.currentDivId);

      if (adDiv) {
        var _rsp = [];
        _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(this.currentDivId), this.currentDivId);
        utlis_vilog("[Image SlideAd]  Bid Responses For Ad Unit Code: " + this.currentDivId);
        utlis_vilog(_rsp);
        var amazonBid = plugins_v2_constants.amazonBidResponses[this.currentDivId] || null;
        utlis_vilog("[Image SlideAd]  Amazon Responses For Ad Unit Code: " + this.currentDivId);
        utlis_vilog(amazonBid);

        if (amazonBid) {
          _rsp = _rsp.concat(amazonBid);
        }

        _rsp = _rsp.filter(function (bid) {
          if (bid.cpm < this.floorPrice || bid.cpm < plugins_v2_constants.dfpFloorPrice) {
            if (!bid.amznbid) {
              vlipb.markWinningBidAsUsed({
                adId: bid.adId
              });
            }

            return false;
          }

          return true;
        }.bind(this));
        var bidWon = _rsp.length > 0 ? _rsp[getWinBidder(_rsp)] : null;
        this.bidWon = bidWon;
        this.showBannerAds(this.bidWon);
      }
    }
  }, {
    key: "createDiv",
    value: function createDiv() {
      this.screenWidth = document.documentElement.clientWidth;
      this.screenHeight = window.innerHeight;
      this.bigDiv = document.createElement('div');
      this.bigDiv.id = this.bigDivID;
      var cssBigDiv = 'display: none; background-color: rgba(0, 0, 0, 0.9); z-index: 2147483647;top: 0px;left: 0px; position: fixed; width: 100%; height: 100%; padding: auto; overflow: auto;';
      this.bigDiv.style.cssText = cssBigDiv;
      document.body.appendChild(this.bigDiv);
    }
  }, {
    key: "addWrapDiv",
    value: function addWrapDiv() {
      this.WrapDiv = document.createElement('div');
      this.WrapDiv.id = this.wrapDivID;
      this.maxHeightSlide = this.screenHeight - (mobileDetect() ? 50 : 90) - 180;
      var cssWrapDiv = 'top: 35%; width: 100%; position: absolute; left: 50%; transform: translate(-50%, -35%);max-height: ' + this.maxHeightSlide + 'px' + (mobileDetect() ? "margin: 0 15px;" : "");
      this.WrapDiv.style.cssText = cssWrapDiv;
      this.bigDiv.appendChild(this.WrapDiv);
    }
  }, {
    key: "addButton",
    value: function addButton() {
      var preButton = document.createElement("a");
      var buttonCss = 'padding: 0 16px; width: auto; position: absolute; cursor: pointer; font-weight: bold; border-radius: 0 3px 3px 0; color: #c9c9c9; top: 35%; font-size: 45px; display: none;';
      preButton.style.cssText = buttonCss;
      preButton.id = 'preButton';
      preButton.innerHTML = '&#10094;';
      var nextButton = document.createElement("a");
      nextButton.id = 'nextButton';
      nextButton.innerHTML = '&#10095;';
      nextButton.style.cssText = buttonCss;
      nextButton.style.right = 0;
      var closeCss = 'padding: 16px; width: auto; position: absolute; cursor: pointer;font-weight: bold; border-radius: 0 3px 3px 0; color: #fff!important; font-size: 40px; display: none; right: 0; top: 0;';
      var closeButton = document.createElement("a");
      closeButton.id = 'closeButton';
      closeButton.innerHTML = "<svg id=\"closeSlide\" style=\"width:32px!important;height:32px!important;fill: #7b7b7b!important;\" enable-background=\"new 0 0 512.001 512.001\" height=\"32\" viewBox=\"0 0 512.001 512.001\" width=\"32\" xmlns=\"http://www.w3.org/2000/svg\"><g><path id=\"pathClose\" d=\"m512.001 84.853-84.853-84.853-171.147 171.147-171.148-171.147-84.853 84.853 171.148 171.147-171.148 171.148 84.853 84.853 171.148-171.147 171.147 171.147 84.853-84.853-171.148-171.148z\"/></g></svg>";
      closeButton.style.cssText = closeCss;
      this.bigDiv.appendChild(preButton);
      this.bigDiv.appendChild(nextButton);
      this.bigDiv.appendChild(closeButton);
      return this;
    }
  }, {
    key: "createSlideImage",
    value: function createSlideImage() {
      var mainTarget;
      var mainID = this.opts.mainID;

      if (mainID != "" && mainID != undefined) {
        mainTarget = document.getElementById(mainID);
      } else {
        var mainClass = this.opts.mainClass;

        if (mainClass != "" && mainClass != undefined) {
          mainTarget = document.getElementsByClassName(mainClass)[0];
        } else {
          mainTarget = document.getElementsByTagName('body')[0];
        }
      }

      var images = mainTarget.querySelectorAll('img');

      if (images.length == 0) {
        return;
      }

      for (var index = 0; index < images.length; index++) {
        var thisImage = images[index];
        var imageHeight = thisImage.height;
        var imageWidth = thisImage.width;

        if (imageHeight <= this.limitSmallImage || imageWidth <= this.limitSmallImage) {
          continue;
        }

        if (thisImage.src) {
          var gif = thisImage.src.includes(".gif");

          if (gif) {
            continue;
          }
        }

        if (thisImage.parentNode.nodeName === "A") {
          continue;
        }

        if (["slick-slide", "soliloquy-item", "carousel-item"].some(function (substring) {
          return thisImage.parentNode.className.includes(substring);
        })) {
          continue;
        }

        if (this.opts.showCaption == true) {
          var textImage = document.createElement("figcaption");
          var cssTextImage = 'text-align: center; background-color: rgba(0, 0, 0, 0.7); padding: 2px 16px; color: white;';
          textImage.style.cssText = cssTextImage;
          textImage.innerHTML = 'Click on the image to Zoom.';
          textImage.style.fontSize = '14px';
          thisImage.parentNode.insertBefore(textImage, thisImage.nextSibling);
        }

        var classZoom = "zoom-class" + index;
        var cssImg = 'margin: auto; display: none; width:' + (mobileDetect() ? "90%" : 'auto') + '; max-height: ' + this.maxHeightSlide + 'px';
        var cloneElement = thisImage.cloneNode(true);
        thisImage.setAttribute('data-zoom', classZoom);
        thisImage.style.cursor = 'zoom-in';
        cloneElement.style.cssText = cssImg;
        cloneElement.id = classZoom;
        cloneElement.classList.add("class-zoom-image");

        if (thisImage.classList.contains('lazy')) {
          cloneElement.src = cloneElement.getAttribute('data-src');
        }

        this.WrapDiv.appendChild(cloneElement);
        var bigDiv = this.bigDiv;
        thisImage.addEventListener('click', function (e) {
          clickHandlerShowPopup(this);
          var zoomImageID = this.getAttribute('data-zoom');
          var zoomImage = document.getElementById(zoomImageID);
          zoomImage.style.display = 'block';
          bigDiv.style.display = 'block';
          closeButton.style.display = 'block';
          var preElement = zoomImage.previousElementSibling;
          var nextElement = zoomImage.nextElementSibling;

          if (preElement == null) {
            preButton.style.display = 'none';
          } else {
            preButton.style.display = 'block';
          }

          if (nextElement == null) {
            nextButton.style.display = 'none';
          } else {
            nextButton.style.display = 'block';
          }

          document.addEventListener('keydown', loadImages);
          bigDiv.addEventListener('click', loadImages);
          window.addEventListener('resize', resImages);

          function loadImages(event) {
            var input;

            if (event.key != undefined) {
              input = event.key;
            } else {
              input = event.target.id;
            }

            switch (input) {
              case 'preButton':
              case 'ArrowLeft':
                if (preElement != null) {
                  zoomImage.style.display = 'none';
                  zoomImage = preElement;
                  zoomImage.style.display = 'block';
                  preElement = zoomImage.previousElementSibling;
                  nextElement = zoomImage.nextElementSibling;

                  if (preElement == null) {
                    preButton.style.display = 'none';
                  } else {
                    preButton.style.display = 'block';
                  }

                  if (nextElement == null) {
                    nextButton.style.display = 'none';
                  } else {
                    nextButton.style.display = 'block';
                  }
                }

                break;

              case 'nextButton':
              case 'ArrowRight':
                if (nextElement != null) {
                  zoomImage.style.display = 'none';
                  zoomImage = nextElement;
                  zoomImage.style.display = 'block';
                  preElement = zoomImage.previousElementSibling;
                  nextElement = zoomImage.nextElementSibling;

                  if (preElement == null) {
                    preButton.style.display = 'none';
                  } else {
                    preButton.style.display = 'block';
                  }

                  if (nextElement == null) {
                    nextButton.style.display = 'none';
                  } else {
                    nextButton.style.display = 'block';
                  }
                }

                break;

              case 'Escape':
              case 'closeButton':
              case 'closeSlide':
              case 'pathClose':
                bigDiv.style.display = 'none';
                nextButton.style.display = 'none';
                preButton.style.display = 'none';
                closeButton.style.display = 'none';
                zoomImage.style.display = 'none';
                clickHandlerHiddenPopup(this);
                document.removeEventListener('keydown', loadImages);
                bigDiv.removeEventListener('click', loadImages);
                window.removeEventListener('resize', resImages);
                break;

              default:
                break;
            }
          }

          function resImages() {
            var newHeight = window.innerHeight;
            zoomImage.style.height = newHeight - 35 - this.adHeight + 'px';
          }
        });
      }

      var clickHandlerShowPopup = function (target) {
        utlis_vilog("[Image SlideAd] Show Popup=======");
        this.action = true;
        this.adShowed = true;

        if (this.onTimeActive === false) {
          this.viAcAd();
        }
      }.bind(this);

      var clickHandlerHiddenPopup = function (target) {
        this.action = false;
        this.adShowed = false;
        utlis_vilog("[Image SlideAd] Hidden Popup=======");
      }.bind(this);
    }
  }, {
    key: "refreshDisplayAds",
    value: function refreshDisplayAds() {
      utlis_vilog("Refresh==============");

      if (!this.currentDivId) {
        return;
      }

      if (!this.action) {
        if (this.refreshInterval) {
          clearInterval(this.refreshInterval);
        }

        this.getAds();
        return;
      }

      noRefreshRubicon("banner");
      this.getAds();
      return;
    }
  }, {
    key: "renderPbDisplay",
    value: function renderPbDisplay(pixel) {
      if (this.renderPassback === false) {
        return;
      }
    }
  }]);

  return AdSlideImage;
}();

/* harmony default export */ var imageslide = (imageslide_AdSlideImage);
// CONCATENATED MODULE: ./src/plugins_v2/bannerManager.js





var onGoogleDfpResponse = {};
var onStyleAdContainer = {};
var onGoogleDfpResonseEmpty = {};
var onSpecialBidWin = {};
var bidEstimateTime = 3; // seconds
// tự động chuyển sang postbid nếu request lên dfp trả về timeout quá 5 lần
// tự động tắt đấu giá với giá cao nếu thử quá 5 lần vẫn không có bid response với giá cao
// đã xử lý trường hợp dfp response empty -> tự động render lại ads của demand

var bannerManager_BannerManager = /*#__PURE__*/function () {
  function BannerManager() {
    classCallCheck_default()(this, BannerManager);

    this.adSlots = {};
  }

  createClass_default()(BannerManager, [{
    key: "addAdSlot",
    value: function addAdSlot(adSlot) {
      this.eventHandle(adSlot.adSlotCode);

      var _this = this;

      try {
        if (this.adSlots[adSlot.adSlotCode]) {
          return;
        }

        var googleTagRequestSizes = JSON.parse(JSON.stringify(adSlot.requestSizes));
        googleTagRequestSizes.push("fluid");
        var biddingManager = new bidManager({
          slotId: adSlot.adSlotCode,
          tagId: adSlot.tagId,
          floorPrice: adSlot.floorPrice,
          buildBannerFromNative: adSlot.buildBannerFromNative,
          adUnits: adSlot.adUnits,
          adWidth: adSlot.adWidth,
          adHeight: adSlot.adHeight,
          viewPortDetect: adSlot.viewPortDetect
        });
        var newAdSlot = {
          adSlotCode: adSlot.adSlotCode,
          tagId: adSlot.tagId,
          floorPrice: adSlot.floorPrice,
          adWidth: adSlot.adWidth,
          adHeight: adSlot.adHeight,
          adRefreshTime: adSlot.adRefreshTime,
          nextAdAfterViewPortTime: adSlot.nextAdAfterViewPortTime,
          adWrapper: adSlot.adWrapper,
          viewPortDetect: adSlot.viewPortDetect,
          passbackContent: adSlot.passbackContent ? adSlot.passbackContent : "",
          reloadMode: adSlot.reloadMode ? adSlot.reloadMode : "signal",
          adloadType: adSlot.adloadType ? adSlot.adloadType : "lazy_load",
          requestMode: plugins_v2_constants.bannerRequestMode,
          biddingManager: biddingManager,
          googleTagSlot: null,
          currentAdType: "",
          adInViewPortTime: 0,
          numberAuctionEmptyBid: 0,
          totalRequestDfpTimeout: 0,
          onStartDFPRequest: adSlot.onStartDFPRequest ? adSlot.onStartDFPRequest : function () {},
          auctionProcess: "ready_new_auction",
          workerRefresh: null,
          firstAuctionEnded: false,
          numberAuctionTestHighFloorEmptyBid: 0,
          stopTestHighFloor: false,
          readyShowAdInViewPort: true,
          buildPassbackContent: function buildPassbackContent() {
            if (this.passbackContent == "") {
              return "";
            }

            var passbackPixelUrl = getPixelUrl({
              type: "passback",
              zoneID: this.tagId
            });
            return "<img src=\"".concat(passbackPixelUrl, "\" width=\"0\" height=\"0\" style=\"display:none\" />") + this.passbackContent;
          },
          getGoogleTagSlot: function getGoogleTagSlot(googleAccountTargeted) {
            try {
              var adDivId = adSlot.getAdElement().id;
              googletag.cmd.push(function () {
                googletag.destroySlots([newAdSlot.googleTagSlot]);
                newAdSlot.googleTagSlot = googletag.defineSlot(getDfpAdunitCode("BANNER", googleAccountTargeted, adDivId), googleTagRequestSizes, adDivId).addService(googletag.pubads());
              });
            } catch (e) {
              captureException(e, "[BannerManager - getGoogleTagSlot]");
            }

            return newAdSlot.googleTagSlot;
          },
          renderAdPostBid: function renderAdPostBid(bidWon) {
            if (bidWon) {
              utlis_vilog("[BannerManager] Start showAd for adSlot ".concat(newAdSlot.adSlotCode, " with renderType = ").concat(newAdSlot.requestMode, " - ").concat(Math.floor(Date.now() / 1000)));
              utlis_vilog(bidWon);
              newAdSlot.currentAdType = "ads";
              adSlot.renderAd(bidWon);

              try {
                _eventFire("AD_RENDER_EDNED", {
                  slotId: newAdSlot.adSlotCode,
                  bidderCode: bidWon.bidderCode,
                  cpm: bidWon.cpm,
                  adSize: bidWon.size ? bidWon.size : "".concat(bidWon.width, "x").concat(bidWon.height),
                  mediaType: bidWon.mediaType
                });
              } catch (e) {
                captureException(e, "[BannerManager - _eventFire - AD_RENDER_EDNED]");
              }

              adSlot.onShowAdContainer();
            } else {
              utlis_vilog("[BannerManager] Render passback for adSlot ".concat(newAdSlot.adSlotCode));
              newAdSlot.currentAdType = "passback";
              var passbackScript = newAdSlot.buildPassbackContent();
              adSlot.passBack(passbackScript);
            }
          },
          renderAdDfp: function renderAdDfp(bidWon) {
            var targetFloorPrice = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
            var sendPassback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
            utlis_vilog("[BannerManager] Start showAd for adSlot ".concat(newAdSlot.adSlotCode, " with renderType = ").concat(newAdSlot.requestMode, " - ").concat(Math.floor(Date.now() / 1000)));
            utlis_vilog(bidWon);
            var googleAccountTarget = plugins_v2_constants.targetGoogleAccByAdFormat.display;

            if (isObjectEmpty(googleAccountTarget) || !googleAccountTarget) {
              newAdSlot.renderAdPostBid(bidWon);
              return;
            }

            var googleSlot = newAdSlot.getGoogleTagSlot(googleAccountTarget);

            if (!googleSlot) {
              newAdSlot.renderAdPostBid(bidWon);
              return;
            }

            newAdSlot.currentAdType = "ads";
            googleSlot.clearTargeting(); // custom targeting here

            if (plugins_v2_constants.refererDomainID) {
              googleSlot.setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
            } else {
              googleSlot.setTargeting("vli_adslot", newAdSlot.tagId);
            }

            if (bidWon) {
              adserverTargeting(bidWon, googleSlot);
            }

            googleSlot.setTargeting("vli_acc", googleAccountTarget.accId);
            googleSlot.setTargeting("vli_adtype", "display");
            googleSlot.setTargeting("hb_width", bidWon && bidWon.width ? bidWon.width : newAdSlot.adWidth);
            googleSlot.setTargeting("hb_height", bidWon && bidWon.height ? bidWon.height : newAdSlot.adHeight);
            googleSlot.setTargeting("vli_sf", "1");

            if (sendPassback) {
              googleSlot.setTargeting("vli_ad_type", "passback");
            } // if (!bidWon || Constants.safeFrame === 'off' || Constants.noneSafeFrameBidder.indexOf(bidWon.bidderCode) !== -1 || bidWon.mediaType == "native") {
            //     googleSlot.setTargeting("vli_sf", "0");
            // }


            if (targetFloorPrice > 0) {
              googleSlot.setTargeting("hb_pb", utlis_getCustomHBPB('banner', targetFloorPrice.toString()));
            }

            if (bidWon.specialBid) {
              googleSlot.setTargeting("special_bid", "true");
            } // render ads


            newAdSlot.onStartDFPRequest();
            googletag.cmd.push(function () {
              googletag.pubads().refresh([googleSlot]);
            });
          },
          markAuctionCompleted: function markAuctionCompleted() {
            this.auctionProcess = "completed";
            this.numberAuctionEmptyBid = 0;

            if (this.adRefreshTime > 0) {
              utlis_vilog("[BannerManager] setNewAdRefresh on adSlot ".concat(this.adSlotCode, " with refresh time is ").concat(this.adRefreshTime, " seconds"));
              clearTimeout(this.workerRefresh);
              this.workerRefresh = setTimeout(function () {
                utlis_vilog("[BannerManager] adRefresh timeout on adSlot ".concat(newAdSlot.adSlotCode, " at time is ").concat(Math.floor(Date.now() / 1000)));

                _this.startBidding(newAdSlot);
              }, newAdSlot.adRefreshTime * 1000);
            }
          },
          startNewAuction: function startNewAuction(resetViewPortTime) {
            clearTimeout(newAdSlot.workerRefresh);

            _this.startBidding(newAdSlot, resetViewPortTime);
          },
          markSlotReadyShowAd: function markSlotReadyShowAd() {
            this.readyShowAdInViewPort = true;
            this.adInViewPortTime = 0;
          },
          markSlotRequestDfpTimeout: function markSlotRequestDfpTimeout() {
            this.totalRequestDfpTimeout++;

            if (this.totalRequestDfpTimeout >= 5) {
              this.requestMode = "postbid";
            }
          },
          markAuctionHighFloorEmptyBid: function markAuctionHighFloorEmptyBid() {
            this.numberAuctionTestHighFloorEmptyBid++;

            if (this.numberAuctionTestHighFloorEmptyBid >= 5) {
              // sau 5 lần thử bid với giá cao mà không có bid response thì sau đó sẽ không thử nữa
              utlis_vilog("Stop test high floor price............................");
              this.stopTestHighFloor = true;
            }
          },
          requireShowAdInViewPort: function requireShowAdInViewPort() {
            if (this.reloadMode == "signal") {
              return true;
            }

            return false;
          },
          bidBackHandler: function bidBackHandler() {}
        };
        this.adSlots[adSlot.adSlotCode] = newAdSlot;

        onStyleAdContainer[adSlot.adSlotCode] = function () {
          adSlot.onShowAdContainer();
        }; // remove googletag slot khi assign config hoàn thành và bannerRequestMode = postbid


        _addEventListener("ASSIGN_CONFIG_COMPLETE", function () {
          newAdSlot.requestMode = plugins_v2_constants.bannerRequestMode;

          if (plugins_v2_constants.bannerRequestMode == "postbid") {
            googletag.cmd.push(function () {
              googletag.destroySlots([newAdSlot.googleTagSlot]);
            });
          }
        });

        utlis_vilog("[BannerManager] Add new ad slot ".concat(newAdSlot.adSlotCode, " success..."));
        utlis_vilog(newAdSlot);
        this.startAdWorker(newAdSlot);
        this.startBidding(newAdSlot);
      } catch (e) {
        captureException(e, "[BannerManager - addAdSlot]");
      }
    }
  }, {
    key: "startAdWorker",
    value: function startAdWorker(adSlot) {
      var showAdWorker = null;

      var changeReloadModeAfterLazyLoadComplete = function changeReloadModeAfterLazyLoadComplete() {};

      var originalReloadMode = adSlot.reloadMode;

      if (adSlot.adloadType == "lazy_load" && adSlot.reloadMode != "signal") {
        adSlot.reloadMode = "signal";

        changeReloadModeAfterLazyLoadComplete = function changeReloadModeAfterLazyLoadComplete() {
          adSlot.reloadMode = originalReloadMode;
          clearInterval(showAdWorker);
        };
      } // check view port cho ad element nếu set nextAdAfterViewPortTime > 0


      if (adSlot.nextAdAfterViewPortTime > 0) {
        var adWatchingCounter = null;

        var isViewability = function isViewability() {
          utlis_vilog("[BannerManager] start watching worker on adSlot ".concat(adSlot.adSlotCode));
          clearInterval(adWatchingCounter);
          adWatchingCounter = setInterval(function () {
            // check completed ở đây không phải ở ngoài interval vì worker cần chạy khi ad isVisible và InViewPort, nếu set ở ngoài thì woker không chạy được nếu lần đầu ad đã isVisible và InViewPort
            if (adSlot.auctionProcess != "completed") {
              return;
            }

            adSlot.adInViewPortTime++;

            if (adSlot.reloadMode == "signal") {
              // thực hiện bid trước khi hiển thị ads 3 giây
              if (adSlot.adInViewPortTime == adSlot.nextAdAfterViewPortTime - bidEstimateTime) {
                utlis_vilog("[BannerManager] marked slot ".concat(adSlot.adSlotCode, " is ready new Auction at time is ").concat(Math.floor(Date.now() / 1000)));
                adSlot.startNewAuction(false);
              }

              if (adSlot.adInViewPortTime == adSlot.nextAdAfterViewPortTime) {
                adSlot.markSlotReadyShowAd();
              }
            } else {
              if (adSlot.adInViewPortTime == adSlot.nextAdAfterViewPortTime) {
                adSlot.startNewAuction(true);
                adSlot.markSlotReadyShowAd();
              }
            }
          }, 1000);

          if (adSlot.requireShowAdInViewPort()) {
            showAdWorker = setInterval(function () {
              if (!adSlot.readyShowAdInViewPort || !adSlot.firstAuctionEnded) {
                return;
              }

              adSlot.readyShowAdInViewPort = false;
              adSlot.bidBackHandler();
              changeReloadModeAfterLazyLoadComplete();
            }, 150);
          }
        };

        var isOutViewability = function isOutViewability() {
          utlis_vilog("[BannerManager] Clear biddingWorker on adSlot ".concat(adSlot.adSlotCode));
          clearInterval(adWatchingCounter);
          clearInterval(showAdWorker);
        };

        adSlot.viewPortDetect.inViewPort(isViewability);
        adSlot.viewPortDetect.outViewPort(isOutViewability);
      }
    }
  }, {
    key: "startBidding",
    value: function startBidding(adSlot) {
      var resetViewPortTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      var _this = this;

      var floorPrice = 0.00;
      var lastAuction = false;
      var floorTargeted = getFloorPriceTargeting("display"); // lần đầu tiên khi load site sẽ không thử đấu giá 2 lượt để ads hiển thị nhanh nhất có thể, từ sau đó mới bắt đầu test đấu giá 2 lượt

      if (adSlot.numberAuctionEmptyBid == 0 && floorTargeted !== null && adSlot.firstAuctionEnded && adSlot.stopTestHighFloor == false) {
        floorPrice = floorTargeted;
      }

      if (floorPrice === 0.00) {
        lastAuction = true;
      }

      if (plugins_v2_constants.sendTargeting === "on" && floorPrice <= adSlot.floorPrice) {
        lastAuction = true;
        floorPrice = adSlot.floorPrice;
      }

      utlis_vilog("[BannerManager] Start requestBids for adSlot ".concat(adSlot.adSlotCode, " ... number of auction empty bids is ").concat(adSlot.numberAuctionEmptyBid, ". floorPrice: ").concat(floorPrice, ". lastAuction is: ").concat(lastAuction));
      adSlot.biddingManager.requestBids(floorPrice, function (auctionIsEmptyBid) {
        adSlot.bidBackHandler = function () {
          adSlot.bidBackHandler = function () {}; // check ad element is hidden


          if (adSlot.adWrapper.offsetParent == null) {
            utlis_vilog("[BannerManager] slotId ".concat(adSlot.adSlotCode, " is hidden with offsetParent = null... set timeout refresh slot"));
            adSlot.markAuctionCompleted();
            return;
          } // floorPriceMinAccepted: giá thấp nhất khi gửi lên dfp là 0.01, dưới 0.01 sẽ không thể hiển thị ads do không có line item nào phù hợp


          var floorPriceMinAccepted = adSlot.requestMode == "dfp" && floorPrice < 0.01 ? 0.01 : floorPrice;
          var bidWin = adSlot.biddingManager.getHighestBid(floorPriceMinAccepted);

          if (bidWin) {
            // xử lý bid outstream trên banner
            if (bidWin.mediaType == "video") {
              bidWin.specialBid = true;
              bidWin.adserverTargeting.hb_adid = "";
            }

            logBidData("banner", bidWin);

            if (adSlot.requestMode == "dfp") {
              onGoogleDfpResonseEmpty[adSlot.adSlotCode] = function () {
                adSlot.renderAdPostBid(bidWin);
                onGoogleDfpResonseEmpty[adSlot.adSlotCode] = null;
              };

              plugins_v2_constants.adRenderAction.gAdRequestTimeout[adSlot.adSlotCode] = function () {
                adSlot.markSlotRequestDfpTimeout();
                adSlot.renderAdPostBid(bidWin);
              };

              if (bidWin.specialBid) {
                onSpecialBidWin[adSlot.adSlotCode] = function () {
                  adSlot.renderAdPostBid(bidWin);
                };
              }

              adSlot.renderAdDfp(bidWin);
            } else {
              adSlot.renderAdPostBid(bidWin);
            }

            adSlot.markAuctionCompleted();
            return;
          }

          if (lastAuction) {
            if (adSlot.requestMode == "postbid") {
              if (adSlot.currentAdType != "ads") {
                adSlot.renderAdPostBid(null);
              }

              adSlot.markAuctionCompleted();
            } else {
              onGoogleDfpResonseEmpty[adSlot.adSlotCode] = function () {
                adSlot.renderAdPostBid(null);
                onGoogleDfpResonseEmpty[adSlot.adSlotCode] = null;
              };

              adSlot.renderAdDfp(false, floorPrice, true);
              adSlot.markAuctionCompleted();
            }

            return;
          }

          if (adSlot.requestMode == "postbid") {
            adSlot.numberAuctionEmptyBid++;
            adSlot.markAuctionHighFloorEmptyBid();

            _this.startBidding(adSlot);
          } else {
            onGoogleDfpResponse[adSlot.adSlotCode] = function (issetGoogleAds) {
              if (!issetGoogleAds) {
                adSlot.numberAuctionEmptyBid++;
                adSlot.markAuctionHighFloorEmptyBid();

                _this.startBidding(adSlot);

                return;
              }

              adSlot.markAuctionCompleted();
            };

            plugins_v2_constants.adRenderAction.gAdRequestTimeout[adSlot.adSlotCode] = function () {
              adSlot.numberAuctionEmptyBid++;
              adSlot.markSlotRequestDfpTimeout();

              _this.startBidding(adSlot);
            };

            adSlot.renderAdDfp(false, floorPrice, false);
          }
        };

        if (!adSlot.requireShowAdInViewPort()) {
          adSlot.bidBackHandler();
        }

        resetViewPortTime && (adSlot.adInViewPortTime = 0);
        adSlot.firstAuctionEnded = true;
      });
    }
  }, {
    key: "eventHandle",
    value: function eventHandle(adSlotId) {
      googletag.cmd.push(function () {
        googletag.pubads().addEventListener('slotRenderEnded', function (data) {
          var slotId = data.slot.getSlotElementId();

          if (slotId != adSlotId) {
            return;
          }

          var issetGoogleAds = data.lineItemId == null && data.isEmpty == false ? true : false;

          try {
            if (data.lineItemId != null && data.slot.getTargeting("vli_ad_type").indexOf("passback") === -1 || issetGoogleAds) {
              // khi có ads của demand hoặc ads của google được render
              onStyleAdContainer[slotId] && onStyleAdContainer[slotId]();
            }

            if (onGoogleDfpResponse[slotId]) {
              onGoogleDfpResponse[slotId](issetGoogleAds);
              onGoogleDfpResponse[slotId] = null;
              onSpecialBidWin[slotId] && (onSpecialBidWin[slotId] = null);
              return;
            }

            if (data.lineItemId != null && data.slot.getTargeting("special_bid").indexOf("true") !== -1 && onSpecialBidWin[slotId]) {
              onSpecialBidWin[slotId]();
              onSpecialBidWin[slotId] = null;
              onGoogleDfpResponse[slotId] && (onGoogleDfpResponse[slotId] = null);
              return;
            }

            if ((data.isEmpty === true || data.lineItemId != null && data.slot.getTargeting("vli_ad_type").indexOf("passback") !== -1) && onGoogleDfpResonseEmpty[slotId]) {
              utlis_vilog("[BannerManager] empty ads on slotId ".concat(slotId, " --------------------- ------------------"));
              onGoogleDfpResonseEmpty[slotId]();
            }
          } catch (e) {
            captureException(e, "[BannerManager - INIT_SCRIPT]");
          }
        });
      });
    }
  }]);

  return BannerManager;
}();

var bam = new bannerManager_BannerManager();
/* harmony default export */ var bannerManager = (bam);
// EXTERNAL MODULE: ./src/plugins_v2/template/outstream_banner.html
var outstream_banner = __webpack_require__(46);
var outstream_banner_default = /*#__PURE__*/__webpack_require__.n(outstream_banner);

// CONCATENATED MODULE: ./src/plugins_v2/outstream_banner.js







var outstream_banner_OBanner = /*#__PURE__*/function () {
  function OBanner() {
    classCallCheck_default()(this, OBanner);

    this.adPlayer = null;
    this.outstreamID = null;
    this.divID = null;
    this.zId = null;
    this.slotID = null;
    this.bidWon = null;
    this.adElement = null;
    this.isPlaying = false;
    this.isPaused = false;
    this.adInViewPort = false;
    this.bidResonse = [];
    this.heightWrapperAd = null;
    this.widthWrapperAd = null;
    this.iconPause = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="32" height="32" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""> <g> <g xmlns="http://www.w3.org/2000/svg"> <g> <path d="M181.333,0H74.667c-17.643,0-32,14.357-32,32v448c0,17.643,14.357,32,32,32h106.667c17.643,0,32-14.357,32-32V32    C213.333,14.357,198.976,0,181.333,0z" fill="#f5f5f5" data-original="#000000" style="" class=""/> </g> </g> <g xmlns="http://www.w3.org/2000/svg"> <g> <path d="M437.333,0H330.667c-17.643,0-32,14.357-32,32v448c0,17.643,14.357,32,32,32h106.667c17.643,0,32-14.357,32-32V32    C469.333,14.357,454.976,0,437.333,0z" fill="#f5f5f5" data-original="#000000" style="" class=""/> </g> </g> </g></svg>';
    this.iconPlay = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="32" height="32" x="0" y="0" viewBox="0 0 320.001 320.001" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g> <path xmlns="http://www.w3.org/2000/svg" d="M295.84,146.049l-256-144c-4.96-2.784-11.008-2.72-15.904,0.128C19.008,5.057,16,10.305,16,16.001v288  c0,5.696,3.008,10.944,7.936,13.824c2.496,1.44,5.28,2.176,8.064,2.176c2.688,0,5.408-0.672,7.84-2.48l256-144  c5.024-2.848,8.16-8.16,8.16-13.952S300.864,148.897,295.84,146.049z" fill="#f5f5f5" data-original="#000000" style="" class=""/> </g></svg>';
  }

  createClass_default()(OBanner, [{
    key: "eventListener",
    value: function eventListener() {
      _addEventListener("USER_ACTIVE_ON_PAGE", this.playerOBannnerPlay.bind(this));

      _addEventListener("USER_FOCUS_PAGE", this.playerOBannnerPlay.bind(this));

      _addEventListener("USER_OUT_PAGE", this.playerOBannnerPause.bind(this));
    }
  }, {
    key: "renderOutstreamAdTypeBanner",
    value: function renderOutstreamAdTypeBanner(bidWon, adElement, adSlotID, tagId, adWidth, adHeight) {
      utlis_vilog("[OBanner] renderOutstreamAdTypeBanner =========");

      if (!adElement || !bidWon || !adSlotID || !tagId) {
        return;
      }

      this.zId = tagId;
      this.slotID = adSlotID;
      this.bidWon = bidWon;
      this.adElement = adElement;
      this.adWidth = adWidth;
      this.adHeight = adHeight;
      this.createWrapper();
      this.eventListener();
      this.bidResonse.unshift(this.bidWon);
      this.startRender(this.bidResonse);
    }
  }, {
    key: "createWrapper",
    value: function createWrapper() {
      if (!this.adElement) {
        return;
      }

      if (!this.bidWon) {
        return;
      }

      this.outstreamID = this.bidWon.adUnitCode || null;
      this.divID = "vi_obbanner_" + this.bidWon.adUnitCode;
      this.cleanAdwrapper();
      var wrapperWidth = this.adWidth;
      var wrapperHeight = this.adHeight;
      var adWidth = this.adWidth;
      var adHeight = Math.floor(wrapperWidth * 9 / 16);
      var styleLearnMode = "display: flex!important;align-items: center!important;min-height: 60px!important;text-align: start;justify-content:space-between;";
      var styleChildLearnMode = "margin: 25px auto;";

      if (this.adHeight === 600) {
        var hRest = 600 - Math.floor(this.adWidth * 9 / 16);
        styleLearnMode += "height: " + hRest + "px!important;";
        styleChildLearnMode = "margin: 30px auto;";
      }

      if (this.adWidth === 336) {
        styleChildLearnMode = "margin: 30px auto;";
      }

      var styleWrapperCss = "margin: 0 auto;position: relative;background:unset!important;display:flex!important;width: " + adWidth + "px!important; height: " + adHeight + "px!important;border-right: 1px solid #dee2e6;";

      if (this.adHeight === 250 && this.adWidth === 970) {
        adHeight = 250;
        adWidth = Math.floor(250 * 16 / 9);
        styleWrapperCss = "margin: 0 auto;position: relative!important;background:unset!important;display:flex!important;width: " + adWidth + "px!important; height: " + adHeight + "px!important;float: left!important;border-right: 1px solid #dee2e6;";
        styleLearnMode = "display: flex!important;align-items: center;min-height: 60px;text-align: start;justify-content:space-between;height: " + adHeight + "px!important;";
        styleChildLearnMode = "margin: 40px auto;";
      }

      this.heightWrapperAd = adHeight;
      this.widthWrapperAd = adWidth;
      var objData = {
        outstreamID: this.outstreamID,
        divID: this.divID,
        titleHandler: "Play",
        iconHandler: this.iconPlay,
        vi_outstreamCss: "style=\"background:#fff!important;position:relative!important; transition: height 0.5s ease-in-out 0s; width: " + wrapperWidth + "px!important; height: " + wrapperHeight + "px!important; overflow: hidden; background-color: rgba(0, 0, 0, 0.6); display: block; margin: 0 auto;border: 1px solid #dee2e6;\"",
        wrapper_outstreamCss: "style=\"" + styleWrapperCss + "\"",
        learnMoreCss: "style=\"" + styleLearnMode + "\"",
        childLearnModeCss: "style=\"" + styleChildLearnMode + "\""
      };
      var obHtml = Object(help["g" /* handleBarsCustom */])(outstream_banner_default.a, objData);
      this.adElement.parentElement.innerHTML = obHtml;
      document.getElementById('btn_toggle_' + this.outstreamID).addEventListener("click", function () {
        if (this.adPlayer && this.isPlaying) {
          this.isPaused = true;
          this.playerOBannnerPause();
          return;
        }

        if (this.adPlayer && !this.isPlaying) {
          this.isPaused = false;
          this.playerOBannnerPlay();
          return;
        }
      }.bind(this));
      return;
    }
  }, {
    key: "playerOBannnerPause",
    value: function playerOBannnerPause() {
      if (this.adPlayer) {
        this.adPlayer.pause();
        this.isPlaying = false;
        this.toggleBtnControl();
      }
    }
  }, {
    key: "playerOBannnerPlay",
    value: function playerOBannnerPlay() {
      if (this.adPlayer && this.isPaused === false && this.adInViewPort) {
        this.adPlayer.resume();
        this.isPlaying = true;
        this.toggleBtnControl();
      }
    }
  }, {
    key: "cleanAdwrapper",
    value: function cleanAdwrapper() {
      var adWraps = document.getElementsByClassName("vi_outstream");

      for (var i = 0; i < adWraps.length; i++) {
        if (adWraps[i].id && adWraps[i].id === this.outstreamID) {
          adWraps[i].parentNode.removeChild(adWraps[i]);
        }
      }
    }
  }, {
    key: "startRender",
    value: function startRender() {
      var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      var vastUrl = null;
      var vastXml = null;
      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {},
        adsVolumeChange: function adsVolumeChange() {}
      };

      if (bids.length > 0) {
        var bidWon = bids[0];
        plugins_v2_constants.dataBidWin[this.slotID] = bidWon;
        bids.splice(0, 1);

        if (bidWon.mediaType === "video") {
          vastUrl = bidWon.vastUrl || null;
          vastXml = bidWon.vastXml || null;

          callbacks.start = function () {}.bind(this);

          callbacks.error = function (errorCode) {
            errorRenderVideo({
              e: errorCode,
              b: bidWon.bidderCode,
              t: 'outstream',
              c: bidWon.creativeId
            });
            this.startRender(bids);
          }.bind(this);

          callbacks.impression = function () {
            bidWon.px && bidWon.px();
          }.bind(this);

          data = {
            vastUrl: vastUrl,
            vastXml: vastXml
          };

          if (vastUrl === null && vastXml === null) {
            this.startRender(bids);
          }

          this.playVast(data, callbacks);
          return;
        }
      }
    }
  }, {
    key: "playVast",
    value: function playVast(data, callbacks) {
      utlis_vilog("[OBanner] Play vast data:");
      utlis_vilog(data);
      var viPlayer = new vlPlayer({
        baseDomain: plugins_v2_constants.rootDomain
      });
      this.adPlayer = viPlayer.play({
        type: 'outstream',
        vastUrl: data.vastUrl ? data.vastUrl : null,
        vastXml: data.vastXml ? data.vastXml : null,
        divID: this.divID,
        adHeight: this.heightWrapperAd,
        volumeControl: true,
        start: function () {
          this.isPlaying = true;
          this.toggleBtnControl();
          utlis_vilog("[OBanner] Vast Event Start");
          callbacks.start && callbacks.start();
          this.remainingProgressBar();

          if (this.adPlayer) {
            this.addLinkLearnMore();
          }
        }.bind(this),
        complete: function () {
          utlis_vilog("[OBanner] Vast Event Complete");

          if (this.adPlayer) {
            this.adPlayer.pause();
            this.isPlaying = false;
          }

          callbacks.complete && callbacks.complete();
        }.bind(this),
        error: function (errorEvent) {
          utlis_vilog("[OBanner] Vast Event Error");
          callbacks.error && callbacks.error(errorEvent.getErrorCode());
        }.bind(this),
        impression: function () {
          utlis_vilog("[OBanner] Vast Event Impression");
          callbacks.impression && callbacks.impression();
        }.bind(this),
        hidden: function () {
          this.isPlaying = false;
          this.toggleBtnControl();
          utlis_vilog("[OBanner] Vast Event Hidden");
          callbacks.hidden && callbacks.hidden();
        }.bind(this),
        adsVolumeChange: function (currentAdsVolumn) {
          utlis_vilog("[OBanner] Vast Event VolumeChange");
          callbacks.adsVolumeChange && callbacks.adsVolumeChange(currentAdsVolumn);
        }.bind(this),
        videoPaused: function () {
          utlis_vilog("[OBanner] Vast Event Paused");
          callbacks.videoPaused && callbacks.videoPaused();
          this.isPlaying = false;
          this.toggleBtnControl();
        }.bind(this),
        videoResume: function () {
          utlis_vilog("[OBanner] Vast Event Resume");
          callbacks.videoResume && callbacks.videoResume();
          this.isPlaying = true;
          this.toggleBtnControl();
        }.bind(this)
      });
    }
  }, {
    key: "toggleBtnControl",
    value: function toggleBtnControl() {
      if (!document.getElementById('btn_toggle_' + this.outstreamID)) {
        return;
      }

      var btnToggle = document.getElementById('btn_toggle_' + this.outstreamID);

      if (this.isPlaying) {
        btnToggle.title = "Pause";
        btnToggle.innerHTML = this.iconPause;
        btnToggle.style.display = "none";
      } else {
        btnToggle.title = "Play";
        btnToggle.innerHTML = this.iconPlay;
        btnToggle.style.display = "block";
      }
    }
  }, {
    key: "addLinkLearnMore",
    value: function addLinkLearnMore() {
      try {
        if (!this.adPlayer) {
          return;
        }

        var adEvent = this.adPlayer.getAdEvent();

        if (adEvent) {
          var urlLink = null;
          utlis_vilog(adEvent.g.clickThroughUrl);

          if (adEvent.g && adEvent.g.clickThroughUrl) {
            urlLink = adEvent.g.clickThroughUrl;
          }

          if (urlLink) {
            var btnReadMore = document.getElementById("btn_learn_more_" + this.outstreamID);

            if (btnReadMore) {
              btnReadMore.addEventListener("click", function () {
                window.open(urlLink, "_blank");
              }.bind(this));
            }
          }
        }
      } catch (error) {
        utlis_vilog(error);
      }
    }
  }, {
    key: "remainingProgressBar",
    value: function remainingProgressBar() {
      var mWidth = this.widthWrapperAd;
      var timePlay = this.adPlayer.getAdsManager().getRemainingTime();
      var element = document.getElementById("progress_" + this.outstreamID);

      if (timePlay < 0) {
        timePlay = plugins_v2_constants.adRefreshTime;
      }

      var range = Math.floor(mWidth / timePlay);
      var identity = setInterval(function () {
        if (range >= mWidth) {
          clearInterval(identity);
        } else {
          if (this.isPlaying) {
            range += Math.floor(mWidth / timePlay);
            element.style.width = range + 'px';
            element.style.transition = "width 1s ease-in-out 0s";
            element.style.webkitTransition = "width 1s ease-in-out 0s";
          }
        }
      }.bind(this), 1000);
    }
  }]);

  return OBanner;
}();

/* harmony default export */ var plugins_v2_outstream_banner = (outstream_banner_OBanner);
// CONCATENATED MODULE: ./src/plugins_v2/display.js






var onHiddenVliIcon = {};
var onShowVliIcon = {};

_addEventListener("INIT_SCRIPT", function () {
  googletag.cmd.push(function () {
    googletag.pubads().addEventListener('slotRenderEnded', function (data) {
      var slotId = data.slot.getSlotElementId();

      if (data.lineItemId != null && data.slot.getTargeting("hb_bidder").length > 0) {
        // trường hợp có demand win -> show icon vli trên ads
        if (onShowVliIcon[slotId]) {
          onShowVliIcon[slotId](data.slot.getTargeting("hb_width")[0], data.slot.getTargeting("hb_height")[0]);
        }
      } else {
        // trường hợp ADX win hoặc slot trả về passback -> hide icon vli trên ads
        if (onHiddenVliIcon[slotId]) {
          onHiddenVliIcon[slotId]();
        }
      }
    });
  });
});

function display_displayBanner(adSlot) {
  if (!plugins_v2_constants.displaySlot) {
    utlis_vilog("[New Display] Constants.displaySlot is null");
    return;
  }

  ;

  if (!plugins_v2_constants.displaySlot[adSlot]) {
    utlis_vilog("[New Display] Constants.displaySlot[adSlot] is null - " + adSlot);
    return;
  }

  ;
  var displaySlot = plugins_v2_constants.displaySlot[adSlot];
  var adElements = document.getElementsByClassName(plugins_v2_constants.adClass);

  if (adElements.length == 0) {
    utlis_vilog("[New Display] adElements.length == 0 - " + adSlot);
    return;
  }

  ;
  utlis_vilog("[New Display] Start display adSlot: " + adSlot);

  if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
    displaySlot.display_type = "return_passback";
  }

  var activeMobileAdTransform = document.documentElement.clientWidth < 728 && displaySlot.w > 480 ? true : false;
  var adWidth = displaySlot.w;
  var adHeight = displaySlot.h; // chuyển các ad slot có kích thước lớn về size 300x250 khi ở trên mobile

  if (activeMobileAdTransform) {
    adWidth = 300;
    adHeight = 250;
  }

  var adUnitSize = [adWidth, adHeight];

  var _loop = function _loop() {
    var _adunitList = [];
    var adWrapper = adElements[i];

    if (adWrapper.dataset.adSlot != adSlot || adWrapper.dataset.id) {
      return "continue";
    }

    var adSlotID = adSlot + "_" + generateUniqueAdID();
    var adSlotContainerID = "container_".concat(adSlotID);
    var adContainerHtml = "<vli id=\"".concat(adSlotContainerID, "\" style=\"display:block!important;position:relative!important;margin:0 auto!important;visibility: visible;\"><vli style=\"display:block;visibility: visible;\" id=\"").concat(adSlotID, "\"></vli></vli>");
    adWrapper.dataset.id = adSlotID;
    adWrapper.innerHTML = adContainerHtml;
    adWrapper.style.setProperty("display", "block", "important");
    adWrapper.style.setProperty("margin", "0 auto", "important");

    if (mobileDetect()) {
      adWrapper.style.setProperty("width", "initial", "important");
      adWrapper.style.setProperty("height", "initial", "important");
      adWrapper.style.setProperty("min-width", adWidth + "px", "important");
      adWrapper.style.setProperty("min-height", adHeight + "px", "important");
    } else {
      adWrapper.style.setProperty("width", adWidth + "px", "important");
      adWrapper.style.setProperty("height", adHeight + "px", "important");
    }

    if (plugins_v2_constants.biddingTest === "on") {
      displaySlot.display_type = "";
    } // add adunit


    var adunit = JSON.parse(JSON.stringify(displaySlot.adunit));
    adunit.code = adSlotID;
    adunit.bids = getBidsForAdUnit(adUnitSize.join("_"));

    if (displaySlot.display_type === "return_passback") {
      adunit.bids = [];
    }

    if (activeMobileAdTransform) {
      adunit.mediaTypes.banner.sizes = [adUnitSize];
    }

    _adunitList.push(adunit);

    var viObanner = null;

    if (displaySlot.display_type === "outstream_banner" && ["300x250", "336x280", "970x250", "300x600"].includes(displaySlot.w + "x" + displaySlot.h)) {
      //  add unit của outstream đối với định dạng outstream banner
      var adunitExt = JSON.parse(JSON.stringify(displaySlot.adunitExt));
      adunitExt.code = adSlotID + "_ext";

      var _size = getSizeOutstreamBanner(adWidth, adHeight);

      if (!adunitExt.mediaTypes || adunitExt.mediaTypes == null || isObjectEmpty(adunitExt.mediaTypes)) {
        adunitExt.mediaTypes = mediaTypesAdFormatVideo('outstream', _size);
      } else {
        if (adunitExt.mediaTypes && adunitExt.mediaTypes.video && adunitExt.mediaTypes.video) {
          adunitExt.mediaTypes.video.playerSize = _size;
        }
      }

      if (!adunitExt.bids) return {
        v: void 0
      }; //add renderer

      adunitExt.renderer = adunitExt.renderer || {
        url: '',
        render: function render() {}
      };

      _adunitList.push(adunitExt);

      viObanner = new plugins_v2_outstream_banner();
    }

    var viewPortDetect = newViewPortDetect(adWrapper, {
      threshold: [51]
    });
    viewPortDetect.inViewPort(function () {
      if (viObanner) {
        try {
          viObanner.adInViewPort = true;
          viObanner.playerOBannnerPlay();
        } catch (e) {
          captureException(e, "[Display - viewPortDetect.inViewPort]");
        }
      }
    });
    viewPortDetect.outViewPort(function () {
      if (viObanner) {
        try {
          viObanner.adInViewPort = false;
          viObanner.playerOBannnerPause();
        } catch (e) {
          captureException(e, "[Display - viewPortDetect.outViewPort]");
        }
      }
    });
    var passbackScriptUrl = getPassbackScriptUrl(displaySlot, adSlotID, adWidth, adHeight);
    var passbackScript = passbackScriptUrl != "" ? '<script type="text/javascript" src="' + passbackScriptUrl + '"><\/script>' : "";
    var newBannerAdSlot = {
      adSlotCode: adSlotID,
      divId: adSlotID,
      tagId: displaySlot.zid,
      floorPrice: displaySlot.floorPrice,
      adWidth: adWidth,
      adHeight: adHeight,
      requestSizes: adunit.mediaTypes.banner.sizes,
      adRefreshTime: plugins_v2_constants.reloadMode === "signal" ? 0 : plugins_v2_constants.bannerRefreshTime,
      nextAdAfterViewPortTime: plugins_v2_constants.bannerRefreshTimeInViewPort,
      adWrapper: adWrapper,
      reloadMode: plugins_v2_constants.reloadMode,
      adloadType: plugins_v2_constants.adloadType,
      passbackContent: passbackScript,
      adUnits: _adunitList,
      viewPortDetect: viewPortDetect,
      renderAd: function renderAd(bidWon) {
        if (bidWon.mediaType === "video") {
          if (viObanner) {
            viObanner.renderOutstreamAdTypeBanner(bidWon, newBannerAdSlot.getAdElement(), adSlotID, newBannerAdSlot.tagId, adWidth, adHeight);
          }

          return;
        } else {
          _renderAd(bidWon, newBannerAdSlot.getAdElement(), adSlotID, adWidth, adHeight);

          onShowVliIcon[adSlotID](bidWon.width, bidWon.height);
          return;
        }
      },
      passBack: function passBack(pbScript) {
        onHiddenVliIcon[adSlotID]();

        if (pbScript == "") {
          return;
        }

        if (plugins_v2_constants.pbRender === "iframe") {
          renderPassbackInIframe(newBannerAdSlot.getAdElement(), adSlotID, adWidth, adHeight, pbScript);
        } else {
          newBannerAdSlot.getAdElement().innerHTML = pbScript;
          renderPassbackInRoot(newBannerAdSlot.getAdElement(), passbackScriptUrl);
        }

        if (adWidth > 1 && adHeight > 1) {
          var adContainer = adWrapper.querySelector("#" + adSlotContainerID);
          adContainer.style.setProperty("width", "".concat(adWidth, "px"), "important");
          adContainer.style.setProperty("height", "".concat(adHeight, "px"), "important");
        }

        newBannerAdSlot.onHidePassback();
      },
      onHidePassback: function onHidePassback() {
        if (window[plugins_v2_constants.tagName].displayConfig.hideOnPassback === true) {
          var adContainer = adWrapper.querySelector("#" + adSlotContainerID);
          adContainer.style.display = 'none';
          adWrapper.style.setProperty("width", "unset", "important");
          adWrapper.style.setProperty("height", "unset", "important");
          return;
        }
      },
      onShowAdContainer: function onShowAdContainer() {
        if (window[plugins_v2_constants.tagName].displayConfig.hideOnPassback === true) {
          var adContainer = adWrapper.querySelector("#" + adSlotContainerID);
          adContainer.style.setProperty("display", "block", "important");
          adWrapper.style.setProperty("width", "".concat(adWidth, "px"), "important");
          adWrapper.style.setProperty("height", "".concat(adHeight, "px"), "important");
          return;
        }
      },
      buildBannerFromNative: function buildBannerFromNative(bidWon) {
        return getNativeAd({
          width: adWidth,
          height: adHeight,
          adId: bidWon.adId,
          pubUrl: window.location.href
        });
      },
      onStartDFPRequest: function onStartDFPRequest() {
        onHiddenVliIcon[adSlotID]();
      },
      getAdElement: function getAdElement() {
        var adEl = adWrapper.querySelector("#" + adSlotID);

        if (adEl != null) {
          return adEl;
        } // xử lý trường hợp khi render pasback thì pub replace content trong div adWrapper nên khi tạo lại ad element cần remove hết html mà pub đã in vào adWrapper (ví dụ: integral-calculator.com)


        adWrapper.innerHTML = adContainerHtml;
        return adWrapper.querySelector("#" + adSlotID);
      },
      getAdVliIcon: function getAdVliIcon() {
        try {
          var iconEl = adWrapper.querySelector("#__icon_" + adSlotID);

          if (iconEl != null) {
            return iconEl;
          }

          var el = renderViIcon(adSlotID);
          el.style.setProperty("display", "none", "important");

          if (adWrapper.querySelector("#" + adSlotContainerID)) {
            adWrapper.querySelector("#" + adSlotContainerID).append(el);
          }

          return el;
        } catch (e) {
          captureException(e, "[Display - getAdVliIcon]");
          return null;
        }
      },
      issetAdElement: function issetAdElement() {
        var adEl = adWrapper.querySelector("#" + adSlotID);

        if (adEl == null) {
          return false;
        }

        return true;
      }
    };

    onShowVliIcon[adSlotID] = function (_adWidth, _adHeight) {
      try {
        if (_adWidth > 1 && _adHeight > 1 && plugins_v2_constants.dataBidWin && plugins_v2_constants.dataBidWin[adSlotID] && plugins_v2_constants.dataBidWin[adSlotID].mediaType != "video") {
          var adContainer = adWrapper.querySelector("#" + adSlotContainerID);
          adContainer.style.setProperty("width", "".concat(_adWidth, "px"), "important");
          adContainer.style.setProperty("height", "".concat(_adHeight, "px"), "important");
        }

        newBannerAdSlot.getAdVliIcon().style.cssText = "position: absolute!important; bottom: 0px!important; left: 0px!important; display: inline-block !important;";

        if (plugins_v2_constants.dataBidWin && plugins_v2_constants.dataBidWin[adSlotID] && plugins_v2_constants.dataBidWin[adSlotID].mediaType === "video") {
          newBannerAdSlot.getAdVliIcon().style.setProperty("display", "none", "important");
        }
      } catch (e) {
        captureException(e, "[Display - onShowVliIcon]");
      }
    };

    onHiddenVliIcon[adSlotID] = function () {
      try {
        newBannerAdSlot.getAdVliIcon().style.setProperty("display", "none", "important");
      } catch (e) {
        captureException(e, "[Display - onHiddenVliIcon]");
      }
    };

    var _addToBannerManager = function addToBannerManager() {
      _addToBannerManager = function addToBannerManager() {};

      bannerManager.addAdSlot(newBannerAdSlot);
    };

    if (plugins_v2_constants.adloadType == "lazy_load") {
      var clearViewportDetect = function clearViewportDetect() {};

      clearViewportDetect = isInViewPort(adWrapper, function () {
        _addToBannerManager();

        clearViewportDetect();
      }, function () {}, {
        threshold: [10]
      });

      try {
        // ước lượng thời gian bid trước khi scroll đến vị trí của adslot dựa trên khoảng cách của adslot đến view port để thực hiện bid trước khi kéo đến -> ads hiển thị nhanh nhất có thể khi in view port
        var adToViewPortSpace = 0;

        if (adWrapper.getBoundingClientRect().top > 0) {
          adToViewPortSpace = adWrapper.getBoundingClientRect().top - window.innerHeight;
        } else {
          adToViewPortSpace = Math.abs(adWrapper.getBoundingClientRect().bottom);
        }

        if (adToViewPortSpace > 0) {
          var timeOutToRequestBid = Math.round(adToViewPortSpace / 1600);
          setTimeout(_addToBannerManager, timeOutToRequestBid * 1000);
          utlis_vilog("TimeOutToRequestBid: ".concat(timeOutToRequestBid));
        }
      } catch (e) {
        _addToBannerManager();

        captureException(e, "[Display - addToBannerManager]");
      }
    } else {
      _addToBannerManager();
    }
  };

  for (var i = 0; i < adElements.length; i++) {
    var _ret = _loop();

    if (_ret === "continue") continue;
    if (typeof_default()(_ret) === "object") return _ret.v;
  }
}

function _renderAd(bidWon, adElement, adSlotId, adWidth, adheight) {
  try {
    if (bidWon.specialBid) {
      var iframeDoc = renderIframeForSmartBanner(adElement, adSlotId, adWidth, adheight);

      if (navigator.userAgent && navigator.userAgent.toLowerCase().indexOf('firefox/') > -1) {
        var firefoxVerRegx = /firefox\/([\d\.]+)/;
        var firefoxVer = navigator.userAgent.toLowerCase().match(firefoxVerRegx)[1]; // grabs the text in the 1st matching group

        if (firefoxVer && parseInt(firefoxVer, 10) < 67) {
          iframeDoc.open('text/html', 'replace');
        }
      }

      iframeDoc.write(bidWon.ad);
      iframeDoc.close();
      return;
    }

    if (plugins_v2_constants.noneSafeFrameBidder.indexOf(bidWon.bidderCode) !== -1 || plugins_v2_constants.safeFrame !== 'on' || bidWon.mediaType == "native") {
      var _iframeDoc = renderIframeForSmartBanner(adElement, adSlotId, adWidth, adheight);

      vlipb.renderAd(_iframeDoc, bidWon.adId);
    } else {
      adElement.innerHTML = '<div id="vli_sf_' + adSlotId + '"></div>';
      renderSafeFrame('vli_sf_' + adSlotId, {
        width: adWidth,
        height: adheight
      }, bidWon.ad);
    }
  } catch (e) {
    captureException(e, "[Display - renderAd]");
  }
}



function renderPassbackInIframe(adElement, adSlotId, adWidth, adHeight, passbackScript) {
  try {
    var iframeDoc = renderIframeForSmartBanner(adElement, adSlotId, adWidth, adHeight);
    iframeDoc.open();
    iframeDoc.write(passbackScript);
    iframeDoc.close();
  } catch (e) {
    captureException(e, "[Display - renderPassbackInIframe]");
  }
}

function renderPassbackInRoot(adElement, passbackScriptUrl) {
  try {
    var pbScript = document.createElement("script");
    pbScript.src = passbackScriptUrl;

    pbScript.onload = function () {
      setTimeout(function () {
        var scripts = adElement.getElementsByTagName('script');

        if (scripts.length > 0) {
          var scriptExcutes = [];
          var scLoad = 0;
          var scLoaded = 0;

          var scriptExcuter = function scriptExcuter() {
            if (scLoad === scLoaded) {
              scriptExcutes.forEach(function (script) {
                Function(script)();
              });
            }
          };

          for (var i = 0; i < scripts.length; i++) {
            if (scripts[i].src) {
              scLoad++;
            } else {
              scriptExcutes.push(scripts[i].innerText);
            }
          }

          for (var _i = 0; _i < scripts.length; _i++) {
            if (scripts[_i].src) {
              var scriptLoader = document.createElement("script");
              scriptLoader.src = scripts[_i].src;

              scriptLoader.onload = function () {
                scLoaded++;
                scriptExcuter();
              };

              document.getElementsByTagName('head')[0].appendChild(scriptLoader);
            }
          }

          if (!scLoad) scriptExcuter();
        }
      }, 100);
    };

    adElement.appendChild(pbScript);
  } catch (e) {
    captureException(e, "[Display - renderPassbackInRoot]");
  }
}

function getPassbackScriptUrl(displaySlot, divID, adWidth, adHeight) {
  try {
    var typeLinkPbNormal = plugins_v2_constants.pbRender === "iframe" ? 'passback' : 'pbk';
    var deviceType = mobileDetect() ? "mobile" : "pc";
    var pbUrl = '//' + plugins_v2_constants.passbackDomain + '/' + typeLinkPbNormal + '/?t=' + plugins_v2_constants.passBackUpdateTime + '&d=' + plugins_v2_constants.domainID + '&z=' + displaySlot.zid + '&divID=' + divID + '&w=' + adWidth + "&h=" + adHeight;

    if (displaySlot.display_type === "return_passback") {
      // get custom passback thay vì passback của pub
      pbUrl += "&c=1";
    }

    if (displaySlot.noPublisherPb === true) {
      for (var i = 0; i < plugins_v2_constants.defaultPb.length; i++) {
        var pbObj = plugins_v2_constants.defaultPb[i];

        if (pbObj.size.length <= 0 || pbObj.size.length > 0 && pbObj.size.indexOf(adWidth + '_' + adHeight) != -1) {
          if (pbObj.device.length <= 0 || pbObj.device.length > 0 && pbObj.device.indexOf(deviceType) != -1) {
            if (pbObj.country.length <= 0 || pbObj.country.length > 0 && pbObj.country.indexOf(plugins_v2_constants.VIGeo) != -1) {
              pbUrl = '//' + plugins_v2_constants.passbackDomain + '/passbacktarget/' + pbObj.time + '/?t=' + plugins_v2_constants.pbRender + '&pbID=' + pbObj.id + '&d=' + plugins_v2_constants.domainID + '&z=' + displaySlot.zid + '&divID=' + divID + '&w=' + adWidth + "&h=" + adHeight;
              break;
            }
          }
        }
      }
    }

    return pbUrl;
  } catch (e) {
    captureException(e, "[Display - getPassbackScriptUrl]");
  }

  return "";
}
// CONCATENATED MODULE: ./src/plugins_v2/videodiscovery.js





function videoDiscovery() {
  var Widgets;
  var thisAdSlot;
  var adSlotElem;
  var adIframeElem = null;
  var adIframeElemBaseCss = "";
  var isLoadIntersectionObserverPolyfill = false;
  var disable_fixed = false;
  var adConfig;
  var adIframe;
  var currentVolume = 0;
  var adsInViewPort = false;
  var isFullscreen = false;
  var adData;
  var vidData;
  var adVidEl = null;
  var adWidth;
  var adHeight;
  var adPlayerHeight;
  var viContentHeight;
  var itemPerPage;
  var adWrapper;
  var adsManager = null;
  var floorPrice;
  var playBackGround = false; //số lần request bid

  var numBidRequest = 0; //số lần request bid tối đa

  var maxBidRequest = 10; //thời gian bid lại nếu trước đó có quảng cáo

  var refreshTime = plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid_dfp" ? plugins_v2_constants.reBidDiscoveryTypeDfp : plugins_v2_constants.reBidDiscoveryTypePostbid; //thời gian bid lại nếu trước đó KHÔNG có quảng cáo

  var noBidTime = 5;
  var bottomDistance = mobileDetect() ? 40 : 20; // kiểm tra focus màn hình

  var isFocus = document.hasFocus();
  var adUnitCodes = [];
  var adPlayed = false;

  var getAdConfig = function getAdConfig() {
    var defaultConfig = {
      random: true,
      type: null,
      noFixedVideo: false,
      fixedOnMobile: false,
      fixedPosition: "bottom left",
      //"bottom right", "bottom left", "top right", "top left"
      showCloseVideoDiscoverButton: false,
      hideStaticVideo: false,
      hidePlaylist: false,
      alwayDisplayAd: true,
      scrollPercent: null,
      modeTopArticles: false,
      disableCache: false,
      sizeStickyVideo: mobileDetect() ? 256 : 410,
      renderMode: "root",
      customLogo: {
        type: 'default',
        // default custom nouse
        hideOnFullFixed: true,
        icon: plugins_v2_constants.brandIcon,
        text: plugins_v2_constants.brandName,
        url: "//" + plugins_v2_constants.brandHomepage + "/?ref=" + window.location.hostname
      },
      language: {
        play: "Play",
        pause: "Pause",
        next: "Next",
        previous: "Previous",
        nowPlaying: "Now\\aPlaying",
        enableVolume: "Enable Volume",
        disableVolume: "Disable Volume",
        fullscreen: "Fullscreen",
        collapse: "Collapse",
        disableFixedVideo: "Disable Fixed Video",
        hideVideoDiscovery: "Hide Video Discovery"
      }
    };
    cloneDefaultConfig({
      videoDiscoverConfig: defaultConfig
    });

    if (window[plugins_v2_constants.tagName] && window[plugins_v2_constants.tagName].sizeStickyVideo) {
      defaultConfig.sizeStickyVideo = handlerSizeStickyVideo(window[plugins_v2_constants.tagName].sizeStickyVideo);
    }

    if (!window[plugins_v2_constants.tagName].videoDiscoverConfig) return defaultConfig;
    var s = window[plugins_v2_constants.tagName].videoDiscoverConfig;
    var language = {};
    if (window[plugins_v2_constants.tagName].videoDiscoverConfig.language) language = window[plugins_v2_constants.tagName].videoDiscoverConfig.language;

    for (var key in defaultConfig) {
      if (key === "language") {
        for (var k in defaultConfig[key]) {
          if (typeof language[k] === "undefined") language[k] = defaultConfig[key][k];
        }

        s[key] = language;
      } else if (typeof s[key] === "undefined") {
        s[key] = defaultConfig[key];
      }
    }

    if (s["noFixedVideo"] === false) {// s["alwayDisplayAd"] = false;
    }

    return s;
  },
      calcSlider = function calcSlider(_adWidth) {
    var itemPerPage = 5;

    if (_adWidth <= 600) {
      itemPerPage = 4;
    }

    if (_adWidth <= 400) {
      itemPerPage = 3;
    }

    if (_adWidth <= 300) {
      itemPerPage = 3;
    }

    if (_adWidth <= 200) {
      itemPerPage = 2;
    }

    var itemWidth = parseInt(_adWidth / itemPerPage) - 4;
    var viContentHeight = parseInt(itemWidth * 9 / 16);
    return {
      viContentHeight: viContentHeight,
      itemPerPage: itemPerPage
    };
  },
      getAds = function getAds() {
    adPlayed = false;
    if (!adData.adunit && !adData.adunitExt) return;
    adWrapper = adIframe.querySelector('#vi__adwrapper');
    var adunit = adData.adunit;
    var adunitExt = adData.adunitExt; // OutstreamSlot

    if (!adunit.bids && !adunitExt.bids) return;

    if (!adunit.mediaTypes || adunit.mediaTypes == null) {
      adunit.mediaTypes = mediaTypesAdFormatVideo('videodiscovery');
    }

    adunit.code = thisAdSlot;
    adunit.bids = utlis_buildBids(adunit.bids, floorPrice);
    vlipb.removeAdUnit(adunit.code);
    vlipb.addAdUnits(adunit);
    adUnitCodes.push(adunit.code);

    if (adunit.bids.length > 0) {
      plugins_v2_constants.auctionLogs[thisAdSlot] = {
        bidder: putOutBidders(adunit.bids),
        preAuction: ''
      };
    } // init adunitExt Outstream


    if (adunitExt) {
      if (!adunitExt.mediaTypes || adunitExt.mediaTypes == null) {
        adunitExt.mediaTypes = mediaTypesAdFormatVideo('videodiscoveryExt');
      }

      adunitExt.bids = utlis_buildBids(adunitExt.bids, floorPrice);
      adunitExt.renderer = adunitExt.renderer || {
        url: '',
        render: function render() {}
      };
      vlipb.removeAdUnit(adunitExt.code);
      vlipb.addAdUnits(adunitExt);
      adUnitCodes.push(adunitExt.code);

      if (adunitExt.bids.length > 0) {
        plugins_v2_constants.auctionLogs[adunitExt.code] = {
          bidder: putOutBidders(adunitExt.bids),
          preAuction: ''
        };
      }
    }

    adWrapper.classList.add("running");
    utlis_requestBids(adUnitCodes, [], bidBackHandler, 'videodiscover');
    numBidRequest++;
  },
      bidBackHandler = function bidBackHandler(adUnitCodes) {
    if (plugins_v2_constants.isVideoRunning && plugins_v2_constants.dfpApproved === "on") {
      utlis_vilog("[Video Discovery] Other Video is running");
      refreshBid(refreshTime);
      return;
    }

    var responses = [];
    adUnitCodes.forEach(function (currentDivId) {
      var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

      utlis_vilog("[Video Discovery] Response for: " + currentDivId);
      utlis_vilog(_rsp);
      responses = responses.concat(_rsp);
    });
    var responseSorted = sortResponseBids(responses);
    utlis_vilog("[Video Discovery] All Sorted Responses");
    utlis_vilog(responseSorted);
    responseSorted = responseSorted.filter(function (bid) {
      if (bid.mediaType === "video" && bid.cpm < floorPrice) {
        vlipb.markWinningBidAsUsed({
          adId: bid.adId
        });
        return false;
      }

      return true;
    });

    if (plugins_v2_constants.videoRequestMode === "dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery) === false) {
      var bidSelected = null;

      if (responseSorted.length > 0) {
        bidSelected = responseSorted[0];
      }

      var pixelToken = "";
      var adUnitWin = adData.adunit;

      if (bidSelected) {
        var pixel = {
          type: "hb_video",
          divID: thisAdSlot,
          zoneID: adData.zid,
          bidder: bidSelected.bidderCode,
          cpm: bidSelected.cpm
        };
        pixelToken = getPixelToken(pixel);

        if (adData.adunit && adData.adunit.code == bidSelected.adUnitCode) {
          adUnitWin = adData.adunit;
        }

        if (adData.adunitExt && adData.adunitExt.code == bidSelected.adUnitCode) {
          adUnitWin = adData.adunitExt;
        }
      }

      var cust_params = {
        vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery.accId,
        hb_domain: plugins_v2_constants.domainName,
        section: "blog",
        anotherKey: "anotherValue",
        vli_adtype: "discovery",
        impression_url: plugins_v2_constants.statsDomain,
        token: pixelToken,
        vli_network: "true"
      };

      if (plugins_v2_constants.refererDomainID) {
        cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
      } else {
        cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? adData.zid : "videodiscovery_" + adData.zid;
      }

      var vastUrl = buildDfpVideoUrl({
        params: {
          iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery)
        },
        adUnit: adUnitWin,
        bidWon: bidSelected,
        customParams: cust_params
      });
      utlis_vilog("[VIDEO DISCOVERY] New Vast Url: " + vastUrl);
      if (bidSelected) vlipb.markWinningBidAsUsed({
        adId: bidSelected.adId
      });
      var callbacks = {
        start: function start() {
          var dataBid = {
            adId: bidSelected ? bidSelected.adId : "unknown from Adx",
            bidder: bidSelected ? bidSelected.bidder : "Adx",
            creativeId: bidSelected ? bidSelected.creativeId : "unknown from Adx"
          };
          pushInfoDebugOverlay(thisAdSlot, dataBid);
          viReportObserver(bidSelected ? bidSelected.creativeId : "", "VideoDiscovery");
        },
        error: function error() {
          startRender(responseSorted);
        }
      };
      playVast({
        vastUrl: vastUrl,
        vastXml: null
      }, callbacks);
    } else {
      startRender(responseSorted);
    }
  },
      startRender = function startRender() {
    var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
    var vastUrl = null;
    var vastXml = null;
    var data = {};
    var callbacks = {
      start: function start() {},
      impression: function impression() {},
      error: function error() {},
      hidden: function hidden() {},
      adsVolumeChange: function adsVolumeChange() {}
    };

    if (bids.length > 0) {
      var bidWon = bids[0];
      vlipb.markWinningBidAsUsed({
        adId: bidWon.adId
      });
      bids.splice(0, 1);
      vastUrl = bidWon.vastUrl || null;
      vastXml = bidWon.vastXml || null;

      callbacks.start = function () {
        pushInfoDebugOverlay(thisAdSlot, bidWon);
        viReportObserver(bidWon ? bidWon.creativeId : "", "VideoDiscovery");
      };

      callbacks.error = function (errorCode) {
        startRender(bids);
      };

      callbacks.impression = function () {
        var pixel = {
          type: "hb_video",
          divID: thisAdSlot,
          zoneID: adData.zid,
          bidder: bidWon.bidderCode,
          cpm: bidWon.cpm
        };
        savePixel(pixel);
        utlis_vilog("[Video Discovery] Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm);
      };

      data = {
        vastUrl: vastUrl,
        vastXml: vastXml
      };

      if (vastUrl == null && vastXml == null) {
        startRender(bids);
      } else {
        playVast(data, callbacks);
      }
    } else {
      caseTwo();
    }
  },
      caseTwo = function caseTwo() {
    if (plugins_v2_constants.videoRequestMode === "postbid_dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery) === false) {
      var cust_params = {
        vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery.accId,
        hb_domain: plugins_v2_constants.domainName,
        section: "blog",
        anotherKey: "anotherValue",
        vli_adtype: "discovery",
        vli_network: "true"
      };

      if (plugins_v2_constants.refererDomainID) {
        cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
      } else {
        cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? adData.zid : "videodiscovery_" + adData.zid;
      }

      var vastUrl = buildDfpVideoUrl({
        params: {
          iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery)
        },
        adUnit: adData.adunit,
        customParams: cust_params
      });
      utlis_vilog("[VIDEO DISCOVERY] caseTwo - New Vast Url: " + vastUrl);
      var callbacks = {
        start: function start() {
          var dataBid = {
            adId: "unknown from Adx",
            bidder: "Adx",
            creativeId: "unknown from Adx"
          };
          pushInfoDebugOverlay(thisAdSlot, dataBid);
          viReportObserver("", "VideoDiscovery");
        },
        error: function error() {
          tryWithCustomVast();
        }
      };
      playVast({
        vastUrl: vastUrl
      }, callbacks);
    }

    if (plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid") {
      tryWithCustomVast();
    }
  },
      tryWithCustomVast = function tryWithCustomVast() {
    utlis_vilog("[Video Discovery] Try with Custom Vast");
    initAnalytic(plugins_v2_constants.pixelID);
    var vastArr = [];
    if (adData.vast) vastArr = JSON.parse(JSON.stringify(adData.vast));

    for (var i = 0; i < vastArr.length; i++) {
      vastArr[i].link = linkFilter(vastArr[i].link);
    }

    renderCustomVast(vastArr);
  },
      renderCustomVast = function renderCustomVast(vastArray) {
    var data = {};
    var callbacks = {
      start: function start() {},
      impression: function impression() {},
      error: function error() {},
      hidden: function hidden() {},
      adsVolumeChange: function adsVolumeChange() {}
    };

    if (vastArray.length > 0) {
      var currentVast = vastArray[0];
      vastArray.splice(0, 1);

      if (!currentVast.link || !currentVast.bidder) {
        utlis_vilog("[Video Discovery] Custom Vast: vast link|vast bidder empty");
        renderCustomVast(vastArray);
        utlis_vilog("[Video Discovery] Custom Vast: Try another vast");
      } else {
        callbacks.start = function () {
          var dataBid = {
            adId: "unknown from Custom Vast",
            bidder: "Custom Vast",
            creativeId: "unknown from Custom Vast"
          };
          pushInfoDebugOverlay(thisAdSlot, dataBid);
          utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Start");
        }, callbacks.complete = function () {
          utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Complete");
        }, callbacks.impression = function () {
          utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Impression");
          pushTracking(plugins_v2_constants.domainName, "OK - " + currentVast.bidder, "ok", "ok");
        }, callbacks.error = function (errorCode) {
          utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Error: " + errorCode);
          pushTracking(plugins_v2_constants.domainName, "ERROR - " + currentVast.bidder, "er", "er");
          renderCustomVast(vastArray);
        }, callbacks.hidden = function () {
          utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Hidden");
        }, callbacks.adsVolumeChange = function (currentAdsVolumn) {
          utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: adsVolumeChange");
        };
        data = {
          vastUrl: currentVast.link,
          vastXml: null
        };
        playVast(data, callbacks);
      }
    } else {
      utlis_vilog("[Video Discovery] Custom Vast: vastArr[] empty");
      adWrapper.style.cssText = "";
      adWrapper.innerHTML = "";
      adWrapper.classList.remove("running");
      clearVsbAction(thisAdSlot);
      refreshBid(noBidTime);
      plugins_v2_constants.isVideoRunning = false;
      playContent();
    }
  },
      playVast = function playVast(data, callbacks) {
    if (plugins_v2_constants.dfpApproved === "on") {
      if (plugins_v2_constants.instreamTag && plugins_v2_constants.isPlayedInstream === false) {
        plugins_v2_constants.funcPlayDiscovery = function () {
          playVast(data, callbacks);
        };

        return;
      }

      if (window[plugins_v2_constants.tagName].videoDiscoverConfig.instantLoad == false) {
        utlis_vilog("[Video Discovery] Video Slider is active");
        return;
      }
    }

    clearVsbAction(thisAdSlot);
    utlis_vilog("[Video Discovery] Play vast data:");
    utlis_vilog(data);
    var viPlayer = new vlPlayer({
      baseDomain: plugins_v2_constants.rootDomain,
      brandLogo: plugins_v2_constants.brandLogo
    });
    adsManager = viPlayer.play({
      type: "instreamBanner",
      vastUrl: data.vastUrl ? data.vastUrl : null,
      vastXml: data.vastXml ? data.vastXml : null,
      adElement: adWrapper,
      volume: currentVolume,
      volumeControl: true,
      start: function start() {
        Widgets.pause();
        Widgets.showPlayStatus();
        Widgets.setVolume(currentVolume);
        playBackGround = true;

        if (adConfig.alwayDisplayAd === true || adConfig.alwayDisplayAd === "right") {
          isInViewPort(adSlotElem, inViewP, outViewP, {
            threshold: [0]
          });
        } else {
          observeElementInViewport.isInViewport(adIframeElem, {
            threshold: [100]
          }).then(function (s) {
            utlis_vilog("[Video Discovery] view port detect___" + s);

            if (!s && getBrowser() !== "msie") {
              adsManager.pause();
            }
          });
        }

        if (adConfig.modeTopArticles && adIframe) {
          adIframe.querySelector("#vi__btn_read").style.display = "none";
        }

        plugins_v2_constants.isVideoRunning = true;
        plugins_v2_constants.listAdPlaying.videoDiscovery = true;
        utlis_vilog("[Video Discovery] Vast Event Start");
        callbacks.start && callbacks.start();
      },
      complete: function complete() {
        utlis_vilog("[Video Discovery] Vast Event Complete");
        callbacks.complete && callbacks.complete();
      },
      error: function error(errorEvent) {
        utlis_vilog("[Video Discovery] Vast Event Error");
        utlis_vilog(errorEvent);
        callbacks.error && callbacks.error(errorEvent.getErrorCode());
      },
      impression: function impression() {
        utlis_vilog("[Video Discovery] Vast Event Impression");
        adPlayed = true;
        callbacks.impression && callbacks.impression();
      },
      adClicked: function adClicked() {
        callbacks.adClicked && callbacks.adClicked();

        _eventFire("VIDEO_DISCOVERY_AD_CLICKED");
      },
      videoClicked: function videoClicked() {
        callbacks.videoClicked && callbacks.videoClicked();

        _eventFire("VIDEO_DISCOVERY_VIDEO_CLICKED");
      },
      hidden: function hidden() {
        utlis_vilog("[Video Discovery] Vast Event Hidden");

        if (adPlayed === false) {
          callbacks.error && callbacks.error();
          return;
        }

        if (adConfig.alwayDisplayAd === true || adConfig.alwayDisplayAd === "right") {
          setTimeout(function () {
            inViewP();
          }, 8000);
        }

        Widgets.setVolume(currentVolume);
        adWrapper.style.cssText = "";
        adWrapper.innerHTML = "";
        adWrapper.classList.remove("running");
        clearVsbAction(thisAdSlot);
        refreshBid(refreshTime);
        playContent();
        callbacks.hidden && callbacks.hidden();
        plugins_v2_constants.isVideoRunning = false;
        plugins_v2_constants.listAdPlaying.videoDiscovery = false;

        if (adConfig.modeTopArticles && adIframe) {
          adIframe.querySelector("#vi__btn_read").style.display = "block";
        }
      },
      adsVolumeChange: function adsVolumeChange(currentAdsVolumn) {
        plugins_v2_constants.adsVolume = currentAdsVolumn;
        currentVolume = currentAdsVolumn;
        plugins_v2_constants.changeAdsVolume = true;
        utlis_vilog("[Video Discovery] Vast Event VolumeChange");
        callbacks.adsVolumeChange && callbacks.adsVolumeChange(currentAdsVolumn);
      }
    });
    addVsbAction({
      divID: thisAdSlot,
      hidden: function hidden() {
        utlis_vilog("[Video Discovery] visibilChange__out");
        if (adsManager) adsManager.pause();
      },
      watching: function watching() {
        utlis_vilog("[Video Discovery] visibilChange__active");
        if (adsManager && adsInViewPort) playVideoAd();
      }
    });
  },
      refreshBid = function refreshBid(delayTime) {
    adsManager = null;
    utlis_vilog("[Video Discovery] Refresh Bid after " + delayTime + " second");

    if (numBidRequest >= maxBidRequest) {
      utlis_vilog("[Video Discovery] Refresh Bid Limit");
      return;
    }

    if (window[plugins_v2_constants.tagName].videoDiscoverConfig.instantLoad == false && plugins_v2_constants.dfpApproved === "on") {
      utlis_vilog("[Video Discovery] Video Slider is active");
      return;
    }

    noRefreshRubicon("video");
    setTimeout(function () {
      if (plugins_v2_constants.isVisible) {
        adWrapper.classList.add("running");
        utlis_requestBids(adUnitCodes, [], bidBackHandler, 'videodiscover');
        numBidRequest++;
      } else {
        var vsbKey = "video_discovery_refresh_queue";
        addVsbAction({
          divID: vsbKey,
          hidden: function hidden() {},
          watching: function watching() {
            clearVsbAction(vsbKey);
            adWrapper.classList.add("running");
            utlis_requestBids(adUnitCodes, [], bidBackHandler, 'videodiscover');
            numBidRequest++;
          }
        });
      }
    }, delayTime * 1000);
  },
      inViewP = function inViewP() {
    if (!adIframeElem) return;
    if (isFullscreen) return;

    if (adsManager) {
      adsManager.resize(adWidth, adPlayerHeight, 'NORMAL');
    }

    var adIframeElemWidth = mobileDetect() ? Math.round(window.innerWidth / 100 * 80) : adConfig.sizeStickyVideo;
    adIframeElem.style.setProperty("transition", "all 0.15s ease 0s");
    adIframeElem.style.setProperty("left", "-" + adIframeElemWidth + "px", "important");
    if (adConfig.showCloseVideoDiscoverButton === true) adIframe.querySelector("#vi__hide_videodiscover").style.display = '';
    setTimeout(function () {
      adIframeElem.style.cssText = adIframeElemBaseCss + "width: " + adWidth + "px!important;height: " + adVidEl.clientHeight + "px!important;";
      adIframe.classList.remove('player-fixed');
      adIframe.querySelector("#vi__adcontainer").style.height = adPlayerHeight + 'px';
      adIframe.querySelector("#vi__disable__fixed").style.display = 'none';
    }, 150);
  },
      outViewP = function outViewP() {
    if (adsManager) {
      if (isFullscreen) return;
      if (mobileDetect() && !adConfig.fixedOnMobile) plugins_v2_constants.preventRqBid = true;
      if (adIframe.classList.contains('player-fixed-disabled') || mobileDetect() && !adConfig.fixedOnMobile) return;
      if (Widgets) adIframe.querySelector('.vi__player').classList.add('vi__player_fixed');
      var pos = adConfig.alwayDisplayAd === "right" ? "right" : "left";
      pos = adConfig.fixedPosition.includes("right") ? "right" : "left";
      var adIframeElemWidth = adConfig.sizeStickyVideo;
      var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);
      var cssSet = adIframeElemBaseCss + "position:fixed!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + 48) + "px!important;";

      if (adConfig.modeTopArticles) {
        cssSet = adIframeElemBaseCss + "position:fixed!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + 74) + "px!important;";
      }

      cssSet += (adConfig.fixedPosition.includes("bottom") ? "bottom:" + bottomDistance + "px!important;" : "top:0px!important;") + pos + ":-" + adIframeElemWidth + "px!important";
      adIframeElem.style.cssText = cssSet;
      setTimeout(function () {
        adIframeElem.style.setProperty("transition", "all 0.3s ease 0s");
        adIframeElem.style.setProperty(pos, "10px", "important");
      }, 300);
      adIframe.querySelector("#vi__adcontainer").style.height = adIframeElemHeight + 'px';
      if (adConfig.showCloseVideoDiscoverButton === true) adIframe.querySelector("#vi__hide_videodiscover").style.display = 'none';
      adIframe.classList.add('player-fixed');
      adIframe.querySelector("#vi__disable__fixed").style.display = 'flex';
      var mWidth = adConfig.sizeStickyVideo;
      var mHeight = Math.round(mWidth / 16 * 9);
      adsManager.resize(mWidth, mHeight, 'NORMAL');
      adIframe.querySelector("#vi__disable_fixed_btn_icon").addEventListener("click", function () {
        if (adConfig.hideStaticVideo) plugins_v2_constants.preventRqBid = true;
        adIframe.classList.add('player-fixed-disabled');
        inViewP();
        disable_fixed = true;
      });
    }
  },
      playVideoAd = function playVideoAd() {
    if (!isFocus) {
      return;
    }

    if (!adsInViewPort) {
      return;
    }

    if (!plugins_v2_constants.isVisible) {
      return;
    }

    if (adsManager) {
      adsManager.resume();
    }
  },
      playContent = function playContent() {
    if (!isFocus) {
      return;
    }

    if (!playBackGround && Widgets.giveBackPropertyPlayer() === false && adConfig.modeTopArticles === false) {
      if (Widgets) {
        Widgets.pause();
        Widgets.showPlayStatus();
      }

      return;
    }

    if (!adsInViewPort) {
      return;
    }

    if (!plugins_v2_constants.isVisible) {
      return;
    }

    if (Widgets && !adsManager) {
      Widgets.play();
      Widgets.showPauseStatus();
    }
  },
      listenerEventDiscovery = function listenerEventDiscovery() {
    _addEventListener("VIDEO_DISCOVERY_CLEAN_ADS", onRemoveAdsByHeavyAd);

    _addEventListener("VIDEO_DISCOVERY_RE_INITIALIZE", onInitAds);
  },
      onRemoveAdsByHeavyAd = function onRemoveAdsByHeavyAd() {
    if (adSlotElem) {
      adSlotElem.innerHTML = "";
      adSlotElem.style.cssText = "";
    }

    onCleanAds();
  },
      onInitAds = function onInitAds() {
    utlis_vilog("[VideoDiscovery] onInitAds HeavyAdIntervention");

    try {
      init(thisAdSlot);
    } catch (error) {
      utlis_vilog(error);
    }
  },
      run = function run() {
    listenerEventDiscovery();
    adWidth = adVidEl.parentNode ? adVidEl.parentNode.offsetWidth : adVidEl.offsetWidth;
    if (adWidth > 640) adWidth = 640;
    if (adWidth < 300) adWidth = 300;
    floorPrice = adData.floorPrice ? adData.floorPrice : 0;
    adPlayerHeight = adWidth / 16 * 9;
    viContentHeight = calcSlider(adWidth).viContentHeight;

    if (adConfig.hidePlaylist === true) {
      viContentHeight = 0;
    }

    adHeight = adPlayerHeight + viContentHeight + 7;
    var adVidElBaseCss = 'margin:0 auto!important;width:' + adWidth + 'px!important;max-width:' + adWidth + 'px!important;position:relative!important;';

    if (adHeight) {
      adVidElBaseCss += 'height:' + (adConfig.modeTopArticles ? adHeight + 18 : adHeight) + 'px!important;';
    }

    if (adConfig.hideStaticVideo) {
      adVidElBaseCss += 'max-height:0px!important;overflow:hidden!important;';
    } else {
      adVidElBaseCss += 'max-height:' + (adConfig.modeTopArticles ? adHeight + 18 : adHeight) + 'px!important;';
    }

    adVidEl.style.cssText = adVidElBaseCss;
    itemPerPage = calcSlider(adWidth).itemPerPage;
    adSlotElem = document.getElementById(thisAdSlot);

    if (!adSlotElem) {
      return;
    }

    adIframeElemBaseCss = 'display:block!important;overflow:hidden!important;transform:scale(1)!important;width:' + adWidth + 'px!important;z-index: 2147483647!important;height:' + (adConfig.modeTopArticles ? adHeight + 18 : adHeight) + 'px!important;';
    adVidEl.innerHTML = '<vli id="ifr_' + thisAdSlot + '"></vli>';
    adIframeElem = document.getElementById('ifr_' + thisAdSlot);

    if (!adIframeElem) {
      return;
    }

    adIframeElem.style.cssText = adIframeElemBaseCss;
    var customConfig = {
      renderElement: adIframeElem,
      renderMode: 'root',
      format: adConfig.modeTopArticles ? 'toparticles' : 'videodiscovery',
      videoData: JSON.parse(JSON.stringify(vidData)),
      random: adConfig.random,
      disableCache: adConfig.disableCache,
      customLogo: {
        logo: plugins_v2_constants.brandLogo,
        logoIcon: adConfig.customLogo.icon,
        logoName: adConfig.customLogo.text
      },
      hidePlaylist: adConfig.hidePlaylist
    };
    Widgets = new widgetContent(customConfig);
    Widgets.render();
    adIframe = Widgets.getAdIframeWrapper();

    if (adConfig.showCloseVideoDiscoverButton === true) {
      var styleHide = document.createElement("style");
      styleHide.innerHTML = '#vi__hide_videodiscover{z-index:99999999;position:absolute;left:10px;top:15px;width:16px;height:16px;cursor:pointer;border: 1px solid rgba(255, 255, 255, 0.6);background-color: #ccc;}#vi__hide_videodiscover:after,#vi__hide_videodiscover:before{position: absolute; right: 7px; content: \' \'; height: 16px; width: 2px; background-color: #fff;}#vi__hide_videodiscover:before{-webkit-transform:rotate(45deg);transform:rotate(45deg);}#vi__hide_videodiscover:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);}';
      adIframe.insertBefore(styleHide, adIframe.firstChild);
      var viHide = document.createElement("div");
      viHide.id = "vi__hide_videodiscover";
      viHide.title = adConfig.language.hideVideoDiscovery;
      adIframe.insertBefore(viHide, adIframe.firstChild);
    }

    var flPosition = "flex-start";

    if (mobileDetect()) {
      flPosition = adConfig.fixedPosition.includes("right") ? "flex-start" : "flex-end";
    } else {
      flPosition = adConfig.fixedPosition.includes("right") ? "flex-end" : "flex-start";
    }

    var viDisable = document.createElement('div');
    viDisable.id = 'vi__disable__fixed';
    viDisable.style.cssText = 'margin: 8px;display:none;justify-content:' + flPosition + ' ;';
    viDisable.innerHTML = '<vli id="vi__disable_fixed_btn_icon" style="width: 32px; height: 32px; background-color: rgba(0, 0, 0, 0.5); box-shadow: rgb(0, 0, 0) 0px 0px 6px 0px; border-radius: 32px; display: block;">' + '<svg width="32" height="38"><circle cx="16" cy="16" r="16" fill="grey"></circle><line x1="11" y1="11" x2="21" y2="21" style="stroke:rgb(255,255,255);stroke-width:3"></line><line x1="21" y1="11" x2="11" y2="21" style="stroke:rgb(255,255,255);stroke-width:3"></line></svg></vli>';
    adIframe.insertBefore(viDisable, adIframe.firstChild);

    if (!adConfig.modeTopArticles) {
      var toggleFullscreen = function toggleFullscreen() {
        if (!adIframe.classList.contains('player-fullscreen')) {
          isFullscreen = true;
          clearFixed();
          document.body.style.overflow = 'hidden';
          adIframe.classList.add('player-fullscreen');
          adVidEl.insertAdjacentHTML('afterbegin', '<div id="' + overlayID + '" style="width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); position: fixed; top: 0; left: 0; z-index: 2147483647;"></div>');
          var adIframeElemWidth = window.innerWidth <= 900 ? Math.round(window.innerWidth / 100 * 90) : 900;
          var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);
          var perPage = calcSlider(adIframeElemWidth).itemPerPage;
          var contentHeight = calcSlider(adIframeElemWidth).viContentHeight;
          adIframeElem.style.cssText = adIframeElemBaseCss + "position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + contentHeight + 26) + "px!important;";
          adIframe.querySelector("#vi__adcontainer").style.height = adIframeElemHeight + 'px';
          adIframe.querySelector("#vi__content").style.minHeight = contentHeight + 'px';
          adIframe.querySelector("#vi__toggle_fullscreen").style.display = 'flex';
          adIframe.querySelector("#vi__toggle_fullscreen").style.height = 'auto';
          if (adConfig.showCloseVideoDiscoverButton === true) adIframe.querySelector("#vi__hide_videodiscover").style.display = 'none';
          adIframe.querySelector("#vi__toggle_fullscreen_icon").style.display = "block";
          adIframe.querySelector('.fullscreen').style.display = "none";
          adIframe.querySelector('.vi__player').classList.add('vi__fullscreen');
          var overlayDiv = adVidEl.querySelector('#' + overlayID);
          overlayDiv.addEventListener('click', toggleFullscreen, false);
          overlayDiv.addEventListener('touchmove', function (e) {
            e.preventDefault();
          }, false);
          Widgets.reSiema(perPage);
        } else {
          isFullscreen = false;
          document.body.style.overflow = '';
          adVidEl.querySelector('#' + overlayID).parentNode.removeChild(adVidEl.querySelector('#' + overlayID));
          adIframe.classList.remove('player-fullscreen');
          adIframeElem.style.cssText = adIframeElemBaseCss;
          adIframe.querySelector("#vi__adcontainer").style.height = adIframeElemHeight + 'px';
          adIframe.querySelector("#vi__content").style.minHeight = viContentHeight + 'px';
          adIframe.querySelector("#vi__toggle_fullscreen").style.display = '';
          if (adConfig.showCloseVideoDiscoverButton === true) adIframe.querySelector("#vi__hide_videodiscover").style.display = '';
          adIframe.querySelector('.vi__player').classList.remove('vi__fullscreen');
          Widgets.reSiema(itemPerPage);
          adIframe.querySelector("#vi__toggle_fullscreen_icon").style.display = "none";
          adIframe.querySelector('.fullscreen').style.display = "block";
          observeElementInViewport.isInViewport(adSlotElem).then(function (s) {
            utlis_vilog("Is In Viewport: " + s);
            s ? adConfig.hideStaticVideo === true ? outVP() : inVP() : adConfig.noFixedVideo === true ? inVP() : outVP();
          });
        }
      };

      adIframe.querySelector('.fullscreen').addEventListener("click", toggleFullscreen);
      adIframe.querySelector("#vi__toggle_fullscreen_icon").addEventListener('click', toggleFullscreen, false);
      var playerVideo = adIframe.querySelector('video');
      playerVideo.addEventListener('volumechange', function () {
        var isMute = playerVideo.muted;

        if (isMute) {
          currentVolume = 0;
          return;
        }

        currentVolume = 1;
      }, false);
      var overlayID = 'player-fullscreen-overlay';
    }

    if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(thisAdSlot, true);
    if (adConfig.showCloseVideoDiscoverButton === true) adIframe.querySelector("#vi__hide_videodiscover").addEventListener("click", function () {
      plugins_v2_constants.preventRqBid = true;
      adSlotElem.parentNode.removeChild(adSlotElem);
      onCleanAds();
    });

    plugins_v2_constants.distanceBottomDiscovery.increase = function () {
      if (!adIframeElem) {
        return;
      }

      bottomDistance = mobileDetect() ? 110 : 105;
      adIframeElem.style.bottom = bottomDistance + "px";
    };

    plugins_v2_constants.distanceBottomDiscovery.reduction = function () {
      if (!adIframeElem) {
        return;
      }

      bottomDistance = mobileDetect() ? 40 : 20;
      adIframeElem.style.bottom = bottomDistance + "px";
    };

    plugins_v2_constants.controlDiscovery.play = function () {
      if (adsManager) {
        adsManager.resume();
      }

      if (Widgets) {
        Widgets.play();
        Widgets.showPauseStatus();
      }
    };

    plugins_v2_constants.controlDiscovery.pause = function () {
      if (adsManager) {
        adsManager.pause();
      }

      if (Widgets) {
        Widgets.pause();
        Widgets.showPlayStatus();
      }
    }; //viewPortDetect


    if (typeof window.IntersectionObserver !== 'function') {
      isLoadIntersectionObserverPolyfill = true;
    } //viewPortDetect Player


    var inView = function inView() {
      adsInViewPort = true;
      setTimeout(function () {
        playVideoAd();
      }, 200);
      playContent();
    };

    var outView = function outView() {
      adsInViewPort = false;
      if (adsManager) adsManager.pause();

      if (isLoadIntersectionObserverPolyfill && !disable_fixed) {
        playContent();
      } else {
        if (Widgets) {
          Widgets.pause();
          Widgets.showPlayStatus();
        }
      }
    };

    isInViewPort(adIframeElem, inView, outView, {
      threshold: [0]
    });

    var clearFixed = function clearFixed() {
      adIframeElem.style.cssText = adIframeElemBaseCss + "width: " + adWidth + "px!important;height: " + lastAdIframeElemHeight + "px!important;";
      adIframe.classList.remove('player-fixed');
      adIframe.querySelector("#vi__adcontainer").style.height = adPlayerHeight + 'px';
      adIframe.querySelector("#vi__disable__fixed").style.display = 'none';
    };

    addVsbAction({
      divID: "VDContentPlayer",
      hidden: function hidden() {
        if (Widgets) {
          Widgets.pause();
          Widgets.showPlayStatus();
        }
      },
      watching: function watching() {
        if (Widgets && !adsManager && adsInViewPort) {
          playContent();
        }

        ;
      }
    });
    addVsbInterval(function () {
      getAds();
    }, 200); //viewPortDetect fixed right bottom

    var lastAdIframeElemHeight = adIframeElem.offsetHeight;
    adSlotElem.style.height = lastAdIframeElemHeight + 'px';

    var inVP = function inVP() {
      utlis_vilog("inVP");
      if (isFullscreen) return;
      if (Widgets) adIframe.querySelector('.vi__player').classList.remove('vi__player_fixed');
      clearFixed();
      if (adsManager) adsManager.resize(adWidth, adPlayerHeight, 'NORMAL');
      if (adConfig.showCloseVideoDiscoverButton === true) adIframe.querySelector("#vi__hide_videodiscover").style.display = '';
    };

    var outVP = function outVP() {
      utlis_vilog("outVP");
      if (!adsManager) return;
      if (isFullscreen) return;
      if (mobileDetect() && !adConfig.fixedOnMobile) plugins_v2_constants.preventRqBid = true;
      if (adIframe.classList.contains('player-fixed-disabled') || mobileDetect() && !adConfig.fixedOnMobile) return;
      if (Widgets) adIframe.getElementsByClassName('vi__player')[0].classList.add('vi__player_fixed');
      var adIframeElemWidth = adConfig.sizeStickyVideo;
      var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);

      if (adConfig.modeTopArticles) {
        adIframeElemHeight = adIframeElemHeight + 28;
      }

      var cssSet = adIframeElemBaseCss + "position:fixed!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + 45) + "px!important;";

      if (adConfig.fixedPosition === "top right") {
        cssSet += "top:0px!important;right:10px!important";
      } else if (adConfig.fixedPosition === "bottom right") {
        cssSet += "bottom:" + bottomDistance + "px!important;right:10px!important";
      } else if (adConfig.fixedPosition === "top left") {
        cssSet += "top:0!important;left:10px!important";
      } else if (adConfig.fixedPosition === "bottom left") {
        cssSet += "bottom:" + bottomDistance + "px!important;left:10px!important";
      } else {
        cssSet += "bottom:" + bottomDistance + "px!important;right:10px!important";
      }

      adIframeElem.style.cssText = cssSet;
      adIframe.querySelector("#vi__adcontainer").style.height = (adConfig.modeTopArticles ? adIframeElemHeight - 28 : adIframeElemHeight) + 'px';
      if (adConfig.showCloseVideoDiscoverButton === true) adIframe.querySelector("#vi__hide_videodiscover").style.display = 'none';
      adIframe.classList.add('player-fixed');
      adIframe.querySelector("#vi__disable__fixed").style.display = 'flex';

      if (adsManager) {
        var mWidth = adConfig.sizeStickyVideo;
        var mHeight = Math.round(mWidth / 16 * 9);
        adsManager.resize(mWidth, mHeight, 'NORMAL');
      }

      if (adsManager && isLoadIntersectionObserverPolyfill) {
        playVideoAd();
      }

      adIframe.querySelector("#vi__disable_fixed_btn_icon").addEventListener("click", function () {
        if (adConfig.hideStaticVideo) plugins_v2_constants.preventRqBid = true;
        adIframe.classList.add('player-fixed-disabled');
        clearFixed();
        if (adsManager) adsManager.pause();

        if (Widgets) {
          Widgets.pause();
          Widgets.showPlayStatus();
        }

        disable_fixed = true;
      });
    };

    if (adConfig.noFixedVideo === true) {
      inVP();
    } else if (!adConfig.hideStaticVideo) {
      isInViewPort(adSlotElem, inVP, outVP, {
        threshold: [0]
      });
    } else {
      outVP();
    }

    detectFocusScreen(); // bắt sự kiện focus vào màn hình
  },
      onCleanAds = function onCleanAds() {
    plugins_v2_constants.isVideoRunning = false;
    plugins_v2_constants.videoDiscoveryInited = false;
  },
      detectFocusScreen = function detectFocusScreen() {
    window.addEventListener('focus', function (e) {
      if (document.activeElement == document.body) {
        isFocus = true;
        playContent();
        playVideoAd();
      }
    });
    window.addEventListener('blur', function (e) {
      var documentNow = document;

      if (adIframe.tagName == "body") {
        documentNow = adIframe.parentElement;
      }

      if (documentNow.hasFocus()) {
        isFocus = true;
        playContent();
        playVideoAd();
      } else {
        isFocus = false;

        if (Widgets) {
          Widgets.pause();
          Widgets.showPlayStatus();
        }

        if (adsManager) adsManager.pause();
      }
    });
  },
      prepare = function prepare() {
    var getYoutubeID = function getYoutubeID(url) {
      var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
      var match = url.match(regExp);
      return match && match[7].length === 11 ? match[7] : false;
    };

    var getVimeoID = function getVimeoID(url) {
      var regExp = /(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i;
      var match = url.match(regExp);
      return match && match[1] ? match[1] : false;
    };

    var run_default = function run_default() {
      if (adConfig.modeTopArticles) {
        if (!adData.vid || !adData.vid.contents || adData.vid.contents.length < 0) return;

        if (adData.vid && adData.vid.contents.length > 0) {
          if (adData.vid && adData.vid.contents.length > 0) {
            var vidContent = [];
            vidContent.push(adData.vid.contents[0]);
            vidData = vidContent;
          }
        }
      } else {
        if (!plugins_v2_constants.defaultWidget && (!adData.vid.contents || adData.vid.contents.length < 0)) return;
        vidData = plugins_v2_constants.defaultWidget;

        if (adData.vid && adData.vid.contents && adData.vid.contents.length > 0) {
          vidData = adData.vid.contents;
        }
      }

      run();
    };

    var buildPlayerContentsFromXMLDom = function buildPlayerContentsFromXMLDom(XMLDom) {
      vidData = [];
      var items = XMLDom.getElementsByTagName("item");

      if (items.length <= 0) {
        run_default();
        return;
      }

      for (var i = 0; i < items.length; i++) {
        var title, thumb, link, video_url;
        if (!items[i].getElementsByTagName("title")[0]) continue;
        if (!items[i].getElementsByTagName("thumb")[0]) continue;
        if (!items[i].getElementsByTagName("link")[0]) continue;
        if (!items[i].getElementsByTagName("video_url")[0]) continue;
        title = items[i].getElementsByTagName("title")[0].childNodes[0].nodeValue;
        thumb = items[i].getElementsByTagName("thumb")[0].childNodes[0].nodeValue;
        link = items[i].getElementsByTagName("link")[0].childNodes[0].nodeValue;
        video_url = items[i].getElementsByTagName("video_url")[0].childNodes[0].nodeValue;
        var video_id = getYoutubeID(video_url);

        if (video_id !== false) {
          video_url = "/vid/?id=" + video_id + "&t=y";
        } else {
          video_id = getVimeoID(video_url);

          if (video_id !== false) {
            video_url = "/vid/?id=" + video_id + "&t=v";
          }
        }

        var pContent = {
          id: String(i + 1),
          title: title,
          thumb: thumb,
          link: link,
          video_url: {
            "mp4": video_url
          }
        };
        vidData.push(pContent);
      }

      if (vidData.length <= 0) {
        run_default();
        return;
      }

      run();
    };

    if (adData.feed_url) {
      var xhr = new XMLHttpRequest();

      xhr.onreadystatechange = function () {
        if (this.readyState === 4) {
          if (this.status === 200) {
            if (this.responseXML) {
              buildPlayerContentsFromXMLDom(this.responseXML);
            } else {
              run_default();
            }
          } else {
            run_default();
          }
        }
      };

      xhr.open("GET", "//media." + plugins_v2_constants.rootDomain + adData.feed_url, true);
      xhr.timeout = 2000;

      xhr.ontimeout = function () {
        run_default();
      };

      xhr.send();
    } else if (adData.vid && JSON.stringify(adData.vid.contents).indexOf(".m3u8") !== -1 || plugins_v2_constants.defaultWidget && JSON.stringify(plugins_v2_constants.defaultWidget).indexOf(".m3u8") !== -1) {
      loadScript('//' + plugins_v2_constants.staticDomain + '/plugins/hls.js/hls.min.js', false, function () {
        run_default();
      }, function () {
        run_default();
      });
    } else {
      run_default();
    }
  },
      viReportObserver = function viReportObserver(creativeId, adFormat) {
    var vliWrapper = document.getElementById("vi__adwrapper");

    if (!vliWrapper) {
      return;
    }

    var iframeAd = vliWrapper.getElementsByTagName("iframe")[0];
    var jData = {
      "creativeId": creativeId,
      "adFormat": adFormat
    };

    if (iframeAd) {
      reportingObserver(iframeAd, jData);
    }
  },
      init = function init(adSlot, initFromBanner) {
    if (!plugins_v2_constants.instreamSlot) return;
    if (!plugins_v2_constants.instreamSlot[adSlot]) return;
    if (!plugins_v2_constants.defaultWidget && !plugins_v2_constants.instreamSlot[adSlot].vid) return;

    if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
      utlis_vilog("[Video Discovery] Inventory Blocked");
      return;
    }

    var availableSlots = document.getElementsByClassName(plugins_v2_constants.adClass);
    if (availableSlots.length === 0) return;

    for (var i = 0; i < availableSlots.length; i++) {
      if (availableSlots[i].dataset.adSlot !== adSlot) continue;
      if (availableSlots[i].hasChildNodes()) continue;
      adVidEl = availableSlots[i];

      if (adVidEl.id === "") {
        adVidEl.id = adSlot;
      }

      break;
    }

    if (!adVidEl) return;
    adConfig = getAdConfig();

    if (initFromBanner) {
      adConfig.alwayDisplayAd = false;
    }

    if (adConfig.modeTopArticles) {
      adConfig.hidePlaylist = true;
    }

    thisAdSlot = adSlot;
    adData = plugins_v2_constants.instreamSlot[adSlot];
    var showBanner = false;

    if (plugins_v2_constants.dfpApproved === "on") {
      showBanner = validateShowBanner();
    }

    if (plugins_v2_constants.dfpApproved === "off" || showBanner === false) {
      if (!auditFormatSlider()) {
        adConfig.fixedOnMobile = true;
      }
    }

    if (plugins_v2_constants.videoDiscoveryInited) {
      utlis_vilog("[Video Discovery] Video Discovery Inited");
      showBanner = true;
    }

    if (showBanner) {
      convertVideoIntoBanner(adVidEl, adData, adSlot);
      return;
    }

    if (adConfig.hideStaticVideo === true && adConfig.noFixedVideo === true) return;
    plugins_v2_constants.videoDiscoveryInited = true;

    if (adConfig.hideStaticVideo && typeof adConfig.scrollPercent === 'number' && adConfig.scrollPercent >= 0 && adConfig.scrollPercent <= 100) {
      var heightFlag = Math.round(document.body.clientHeight / 100 * adConfig.scrollPercent);
      var inited = false;

      if (document.body.scrollTop > heightFlag || document.documentElement.scrollTop > heightFlag) {
        prepare();
        inited = true;
      } else {
        window.onscroll = function () {
          if (!inited) {
            if (document.body.scrollTop > heightFlag || document.documentElement.scrollTop > heightFlag) {
              prepare();
              inited = true;
            }
          }
        };
      }
    } else {
      prepare();
    }
  };

  return {
    init: init
  };
}
// CONCATENATED MODULE: ./src/plugins_v2/toparticles.js



function topArticles() {
  var thisAdSlot;
  var adConfig, adElement, adWrapper, adWidth, adHeight, playerHeight, infoHeight, playerContents;
  var autoRunTimeout;
  var playerStatus = "pause";
  var adData = null;
  var currentVolume = 0;
  var adsManager, adDisplayWrapper;
  var adsInViewPort = false;
  var floorPrice; //số lần request bid

  var numBidRequest = 0; //số lần request bid tối đa

  var maxBidRequest = 10; //thời gian bid lại nếu trước đó có quảng cáo

  var refreshTime = plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid_dfp" ? 60 : 15; //thời gian bid lại nếu trước đó KHÔNG có quảng cáo

  var noBidTime = 5;
  var adPlayed = false;
  var adUnitCodes = [];

  var getAdConfig = function getAdConfig() {
    var defaultConfig = {
      random: true,
      type: null,
      noFixed: false,
      hideStatic: false,
      fixedOnMobile: false,
      sizeStickyVideo: mobileDetect() ? 256 : 410
    };
    cloneDefaultConfig({
      topArticlesConfig: defaultConfig
    });

    if (window[plugins_v2_constants.tagName] && window[plugins_v2_constants.tagName].sizeStickyVideo) {
      defaultConfig.sizeStickyVideo = handlerSizeStickyVideo(window[plugins_v2_constants.tagName].sizeStickyVideo);
    }

    if (!window[plugins_v2_constants.tagName].topArticlesConfig) return defaultConfig;
    var s = window[plugins_v2_constants.tagName].topArticlesConfig;

    for (var key in defaultConfig) {
      if (typeof s[key] === "undefined") s[key] = defaultConfig[key];
    }

    return s;
  },
      createWrapper = function createWrapper(adElem, divId) {
    var html = '<style>#disableFixedTopArticles{display: none;width: 10px; height: 10px; background-color: rgba(0, 0, 0, 0.65); border-radius: 50%; padding: 5px; cursor: pointer}</style>';
    html += '<div id="disableFixedTopArticles" style="display: none;"><svg display="inherit" enable-background="new 0 0 92.132 92.132" style="box-sizing:unset!important;height:100%;width:100%" version="1.1" viewBox="0 0 92.132 92.132" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path class="active-path" d="m2.141 89.13c1.425 1.429 3.299 2.142 5.167 2.142 1.869 0 3.742-0.713 5.167-2.142l33.591-33.592 33.591 33.592c1.426 1.429 3.299 2.142 5.167 2.142 1.867 0 3.74-0.713 5.167-2.142 2.854-2.854 2.854-7.48 0-10.334l-33.593-33.591 31.869-31.869c2.855-2.853 2.855-7.481 0-10.334-2.853-2.855-7.479-2.855-10.334 0l-31.868 31.868-31.867-31.869c-2.854-2.855-7.481-2.855-10.333 0-2.855 2.853-2.855 7.481 0 10.334l31.868 31.869-33.59 33.591c-2.857 2.853-2.857 7.479-2e-3 10.335z" fill="#fff" data-old_color="#ffffff" data-original="#000000"/></svg></div>';
    html += '<iframe class="viTopArticles" id="ifr_' + divId + '" SRC="about:blank" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" style="width:' + adWidth + 'px; height: ' + adHeight + 'px;"></iframe>';
    adElem.innerHTML = html;
    var iframe = document.getElementById('ifr_' + divId);
    if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(divId, true);
    return getIframeDoc(iframe);
  },
      renderWrapper = function renderWrapper(adWrap) {
    var css_size = calcSize();
    var vi_link = '//' + plugins_v2_constants.brandHomepage + '/?ref=' + window.location.hostname;
    var contents = "";
    var progress = "";
    playerContents.forEach(function (item, k) {
      contents += '<div class="slider-item ' + (k === 0 ? 'show' : '') + '" style="opacity: ' + (k === 0 ? '1' : '0') + ';" data-item-index="' + k + '">';
      contents += '<div class="item">';
      contents += '<div class="item-image" style="animation-duration: 6s; transition: none 0s ease 0s; transform: scale(1);">';
      contents += '<img style="height:100%; width:100%" src="' + item.thumb + '">';
      contents += '</div>';
      contents += '</div>';
      contents += '</div>';
      progress += '<div class="progress-item" data-item-index="' + k + '"><div class="progress-loader" style="transition: none 0s ease 0s; transform: scale(0, 1);"></div></div>';
    });
    var css = '.playWrapper{height: ' + playerHeight + 'px;}.infoWrapper{height:' + infoHeight + 'px;}';
    css += 'body{font-family:"Helvetica Neue","Calibri Light",Roboto,sans-serif}.playWrapper{position:relative}.infoWrapper{position:relative;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;border-bottom:1px solid #d8d8d8}.readmore-link{text-decoration:none;position:relative;display:block;cursor:default;width:100%;height:100%;background-color: #fff;}.player{position:relative;width:100%;height:100%}.slider{width:100%;height:100%;position:absolute;z-index:1;overflow:hidden}.slider-item{position:absolute;overflow:hidden;height:100%;width:100%;transition:opacity .5s ease-in-out}.slider-item .item{position:absolute;width:100%;height:100%}.progress{width:100%;position:absolute;z-index:4;display:inline-flex;bottom:48px}.progress-item{width:100%;background-color:#fff;height:4px;margin:10px 8px 10px 0;cursor:pointer}.progress-item:first-of-type{margin-left:8px}.progress-loader{height:100%;background-color:#e02832;width:100%;transform-origin:0 0;animation-duration:6s;transition:none 0s ease 0s;transform:scale(0,1)}.control{display:flex;justify-content:space-between;position:absolute;float:right;bottom:8px;right:8px;width:128px;height:40px;z-index:4}.control-button{display:block;cursor:pointer;height:24px;width:24px;padding:8px;font-size:0}.control-button .left{margin-left:0}.control-button .right{margin-right:0}.control-button svg{width:24px;height:24px;transition:fill .2s ease-out;fill:#fff}.control-button:hover svg{fill:#e02832}.control-button.right svg{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1)}.top-article{position:absolute;width:136px;height:29px;font-size:12px;left:16px;top:16px;font-family:inherit;z-index:3}.top-article>div{float:left;height:100%;display:flex;align-items:center;justify-content:center}.top-article .ta-text{color:#0d192d;background-color:#fff;text-transform:uppercase;width:96px}.top-article .ta-slide{color:#fff;background-color:#000;width:40px}.top-article>div>div{white-space:nowrap}.big-play-button{z-index:5;position:absolute;width:80px;height:80px;left:50%;top:50%;transform:translate(-50%,-50%);fill:#e02832;opacity:.8;cursor:pointer}.gradient-container{position:absolute;bottom:0;height:70px;width:100%;background:linear-gradient(to bottom,rgba(255,0,0,0),rgba(13,25,45,.4));z-index:2;pointer-events:none}.gradient-container.top{bottom:auto;top:0;background:linear-gradient(to top,rgba(255,0,0,0),rgba(13,25,45,.4))}.headline-container{height:auto;width:100%;position:absolute;left:10px;z-index:3;top:50%;transform:translateY(-50%);max-width:75%}.headline-container .headline{width:100%;overflow:hidden;font-family:inherit;color:#0d192d;position:relative;font-size:20px;line-height:initial}.headline-container .headline:hover{color:#e02832}.headline-container .headline .vertical-line{background-color:#e02832;width:8px;height:0;float:left;transition:height .5s ease}.headline-container .headline .headline-placeholder{float:left;color:inherit;cursor:pointer;max-width:calc(100% - 8px);min-height:28px;background-color:#f1f1f1;border-top-right-radius:5px;border-bottom-right-radius:5px}.headline-container .headline .headline-placeholder .text{color:inherit;font-family:inherit;height:100%;display:inline-block;margin:5px 10px;max-width:100%;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.readmore{position:absolute;top:50%;transform:translateY(-50%);right:0;font-size:14px;text-transform:uppercase;color:#0d192d;display:inline-flex;font-family:inherit;cursor:pointer;border-radius:2px}.readmore-text{width:93px;height:40px;display:flex;line-height:40px;align-items:center;justify-content:flex-end;text-align:right;font-weight:500}.readmore-icon{width:24px;height:24px;padding:8px 8px 8px 0;display:block;font-size:0;margin-left:2px}.readmore-icon svg{fill:#e02832;width:24px;height:24px;display:block}.size-sm .readmore-text,.size-xs .readmore-text{display:none}.size-sm .progress,.size-xs .progress{bottom:18px}.size-sm .control,.size-xs .control{bottom:50%;right:50%;transform:translate(50%,50%);opacity:0;visibility:hidden;transition:all .4s ease-in-out;transition-property:opacity,visibility}.size-sm .playWrapper:hover .control,.size-xs .playWrapper:hover .control{opacity:1;visibility:visible;transition:all .4s ease-in-out;transition-property:opacity,visibility}.pause .size-sm .playWrapper:hover .control,.pause .size-xs .playWrapper:hover .control{display:none}.size-sm .big-play-button,.size-xs .big-play-button{width:56px;height:56px}.size-sm .headline-container .headline .headline-placeholder .text,.size-xs .headline-container .headline .headline-placeholder .text{font-size:16px}.size-xs .progress{display:none}.size-sm .top-article{width:115px;height:24px;font-size:11px;top:8px;left:8px}.size-sm .top-article .ta-text{width:85px}.size-sm .top-article .ta-slide{width:30px}.size-xs .top-article{width:97px;height:20px;font-size:10px;top:5px;left:5px}.size-xs .top-article .ta-text{width:75px}.size-xs .top-article .ta-slide{width:22px}.vi__custom_logo{position:absolute;top:10px;right:10px;height:20px;max-width:20px;overflow:hidden;-webkit-transition:max-width .5s ease-in-out;transition:max-width .5s ease-in-out;z-index:3;display:-webkit-box;cursor:pointer}.vi__custom_logo .vi__svg_content{display:block;width:20px;height:20px;overflow:hidden}.vi__custom_logo .vi__text_content{height:20px;margin-left:5px;font-size:13px;color:#fff;white-space: nowrap;}.playWrapper:hover .vi__custom_logo{max-width:150px}.adDisplayWrapper{display:none}';
    var html = '<style>' + css + '</style>';
    html += '<div id="widgetWrapper" class="' + css_size + '">';
    html += '<div class="playWrapper">';
    html += '<a href="' + vi_link + '" target="_blank">';
    html += '<div class="vi__custom_logo noclick" id="vi__custom_logo">';
    html += '<span class="vi__svg_content">';
    html += '<img src="//' + plugins_v2_constants.brandIcon + '"/>';
    html += '</span>';
    html += '<span class="vi__text_content">' + plugins_v2_constants.brandName + '</span>';
    html += '</div>';
    html += '</a>';
    html += '<a class="readmore-link" href="' + vi_link + '" target="_blank">';
    html += '<div class="player">';
    html += '<div class="slider">';
    html += contents;
    html += '</div>';
    html += '<div class="progress noclick">';
    html += progress;
    html += '</div>';
    html += '<div class="control noclick">';
    html += '<div class="control-button left" id="button-left">';
    html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-104 -176)"><g transform="translate(124.753 197.331) rotate(180)"><rect style="fill: none;" width="24" height="24" transform="translate(20.753 21.331) rotate(180)"></rect><g><g><rect width="5" height="18" transform="translate(13.753 0.331)"></rect><path d="M8,5V24l15-9.5Z" transform="translate(-9.068 -5.101)"></path></g></g></g></g></svg>';
    html += '</div>';
    html += '<div class="control-button center" id="button-center">';
    html += '<svg style="display: none;" id="button-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g id="ic-pause-large-dark" transform="translate(-96 -232)"><g transform="translate(-128 -292)"><rect width="4.958" height="17.85" transform="translate(234.208 544.85) rotate(180)"></rect><rect width="4.958" height="17.85" transform="translate(243.133 544.85) rotate(180)"></rect><rect style="fill:none" width="24" height="24" transform="translate(224 524)"></rect></g></g></svg>';
    html += '<svg style="display: block;" id="button-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-53 -232)"><g transform="translate(-176 -296)"><rect style="fill: none;" width="24" height="24" transform="translate(229 528)"></rect><path d="M8,5V25L28,15Z" transform="translate(224 525)"></path></g></g></svg>';
    html += '</div>';
    html += '<div class="control-button right" id="button-right">';
    html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-104 -176)"><g transform="translate(124.753 197.331) rotate(180)"><rect style="fill: none;" width="24" height="24" transform="translate(20.753 21.331) rotate(180)"></rect><g><g><rect width="5" height="18" transform="translate(13.753 0.331)"></rect><path d="M8,5V24l15-9.5Z" transform="translate(-9.068 -5.101)"></path></g></g></g></g></svg>';
    html += '</div>';
    html += '</div>';
    html += '<div class="top-article">';
    html += '<div class="ta-text">';
    html += '<div>Top articles</div>';
    html += '</div>';
    html += '<div class="ta-slide">';
    html += '<div>1/5</div>';
    html += '</div>';
    html += '</div>';
    html += '<div class="big-play-button noclick" id="big-play-button">';
    html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><defs></defs><g transform="translate(-1328 -1352)"><circle cx="40" cy="40" r="40" transform="translate(1328 1352)"></circle><g transform="translate(1370.753 1402.899) rotate(180)"><g transform="translate(3.608 3)"><path style="fill: #fff;" d="M0,0V32L28.355,16Z" transform="translate(11.499 23.899) rotate(180)"></path></g></g></g></svg>';
    html += '</div>';
    html += '<div class="gradient-container"></div>';
    html += '<div class="gradient-container top"></div>';
    html += '</div>';
    html += "</a>";
    html += '<div class="adDisplayWrapper" id="adDisplayWrapper"></div>';
    html += '</div>';
    html += '<div class="infoWrapper">';
    html += '<a class="readmore-link" href="' + vi_link + '" target="_blank">';
    html += '<div class="headline-container">';
    html += '<div class="headline">';
    html += '<div class="vertical-line" id="vertical-line"></div>';
    html += '<div class="headline-placeholder" id="headline-placeholder">';
    html += '<span class="text" id="article-title">Valueimpression - Bring the real value for each impression</span>';
    html += '</div>';
    html += '</div>';
    html += '</div>';
    html += '<div class="readmore">';
    html += '<div class="readmore-text">';
    html += '<div>READ MORE</div>';
    html += '</div>';
    html += '<div class="readmore-icon">';
    html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-56 -152)"><g><path d="M0,9.118,4.213,4.972.058.882.954,0,6,4.963l-.007.007L6,4.978.9,10Z" transform="translate(68 159)"></path><path d="M0,9.118,4.213,4.972.058.882.954,0,6,4.963l-.007.007L6,4.978.9,10Z" transform="translate(63 159)"></path><rect style="fill: none;" width="24" height="24" transform="translate(56 152)"></rect></g></g></svg>';
    html += '</div>';
    html += '</div>';
    html += '</a>';
    html += '</div>';
    html += '</div>';
    adWrap.open();
    adWrap.write(html);
    adWrap.close();
  },
      runSlide = function runSlide(item_index) {
    utlis_vilog("[Top Articles] Run slide " + item_index);
    playerStatus = "playing";
    setTimeout(function () {
      adWrapper.getElementById("button-left").setAttribute("disabled", "");
      adWrapper.getElementById("button-right").setAttribute("disabled", "");
    }, 500);
    var slideToPlay, showingSlide, thisProgress;
    var slider_items = adWrapper.getElementsByClassName('slider-item');

    for (var i = 0; i < slider_items.length; i++) {
      if (slider_items[i].getAttribute("data-item-index") === item_index.toString()) {
        slideToPlay = slider_items[i];
        slider_items[i].querySelector('.item-image').style.transition = 'transform 0s ease 0s';
        slider_items[i].querySelector('.item-image').style.transform = 'scale(1)';
      }

      if (slider_items[i].classList.contains('show')) {
        showingSlide = slider_items[i];
      } else {
        slider_items[i].querySelector('.item-image').style.transition = 'transform 0s ease 0s';
        slider_items[i].querySelector('.item-image').style.transform = 'scale(1)';
      }
    }

    var progress_items = adWrapper.getElementsByClassName('progress-item');

    for (var i = 0; i < progress_items.length; i++) {
      progress_items[i].querySelector('.progress-loader').style.transition = 'none 0s ease 0s';
      var data_item_index = parseInt(progress_items[i].getAttribute("data-item-index"));

      if (data_item_index < item_index) {
        progress_items[i].querySelector('.progress-loader').style.transform = 'scale(1, 1)';
      }

      if (data_item_index === item_index) {
        progress_items[i].querySelector('.progress-loader').style.transform = 'scale(0, 1)';
        thisProgress = progress_items[i];
      }

      if (data_item_index > item_index) {
        progress_items[i].querySelector('.progress-loader').style.transform = 'scale(0, 1)';
      }
    }

    if (showingSlide !== slideToPlay) {
      showingSlide.style.opacity = '0';
      showingSlide.classList.remove('show');
    }

    adWrapper.querySelector(".top-article .ta-slide div").innerHTML = parseInt(slideToPlay.getAttribute("data-item-index")) + 1 + '/' + slider_items.length;
    adWrapper.body.classList.remove('pause');
    adWrapper.body.classList.add('playing');
    changePlayPauseButton("play");
    slideToPlay.style.opacity = '1';
    slideToPlay.classList.add('show');
    setTimeout(function () {
      slideToPlay.querySelector('.item-image').style.transition = 'transform 5000ms linear 0s';
      slideToPlay.querySelector('.item-image').style.transform = 'scale(1.15)';
      thisProgress.querySelector('.progress-loader').style.transition = 'transform 5000ms linear 0s';
      thisProgress.querySelector('.progress-loader').style.transform = 'scale(1, 1)';
    }, 100);
    var readmore_links = adWrapper.getElementsByClassName("readmore-link");

    for (var i = 0; i < readmore_links.length; i++) {
      readmore_links[i].setAttribute("href", playerContents[item_index].link);
    }

    adWrapper.getElementById("article-title").innerHTML = playerContents[item_index].title;
    adWrapper.getElementById("vertical-line").style.opacity = '0';
    adWrapper.getElementById("vertical-line").style.height = '1px';
    adWrapper.getElementById("vertical-line").style.transition = 'none 0s ease';
    adWrapper.getElementById("article-title").style.opacity = '0';
    adWrapper.getElementById("article-title").style.transition = 'none 0s ease-out';
    adWrapper.getElementById("headline-placeholder").style.transform = 'translateX(-100%)';
    adWrapper.getElementById("headline-placeholder").style.transition = 'none 0s ease';
    setTimeout(function () {
      setTimeout(function () {
        adWrapper.getElementById("vertical-line").style.opacity = '1';
        adWrapper.getElementById("vertical-line").style.height = adWrapper.getElementById("article-title").clientHeight + 10 + 'px';
        adWrapper.getElementById("vertical-line").style.transition = 'height 500ms ease';
        adWrapper.getElementById("article-title").style.opacity = '1';
        adWrapper.getElementById("article-title").style.transition = 'opacity 300ms ease-out';
      }, 500);
      adWrapper.getElementById("headline-placeholder").style.transform = 'translateX(0%)';
      adWrapper.getElementById("headline-placeholder").style.transition = 'transform 500ms ease-out';
    }, 100);
    autoRunTimeout = setTimeout(function () {
      var next_slide_index = parseInt(slideToPlay.getAttribute('data-item-index')) < slider_items.length - 1 ? item_index + 1 : 0;
      runSlide(next_slide_index);
    }, 5000);
  },
      _init = function init(adSlot) {
    if (!plugins_v2_constants.topArticle) return;
    if (!plugins_v2_constants.topArticle[adSlot]) return;

    if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
      utlis_vilog("[Top Articles] Inventory Block");
      return;
    }

    var availableSlots = document.getElementsByClassName(plugins_v2_constants.adClass);
    if (availableSlots.length === 0) return;

    for (var i = 0; i < availableSlots.length; i++) {
      if (availableSlots[i].dataset.adSlot !== adSlot) continue;
      if (availableSlots[i].hasChildNodes()) continue;
      adElement = availableSlots[i];

      if (adElement.id === "") {
        adElement.id = adSlot;
      }

      break;
    }

    if (!adElement) return;
    adConfig = getAdConfig();
    thisAdSlot = adSlot;
    adData = plugins_v2_constants.topArticle[thisAdSlot];

    if (plugins_v2_constants.dfpApproved === "on") {
      var outstreamInContent = false;

      if (window[plugins_v2_constants.tagName].outStreamConfig && !window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead || window[plugins_v2_constants.tagName].outStreamConfig && window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead && window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead === false) {
        outstreamInContent = true;
      }

      var classBaseAd = document.getElementsByClassName(plugins_v2_constants.adClass);
      Array.from(classBaseAd).forEach(function (elem, index) {
        if (elem && elem.getAttribute("data-ad-slot") === "outstream") {
          outstreamInContent = true;
        }
      });

      if (window[plugins_v2_constants.tagName].outStreamConfig && window[plugins_v2_constants.tagName].outStreamConfig.version && window[plugins_v2_constants.tagName].outStreamConfig.version === "v1") {
        outstreamInContent = true;
      }

      var showBanner = auditFormatSlider();

      if (showBanner && outstreamInContent) {
        adData.display_type = "banner";
      }
    } else {
      if (!auditFormatSlider()) {
        adConfig.fixedOnMobile = true;
      }
    }

    if (adData.display_type === "banner") {
      if (!plugins_v2_constants.displaySlot) {
        utlis_vilog("[Top Articles] Not found Displayslot");
        return;
      }

      var geoValidate = false;

      if (!adData.geo_target) {
        geoValidate = true;
      } else {
        if (adData.geo_target.charAt(0) === "-") {
          //exclude
          if (adData.geo_target.indexOf(plugins_v2_constants.VIGeo) === -1) {
            geoValidate = true;
          }
        } else {
          //include
          if (adData.geo_target.indexOf(plugins_v2_constants.VIGeo) !== -1) {
            geoValidate = true;
          }
        }
      }

      if (geoValidate) {
        var matched = false;

        for (var key in plugins_v2_constants.displaySlot) {
          if (plugins_v2_constants.displaySlot[key].w === 300 && plugins_v2_constants.displaySlot[key].h === 250) {
            plugins_v2_constants.displaySlot[adSlot] = JSON.parse(JSON.stringify(plugins_v2_constants.displaySlot[key]));
            plugins_v2_constants.displaySlot[adSlot].zid = adData.zid;
            plugins_v2_constants.displaySlot[adSlot].noPublisherPb = true;
            plugins_v2_constants.displaySlot[adSlot].display_type = "";
            matched = true;
            break;
          }
        }

        if (matched) {
          var wrap = document.createElement("div");
          wrap.innerHTML = "<div class=\"" + plugins_v2_constants.adClass + "\" data-ad-slot=\"".concat(adSlot, "\"></div>");
          adElement.parentNode.insertBefore(wrap, adElement.nextSibling);
          adElement.remove();
          window[tagApi].display(adSlot);
          return;
        }
      }
    }

    var run_default = function run_default() {
      if (!plugins_v2_constants.topArticle[adSlot].contents || plugins_v2_constants.topArticle[adSlot].contents.length < 0) return;
      playerContents = plugins_v2_constants.topArticle[thisAdSlot].contents;
      main();
    };

    var buildPlayerContentsFromXMLDom = function buildPlayerContentsFromXMLDom(XMLDom) {
      playerContents = [];
      var items = XMLDom.getElementsByTagName("item");

      if (items.length <= 0) {
        run_default();
        return;
      }

      for (var i = 0; i < items.length; i++) {
        if (!items[i].getElementsByTagName("title")[0]) continue;
        if (!items[i].getElementsByTagName("image")[0]) continue;
        if (!items[i].getElementsByTagName("link")[0]) continue;
        var title = items[i].getElementsByTagName("title")[0].childNodes[0].nodeValue;
        var image = items[i].getElementsByTagName("image")[0].childNodes[0].nodeValue;
        var link = items[i].getElementsByTagName("link")[0].childNodes[0].nodeValue;
        var pContent = {
          title: title,
          thumb: image,
          link: link
        };
        playerContents.push(pContent);
      }

      if (playerContents.length <= 0) {
        run_default();
        return;
      }

      main();
    };

    if (plugins_v2_constants.topArticle[adSlot].feed_url) {
      var xhr = new XMLHttpRequest();

      xhr.onreadystatechange = function () {
        if (this.readyState === 4) {
          if (this.status === 200) {
            if (this.responseXML) {
              buildPlayerContentsFromXMLDom(this.responseXML);
            } else {
              run_default();
            }
          } else {
            run_default();
          }
        }
      };

      xhr.open("GET", "//media." + plugins_v2_constants.rootDomain + plugins_v2_constants.topArticle[adSlot].feed_url, true);
      xhr.timeout = 2000;

      xhr.ontimeout = function () {
        run_default();
      };

      xhr.send();
    } else {
      run_default();
    }
  },
      main = function main() {
    floorPrice = adData.floorPrice ? adData.floorPrice : 0;
    if (adConfig.random === true) shuffle(playerContents);
    adWidth = adElement.parentNode.offsetWidth;
    if (adWidth > 900) adWidth = 900;
    if (adWidth < 300) adWidth = 300;
    playerHeight = parseInt(adWidth * 9 / 16);
    infoHeight = calcInfoHeight(adWidth);
    adHeight = playerHeight + infoHeight;
    adElement.style.height = adHeight + 'px';
    adElement.style.width = adWidth + 'px';
    adElement.style.margin = '0 auto';
    adElement.style.overflow = 'hidden';
    addVsbAction({
      divID: "TAContentPlayer",
      hidden: function hidden() {
        pauseSlide();
      },
      watching: function watching() {
        if (!adsManager) playSlide();
      }
    });
    adWrapper = createWrapper(adElement, thisAdSlot);
    renderWrapper(adWrapper);
    adDisplayWrapper = adWrapper.getElementById("adDisplayWrapper");
    runSlide(0);
    adWrapper.getElementById('button-center').addEventListener("click", function () {
      if (playerStatus === 'playing') {
        pauseSlide();
      } else if (playerStatus === 'pause') {
        playSlide();
      }
    });
    adWrapper.getElementById('big-play-button').addEventListener("click", function () {
      playSlide();
    });
    adWrapper.getElementById('button-right').addEventListener("click", function () {
      if (this.getAttribute("disabled") === 'true') {
        return;
      }

      ;
      this.setAttribute("disabled", "true");
      clearTimeout(autoRunTimeout);
      var showingSlide = getShowingSlide();
      var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
      var next_slide_index = parseInt(showingSlide.getAttribute('data-item-index')) < playerContents.length - 1 ? showing_item_index + 1 : 0;
      runSlide(next_slide_index);
    });
    adWrapper.getElementById('button-left').addEventListener("click", function () {
      if (this.getAttribute("disabled") === 'true') {
        return;
      }

      ;
      this.setAttribute("disabled", "true");
      clearTimeout(autoRunTimeout);
      var showingSlide = getShowingSlide();
      var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
      var prev_slide_index = parseInt(showingSlide.getAttribute('data-item-index')) === 0 ? playerContents.length - 1 : showing_item_index - 1;
      runSlide(prev_slide_index);
    });
    var progress_items = adWrapper.getElementsByClassName('progress-item');

    for (var i = 0; i < progress_items.length; i++) {
      progress_items[i].addEventListener("click", function () {
        clearTimeout(autoRunTimeout);
        var data_item_index = parseInt(this.getAttribute("data-item-index"));
        runSlide(data_item_index);
      });
    }

    var readmore_links = adWrapper.getElementsByClassName("readmore-link");

    for (var i = 0; i < readmore_links.length; i++) {
      readmore_links[i].addEventListener("click", function (e) {
        if (hasNoClickClass(e.target)) {
          e.preventDefault();
        }
      });
    }

    document.getElementById("disableFixedTopArticles").addEventListener("click", function () {
      inVP();
      adIframe.classList.add('disabled-fixed');
    });
    var adIframe = document.getElementById("ifr_" + thisAdSlot);
    var observeElement = document.getElementById(thisAdSlot); //adDisplayWrapper

    var inView = function inView() {
      utlis_vilog("[Top Articles] Ad in viewport");
      setTimeout(function () {
        if (adsManager) {
          adsManager.resume();
          pauseSlide();
        }
      }, 200);
      adsInViewPort = true;
    };

    var outView = function outView() {
      utlis_vilog("[Top Articles] Ad out viewport");

      if (adsManager) {
        adsManager.pause();
      }

      adsInViewPort = false;
    };

    isInViewPort(adDisplayWrapper, inView, outView);

    var inVP = function inVP() {
      if (adsManager) adsManager.resize(adWidth, playerHeight, 'NORMAL');
      adIframe.style.position = "";
      adIframe.style.bottom = "";
      adIframe.style.right = "";
      adIframe.style.zIndex = "";
      adIframe.style.width = adWidth + "px";
      adIframe.style.height = adHeight + "px";
      adWrapper.querySelector(".playWrapper").style.height = "";
      adWrapper.querySelector(".infoWrapper").style.height = "";
      adWrapper.getElementById("widgetWrapper").className = calcSize();
      adWrapper.getElementById("vertical-line").style.height = adWrapper.getElementById("article-title").clientHeight + 10 + 'px';
      document.getElementById("disableFixedTopArticles").style.cssText = '';
    };

    var outVP = function outVP() {
      if (adIframe.classList.contains('disabled-fixed')) return;
      if (mobileDetect() && !adConfig.fixedOnMobile) return;
      var mWidth = adConfig.sizeStickyVideo;
      var mHeight = Math.round(mWidth / 16 * 9);
      if (adsManager) adsManager.resize(mWidth, mHeight, 'NORMAL');
      adIframe.style.position = "fixed";
      adIframe.style.bottom = "0";
      adIframe.style.left = "0";
      adIframe.style.zIndex = "2147483647";
      adIframe.style.width = mWidth + "px";
      adIframe.style.height = mHeight + 59 + "px";
      adWrapper.querySelector(".playWrapper").style.height = mHeight + "px";
      adWrapper.querySelector(".infoWrapper").style.height = "60px";
      adWrapper.getElementById("widgetWrapper").className = "size-sm";
      adWrapper.getElementById("vertical-line").style.height = adWrapper.getElementById("article-title").clientHeight + 10 + 'px';
      document.getElementById("disableFixedTopArticles").style.cssText = 'display: block; position: fixed; bottom: ' + (mHeight + 59) + 'px; left: ' + (mWidth - 3) + 'px; z-index: 2147483647;';
    };

    if (adConfig.noFixed === true) {
      inVP();
    } else if (adConfig.hideStatic === true) {
      observeElement.style.maxHeight = "0";
      outVP();
    } else {
      isInViewPort(observeElement, inVP, outVP, {
        threshold: [0]
      });
    }

    addVsbInterval(function () {
      getAds();
    }, 1000);
  },
      changePlayPauseButton = function changePlayPauseButton(action) {
    if (action === "play") {
      adWrapper.getElementById('button-pause').style.display = "block";
      adWrapper.getElementById('button-play').style.display = "none";
      adWrapper.getElementById('big-play-button').style.display = "none";
    }

    if (action === "pause") {
      adWrapper.getElementById('button-pause').style.display = "none";
      adWrapper.getElementById('button-play').style.display = "block";
      adWrapper.getElementById('big-play-button').style.display = "block";
    }
  },
      playSlide = function playSlide() {
    if (playerStatus === 'pause') {
      utlis_vilog("[Top Articles] Slide played");
      var showingSlide = getShowingSlide();
      var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
      runSlide(showing_item_index);
    }
  },
      pauseSlide = function pauseSlide() {
    if (playerStatus === 'playing') {
      utlis_vilog("[Top Articles] Slide paused");
      var showingSlide = getShowingSlide();
      var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
      playerStatus = "pause";
      clearTimeout(autoRunTimeout);
      adWrapper.body.classList.add('pause');
      adWrapper.body.classList.remove('playing');
      changePlayPauseButton("pause");
      var thisProgress;
      var progress_items = adWrapper.getElementsByClassName('progress-item');

      for (var i = 0; i < progress_items.length; i++) {
        var data_item_index = parseInt(progress_items[i].getAttribute("data-item-index"));

        if (data_item_index === showing_item_index) {
          thisProgress = progress_items[i];
        }
      }

      setTimeout(function () {
        showingSlide.querySelector('.item-image').style.transition = 'transform 0s ease 0s';
        showingSlide.querySelector('.item-image').style.transform = 'scale(1)';
        thisProgress.querySelector('.progress-loader').style.transition = 'none 0s ease 0s';
        thisProgress.querySelector('.progress-loader').style.transform = 'scale(0, 1)';
      }, 100);
    }
  },
      hasNoClickClass = function hasNoClickClass(element) {
    if (element.classList && element.classList.contains('noclick')) {
      return true;
    } else {
      var parent = element.parentNode;

      if (parent) {
        return hasNoClickClass(parent);
      }
    }

    return false;
  },
      getShowingSlide = function getShowingSlide() {
    var showingSlide = null;
    var slider_items = adWrapper.getElementsByClassName('slider-item');

    for (var i = 0; i < slider_items.length; i++) {
      if (slider_items[i].classList.contains('show')) {
        showingSlide = slider_items[i];
      }
    }

    return showingSlide;
  },
      shuffle = function shuffle(arr) {
    var ctr = arr.length,
        temp,
        index;

    while (ctr > 0) {
      index = Math.floor(Math.random() * ctr);
      ctr--;
      temp = arr[ctr];
      arr[ctr] = arr[index];
      arr[index] = temp;
    }

    return arr;
  },
      calcSize = function calcSize() {
    var size = "size-md";

    if (adWidth < 480) {
      size = "size-sm";
    }

    if (adWidth < 360) {
      size = "size-xs";
    }

    return size;
  },
      calcInfoHeight = function calcInfoHeight(adW) {
    var infoH = 100;
    if (adW <= 600) infoH = 80;
    if (adW <= 400) infoH = 60;
    if (adW <= 300) infoH = 60;
    if (adW <= 200) infoH = 45;
    return infoH;
  },
      getAds = function getAds() {
    adPlayed = false;
    if (!adData) return;
    if (!adData.adunit && adData.adunitExt) return;
    var adunit = adData.adunit;
    var adunitExt = adData.adunitExt;

    if (!adunit.mediaTypes || adunit.mediaTypes == null) {
      adunit.mediaTypes = mediaTypesAdFormatVideo('videodiscovery');
    }

    adunit.code = thisAdSlot;
    adunit.bids = utlis_buildBids(adunit.bids, floorPrice);
    vlipb.removeAdUnit(adunit.code);
    vlipb.addAdUnits(adunit);
    adUnitCodes.push(adunit.code);

    if (adunit.bids.length > 0) {
      plugins_v2_constants.auctionLogs[thisAdSlot] = {
        bidder: putOutBidders(adunit.bids),
        preAuction: ''
      };
    } // bid Ext


    if (adunitExt) {
      if (!adunitExt.mediaTypes || adunitExt.mediaTypes == null) {
        adunitExt.mediaTypes = mediaTypesAdFormatVideo('videodiscoveryExt');
      }

      adunitExt.bids = utlis_buildBids(adunitExt.bids, floorPrice);
      adunitExt.renderer = adunitExt.renderer || {
        url: '',
        render: function render() {}
      };
      vlipb.removeAdUnit(adunitExt.code);
      vlipb.addAdUnits(adunitExt);
      adUnitCodes.push(adunitExt.code);

      if (adunitExt.bids.length > 0 && !plugins_v2_constants.auctionLogs[adunitExt.code]) {
        plugins_v2_constants.auctionLogs[adunitExt.code] = {
          bidder: putOutBidders(adunitExt.bids),
          preAuction: ''
        };
      }
    }

    adDisplayWrapper.classList.add("running");
    utlis_requestBids(adUnitCodes, [], bidBackHandler, 'toparticles');
    numBidRequest++;
  },
      bidBackHandler = function bidBackHandler(adUnitCodes) {
    var responses = [];
    adUnitCodes.forEach(function (currentDivId) {
      var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

      utlis_vilog("[Top Articles] Response for: " + currentDivId);
      utlis_vilog(_rsp);
      responses = responses.concat(_rsp);
    });
    var responseSorted = sortResponseBids(responses);
    utlis_vilog("[Top Articles] All Sorted Responses");
    utlis_vilog(responseSorted);
    responseSorted = responseSorted.filter(function (bid) {
      if (bid.mediaType === "video" && bid.cpm < floorPrice) {
        vlipb.markWinningBidAsUsed({
          adId: bid.adId
        });
        return false;
      }

      return true;
    });

    if (plugins_v2_constants.videoRequestMode === "dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.topArticles) === false) {
      var bidSelected = null;

      if (responseSorted.length > 0) {
        bidSelected = responseSorted[0];
      }

      var pixelToken = "";
      var adUnitWin = adData.adunit;

      if (bidSelected) {
        var pixel = {
          type: "hb_video",
          divID: thisAdSlot,
          zoneID: adData.zid,
          bidder: bidSelected.bidderCode,
          cpm: bidSelected.cpm
        };
        pixelToken = getPixelToken(pixel);

        if (adData.adunit && adData.adunit.code == bidSelected.adUnitCode) {
          adUnitWin = adData.adunit;
        }

        if (adData.adunitExt && adData.adunitExt.code == bidSelected.adUnitCode) {
          adUnitWin = adData.adunitExt;
        }
      }

      var cust_params = {
        vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.topArticles.accId,
        hb_domain: plugins_v2_constants.domainName,
        section: "blog",
        anotherKey: "anotherValue",
        vli_adtype: "toparticles",
        impression_url: plugins_v2_constants.statsDomain,
        token: pixelToken,
        vli_network: "true"
      };

      if (plugins_v2_constants.refererDomainID) {
        cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
      } else {
        cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? adData.zid : "toparticles_" + adData.zid;
      }

      var vastUrl = buildDfpVideoUrl({
        params: {
          iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.topArticles)
        },
        adUnit: adUnitWin,
        bidWon: bidSelected,
        customParams: cust_params
      });
      utlis_vilog("[TOP ARTICLES] New Vast Url: " + vastUrl);
      if (bidSelected) vlipb.markWinningBidAsUsed({
        adId: bidSelected.adId
      });
      var callbacks = {
        start: function start() {
          var dataBid = {
            adId: bidSelected ? bidSelected.adId : "unknown from Adx",
            bidder: bidSelected ? bidSelected.bidder : "Adx",
            creativeId: bidSelected ? bidSelected.creativeId : "unknown from Adx"
          };
          pushInfoDebugOverlay(thisAdSlot, dataBid);
        },
        error: function error() {
          startRender(responseSorted);
        }
      };
      playVast({
        vastUrl: vastUrl,
        vastXml: null
      }, callbacks);
    } else {
      startRender(responseSorted);
    }
  },
      startRender = function startRender() {
    var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
    var vastUrl = null;
    var vastXml = null;
    var data = {};
    var callbacks = {
      start: function start() {},
      impression: function impression() {},
      error: function error() {},
      hidden: function hidden() {},
      adsVolumeChange: function adsVolumeChange() {}
    };

    if (bids.length > 0) {
      var bidWon = bids[0];
      vlipb.markWinningBidAsUsed({
        adId: bidWon.adId
      });
      bids.splice(0, 1);
      vastUrl = bidWon.vastUrl || null;
      vastXml = bidWon.vastXml || null;

      callbacks.start = function () {
        pushInfoDebugOverlay(thisAdSlot, bidWon);
      };

      callbacks.error = function (errorCode) {
        startRender(bids);
      };

      callbacks.impression = function () {
        var pixel = {
          type: "hb_video",
          divID: thisAdSlot,
          zoneID: adData.zid,
          bidder: bidWon.bidderCode,
          cpm: bidWon.cpm
        };
        savePixel(pixel);
        utlis_vilog("[Top Articles] Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm);
      };

      data = {
        vastUrl: vastUrl,
        vastXml: vastXml
      };
      playVast(data, callbacks);
    } else {
      caseTwo();
    }
  },
      caseTwo = function caseTwo() {
    if (plugins_v2_constants.videoRequestMode === "postbid_dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.topArticles) === false) {
      var cust_params = {
        vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.topArticles.accId,
        hb_domain: plugins_v2_constants.domainName,
        section: "blog",
        anotherKey: "anotherValue",
        vli_adtype: "toparticles",
        vli_network: "true"
      };

      if (plugins_v2_constants.refererDomainID) {
        cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
      } else {
        cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? adData.zid : "toparticles_" + adData.zid;
      }

      var vastUrl = buildDfpVideoUrl({
        params: {
          iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.topArticles)
        },
        adUnit: adData.adunit,
        customParams: cust_params
      });
      utlis_vilog("[TOP ARTICLES] caseTwo - New Vast Url: " + vastUrl);
      var callbacks = {
        start: function start() {
          var dataBid = {
            adId: "unknown from Adx",
            bidder: "Adx",
            creativeId: "unknown from Adx"
          };
          pushInfoDebugOverlay(thisAdSlot, dataBid);
        },
        error: function error() {
          tryWithCustomVast();
        }
      };
      playVast({
        vastUrl: vastUrl
      }, callbacks);
    }

    if (plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid") {
      tryWithCustomVast();
    }
  },
      tryWithCustomVast = function tryWithCustomVast() {
    utlis_vilog("[Top Articles] Try with Custom Vast");
    CustomVast.initAnalytic(plugins_v2_constants.pixelID);
    var vastArr = [];
    if (adData.vast) vastArr = JSON.parse(JSON.stringify(adData.vast));

    for (var i = 0; i < vastArr.length; i++) {
      vastArr[i].link = CustomVast.linkFilter(vastArr[i].link);
    }

    renderCustomVast(vastArr);
  },
      renderCustomVast = function renderCustomVast(vastArray) {
    var data = {};
    var callbacks = {
      start: function start() {},
      impression: function impression() {},
      error: function error() {},
      hidden: function hidden() {},
      adsVolumeChange: function adsVolumeChange() {}
    };

    if (vastArray.length > 0) {
      var currentVast = vastArray[0];
      vastArray.splice(0, 1);

      if (!currentVast.link || !currentVast.bidder) {
        utlis_vilog("[Top Articles] Custom Vast: vast link|vast bidder empty");
        renderCustomVast(vastArray);
        utlis_vilog("[Top Articles] Custom Vast: Try another vast");
      } else {
        callbacks.start = function () {
          var dataBid = {
            adId: "unknown from Custom Vast",
            bidder: "Custom Vast",
            creativeId: "unknown from Custom Vast"
          };
          pushInfoDebugOverlay(thisAdSlot, dataBid);
          utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Start");
        }, callbacks.complete = function () {
          utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Complete");
        }, callbacks.impression = function () {
          utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Impression");
          CustomVast.pushTracking(plugins_v2_constants.domainName, "OK - " + currentVast.bidder, "ok", "ok");
        }, callbacks.error = function (errorCode) {
          utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Error: " + errorCode);
          CustomVast.pushTracking(plugins_v2_constants.domainName, "ERROR - " + currentVast.bidder, "er", "er");
          renderCustomVast(vastArray);
        }, callbacks.hidden = function () {
          utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Hidden");
        }, callbacks.adsVolumeChange = function (currentAdsVolumn) {
          utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: adsVolumeChange");
        };
        data = {
          vastUrl: currentVast.link,
          vastXml: null
        };
        playVast(data, callbacks);
      }
    } else {
      utlis_vilog("[Top Articles] Custom Vast: vastArr[] empty");
      adDisplayWrapper.style.cssText = "";
      adDisplayWrapper.innerHTML = "";
      adDisplayWrapper.classList.remove("running");
      clearVsbAction(thisAdSlot);
      refreshBid(noBidTime);
      playSlide();
    }
  },
      refreshBid = function refreshBid(delayTime) {
    adsManager = null;
    if (typeof delayTime === "undefined") return;
    utlis_vilog("[Top Articles] Refresh Bid after " + delayTime + " second");

    if (numBidRequest >= maxBidRequest) {
      utlis_vilog("[Top Articles] Refresh Bid Limit");
      return;
    }

    noRefreshRubicon("video");
    setTimeout(function () {
      if (plugins_v2_constants.isVisible) {
        adDisplayWrapper.classList.add("running");
        utlis_requestBids(adUnitCodes, [], bidBackHandler, 'toparticles');
        numBidRequest++;
      } else {
        var vsbKey = "top_articles_refresh_queue";
        addVsbAction({
          divID: vsbKey,
          hidden: function hidden() {},
          watching: function watching() {
            clearVsbAction(vsbKey);
            adDisplayWrapper.classList.add("running");
            utlis_requestBids(adUnitCodes, [], bidBackHandler, 'toparticles');
            numBidRequest++;
          }
        });
      }
    }, delayTime * 1000);
  },
      playVast = function playVast(data, callbacks) {
    clearVsbAction(thisAdSlot);
    utlis_vilog("[Top Articles] Play vast data:");
    utlis_vilog(data);
    var viPlayer = new vlPlayer({
      baseDomain: plugins_v2_constants.rootDomain,
      brandLogo: plugins_v2_constants.brandLogo
    });
    adsManager = viPlayer.play({
      type: "instreamBanner",
      vastUrl: data.vastUrl ? data.vastUrl : null,
      vastXml: data.vastXml ? data.vastXml : null,
      adElement: adDisplayWrapper,
      volume: currentVolume,
      volumeControl: true,
      start: function start() {
        pauseSlide();
        observeElementInViewport.isInViewport(adDisplayWrapper).then(function (s) {
          utlis_vilog("[Top Articles] view port detect___" + s);
          if (!s) adsManager.pause();
        });
        utlis_vilog("[Top Articles] Vast Event Start");
        callbacks.start && callbacks.start();
      },
      complete: function complete() {
        utlis_vilog("[Top Articles] Vast Event Complete");
        callbacks.complete && callbacks.complete();
      },
      error: function error(errorEvent) {
        utlis_vilog("[Top Articles] Vast Event Error");
        callbacks.error && callbacks.error(errorEvent.getErrorCode());
        utlis_vilog(errorEvent);
      },
      impression: function impression() {
        utlis_vilog("[Top Articles] Vast Event Impression");
        adPlayed = true;
        callbacks.impression && callbacks.impression();
      },
      hidden: function hidden() {
        utlis_vilog("[Top Articles] Vast Event Hidden");

        if (adPlayed === false) {
          callbacks.error && callbacks.error();
          return;
        }

        adDisplayWrapper.style.cssText = "";
        adDisplayWrapper.innerHTML = "";
        adDisplayWrapper.classList.remove("running");
        clearVsbAction(thisAdSlot);
        refreshBid(refreshTime);
        playSlide();
        callbacks.hidden && callbacks.hidden();
      },
      adsVolumeChange: function adsVolumeChange(currentAdsVolumn) {
        currentVolume = currentAdsVolumn;
        utlis_vilog("[Top Articles] Vast Event VolumeChange");
        callbacks.adsVolumeChange && callbacks.adsVolumeChange(currentAdsVolumn);
      }
    });
    addVsbAction({
      divID: thisAdSlot,
      hidden: function hidden() {
        utlis_vilog("[Top Articles] visibilChange__out");
        if (adsManager) adsManager.pause();
      },
      watching: function watching() {
        utlis_vilog("[Top Articles] visibilChange__active");
        if (adsManager && adsInViewPort) adsManager.resume();
      }
    });
  };

  return {
    init: function init(adSlot) {
      _init(adSlot);
    }
  };
}
;
// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/css/video.css
var css_video = __webpack_require__(47);
var video_default = /*#__PURE__*/__webpack_require__.n(css_video);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/css/playerskin.css
var playerskin = __webpack_require__(48);
var playerskin_default = /*#__PURE__*/__webpack_require__.n(playerskin);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/playerskin/1and8.html
var _1and8 = __webpack_require__(17);
var _1and8_default = /*#__PURE__*/__webpack_require__.n(_1and8);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/playerskin/2.html
var _2 = __webpack_require__(49);
var _2_default = /*#__PURE__*/__webpack_require__.n(_2);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/playerskin/3and5.html
var _3and5 = __webpack_require__(18);
var _3and5_default = /*#__PURE__*/__webpack_require__.n(_3and5);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/playerskin/4.html
var _4 = __webpack_require__(50);
var _4_default = /*#__PURE__*/__webpack_require__.n(_4);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/playerskin/6and7.html
var _6and7 = __webpack_require__(19);
var _6and7_default = /*#__PURE__*/__webpack_require__.n(_6and7);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/content/2.html
var content_2 = __webpack_require__(51);
var content_2_default = /*#__PURE__*/__webpack_require__.n(content_2);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/content/3.html
var _3 = __webpack_require__(52);
var _3_default = /*#__PURE__*/__webpack_require__.n(_3);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/content/4.html
var content_4 = __webpack_require__(53);
var content_4_default = /*#__PURE__*/__webpack_require__.n(content_4);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/content/5.html
var _5 = __webpack_require__(54);
var _5_default = /*#__PURE__*/__webpack_require__.n(_5);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/content/morevideo5.html
var morevideo5 = __webpack_require__(55);
var morevideo5_default = /*#__PURE__*/__webpack_require__.n(morevideo5);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/content/6.html
var _6 = __webpack_require__(56);
var _6_default = /*#__PURE__*/__webpack_require__.n(_6);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/content/7.html
var _7 = __webpack_require__(57);
var _7_default = /*#__PURE__*/__webpack_require__.n(_7);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/topvideocontainer.html
var topvideocontainer = __webpack_require__(20);
var topvideocontainer_default = /*#__PURE__*/__webpack_require__.n(topvideocontainer);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/video.html
var html_video = __webpack_require__(11);
var html_video_default = /*#__PURE__*/__webpack_require__.n(html_video);

// EXTERNAL MODULE: ./src/plugins_v2/vlivideo/html/floatingclose.html
var floatingclose = __webpack_require__(7);
var floatingclose_default = /*#__PURE__*/__webpack_require__.n(floatingclose);

// CONCATENATED MODULE: ./src/plugins_v2/vlivideo/VliVideoContainer.js



// CSS

 // html playerskin





 // html content playerskin







 // 



 // 




var VliVideoContainer_VliVideoContainer = /*#__PURE__*/function () {
  function VliVideoContainer(videoConfig) {
    var _this = this;

    classCallCheck_default()(this, VliVideoContainer);

    // All Video Container var
    this.vliVideoPlaceholder = null;
    this.vliVideoContainer = null;
    this.vliVideoList = null; // FEATURED VIDEOS

    this.vliTopVideoContainer = null;
    this.vliFeatureVideos = null; // Video

    this.vliVideo = null;
    this.videoControls = null; // Top Left Element

    this.vliTitleVideo = null;
    this.viewInfoNum = null;
    this.viewLikeNum = null; // Share

    this.fbBtn = null;
    this.twitterBtn = null;
    this.linkedinBtn = null;
    this.pinterestBtn = null;
    this.whatsappBtn = null;
    this.emailBtn = null; // Play BTN

    this.playButton = null;
    this.playbackIcons = null; // Back + Next Video BTN

    this.vliVideoBackBtn = null;
    this.vliVideoNextBtn = null; // Process bar

    this.progressBar = null;
    this.seek = null;
    this.seekTooltip = null; // Timeelapsed + Duration

    this.timeElapsed = null;
    this.duration = null; // Skip x Sec

    this.skipSecBack = null;
    this.skipSecForward = null; // Volume

    this.volumeButton = null;
    this.volumeIcons = null;
    this.volumeOn = null;
    this.volumeMute = null;
    this.volumeProcessBar = null;
    this.volumeBar = null;
    this.vliSoundScrabberWrapper = null; // Fullscreen BTN

    this.fullscreenButton = null;
    this.fullscreenIcons = null; // Other var

    this.vliVideoIframe = null;
    this.vliFloatingCloseBtn = null;
    this.vliVideoContainerWrap = null;
    this.vliVideoWrapper = null; // Skin 2 Slider L + R

    this.vliSliderVideo = null;
    this.vliSliderVideoLeft = null;
    this.vliSliderVideoRight = null; // Back + Next Video BTN

    this.vliBackBtn = null;
    this.vliNextBtn = null; // List a Tag Video index Dom

    this.aTagId = "vliAtagVideoIndex";
    this.dataVideoIndexProp = "data-video-index";
    this.listVideosDom = null; // Const Type Player Skin
    // Player Skin Html

    this.playerSkin = [_1and8_default.a, _2_default.a, _3and5_default.a, _4_default.a, _3and5_default.a, _6and7_default.a, _6and7_default.a, _1and8_default.a]; // Floating Css

    this.floatingPosition = ["bot-right", "bot-left", "top-right", "top-left"];
    var closeW = "-18px"; // wFloatingCloseBTN

    this.floatingCloseBtnPos = ["top:" + closeW + ";left:" + closeW, "top:" + closeW + ";right:" + closeW, "bottom:" + closeW + ";left:" + closeW, "bottom:" + closeW + ";right:" + closeW]; // Adslot 

    this.videoContainerPlacement = videoConfig.adSlot; // Default Video Setting form Server

    var templateObj = videoConfig.config.template;
    this.videoTemplateSetting = templateObj; // Current Video Setting

    this.videoSetting = {}; // 

    this.userAction = {
      isEnableFloating: templateObj.appearance.floatingSetting ? true : false,
      isFloating: false,
      userClickCloseBtn: false
    };

    if (mobileDetect()) {
      this.userAction.isEnableFloating = templateObj.mobileConfig ? true : false;
    } // List Videos


    this.listVideos = videoConfig.config.contents;
    videoConfig.config.contents.forEach(function (element) {
      _this.listVideos.push(element);
    }); // Video Index Playing

    this.curVideoPlay = 0;
    this.renderContainer(this.videoTemplateSetting);
  } // Floating


  createClass_default()(VliVideoContainer, [{
    key: "checkElementInViewport",
    value: function checkElementInViewport() {
      if (!this.videoContainerPlacement || this.userAction.userClickCloseBtn) return;
      var myElement = this.videoContainerPlacement;
      var bounding = myElement.getBoundingClientRect();
      var myElementHeight = myElement.offsetHeight;
      var myElementWidth = myElement.offsetWidth;

      if (bounding.top >= -myElementHeight && bounding.left >= -myElementWidth && bounding.right <= (window.innerWidth || document.documentElement.clientWidth) + myElementWidth && bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) + myElementHeight) {
        // console.log('Element is in the viewport!');
        this.deActiveFloating();
      } else {
        // console.log('Element is NOT in the viewport!');
        this.activeFloating();
      }
    }
  }, {
    key: "activeFloating",
    value: function activeFloating() {
      if (this.userAction.isFloating || !this.userAction.isEnableFloating) return;
      this.userAction.isFloating = true;
      var videoHeight = this.vliVideoPlaceholder.offsetHeight;

      if (videoHeight != 0) {
        this.videoContainerPlacement.style.height = videoHeight + "px";
      } // Outter vliVideoContainerIframe


      this.vliVideoContainerWrap.style.cssText = this.videoSetting.floatingSetting.position;

      if (this.videoSetting.floatingSetting.closeBtn.active) {
        this.vliFloatingCloseBtn.style.cssText += this.videoSetting.floatingSetting.closeBtn.position;
      } // Inner vliVideoContainerIframe


      if (this.vliTopVideoContainer) this.vliTopVideoContainer.classList.add("vli-deactive");
      this.vliVideoContainer.classList.add('vli-full-video'); // Fix floating player skin 8

      if (this.videoSetting.playerSkinType == 8) {
        this.vliVideo.classList.remove("playerskin8-video-center");
        this.vliVideoWrapper.classList.remove("playerskin8-video-wrap");
      }
    }
  }, {
    key: "deActiveFloating",
    value: function deActiveFloating() {
      if (!this.userAction.isFloating || !this.userAction.isEnableFloating) return;
      this.userAction.isFloating = false;
      this.videoContainerPlacement.style.height = null; // Outter vliVideoContainerIframe

      this.vliVideoContainerWrap.style.cssText = this.getVliFloatingCSS() + "height: " + this.vliVideoPlaceholder.offsetHeight + "px;";

      if (this.videoSetting.floatingSetting.closeBtn.active) {
        this.vliFloatingCloseBtn.style.cssText = this.getVliFloatingCSS("close");
      } // Inner vliVideoContainerIframe


      if (this.vliTopVideoContainer) this.vliTopVideoContainer.classList.remove("vli-deactive");
      this.vliVideoContainer.classList.remove('vli-full-video'); // Fix floating player skin 8

      if (this.videoSetting.playerSkinType == 8) {
        this.vliVideo.classList.add("playerskin8-video-center");
        this.vliVideoWrapper.classList.add("playerskin8-video-wrap");
      }
    }
  }, {
    key: "floatingCloseBtn",
    value: function floatingCloseBtn() {
      this.userAction.userClickCloseBtn = true;
      this.deActiveFloating();
    } // 

  }, {
    key: "renderContainer",
    value: function renderContainer(template) {
      this.removeEventListner(); // Video Setting 
      // let playerSkinType = 1;

      var playerSkinType = template.adType == "InStream" ? template.appearance.playerLayout.type : 1;
      this.videoSetting = this.getVideoSetting(template.adType, template, playerSkinType); // Get Final HTML

      var playerLayout = playerSkinType !== null ? this.playerSkin[playerSkinType - 1] : this.playerSkin[0]; // this.videoContainerPlacement.innerHTML = handleBarsCustom(playerLayout, this.videoSetting);
      // Create Video Iframe

      var vliIframe = document.createElement('iframe');
      vliIframe.id = "vliVideoContainerIframe";
      vliIframe.setAttribute("frameborder", 0);
      vliIframe.allowFullscreen = true;
      vliIframe.style.cssText = "position: absolute; width: 100%; height: 100%; top: 0; left: 0; bottom: 0; right: 0;"; // Create Wrapper Iframe + Floating Close BTN  // padding-top: 100%;

      this.vliVideoContainerWrap = document.createElement('div');
      this.vliVideoContainerWrap.id = "vliVideoContainerWrap";
      this.vliVideoContainerWrap.style.cssText = this.getVliFloatingCSS();
      this.vliVideoContainerWrap.innerHTML = floatingclose_default.a;
      this.vliVideoContainerWrap.appendChild(vliIframe); // Insert Iframe to Placement

      this.vliVideoIframe = vliIframe;
      this.videoContainerPlacement.appendChild(this.vliVideoContainerWrap); // Center Video Container in Placement

      this.videoContainerPlacement.style.cssText = "width: 100%;display: flex;justify-content: center;"; // Insert Html

      var documentTemp = this.vliVideoIframe.contentWindow.document;
      documentTemp.open();
      documentTemp.write(Object(help["g" /* handleBarsCustom */])(playerLayout, this.videoSetting));
      documentTemp.close(); // Add CSS to iFrame (Add sau ko bi bi mat css)

      documentTemp.head.append(this.createLinkCss(documentTemp, playerskin_default.a));
      documentTemp.head.append(this.createLinkCss(documentTemp, video_default.a)); // Get All Video Controll

      this.getAllVideoControll(playerSkinType); // Check first time render

      if (!this.userAction.isEnableFloating) this.checkElementInViewport(); // Set CSS root property

      if (this.videoSetting.color) {
        for (var _i = 0, _Object$entries = Object.entries(this.videoSetting.color); _i < _Object$entries.length; _i++) {
          var _Object$entries$_i = slicedToArray_default()(_Object$entries[_i], 2),
              _ = _Object$entries$_i[0],
              item = _Object$entries$_i[1];

          documentTemp.documentElement.style.setProperty(item.key, item.value);
        }
      } // Set content for video element
      // this.setCurrentVideoInfo();

    }
  }, {
    key: "getVideoSetting",
    value: function getVideoSetting(adType, template, playerSkinType) {
      var getFloatingCSS = function getFloatingCSS(floatingPos) {
        var floatingWidth = !mobileDetect() ? template.appearance.floatingSetting.width : template.mobileConfig.width;
        var css = "z-index: 999999 !important;position: fixed !important;width: " + floatingWidth + "px !important;height: " + floatingWidth / 1.77 + "px !important;";
        var marginTB = !mobileDetect() ? template.appearance.floatingSetting["margin-top-bot"] : template.mobileConfig["margin-bot"];
        var marginLR = !mobileDetect() ? template.appearance.floatingSetting["margin-left-right"] : template.mobileConfig["margin-left-right"];

        if (floatingPos == "bot-right") {
          css += "bottom: " + marginTB + "px !important; right: " + marginLR + "px !important;";
        } else if (floatingPos == "bot-left") {
          css += "bottom: " + marginTB + "px !important; left: " + marginLR + "px !important;";
        } else if (floatingPos == "top-right") {
          css += "top: " + marginTB + "px !important; right: " + marginLR + "px !important;";
        } else if (floatingPos == "top-left") {
          css += "top: " + marginTB + "px !important; left: " + marginLR + "px !important;";
        }

        return css;
      };

      var vSetting;
      var floatingSetting = null;

      if (this.userAction.isEnableFloating) {
        var floatingPos = !mobileDetect() ? template.appearance.floatingSetting.position - 1 : template.mobileConfig.position - 1;
        floatingSetting = {
          closeBtn: {
            active: !mobileDetect() ? template.appearance.floatingSetting.closeFloatingBtn : template.mobileConfig.closeFloatingBtn,
            position: this.floatingCloseBtnPos[floatingPos]
          },
          position: getFloatingCSS(this.floatingPosition[floatingPos])
        };
      }

      if (adType == "InStream") {
        vSetting = {
          vliVideoContainerWrapCSS: template.appearance.playerSize == "fixed" ? 'min-width: ' + template.appearance.maxWidth + 'px;width: ' + template.appearance.maxWidth + 'px;' : 'max-width: ' + template.appearance.maxWidth + 'px;width: 100%;',
          playerSkinType: playerSkinType,
          videoPlaceholderCSS: 'style="background-color: var(--vli-background-color); "',
          // Floating Close BTN HTML
          floatingCloseBtn: floatingclose_default.a,
          // Top HTML
          topVideoConatiner: topvideocontainer_default.a,
          topVideoContainerConfig: template.text.mainTitle == "" && !template.logoBand.poweredByApacdex ? "vli-deactive" : "",
          mainTitle: template.text.mainTitle,
          poweredByApacdex: !template.logoBand.poweredByApacdex ? "vli-hidden" : "",
          // Video HTML 
          videoMain: html_video_default.a,
          // Video Container
          likeViewConfig: !template.text.titleOn ? "title-video-wapper" : "view-info-wapper",
          descriptionOn: !template.text.descriptionOn ? "vli-hidden" : "",
          // Logo
          logoOn: !template.logoBand.endableLogo ? "vli-hidden" : "",
          logoCustomLink: template.logoBand.customLogo.link,
          logoClickThrough: template.logoBand.customLogo.clickThrough,
          // On Off Btn
          titleOn: !template.text.titleOn ? "vli-hidden" : "",
          viewsLikesOn: !template.controls.viewsLikes ? "vli-hidden" : "",
          shareOn: !template.controls.share ? "vli-hidden" : "",
          nextPrevArrowOn: playerSkinType == 4 || !template.controls.nextPrevArrow ? "vli-hidden" : "",
          nextPrevSkipOn: !template.controls.nextPrevSkip ? "vli-hidden" : "",
          fullscreenOn: !template.controls.fullscreen ? "vli-hidden" : "",
          // Color
          color: {
            controlsColor: {
              key: "--vli-controls-color",
              value: template.color.controls
            },
            backgroundColor: {
              key: "--vli-background-color",
              value: template.color.background
            },
            titleColor: {
              key: "--vli-title-color",
              value: template.color.title
            },
            descriptionColor: {
              key: "--vli-description-color",
              value: template.color.description
            }
          },
          floatingSetting: floatingSetting,
          // Fix floating in player skin 8
          floatingVideoWrapper: playerSkinType == 8 ? "playerskin8-video-wrap" : "",
          floatingVideoCenter: playerSkinType == 8 ? "playerskin8-video-center" : "",
          // Chua biet
          defaultSoundModeOn: template.controls.defaultSoundMode,
          videoConfigOn: template.controls.videoConfig,
          adConfig: {
            vastRetry: template.adConfig.vastRetry,
            autoSkip: {
              timeToSkip: template.adConfig.autoSkip.timeToSkip,
              showAutoSkip: template.adConfig.autoSkip.autoSkipBtn
            }
          }
        };
      } else if (adType == "OutStream") {
        vSetting = {
          vliVideoContainerWrapCSS: template.appearance.playerSize == "fixed" ? 'min-width: ' + template.appearance.maxWidth + 'px;width: ' + template.appearance.maxWidth + 'px;' : 'max-width: ' + template.appearance.maxWidth + 'px;width: 100%;',
          playerSkinType: playerSkinType,
          videoPlaceholderCSS: 'style="background-color: var(--vli-background-color); "',
          // Floating Close BTN HTML
          floatingCloseBtn: floatingclose_default.a,
          // Top HTML 
          topVideoConatiner: "",
          // Video HTML 
          videoMain: html_video_default.a,
          // Video Container
          likeViewConfig: "view-info-wapper",
          // Logo
          logoOn: "vli-hidden",
          logoCustomLink: "",
          logoClickThrough: "#",
          // On Off Btn
          titleOn: "",
          viewsLikesOn: "",
          shareOn: "",
          nextPrevArrowOn: "",
          nextPrevSkipOn: "",
          fullscreenOn: "",
          floatingSetting: floatingSetting,
          adConfig: {
            vastRetry: template.adConfig.vastRetry
          }
        };
      } else if (adType == "TopArticles") {
        vSetting = {
          vliVideoContainerWrapCSS: template.appearance.playerSize == "fixed" ? 'min-width: ' + template.appearance.maxWidth + 'px;width: ' + template.appearance.maxWidth + 'px;' : 'max-width: ' + template.appearance.maxWidth + 'px;width: 100%;',
          playerSkinType: playerSkinType,
          videoPlaceholderCSS: 'style="background-color: var(--vli-background-color); "',
          // Floating Close BTN HTML
          floatingCloseBtn: floatingclose_default.a,
          // Top HTML 
          topVideoConatiner: topvideocontainer_default.a,
          topVideoContainerConfig: template.text.mainTitle == "" && !template.logoBand.poweredByApacdex ? "vli-deactive" : "",
          mainTitle: template.text.mainTitle,
          poweredByApacdex: !template.logoBand.poweredByApacdex ? "vli-hidden" : "",
          // Video HTML 
          videoMain: html_video_default.a,
          // Video Container
          likeViewConfig: !template.text.titleOn ? "title-video-wapper" : "view-info-wapper",
          descriptionOn: !template.text.descriptionOn ? "vli-hidden" : "",
          // Logo
          logoOn: !template.logoBand.endableLogo ? "vli-hidden" : "",
          logoCustomLink: template.logoBand.customLogo.link,
          logoClickThrough: template.logoBand.customLogo.clickThrough,
          // On Off Btn
          titleOn: !template.text.titleOn ? "vli-hidden" : "",
          viewsLikesOn: "",
          shareOn: "",
          nextPrevArrowOn: "",
          nextPrevSkipOn: "",
          fullscreenOn: "",
          // Color
          color: {
            themeColor: {
              key: "--vli-theme-color",
              value: template.color.theme
            },
            backgroundColor: {
              key: "--vli-background-color",
              value: template.color.background
            },
            titleColor: {
              key: "--vli-title-color",
              value: template.color.title
            },
            titleBackgroundColor: {
              key: "--vli-title-background-color",
              value: template.color["title-background"]
            }
          },
          floatingSetting: floatingSetting,
          adConfig: {
            vastRetry: template.adConfig.vastRetry
          }
        };
      }

      vSetting.contentPlayerSkin = this.getContentPlayerSkin(playerSkinType);
      return vSetting;
    }
  }, {
    key: "getContentPlayerSkin",
    value: function getContentPlayerSkin(playerSkinType) {
      var contentPlayerSkin = "";

      if (playerSkinType == 2) {
        var marginRight = 6;
        var leftSize = 0;

        for (var i = 0; i < this.listVideos.length; i++) {
          var item = this.listVideos[i];
          var isCurItemPlaying = this.curVideoPlay == i;
          var config = {
            leftSizeStyle: 'style="left: ' + leftSize + 'px;"',
            itemClass: isCurItemPlaying ? "vli-hidden" : "",
            itemTitle: item.title,
            itemThumb: item.thumb,
            showPlaying: isCurItemPlaying ? "vli-show" : "vli-hidden",
            hidePlaying: isCurItemPlaying ? "vli-hidden" : ""
          };
          var tempHtml = Object(help["g" /* handleBarsCustom */])(content_2_default.a, config);
          contentPlayerSkin += '<a id="' + this.aTagId + '" ' + this.dataVideoIndexProp + '=' + i + ' href="javascript:void(0);">' + tempHtml + '</a>';
          leftSize += 143 + marginRight;
        }
      } else if (playerSkinType == 3) {
        var _config = {
          itemTitle: this.listVideos[this.curVideoPlay].title,
          desClass: this.videoSetting.descriptionOn,
          itemDes: this.listVideos[this.curVideoPlay].des
        };
        contentPlayerSkin = Object(help["g" /* handleBarsCustom */])(_3_default.a, _config);
      } else if (playerSkinType == 4) {
        var _config2 = {
          itemTitle: this.listVideos[this.curVideoPlay].title,
          desClass: this.videoSetting.descriptionOn,
          itemDes: this.listVideos[this.curVideoPlay].des
        };
        contentPlayerSkin = Object(help["g" /* handleBarsCustom */])(content_4_default.a, _config2);
      } else if (playerSkinType == 5) {
        var vliVideoList = "";

        for (var _i2 = 0; _i2 < this.listVideos.length; _i2++) {
          var _item = this.listVideos[_i2];

          var _isCurItemPlaying = this.curVideoPlay == _i2;

          var configMoreVideo = {
            itemThumb: _item.thumb,
            itemTitle: _item.title,
            desClass: this.videoSetting.descriptionOn,
            itemDes: _item.des,
            showPlaying: _isCurItemPlaying ? "vli-show" : "vli-hidden",
            hidePlaying: _isCurItemPlaying ? "vli-hidden" : "",
            clickVideoIndex: 'id = "' + this.aTagId + '" ' + this.dataVideoIndexProp + '="' + _i2 + '"'
          };
          vliVideoList += Object(help["g" /* handleBarsCustom */])(morevideo5_default.a, configMoreVideo);
        }

        var _config3 = {
          itemTitle: this.listVideos[this.curVideoPlay].title,
          desClass: this.videoSetting.descriptionOn,
          itemDes: this.listVideos[this.curVideoPlay].des,
          vliVideoList: vliVideoList
        };
        contentPlayerSkin = Object(help["g" /* handleBarsCustom */])(_5_default.a, _config3);
      } else if (playerSkinType == 6) {
        var maxCol = 2;
        var _tempHtml = '<table style="border-collapse: collapse; width: 100%;">';
        var rowTemp = '';

        for (var _i3 = 0; _i3 < this.listVideos.length; _i3++) {
          var _item2 = this.listVideos[_i3]; // Set default video play 

          var _isCurItemPlaying2 = this.curVideoPlay == _i3;

          var _config4 = {
            itemThumb: _item2.thumb,
            showPlaying: _isCurItemPlaying2 ? "vli-show" : "vli-hidden",
            hidePlaying: _isCurItemPlaying2 ? "vli-hidden" : ""
          };
          var str = Object(help["g" /* handleBarsCustom */])(_6_default.a, _config4);
          var tdTemp = '<a id="' + this.aTagId + '" ' + this.dataVideoIndexProp + '=' + _i3 + ' href="javascript:void(0);">' + str + '</a>'; // Check Break Row

          if (_i3 != 0 && (_i3 + 1) % maxCol == 0) {
            rowTemp += '<td>' + tdTemp + '</td>';
            _tempHtml += '<tr>' + rowTemp + '</tr>';
            rowTemp = '';
          } else {
            rowTemp += '<td>' + tdTemp + '</td>';
          }
        }

        _tempHtml += '</table>';
        contentPlayerSkin = _tempHtml;
      } else if (playerSkinType == 7) {
        var _tempHtml2 = '<table style="border-collapse: collapse; width:100%">';

        for (var _i4 = 0; _i4 < this.listVideos.length; _i4++) {
          var _item3 = this.listVideos[_i4]; // Set default video play 

          var _isCurItemPlaying3 = this.curVideoPlay == _i4;

          var _config5 = {
            itemThumb: _item3.thumb,
            itemTitle: _item3.title,
            desClass: this.videoSetting.descriptionOn,
            itemDes: _item3.des,
            showPlaying: _isCurItemPlaying3 ? "vli-show" : "vli-hidden",
            hidePlaying: _isCurItemPlaying3 ? "vli-hidden" : "",
            openAtag: '<a id="' + this.aTagId + '" ' + this.dataVideoIndexProp + '=' + _i4 + ' href="javascript:void(0);">',
            closeAtag: '</a>'
          };
          _tempHtml2 += '<tr>' + Object(help["g" /* handleBarsCustom */])(_7_default.a, _config5) + '</tr>';
        }

        _tempHtml2 += '</table>';
        contentPlayerSkin += _tempHtml2;
      }

      return contentPlayerSkin;
    }
  }, {
    key: "setCurrentVideoInfo",
    value: function setCurrentVideoInfo() {
      this.vliTitleVideo.innerText = this.listVideos[this.curVideoPlay].title;
      this.vliViewInfoNum.innerText = "31.8k";
      this.vliViewLikeNum.innerText = "40";
      this.vliVideo.setAttribute('poster', this.listVideos[this.curVideoPlay].thumb);
      var vliSource = this.vliVideo.getElementsByTagName("source")[0];

      for (var _i5 = 0, _Object$entries2 = Object.entries(this.listVideos[0].video_url); _i5 < _Object$entries2.length; _i5++) {
        var _Object$entries2$_i = slicedToArray_default()(_Object$entries2[_i5], 2),
            key = _Object$entries2$_i[0],
            value = _Object$entries2$_i[1];

        if (key == "mp4") {
          vliSource.src = value;
          vliSource.type = "video/" + key;
          break;
        } else if (key == "ogg") {
          vliSource.src = value;
          vliSource.type = "video/" + key;
          break;
        }
      }
    }
  }, {
    key: "refreshVideoContainer",
    value: function refreshVideoContainer() {
      this.setCurrentVideoInfo();
      var document = this.vliVideoIframe.contentWindow.document;
      var type = this.videoSetting.playerSkinType; // reset video content type 2 5 6 7

      if (type == 2 || type == 5 || type == 6 || type == 7) {
        var listThumbnail = document.querySelectorAll("#vliThumbnail");

        for (var i = 0; i < listThumbnail.length; i++) {
          var item = listThumbnail[i];
          var isCurItemPlaying = this.curVideoPlay == i;
          var listDiv = item.querySelectorAll("div");
          listDiv.forEach(function (element) {
            element.classList.remove("vli-show");
            element.classList.remove("vli-hidden");
          });
          listDiv[0].classList.add(isCurItemPlaying ? "vli-show" : "vli-hidden");
          listDiv[1].classList.add(isCurItemPlaying ? "vli-show" : "vli-hidden");

          if (type == 2 && isCurItemPlaying) {
            listDiv[2].classList.add("vli-hidden");
          } else if (type != 2) {
            listDiv[2].classList.add(isCurItemPlaying ? "vli-hidden" : "vli-show");
          }
        }
      } // reset video content type 3 4 5


      if (type == 3 || type == 4 || type == 5) {
        var contentDiv = document.querySelectorAll("#vliCurVideoContent div");
        contentDiv[0].textContent = this.listVideos[this.curVideoPlay].title;
        contentDiv[2].textContent = this.listVideos[this.curVideoPlay].des;
      }
    }
  }, {
    key: "windowSizeChange",
    value: function windowSizeChange() {
      if (this.vliVideoList && this.videoSetting.playerSkinType != 5) {
        var videoH = this.vliVideoContainer.offsetHeight;
        this.vliVideoList.style.height = videoH == 0 ? "32vw" : videoH + "px";
      }

      var hVideoPlacement = this.vliVideoPlaceholder.offsetHeight;
      if (hVideoPlacement == 0 || this.userAction.isFloating) return;
      this.vliVideoContainerWrap.style.height = hVideoPlacement + "px";
    }
  }, {
    key: "getVliFloatingCSS",
    value: function getVliFloatingCSS(type) {
      if (type == "close") {
        return "position: absolute;width: 20px;height: 20px;background-color: rgba(0, 0, 0, 0.65);border-radius: 50%;";
      }

      return "position: relative;overflow: hidden;" + this.videoSetting.vliVideoContainerWrapCSS;
    }
  }, {
    key: "createLinkCss",
    value: function createLinkCss(innerDocument, name) {
      var styleSheet = innerDocument.createElement("style");
      styleSheet.type = "text/css";
      styleSheet.innerText = name; // let styleSheet = innerDocument.createElement("link");
      // styleSheet.rel = "stylesheet";
      // styleSheet.type = "text/css";
      // styleSheet.href = name;

      return styleSheet;
    } // Get Video Controll Component + Add + Remove Event Listener

  }, {
    key: "getAllVideoControll",
    value: function getAllVideoControll(playerSkinType) {
      if (this.userAction.isEnableFloating && this.videoSetting.floatingSetting.closeBtn.active) {
        this.vliFloatingCloseBtn = document.getElementById('vliFloatingCloseBtn');
      } // Other elements In Iframe


      var documentI = this.vliVideoIframe.contentWindow.document;
      this.vliVideoPlaceholder = documentI.getElementById('vliVideoPlaceholder'); // Fix floating player skin 8

      this.vliVideoWrapper = documentI.getElementById('vliVideoWrapper'); // Slider Skin 2

      if (playerSkinType == 2) {
        this.vliSliderVideo = documentI.getElementById('vliSliderVideo');
        this.vliSliderVideoLeft = documentI.getElementById('vliSliderVideoLeft');
        this.vliSliderVideoRight = documentI.getElementById('vliSliderVideoRight');
      } // Back + Next BTN Skin 4


      if (playerSkinType == 4) {
        this.vliBackBtn = documentI.getElementById('vliBackBtn');
        this.vliNextBtn = documentI.getElementById('vliNextBtn');
      } // List a Tag Video index Dom


      if (playerSkinType == 2 || playerSkinType == 5 || playerSkinType == 6 || playerSkinType == 7) {
        this.listVideosDom = documentI.querySelectorAll("#" + this.aTagId);
      }

      this.vliVideoList = documentI.getElementById("vliVideoList"); // Select all Video Container elements here

      this.vliTopVideoContainer = documentI.getElementById('vliTopVideoContainer');
      this.vliVideoContainer = documentI.getElementById('vliVideoContainer'); // FEATURED VIDEOS

      this.vliFeatureVideos = documentI.getElementById('vliFeatureVideos'); // Video

      this.vliVideo = documentI.getElementById('vliVideo');
      this.videoControls = documentI.getElementById('vliVideoControls'); // Top Left Element

      this.vliTitleVideo = documentI.getElementById('vliTitleVideo');
      this.vliViewInfoNum = documentI.getElementById('vliViewInfoNum');
      this.vliViewLikeNum = documentI.getElementById('vliViewLikeNum'); // Share

      this.fbBtn = documentI.getElementById("vliFbBtn");
      this.twitterBtn = documentI.getElementById("vliTwitterBtn");
      this.linkedinBtn = documentI.getElementById("vliLinkedinBtn");
      this.pinterestBtn = documentI.getElementById("vliPinterestBtn");
      this.whatsappBtn = documentI.getElementById("vliWhatsappBtn");
      this.emailBtn = documentI.getElementById("vliEmailBtn"); // Play BTN

      this.playButton = documentI.getElementById('vliPlay');
      this.playbackIcons = this.playButton.querySelectorAll('svg'); // Back + Next BTN

      this.vliVideoBackBtn = documentI.getElementById('vliVideoBackBtn');
      this.vliVideoNextBtn = documentI.getElementById('vliVideoNextBtn'); // Process bar

      this.progressBar = documentI.getElementById('vliVideoProgressBar');
      this.seek = documentI.getElementById('vliSeek');
      this.seekTooltip = documentI.getElementById('vliSeekTooltip'); // Timeelapsed + Duration

      this.timeElapsed = documentI.getElementById('vliTimeElapsed');
      this.duration = documentI.getElementById('vliDuration'); // Skip x Sec

      this.skipSecBack = documentI.getElementById('vliSkipSecBack');
      this.skipSecForward = documentI.getElementById('vliSkipSecForward'); // Volume

      this.volumeButton = documentI.getElementById('vliVolumeBtn');
      this.volumeIcons = this.volumeButton.querySelectorAll('svg');
      this.volumeOn = documentI.getElementById('vliVolumeOn');
      this.volumeMute = documentI.getElementById('vliVolumeOff');
      this.volumeProcessBar = documentI.getElementById('vliVolumeProcessBar');
      this.volumeBar = documentI.getElementById('vliVolumeBar');
      this.vliSoundScrabberWrapper = documentI.getElementById('vliSoundScrabberWrapper'); // Fullscreen BTN

      this.fullscreenButton = documentI.getElementById('vliFullscreenBtn');
      this.fullscreenIcons = this.fullscreenButton.querySelectorAll('svg'); // Add Event Listener   

      this.addEventListner(playerSkinType);
    }
  }, {
    key: "addEventListner",
    value: function addEventListner(playerSkinType) {
      var _this2 = this;

      var window = this.vliVideoIframe.contentWindow; // Floating Setup

      if (this.userAction.isEnableFloating) {
        document.addEventListener('scroll', this.checkElementInViewport.bind(this));

        if (this.videoSetting.floatingSetting.closeBtn.active) {
          this.vliFloatingCloseBtn.addEventListener('click', this.floatingCloseBtn.bind(this));
        }
      } // Fix Issue: Floating


      window.addEventListener('resize', this.windowSizeChange.bind(this));
      this.vliVideoContainerWrap.style.cssText += "height: " + this.vliVideoPlaceholder.offsetHeight + "px;"; // Fix MoreVideo height

      if (playerSkinType == 5) {
        // Set height to scroll
        this.vliVideoList.style.height = this.listVideosDom[0].offsetHeight * 3 + "px";
      } // Skin 2 L + R:


      if (this.videoSetting.playerSkinType == 2) {
        this.vliSliderVideoLeft.addEventListener('click', this.processSliderVideoVertical.bind(this));
        this.vliSliderVideoRight.addEventListener('click', this.processSliderVideoVertical.bind(this));
      } // Back + Next Video BTN


      if (this.videoSetting.playerSkinType == 4) {
        this.vliBackBtn.addEventListener('click', this.backNextVideoBtn.bind(this));
        this.vliNextBtn.addEventListener('click', this.backNextVideoBtn.bind(this));
      } // List a Tag Video index Dom


      if (playerSkinType == 2 || playerSkinType == 5 || playerSkinType == 6 || playerSkinType == 7) {
        if (!this.listVideosDom) return;
        this.listVideosDom.forEach(function (item) {
          item.addEventListener("click", _this2.clickVideoToPlay.bind(_this2));
        });
      } // Video 


      this.vliVideo.addEventListener('loadedmetadata', this.initializeVideo.bind(this));
      this.vliVideo.addEventListener('timeupdate', this.updateProgressBar.bind(this));
      this.vliVideo.addEventListener('volumechange', this.updateVolumeIcon.bind(this)); // this.vliVideo.addEventListener('click', this.togglePlay.bind(this));
      // Center Control

      this.playButton.addEventListener('click', this.togglePlay.bind(this));
      this.vliVideoBackBtn.addEventListener('click', this.backNextVideoBtn.bind(this));
      this.vliVideoNextBtn.addEventListener('click', this.backNextVideoBtn.bind(this)); // Botton Control

      this.seek.addEventListener('input', this.skipAhead.bind(this));
      this.seek.addEventListener('mousemove', this.updateSeekTooltip.bind(this));
      this.skipSecBack.addEventListener('click', this.skipSecBackFunc.bind(this));
      this.skipSecForward.addEventListener('click', this.skipSecForwardFunc.bind(this));
      this.volumeBar.addEventListener('input', this.updateVolume.bind(this));
      this.volumeButton.addEventListener('click', this.toggleMute.bind(this));
      this.fullscreenButton.addEventListener('click', this.toggleFullScreen.bind(this)); // Share

      this.fbBtn.addEventListener('click', this.shareBTN.bind(this));
      this.twitterBtn.addEventListener('click', this.shareBTN.bind(this));
      this.linkedinBtn.addEventListener('click', this.shareBTN.bind(this));
      this.pinterestBtn.addEventListener('click', this.shareBTN.bind(this));
      this.whatsappBtn.addEventListener('click', this.shareBTN.bind(this));
      this.emailBtn.addEventListener('click', this.shareBTN.bind(this));
    }
  }, {
    key: "removeEventListner",
    value: function removeEventListner() {
      var _this3 = this;

      if (!this.vliVideoIframe) return;
      window.removeEventListener('resize', this.windowSizeChange.bind(this)); // Floating:

      document.removeEventListener('scroll', this.checkElementInViewport.bind(this));
      if (this.vliFloatingCloseBtn) this.vliFloatingCloseBtn.removeEventListener('click', this.floatingCloseBtn.bind(this)); // Skin 2 L + R:

      if (this.vliSliderVideoLeft) this.vliSliderVideoLeft.removeEventListener('click', this.processSliderVideoVertical.bind(this));
      if (this.vliSliderVideoRight) this.vliSliderVideoRight.removeEventListener('click', this.processSliderVideoVertical.bind(this)); // List a Tag Video index Dom

      if (this.listVideosDom) {
        this.listVideosDom.forEach(function (item) {
          if (item) item.removeEventListener("click", _this3.clickVideoToPlay.bind(_this3));
        });
      } // Video 


      if (this.vliVideo) {
        this.vliVideo.removeEventListener('loadedmetadata', this.initializeVideo.bind(this));
        this.vliVideo.removeEventListener('timeupdate', this.updateProgressBar.bind(this));
        this.vliVideo.removeEventListener('volumechange', this.updateVolumeIcon.bind(this));
      } // this.vliVideo.removeEventListener('click', this.togglePlay.bind(this));
      // Center Control


      if (this.playButton) this.playButton.removeEventListener('click', this.togglePlay.bind(this));
      if (this.vliVideoBackBtn) this.vliVideoBackBtn.removeEventListener('click', this.backNextVideoBtn.bind(this));
      if (this.vliVideoNextBtn) this.vliVideoNextBtn.removeEventListener('click', this.backNextVideoBtn.bind(this));
      if (this.vliBackBtn) this.vliBackBtn.removeEventListener('click', this.backNextVideoBtn.bind(this));
      if (this.vliNextBtn) this.vliNextBtn.removeEventListener('click', this.backNextVideoBtn.bind(this)); // Botton Control

      if (this.seek) {
        this.seek.removeEventListener('input', this.skipAhead.bind(this));
        this.seek.removeEventListener('mousemove', this.updateSeekTooltip.bind(this));
      }

      if (this.skipSecBack) this.skipSecBack.removeEventListener('click', this.skipSecBackFunc.bind(this));
      if (this.skipSecForward) this.skipSecForward.removeEventListener('click', this.skipSecForwardFunc.bind(this));
      if (this.volumeBar) this.volumeBar.removeEventListener('input', this.updateVolume.bind(this));
      if (this.volumeButton) this.volumeButton.removeEventListener('click', this.toggleMute.bind(this));
      if (this.fullscreenButton) this.fullscreenButton.removeEventListener('click', this.toggleFullScreen.bind(this)); // Share

      if (this.fbBtn) this.fbBtn.removeEventListener('click', this.shareBTN.bind(this));
      if (this.twitterBtn) this.twitterBtn.removeEventListener('click', this.shareBTN.bind(this));
      if (this.linkedinBtn) this.linkedinBtn.removeEventListener('click', this.shareBTN.bind(this));
      if (this.pinterestBtn) this.pinterestBtn.removeEventListener('click', this.shareBTN.bind(this));
      if (this.whatsappBtn) this.whatsappBtn.removeEventListener('click', this.shareBTN.bind(this));
      if (this.emailBtn) this.emailBtn.removeEventListener('click', this.shareBTN.bind(this));
    } // Func Process Video

  }, {
    key: "processSliderVideoVertical",
    value: function processSliderVideoVertical(event) {
      var id = event.currentTarget.id;

      switch (id) {
        case "vliSliderVideoLeft":
          this.vliSliderVideo.scrollLeft -= 150;
          break;

        case "vliSliderVideoRight":
          this.vliSliderVideo.scrollLeft += 150;
          break;
      }
    }
  }, {
    key: "clickVideoToPlay",
    value: function clickVideoToPlay(e) {
      if (!e) return;
      var clickVideoIndex = parseInt(e.currentTarget.getAttribute(this.dataVideoIndexProp));

      if (this.curVideoPlay != clickVideoIndex) {
        this.curVideoPlay = clickVideoIndex;
        this.refreshVideoContainer();
      }
    }
  }, {
    key: "backNextVideoBtn",
    value: function backNextVideoBtn(event) {
      var type = event.currentTarget.id;

      if (type == "vliBackBtn" || type == "vliVideoBackBtn") {
        this.processCurVideoPlayIndex(-1);
      } else if (type == "vliNextBtn" || type == "vliVideoNextBtn") {
        this.processCurVideoPlayIndex(1);
      }

      this.refreshVideoContainer();
    }
  }, {
    key: "processCurVideoPlayIndex",
    value: function processCurVideoPlayIndex(type) {
      this.curVideoPlay += type;

      if (this.curVideoPlay < 0) {
        this.curVideoPlay = this.listVideos.length - 1;
      } else if (this.curVideoPlay > this.listVideos.length - 1) {
        this.curVideoPlay = 0;
      }
    }
  }, {
    key: "togglePlay",
    value: function togglePlay() {
      this.playbackIcons.forEach(function (icon) {
        return icon.classList.toggle('vli-hidden');
      });

      if (this.vliVideo.paused || this.vliVideo.ended) {
        this.vliVideo.play();
        this.videoControls.classList.remove("vli-show");
        this.videoControls.classList.remove("ads-logo-active");
      } else {
        this.vliVideo.pause();
        this.videoControls.classList.add("vli-show");
        this.videoControls.classList.add("ads-logo-active");
      }
    }
  }, {
    key: "shareBTN",
    value: function shareBTN(event) {
      var type = event.target.id;
      var link = "https://interdogmedia.com/";

      switch (type) {
        case "vliFbBtn":
          open("https://www.facebook.com/sharer.php?u=" + link);
          break;

        case "vliTwitterBtn":
          open("https://twitter.com/intent/tweet?url=" + link + "&text=%27Stop%20Committing%20Environmental%20Sins%20When%20Spring%20Cleaning%27&via=Apacdex");
          break;

        case "vliLinkedinBtn":
          open("https://www.linkedin.com/shareArticle?mini=true&url=" + link + "&title=%27Stop%20Committing%20Environmental%20Sins%20When%20Spring%20Cleaning%27");
          break;

        case "vliPinterestBtn":
          open("https://www.pinterest.com/pin/create/link/?url=" + link);
          break;

        case "vliWhatsappBtn":
          open("https://api.whatsapp.com/send/?phone&text=%27Stop+Committing+Environmental+Sins+When+Spring+Cleaning%27+" + link + "+via+%40Primis&app_absent=0");
          break;

        case "vliEmailBtn":
          var desc = "Video Discovery helped me find this video";
          open("mailto:?subject=" + this.vliTitleVideo.innerText + "&body=" + desc + " '" + this.vliTitleVideo.innerText + "' " + link + ' via @Apacdex');
          break;
      }
    } // formatTime takes a time length in seconds and returns the time in minutes and seconds

  }, {
    key: "formatTime",
    value: function formatTime(timeInSeconds) {
      var result = new Date(timeInSeconds * 1000).toISOString().substr(11, 8);
      return {
        minutes: result.substr(3, 2),
        seconds: result.substr(6, 2)
      };
    } // updateProgressBar indicates how far through the video
    // the current playback is by updating the progress bar

  }, {
    key: "updateProgressBar",
    value: function updateProgressBar() {
      this.seek.value = Math.floor(this.vliVideo.currentTime);
      this.progressBar.value = Math.floor(this.vliVideo.currentTime); // Update Time Elapsed
      // updateTimeElapsed indicates how far through the video
      // the current playback is by updating the timeElapsed element

      var time = this.formatTime(Math.round(this.vliVideo.currentTime));
      this.timeElapsed.innerText = "".concat(time.minutes, ":").concat(time.seconds);
      this.timeElapsed.setAttribute('datetime', "".concat(time.minutes, "m ").concat(time.seconds, "s"));
    } // updateSeekTooltip uses the position of the mouse on the progress bar to
    // roughly work out what point in the video the user will skip to if
    // the progress bar is clicked at that point

  }, {
    key: "updateSeekTooltip",
    value: function updateSeekTooltip(event) {
      var max = event.target.getAttribute('max');
      if (max == null) return;
      var skipTo = Math.round(event.offsetX / event.target.clientWidth * parseInt(max, 10));
      this.seek.setAttribute('data-seek', skipTo);
      var t = this.formatTime(skipTo);
      this.seekTooltip.textContent = "".concat(t.minutes, ":").concat(t.seconds);
      var rect = this.vliVideo.getBoundingClientRect();
      this.seekTooltip.style.left = "".concat(event.pageX - rect.left, "px");
    } // skipAhead jumps to a different point in the video when the progress bar is clicked

  }, {
    key: "skipAhead",
    value: function skipAhead(event) {
      var skipTo = event.target.dataset.seek ? event.target.dataset.seek : event.target.value;
      this.vliVideo.currentTime = skipTo;
      this.progressBar.value = skipTo;
      this.seek.value = skipTo;
    } // Skip x Sec

  }, {
    key: "skipSecBackFunc",
    value: function skipSecBackFunc() {
      this.vliVideo.currentTime = video.currentTime - 10;
    }
  }, {
    key: "skipSecForwardFunc",
    value: function skipSecForwardFunc() {
      this.vliVideo.currentTime = this.vliVideo.currentTime + 10;
    } // updateVolume updates the video's volume and disables the muted state if active

  }, {
    key: "updateVolume",
    value: function updateVolume() {
      if (this.vliVideo.muted) {
        this.vliVideo.muted = false;
      }

      this.vliVideo.volume = this.volumeBar.value;
      this.volumeProcessBar.value = this.volumeBar.value;
    } // updateVolumeIcon updates the volume icon so that it correctly reflects the volume of the video

  }, {
    key: "updateVolumeIcon",
    value: function updateVolumeIcon() {
      this.volumeIcons.forEach(function (icon) {
        icon.classList.add('vli-hidden');
      });

      if (this.vliVideo.muted || this.vliVideo.volume === 0) {
        this.volumeMute.classList.remove('vli-hidden');
      } else {
        this.volumeOn.classList.remove('vli-hidden');
      }
    } // toggleMute mutes or unmutes the video when executed
    // When the video is unmuted, the volume is returned to the value
    // it was set to before the video was muted

  }, {
    key: "toggleMute",
    value: function toggleMute() {
      this.vliVideo.muted = !this.vliVideo.muted;

      if (this.vliVideo.muted) {
        this.volumeBar.setAttribute('data-volume', this.volumeBar.value);
        this.volumeBar.value = 0;
      } else {
        this.volumeBar.value = this.volumeBar.dataset.volume;
      }
    } // toggleFullScreen toggles the full screen state of the video
    // If the browser is currently in fullscreen mode,
    // then it should exit and vice versa.

  }, {
    key: "toggleFullScreen",
    value: function toggleFullScreen() {
      // this.fullscreenIcons.forEach((icon) => icon.classList.toggle('vli-hidden'));
      var document = this.vliVideoIframe.contentWindow.document;

      if (document.fullscreenElement) {
        document.exitFullscreen();
      } else if (document.webkitFullscreenElement) {
        // Need this to support Safari
        document.webkitExitFullscreen();
      } else if (this.vliVideoContainer.webkitRequestFullscreen) {
        // Need this to support Safari
        this.vliVideoContainer.webkitRequestFullscreen();
      } else {
        this.vliVideoContainer.requestFullscreen();
      }
    } // initializeVideo sets the video duration, and maximum value of the progressBar

  }, {
    key: "initializeVideo",
    value: function initializeVideo() {
      this.volumeBar.value = this.volumeBar.getAttribute("max");
      this.volumeProcessBar.value = this.volumeBar.value;
      var videoDuration = Math.round(this.vliVideo.duration);
      this.seek.setAttribute('max', videoDuration);
      this.progressBar.setAttribute('max', videoDuration);
      var time = this.formatTime(videoDuration);
      this.duration.innerText = "".concat(time.minutes, ":").concat(time.seconds);
      this.duration.setAttribute('datetime', "".concat(time.minutes, "m ").concat(time.seconds, "s"));
    }
  }]);

  return VliVideoContainer;
}();


// CONCATENATED MODULE: ./src/plugins_v2/vlivideo/VliVideoDiscovery.js








var VliVideoDiscovery_VliVideoDiscovery = /*#__PURE__*/function () {
  function VliVideoDiscovery() {
    classCallCheck_default()(this, VliVideoDiscovery);

    this.Widgets = null;
    this.thisAdSlot = null;
    this.adSlotElem = null;
    this.adIframeElem = null;
    this.adIframeElemBaseCss = "";
    this.isLoadIntersectionObserverPolyfill = false;
    this.disable_fixed = false;
    this.adConfig = null;
    this.adIframe = null;
    this.currentVolume = 0;
    this.adsInViewPort = false;
    this.isFullscreen = false;
    this.adData = null;
    this.vidData = null;
    this.adVidEl = null;
    this.adWidth = null;
    this.adHeight = null;
    this.adPlayerHeight = null;
    this.viContentHeight = null;
    this.itemPerPage = null;
    this.adWrapper = null;
    this.adsManager = null;
    this.floorPrice = null;
    this.playBackGround = false; //số lần request bid

    this.numBidRequest = 0; //số lần request bid tối đa

    this.maxBidRequest = 10; //thời gian bid lại nếu trước đó có quảng cáo

    this.refreshTime = plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid_dfp" ? plugins_v2_constants.reBidDiscoveryTypeDfp : plugins_v2_constants.reBidDiscoveryTypePostbid; //thời gian bid lại nếu trước đó KHÔNG có quảng cáo

    this.noBidTime = 5;
    this.bottomDistance = mobileDetect() ? 40 : 20; // kiểm tra focus màn hình

    this.isFocus = document.hasFocus();
    this.adUnitCodes = [];
    this.adPlayed = false;
  }

  createClass_default()(VliVideoDiscovery, [{
    key: "getAdConfig",
    value: function getAdConfig() {
      var defaultConfig = {
        random: true,
        type: null,
        noFixedVideo: false,
        fixedOnMobile: false,
        fixedPosition: "bottom left",
        //"bottom right", "bottom left", "top right", "top left"
        showCloseVideoDiscoverButton: false,
        hideStaticVideo: false,
        hidePlaylist: false,
        alwayDisplayAd: true,
        scrollPercent: null,
        modeTopArticles: false,
        disableCache: false,
        sizeStickyVideo: mobileDetect() ? 256 : 410,
        renderMode: "root",
        customLogo: {
          type: 'default',
          // default custom nouse
          hideOnFullFixed: true,
          icon: plugins_v2_constants.brandIcon,
          text: plugins_v2_constants.brandName,
          url: "//" + plugins_v2_constants.brandHomepage + "/?ref=" + window.location.hostname
        },
        language: {
          play: "Play",
          pause: "Pause",
          next: "Next",
          previous: "Previous",
          nowPlaying: "Now\\aPlaying",
          enableVolume: "Enable Volume",
          disableVolume: "Disable Volume",
          fullscreen: "Fullscreen",
          collapse: "Collapse",
          disableFixedVideo: "Disable Fixed Video",
          hideVideoDiscovery: "Hide Video Discovery"
        }
      };
      cloneDefaultConfig({
        videoDiscoverConfig: defaultConfig
      });

      if (window[plugins_v2_constants.tagName] && window[plugins_v2_constants.tagName].sizeStickyVideo) {
        defaultConfig.sizeStickyVideo = handlerSizeStickyVideo(window[plugins_v2_constants.tagName].sizeStickyVideo);
      }

      if (!window[plugins_v2_constants.tagName].videoDiscoverConfig) return defaultConfig;
      var s = window[plugins_v2_constants.tagName].videoDiscoverConfig;
      var language = {};
      if (window[plugins_v2_constants.tagName].videoDiscoverConfig.language) language = window[plugins_v2_constants.tagName].videoDiscoverConfig.language;

      for (var key in defaultConfig) {
        if (key === "language") {
          for (var k in defaultConfig[key]) {
            if (typeof language[k] === "undefined") language[k] = defaultConfig[key][k];
          }

          s[key] = language;
        } else if (typeof s[key] === "undefined") {
          s[key] = defaultConfig[key];
        }
      }

      if (s["noFixedVideo"] === false) {// s["alwayDisplayAd"] = false;
      }

      return s;
    }
  }, {
    key: "calcSlider",
    value: function calcSlider(_adWidth) {
      var itemPerPage = 5;

      if (_adWidth <= 600) {
        itemPerPage = 4;
      }

      if (_adWidth <= 400) {
        itemPerPage = 3;
      }

      if (_adWidth <= 300) {
        itemPerPage = 3;
      }

      if (_adWidth <= 200) {
        itemPerPage = 2;
      }

      var itemWidth = parseInt(_adWidth / itemPerPage) - 4;
      var viContentHeight = parseInt(itemWidth * 9 / 16);
      return {
        viContentHeight: viContentHeight,
        itemPerPage: itemPerPage
      };
    }
  }, {
    key: "getAds",
    value: function getAds() {
      this.adPlayed = false;
      if (!this.adData.adunit && !this.adData.adunitExt) return;
      this.adWrapper = this.adIframe.querySelector('#vi__adwrapper');
      var adunit = this.adData.adunit;
      var adunitExt = this.adData.adunitExt; // OutstreamSlot

      if (!adunit.bids && !adunitExt.bids) return;

      if (!adunit.mediaTypes || adunit.mediaTypes == null) {
        adunit.mediaTypes = mediaTypesAdFormatVideo('videodiscovery');
      }

      adunit.code = this.thisAdSlot;
      adunit.bids = utlis_buildBids(adunit.bids, this.floorPrice);
      vlipb.removeAdUnit(adunit.code);
      vlipb.addAdUnits(adunit);
      this.adUnitCodes.push(adunit.code);

      if (adunit.bids.length > 0) {
        plugins_v2_constants.auctionLogs[this.thisAdSlot] = {
          bidder: putOutBidders(adunit.bids),
          preAuction: ''
        };
      } // init adunitExt Outstream


      if (adunitExt) {
        if (!adunitExt.mediaTypes || adunitExt.mediaTypes == null) {
          adunitExt.mediaTypes = mediaTypesAdFormatVideo('videodiscoveryExt');
        }

        adunitExt.bids = utlis_buildBids(adunitExt.bids, this.floorPrice);
        adunitExt.renderer = adunitExt.renderer || {
          url: '',
          render: function render() {}
        };
        vlipb.removeAdUnit(adunitExt.code);
        vlipb.addAdUnits(adunitExt);
        this.adUnitCodes.push(adunitExt.code);

        if (adunitExt.bids.length > 0) {
          plugins_v2_constants.auctionLogs[adunitExt.code] = {
            bidder: putOutBidders(adunitExt.bids),
            preAuction: ''
          };
        }
      }

      this.adWrapper.classList.add("running");
      utlis_requestBids(this.adUnitCodes, [], this.bidBackHandler.bind(this), 'videodiscover');
      this.numBidRequest++;
    }
  }, {
    key: "bidBackHandler",
    value: function bidBackHandler(adUnitCodes) {
      var _this = this;

      if (plugins_v2_constants.isVideoRunning && plugins_v2_constants.dfpApproved === "on") {
        utlis_vilog("[Video Discovery] Other Video is running");
        this.refreshBid(this.refreshTime);
        return;
      }

      var responses = [];
      adUnitCodes.forEach(function (currentDivId) {
        var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

        utlis_vilog("[Video Discovery] Response for: " + currentDivId);
        utlis_vilog(_rsp);
        responses = responses.concat(_rsp);
      });
      var responseSorted = sortResponseBids(responses);
      utlis_vilog("[Video Discovery] All Sorted Responses");
      utlis_vilog(responseSorted);
      responseSorted = responseSorted.filter(function (bid) {
        if (bid.mediaType === "video" && bid.cpm < _this.floorPrice) {
          vlipb.markWinningBidAsUsed({
            adId: bid.adId
          });
          return false;
        }

        return true;
      });

      if (plugins_v2_constants.videoRequestMode === "dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery) === false) {
        var bidSelected = null;

        if (responseSorted.length > 0) {
          bidSelected = responseSorted[0];
        }

        var pixelToken = "";
        var adUnitWin = this.adData.adunit;

        if (bidSelected) {
          var pixel = {
            type: "hb_video",
            divID: this.thisAdSlot,
            zoneID: this.adData.zid,
            bidder: bidSelected.bidderCode,
            cpm: bidSelected.cpm
          };
          pixelToken = getPixelToken(pixel);

          if (this.adData.adunit && this.adData.adunit.code == bidSelected.adUnitCode) {
            adUnitWin = this.adData.adunit;
          }

          if (this.adData.adunitExt && this.adData.adunitExt.code == bidSelected.adUnitCode) {
            adUnitWin = this.adData.adunitExt;
          }
        }

        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "discovery",
          impression_url: plugins_v2_constants.statsDomain,
          token: pixelToken,
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.adData.zid : "videodiscovery_" + this.adData.zid;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery)
          },
          adUnit: adUnitWin,
          bidWon: bidSelected,
          customParams: cust_params
        });
        utlis_vilog("[VIDEO DISCOVERY] New Vast Url: " + vastUrl);
        if (bidSelected) vlipb.markWinningBidAsUsed({
          adId: bidSelected.adId
        });
        var callbacks = {
          start: function start() {
            var dataBid = {
              adId: bidSelected ? bidSelected.adId : "unknown from Adx",
              bidder: bidSelected ? bidSelected.bidder : "Adx",
              creativeId: bidSelected ? bidSelected.creativeId : "unknown from Adx"
            };
            pushInfoDebugOverlay(_this.thisAdSlot, dataBid);

            _this.viReportObserver(bidSelected ? bidSelected.creativeId : "", "VideoDiscovery");
          },
          error: function error() {
            _this.startRender(responseSorted);
          }
        };
        this.playVast({
          vastUrl: vastUrl,
          vastXml: null
        }, callbacks);
      } else {
        this.startRender(responseSorted);
      }
    }
  }, {
    key: "startRender",
    value: function startRender() {
      var _this2 = this;

      var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      var vastUrl = null;
      var vastXml = null;
      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {},
        adsVolumeChange: function adsVolumeChange() {}
      };

      if (bids.length > 0) {
        var bidWon = bids[0];
        vlipb.markWinningBidAsUsed({
          adId: bidWon.adId
        });
        bids.splice(0, 1);
        vastUrl = bidWon.vastUrl || null;
        vastXml = bidWon.vastXml || null;

        callbacks.start = function () {
          pushInfoDebugOverlay(_this2.thisAdSlot, bidWon);

          _this2.viReportObserver(bidWon ? bidWon.creativeId : "", "VideoDiscovery");
        };

        callbacks.error = function (errorCode) {
          _this2.startRender(bids);
        };

        callbacks.impression = function () {
          var pixel = {
            type: "hb_video",
            divID: _this2.thisAdSlot,
            zoneID: _this2.adData.zid,
            bidder: bidWon.bidderCode,
            cpm: bidWon.cpm
          };
          savePixel(pixel);
          utlis_vilog("[Video Discovery] Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm);
        };

        data = {
          vastUrl: vastUrl,
          vastXml: vastXml
        };

        if (vastUrl == null && vastXml == null) {
          this.startRender(bids);
        } else {
          this.playVast(data, callbacks);
        }
      } else {
        this.caseTwo();
      }
    }
  }, {
    key: "caseTwo",
    value: function caseTwo() {
      var _this3 = this;

      if (plugins_v2_constants.videoRequestMode === "postbid_dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery) === false) {
        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "discovery",
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.adData.zid : "videodiscovery_" + this.adData.zid;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.videoDiscovery)
          },
          adUnit: this.adData.adunit,
          customParams: cust_params
        });
        utlis_vilog("[VIDEO DISCOVERY] caseTwo - New Vast Url: " + vastUrl);
        var callbacks = {
          start: function start() {
            var dataBid = {
              adId: "unknown from Adx",
              bidder: "Adx",
              creativeId: "unknown from Adx"
            };
            pushInfoDebugOverlay(_this3.thisAdSlot, dataBid);

            _this3.viReportObserver("", "VideoDiscovery");
          },
          error: function error() {
            _this3.tryWithCustomVast();
          }
        };
        this.playVast({
          vastUrl: vastUrl
        }, callbacks);
      }

      if (plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid") {
        this.tryWithCustomVast();
      }
    }
  }, {
    key: "tryWithCustomVast",
    value: function tryWithCustomVast() {
      utlis_vilog("[Video Discovery] Try with Custom Vast");
      initAnalytic(plugins_v2_constants.pixelID);
      var vastArr = [];
      if (this.adData.vast) vastArr = JSON.parse(JSON.stringify(this.adData.vast));

      for (var i = 0; i < vastArr.length; i++) {
        vastArr[i].link = linkFilter(vastArr[i].link);
      }

      this.renderCustomVast(vastArr);
    }
  }, {
    key: "renderCustomVast",
    value: function renderCustomVast(vastArray) {
      var _this4 = this;

      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {},
        adsVolumeChange: function adsVolumeChange() {}
      };

      if (vastArray.length > 0) {
        var currentVast = vastArray[0];
        vastArray.splice(0, 1);

        if (!currentVast.link || !currentVast.bidder) {
          utlis_vilog("[Video Discovery] Custom Vast: vast link|vast bidder empty");
          this.renderCustomVast(vastArray);
          utlis_vilog("[Video Discovery] Custom Vast: Try another vast");
        } else {
          callbacks.start = function () {
            var dataBid = {
              adId: "unknown from Custom Vast",
              bidder: "Custom Vast",
              creativeId: "unknown from Custom Vast"
            };
            pushInfoDebugOverlay(_this4.thisAdSlot, dataBid);
            utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Start");
          }, callbacks.complete = function () {
            utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Complete");
          }, callbacks.impression = function () {
            utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Impression");
            pushTracking(plugins_v2_constants.domainName, "OK - " + currentVast.bidder, "ok", "ok");
          }, callbacks.error = function (errorCode) {
            utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Error: " + errorCode);
            pushTracking(plugins_v2_constants.domainName, "ERROR - " + currentVast.bidder, "er", "er");

            _this4.renderCustomVast(vastArray);
          }, callbacks.hidden = function () {
            utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Hidden");
          }, callbacks.adsVolumeChange = function (currentAdsVolumn) {
            utlis_vilog("[Video Discovery] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: adsVolumeChange");
          };
          data = {
            vastUrl: currentVast.link,
            vastXml: null
          };
          this.playVast(data, callbacks);
        }
      } else {
        utlis_vilog("[Video Discovery] Custom Vast: vastArr[] empty");
        this.adWrapper.style.cssText = "";
        this.adWrapper.innerHTML = "";
        this.adWrapper.classList.remove("running");
        clearVsbAction(this.thisAdSlot);
        this.refreshBid(this.noBidTime);
        plugins_v2_constants.isVideoRunning = false;
        this.playContent();
      }
    }
  }, {
    key: "playVast",
    value: function playVast(data, callbacks) {
      var _this5 = this;

      if (plugins_v2_constants.dfpApproved === "on") {
        if (plugins_v2_constants.instreamTag && plugins_v2_constants.isPlayedInstream === false) {
          plugins_v2_constants.funcPlayDiscovery = function () {
            _this5.playVast(data, callbacks);
          };

          return;
        }

        if (window[plugins_v2_constants.tagName].videoDiscoverConfig.instantLoad == false) {
          utlis_vilog("[Video Discovery] Video Slider is active");
          return;
        }
      }

      clearVsbAction(this.thisAdSlot);
      utlis_vilog("[Video Discovery] Play vast data:");
      utlis_vilog(data);
      var viPlayer = new vlPlayer({
        baseDomain: plugins_v2_constants.rootDomain,
        brandLogo: plugins_v2_constants.brandLogo
      });
      this.adsManager = viPlayer.play({
        type: "instreamBanner",
        vastUrl: data.vastUrl ? data.vastUrl : null,
        vastXml: data.vastXml ? data.vastXml : null,
        adElement: this.adWrapper,
        volume: this.currentVolume,
        volumeControl: true,
        start: function start() {
          _this5.Widgets.pause();

          _this5.Widgets.showPlayStatus();

          _this5.Widgets.setVolume(_this5.currentVolume);

          _this5.playBackGround = true;

          if (_this5.adConfig.alwayDisplayAd === true || _this5.adConfig.alwayDisplayAd === "right") {
            isInViewPort(_this5.adSlotElem, _this5.inViewP.bind(_this5), _this5.outViewP.bind(_this5), {
              threshold: [0]
            });
          } else {
            observeElementInViewport.isInViewport(_this5.adIframeElem, {
              threshold: [100]
            }).then(function (s) {
              utlis_vilog("[Video Discovery] view port detect___" + s);

              if (!s && getBrowser() !== "msie") {
                _this5.adsManager.pause();
              }
            });
          }

          if (_this5.adConfig.modeTopArticles && _this5.adIframe) {
            _this5.adIframe.querySelector("#vi__btn_read").style.display = "none";
          }

          plugins_v2_constants.isVideoRunning = true;
          plugins_v2_constants.listAdPlaying.videoDiscovery = true;
          utlis_vilog("[Video Discovery] Vast Event Start");
          callbacks.start && callbacks.start();
        },
        complete: function complete() {
          utlis_vilog("[Video Discovery] Vast Event Complete");
          callbacks.complete && callbacks.complete();
        },
        error: function error(errorEvent) {
          utlis_vilog("[Video Discovery] Vast Event Error");
          utlis_vilog(errorEvent);
          callbacks.error && callbacks.error(errorEvent.getErrorCode());
        },
        impression: function impression() {
          utlis_vilog("[Video Discovery] Vast Event Impression");
          _this5.adPlayed = true;
          callbacks.impression && callbacks.impression();
        },
        adClicked: function adClicked() {
          callbacks.adClicked && callbacks.adClicked();

          _eventFire("VIDEO_DISCOVERY_AD_CLICKED");
        },
        videoClicked: function videoClicked() {
          callbacks.videoClicked && callbacks.videoClicked();

          _eventFire("VIDEO_DISCOVERY_VIDEO_CLICKED");
        },
        hidden: function hidden() {
          utlis_vilog("[Video Discovery] Vast Event Hidden");

          if (_this5.adPlayed === false) {
            callbacks.error && callbacks.error();
            return;
          }

          if (_this5.adConfig.alwayDisplayAd === true || _this5.adConfig.alwayDisplayAd === "right") {
            setTimeout(function () {
              _this5.inViewP();
            }, 8000);
          }

          _this5.Widgets.setVolume(_this5.currentVolume);

          _this5.adWrapper.style.cssText = "";
          _this5.adWrapper.innerHTML = "";

          _this5.adWrapper.classList.remove("running");

          clearVsbAction(_this5.thisAdSlot);

          _this5.refreshBid(_this5.refreshTime);

          _this5.playContent();

          callbacks.hidden && callbacks.hidden();
          plugins_v2_constants.isVideoRunning = false;
          plugins_v2_constants.listAdPlaying.videoDiscovery = false;

          if (_this5.adConfig.modeTopArticles && _this5.adIframe) {
            _this5.adIframe.querySelector("#vi__btn_read").style.display = "block";
          }
        },
        adsVolumeChange: function adsVolumeChange(currentAdsVolumn) {
          plugins_v2_constants.adsVolume = currentAdsVolumn;
          _this5.currentVolume = currentAdsVolumn;
          plugins_v2_constants.changeAdsVolume = true;
          utlis_vilog("[Video Discovery] Vast Event VolumeChange");
          callbacks.adsVolumeChange && callbacks.adsVolumeChange(currentAdsVolumn);
        }
      });
      addVsbAction({
        divID: this.thisAdSlot,
        hidden: function hidden() {
          utlis_vilog("[Video Discovery] visibilChange__out");
          if (_this5.adsManager) _this5.adsManager.pause();
        },
        watching: function watching() {
          utlis_vilog("[Video Discovery] visibilChange__active");
          if (_this5.adsManager && _this5.adsInViewPort) _this5.playVideoAd();
        }
      });
    }
  }, {
    key: "refreshBid",
    value: function refreshBid(delayTime) {
      var _this6 = this;

      this.adsManager = null;
      utlis_vilog("[Video Discovery] Refresh Bid after " + delayTime + " second");

      if (this.numBidRequest >= this.maxBidRequest) {
        utlis_vilog("[Video Discovery] Refresh Bid Limit");
        return;
      }

      if (window[plugins_v2_constants.tagName].videoDiscoverConfig.instantLoad == false && plugins_v2_constants.dfpApproved === "on") {
        utlis_vilog("[Video Discovery] Video Slider is active");
        return;
      }

      noRefreshRubicon("video");
      setTimeout(function () {
        if (plugins_v2_constants.isVisible) {
          _this6.adWrapper.classList.add("running");

          utlis_requestBids(_this6.adUnitCodes, [], _this6.bidBackHandler.bind(_this6), 'videodiscover');
          _this6.numBidRequest++;
        } else {
          var vsbKey = "video_discovery_refresh_queue";
          addVsbAction({
            divID: vsbKey,
            hidden: function hidden() {},
            watching: function watching() {
              clearVsbAction(vsbKey);

              _this6.adWrapper.classList.add("running");

              utlis_requestBids(_this6.adUnitCodes, [], _this6.bidBackHandler.bind(_this6), 'videodiscover');
              _this6.numBidRequest++;
            }
          });
        }
      }, delayTime * 1000);
    }
  }, {
    key: "inViewP",
    value: function inViewP() {
      var _this7 = this;

      if (!this.adIframeElem) return;
      if (this.isFullscreen) return;

      if (this.adsManager) {
        this.adsManager.resize(this.adWidth, this.adPlayerHeight, 'NORMAL');
      }

      var adIframeElemWidth = mobileDetect() ? Math.round(window.innerWidth / 100 * 80) : this.adConfig.sizeStickyVideo;
      this.adIframeElem.style.setProperty("transition", "all 0.15s ease 0s");
      this.adIframeElem.style.setProperty("left", "-" + adIframeElemWidth + "px", "important");
      if (this.adConfig.showCloseVideoDiscoverButton === true) this.adIframe.querySelector("#vi__hide_videodiscover").style.display = '';
      setTimeout(function () {
        _this7.adIframeElem.style.cssText = _this7.adIframeElemBaseCss + "width: " + _this7.adWidth + "px!important;height: " + _this7.adVidEl.clientHeight + "px!important;";

        _this7.adIframe.classList.remove('player-fixed');

        _this7.adIframe.querySelector("#vi__adcontainer").style.height = _this7.adPlayerHeight + 'px';
        _this7.adIframe.querySelector("#vi__disable__fixed").style.display = 'none';
      }, 150);
    }
  }, {
    key: "outViewP",
    value: function outViewP() {
      var _this8 = this;

      if (this.adsManager) {
        if (this.isFullscreen) return;
        if (mobileDetect() && !this.adConfig.fixedOnMobile) plugins_v2_constants.preventRqBid = true;
        if (this.adIframe.classList.contains('player-fixed-disabled') || mobileDetect() && !this.adConfig.fixedOnMobile) return;
        if (this.Widgets) this.adIframe.querySelector('.vi__player').classList.add('vi__player_fixed');
        var pos = this.adConfig.alwayDisplayAd === "right" ? "right" : "left";
        pos = this.adConfig.fixedPosition.includes("right") ? "right" : "left";
        var adIframeElemWidth = this.adConfig.sizeStickyVideo;
        var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);
        var cssSet = this.adIframeElemBaseCss + "position:fixed!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + 48) + "px!important;";

        if (this.adConfig.modeTopArticles) {
          cssSet = this.adIframeElemBaseCss + "position:fixed!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + 74) + "px!important;";
        }

        cssSet += (this.adConfig.fixedPosition.includes("bottom") ? "bottom:" + this.bottomDistance + "px!important;" : "top:0px!important;") + pos + ":-" + adIframeElemWidth + "px!important";
        this.adIframeElem.style.cssText = cssSet;
        setTimeout(function () {
          _this8.adIframeElem.style.setProperty("transition", "all 0.3s ease 0s");

          _this8.adIframeElem.style.setProperty(pos, "10px", "important");
        }, 300);
        this.adIframe.querySelector("#vi__adcontainer").style.height = adIframeElemHeight + 'px';
        if (this.adConfig.showCloseVideoDiscoverButton === true) this.adIframe.querySelector("#vi__hide_videodiscover").style.display = 'none';
        this.adIframe.classList.add('player-fixed');
        this.adIframe.querySelector("#vi__disable__fixed").style.display = 'flex';
        var mWidth = this.adConfig.sizeStickyVideo;
        var mHeight = Math.round(mWidth / 16 * 9);
        this.adsManager.resize(mWidth, mHeight, 'NORMAL');
        this.adIframe.querySelector("#vi__disable_fixed_btn_icon").addEventListener("click", function () {
          if (_this8.adConfig.hideStaticVideo) plugins_v2_constants.preventRqBid = true;

          _this8.adIframe.classList.add('player-fixed-disabled');

          _this8.inViewP();

          _this8.disable_fixed = true;
        });
      }
    }
  }, {
    key: "playVideoAd",
    value: function playVideoAd() {
      if (!this.isFocus) {
        return;
      }

      if (!this.adsInViewPort) {
        return;
      }

      if (!plugins_v2_constants.isVisible) {
        return;
      }

      if (this.adsManager) {
        this.adsManager.resume();
      }
    }
  }, {
    key: "playContent",
    value: function playContent() {
      if (!this.isFocus) {
        return;
      }

      if (!this.playBackGround && this.Widgets.giveBackPropertyPlayer() === false && this.adConfig.modeTopArticles === false) {
        if (this.Widgets) {
          this.Widgets.pause();
          this.Widgets.showPlayStatus();
        }

        return;
      }

      if (!this.adsInViewPort) {
        return;
      }

      if (!plugins_v2_constants.isVisible) {
        return;
      }

      if (this.Widgets && !this.adsManager) {
        this.Widgets.play();
        this.Widgets.showPauseStatus();
      }
    }
  }, {
    key: "listenerEventDiscovery",
    value: function listenerEventDiscovery() {
      _addEventListener("VIDEO_DISCOVERY_CLEAN_ADS", this.onRemoveAdsByHeavyAd.bind(this));

      _addEventListener("VIDEO_DISCOVERY_RE_INITIALIZE", this.onInitAds.bind(this));
    }
  }, {
    key: "onRemoveAdsByHeavyAd",
    value: function onRemoveAdsByHeavyAd() {
      if (this.adSlotElem) {
        this.adSlotElem.innerHTML = "";
        this.adSlotElem.style.cssText = "";
      }

      this.onCleanAds();
    }
  }, {
    key: "onInitAds",
    value: function onInitAds() {
      utlis_vilog("[VideoDiscovery] onInitAds HeavyAdIntervention");

      try {
        this.init(this.thisAdSlot);
      } catch (error) {
        utlis_vilog(error);
      }
    }
  }, {
    key: "run",
    value: function run() {
      var _this9 = this;

      this.listenerEventDiscovery();
      this.adWidth = this.adVidEl.parentNode ? this.adVidEl.parentNode.offsetWidth : this.adVidEl.offsetWidth;
      if (this.adWidth > 640) this.adWidth = 640;
      if (this.adWidth < 300) this.adWidth = 300;
      this.floorPrice = this.adData.floorPrice ? this.adData.floorPrice : 0;
      this.adPlayerHeight = this.adWidth / 16 * 9;
      this.viContentHeight = this.calcSlider(this.adWidth).viContentHeight;

      if (this.adConfig.hidePlaylist === true) {
        this.viContentHeight = 0;
      }

      this.adHeight = this.adPlayerHeight + this.viContentHeight + 7;
      var adVidElBaseCss = 'margin:0 auto!important;width:' + this.adWidth + 'px!important;max-width:' + this.adWidth + 'px!important;position:relative!important;';

      if (this.adHeight) {
        adVidElBaseCss += 'height:' + (this.adConfig.modeTopArticles ? this.adHeight + 18 : this.adHeight) + 'px!important;';
      }

      if (this.adConfig.hideStaticVideo) {
        adVidElBaseCss += 'max-height:0px!important;overflow:hidden!important;';
      } else {
        adVidElBaseCss += 'max-height:' + (this.adConfig.modeTopArticles ? this.adHeight + 18 : this.adHeight) + 'px!important;';
      }

      this.adVidEl.style.cssText = adVidElBaseCss;
      this.itemPerPage = this.calcSlider(this.adWidth).itemPerPage;
      this.adSlotElem = document.getElementById(this.thisAdSlot);

      if (!this.adSlotElem) {
        return;
      }

      this.adIframeElemBaseCss = 'display:block!important;overflow:hidden!important;transform:scale(1)!important;width:' + this.adWidth + 'px!important;z-index: 2147483647!important;height:' + (this.adConfig.modeTopArticles ? this.adHeight + 18 : this.adHeight) + 'px!important;';
      this.adVidEl.innerHTML = '<vli id="ifr_' + this.thisAdSlot + '"></vli>';
      this.adIframeElem = document.getElementById('ifr_' + this.thisAdSlot);
      if (!this.adIframeElem) return;
      this.adIframeElem.style.cssText = this.adIframeElemBaseCss;
      var customConfig = {
        renderElement: this.adIframeElem,
        renderMode: 'root',
        format: this.adConfig.modeTopArticles ? 'toparticles' : 'videodiscovery',
        videoData: JSON.parse(JSON.stringify(this.vidData)),
        random: this.adConfig.random,
        disableCache: this.adConfig.disableCache,
        customLogo: {
          logo: plugins_v2_constants.brandLogo,
          logoIcon: this.adConfig.customLogo.icon,
          logoName: this.adConfig.customLogo.text
        },
        hidePlaylist: this.adConfig.hidePlaylist
      };
      this.Widgets = new widgetContent(customConfig);
      this.Widgets.render();
      this.adIframe = this.Widgets.getAdIframeWrapper();

      if (this.adConfig.showCloseVideoDiscoverButton === true) {
        var styleHide = document.createElement("style");
        styleHide.innerHTML = '#vi__hide_videodiscover{z-index:99999999;position:absolute;left:10px;top:15px;width:16px;height:16px;cursor:pointer;border: 1px solid rgba(255, 255, 255, 0.6);background-color: #ccc;}#vi__hide_videodiscover:after,#vi__hide_videodiscover:before{position: absolute; right: 7px; content: \' \'; height: 16px; width: 2px; background-color: #fff;}#vi__hide_videodiscover:before{-webkit-transform:rotate(45deg);transform:rotate(45deg);}#vi__hide_videodiscover:after{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);}';
        this.adIframe.insertBefore(styleHide, this.adIframe.firstChild);
        var viHide = document.createElement("div");
        viHide.id = "vi__hide_videodiscover";
        viHide.title = this.adConfig.language.hideVideoDiscovery;
        this.adIframe.insertBefore(viHide, this.adIframe.firstChild);
      }

      var flPosition = "flex-start";

      if (mobileDetect()) {
        flPosition = this.adConfig.fixedPosition.includes("right") ? "flex-start" : "flex-end";
      } else {
        flPosition = this.adConfig.fixedPosition.includes("right") ? "flex-end" : "flex-start";
      }

      var viDisable = document.createElement('div');
      viDisable.id = 'vi__disable__fixed';
      viDisable.style.cssText = 'margin: 8px;display:none;justify-content:' + flPosition + ' ;';
      viDisable.innerHTML = '<vli id="vi__disable_fixed_btn_icon" style="width: 32px; height: 32px; background-color: rgba(0, 0, 0, 0.5); box-shadow: rgb(0, 0, 0) 0px 0px 6px 0px; border-radius: 32px; display: block;">' + '<svg width="32" height="38"><circle cx="16" cy="16" r="16" fill="grey"></circle><line x1="11" y1="11" x2="21" y2="21" style="stroke:rgb(255,255,255);stroke-width:3"></line><line x1="21" y1="11" x2="11" y2="21" style="stroke:rgb(255,255,255);stroke-width:3"></line></svg></vli>';
      this.adIframe.insertBefore(viDisable, this.adIframe.firstChild);

      if (!this.adConfig.modeTopArticles) {
        var overlayID = 'player-fullscreen-overlay';

        var toggleFullscreen = function toggleFullscreen() {
          if (!_this9.adIframe.classList.contains('player-fullscreen')) {
            _this9.isFullscreen = true;
            clearFixed();
            document.body.style.overflow = 'hidden';

            _this9.adIframe.classList.add('player-fullscreen');

            _this9.adVidEl.insertAdjacentHTML('afterbegin', '<div id="' + overlayID + '" style="width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); position: fixed; top: 0; left: 0; z-index: 2147483647;"></div>');

            var adIframeElemWidth = window.innerWidth <= 900 ? Math.round(window.innerWidth / 100 * 90) : 900;
            var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);

            var perPage = _this9.calcSlider(adIframeElemWidth).itemPerPage;

            var contentHeight = _this9.calcSlider(adIframeElemWidth).viContentHeight;

            _this9.adIframeElem.style.cssText = _this9.adIframeElemBaseCss + "position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + contentHeight + 26) + "px!important;";
            _this9.adIframe.querySelector("#vi__adcontainer").style.height = adIframeElemHeight + 'px';
            _this9.adIframe.querySelector("#vi__content").style.minHeight = contentHeight + 'px';
            _this9.adIframe.querySelector("#vi__toggle_fullscreen").style.display = 'flex';
            _this9.adIframe.querySelector("#vi__toggle_fullscreen").style.height = 'auto';
            if (_this9.adConfig.showCloseVideoDiscoverButton === true) _this9.adIframe.querySelector("#vi__hide_videodiscover").style.display = 'none';
            _this9.adIframe.querySelector("#vi__toggle_fullscreen_icon").style.display = "block";
            _this9.adIframe.querySelector('.fullscreen').style.display = "none";

            _this9.adIframe.querySelector('.vi__player').classList.add('vi__fullscreen');

            var overlayDiv = _this9.adVidEl.querySelector('#' + overlayID);

            overlayDiv.addEventListener('click', toggleFullscreen, false);
            overlayDiv.addEventListener('touchmove', function (e) {
              e.preventDefault();
            }, false);

            _this9.Widgets.reSiema(perPage);
          } else {
            _this9.isFullscreen = false;
            document.body.style.overflow = '';

            _this9.adVidEl.querySelector('#' + overlayID).parentNode.removeChild(_this9.adVidEl.querySelector('#' + overlayID));

            _this9.adIframe.classList.remove('player-fullscreen');

            _this9.adIframeElem.style.cssText = _this9.adIframeElemBaseCss;
            _this9.adIframe.querySelector("#vi__adcontainer").style.height = adIframeElemHeight + 'px';
            _this9.adIframe.querySelector("#vi__content").style.minHeight = _this9.viContentHeight + 'px';
            _this9.adIframe.querySelector("#vi__toggle_fullscreen").style.display = '';
            if (_this9.adConfig.showCloseVideoDiscoverButton === true) _this9.adIframe.querySelector("#vi__hide_videodiscover").style.display = '';

            _this9.adIframe.querySelector('.vi__player').classList.remove('vi__fullscreen');

            _this9.Widgets.reSiema(_this9.itemPerPage);

            _this9.adIframe.querySelector("#vi__toggle_fullscreen_icon").style.display = "none";
            _this9.adIframe.querySelector('.fullscreen').style.display = "block";
            observeElementInViewport.isInViewport(_this9.adSlotElem).then(function (s) {
              utlis_vilog("Is In Viewport: " + s);
              s ? _this9.adConfig.hideStaticVideo === true ? outVP() : inVP() : _this9.adConfig.noFixedVideo === true ? inVP() : outVP();
            });
          }
        };

        this.adIframe.querySelector('.fullscreen').addEventListener("click", toggleFullscreen);
        this.adIframe.querySelector("#vi__toggle_fullscreen_icon").addEventListener('click', toggleFullscreen, false);
        var playerVideo = this.adIframe.querySelector('video');
        playerVideo.addEventListener('volumechange', function () {
          var isMute = playerVideo.muted;

          if (isMute) {
            _this9.currentVolume = 0;
            return;
          }

          _this9.currentVolume = 1;
        }, false);
      }

      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(this.thisAdSlot, true);

      if (this.adConfig.showCloseVideoDiscoverButton === true) {
        this.adIframe.querySelector("#vi__hide_videodiscover").addEventListener("click", function () {
          plugins_v2_constants.preventRqBid = true;

          _this9.adSlotElem.parentNode.removeChild(_this9.adSlotElem);

          _this9.onCleanAds();
        });
      }

      plugins_v2_constants.distanceBottomDiscovery.increase = function () {
        if (!_this9.adIframeElem) return;
        _this9.bottomDistance = mobileDetect() ? 110 : 105;
        _this9.adIframeElem.style.bottom = _this9.bottomDistance + "px";
      };

      plugins_v2_constants.distanceBottomDiscovery.reduction = function () {
        if (!_this9.adIframeElem) return;
        _this9.bottomDistance = mobileDetect() ? 40 : 20;
        _this9.adIframeElem.style.bottom = _this9.bottomDistance + "px";
      };

      plugins_v2_constants.controlDiscovery.play = function () {
        if (_this9.adsManager) _this9.adsManager.resume();

        if (_this9.Widgets) {
          _this9.Widgets.play();

          _this9.Widgets.showPauseStatus();
        }
      };

      plugins_v2_constants.controlDiscovery.pause = function () {
        if (_this9.adsManager) _this9.adsManager.pause();

        if (_this9.Widgets) {
          _this9.Widgets.pause();

          _this9.Widgets.showPlayStatus();
        }
      }; //viewPortDetect


      if (typeof window.IntersectionObserver !== 'function') {
        this.isLoadIntersectionObserverPolyfill = true;
      } //viewPortDetect Player


      var inView = function inView() {
        _this9.adsInViewPort = true;
        setTimeout(function () {
          _this9.playVideoAd();
        }, 200);

        _this9.playContent();
      };

      var outView = function outView() {
        _this9.adsInViewPort = false;
        if (_this9.adsManager) _this9.adsManager.pause();

        if (_this9.isLoadIntersectionObserverPolyfill && !_this9.disable_fixed) {
          _this9.playContent();
        } else {
          if (_this9.Widgets) {
            _this9.Widgets.pause();

            _this9.Widgets.showPlayStatus();
          }
        }
      };

      isInViewPort(this.adIframeElem, inView, outView, {
        threshold: [0]
      });

      var clearFixed = function clearFixed() {
        _this9.adIframeElem.style.cssText = _this9.adIframeElemBaseCss + "width: " + _this9.adWidth + "px!important;height: " + lastAdIframeElemHeight + "px!important;";

        _this9.adIframe.classList.remove('player-fixed');

        _this9.adIframe.querySelector("#vi__adcontainer").style.height = _this9.adPlayerHeight + 'px';
        _this9.adIframe.querySelector("#vi__disable__fixed").style.display = 'none';
      };

      addVsbAction({
        divID: "VDContentPlayer",
        hidden: function hidden() {
          if (_this9.Widgets) {
            _this9.Widgets.pause();

            _this9.Widgets.showPlayStatus();
          }
        },
        watching: function watching() {
          if (_this9.Widgets && !_this9.adsManager && _this9.adsInViewPort) {
            _this9.playContent();
          }

          ;
        }
      });
      addVsbInterval(function () {
        _this9.getAds();
      }, 200); //viewPortDetect fixed right bottom

      var lastAdIframeElemHeight = this.adIframeElem.offsetHeight;
      this.adSlotElem.style.height = lastAdIframeElemHeight + 'px';

      var inVP = function inVP() {
        utlis_vilog("inVP");
        if (_this9.isFullscreen) return;
        if (_this9.Widgets) _this9.adIframe.querySelector('.vi__player').classList.remove('vi__player_fixed');
        clearFixed();
        if (_this9.adsManager) _this9.adsManager.resize(_this9.adWidth, _this9.adPlayerHeight, 'NORMAL');
        if (_this9.adConfig.showCloseVideoDiscoverButton === true) _this9.adIframe.querySelector("#vi__hide_videodiscover").style.display = '';
      };

      var outVP = function outVP() {
        utlis_vilog("outVP");
        if (!_this9.adsManager) return;
        if (_this9.isFullscreen) return;
        if (mobileDetect() && !_this9.adConfig.fixedOnMobile) plugins_v2_constants.preventRqBid = true;
        if (_this9.adIframe.classList.contains('player-fixed-disabled') || mobileDetect() && !_this9.adConfig.fixedOnMobile) return;
        if (_this9.Widgets) _this9.adIframe.getElementsByClassName('vi__player')[0].classList.add('vi__player_fixed');
        var adIframeElemWidth = _this9.adConfig.sizeStickyVideo;
        var adIframeElemHeight = Math.round(adIframeElemWidth / 16 * 9);

        if (_this9.adConfig.modeTopArticles) {
          adIframeElemHeight = adIframeElemHeight + 28;
        }

        var cssSet = _this9.adIframeElemBaseCss + "position:fixed!important;width:" + adIframeElemWidth + "px!important;height:" + (adIframeElemHeight + 45) + "px!important;";

        if (_this9.adConfig.fixedPosition === "top right") {
          cssSet += "top:0px!important;right:10px!important";
        } else if (_this9.adConfig.fixedPosition === "bottom right") {
          cssSet += "bottom:" + _this9.bottomDistance + "px!important;right:10px!important";
        } else if (_this9.adConfig.fixedPosition === "top left") {
          cssSet += "top:0!important;left:10px!important";
        } else if (_this9.adConfig.fixedPosition === "bottom left") {
          cssSet += "bottom:" + _this9.bottomDistance + "px!important;left:10px!important";
        } else {
          cssSet += "bottom:" + _this9.bottomDistance + "px!important;right:10px!important";
        }

        _this9.adIframeElem.style.cssText = cssSet;
        _this9.adIframe.querySelector("#vi__adcontainer").style.height = (_this9.adConfig.modeTopArticles ? adIframeElemHeight - 28 : adIframeElemHeight) + 'px';
        if (_this9.adConfig.showCloseVideoDiscoverButton === true) _this9.adIframe.querySelector("#vi__hide_videodiscover").style.display = 'none';

        _this9.adIframe.classList.add('player-fixed');

        _this9.adIframe.querySelector("#vi__disable__fixed").style.display = 'flex';

        if (_this9.adsManager) {
          var mWidth = _this9.adConfig.sizeStickyVideo;
          var mHeight = Math.round(mWidth / 16 * 9);

          _this9.adsManager.resize(mWidth, mHeight, 'NORMAL');
        }

        if (_this9.adsManager && _this9.isLoadIntersectionObserverPolyfill) {
          _this9.playVideoAd();
        }

        _this9.adIframe.querySelector("#vi__disable_fixed_btn_icon").addEventListener("click", function () {
          if (_this9.adConfig.hideStaticVideo) plugins_v2_constants.preventRqBid = true;

          _this9.adIframe.classList.add('player-fixed-disabled');

          clearFixed();
          if (_this9.adsManager) _this9.adsManager.pause();

          if (_this9.Widgets) {
            _this9.Widgets.pause();

            _this9.Widgets.showPlayStatus();
          }

          _this9.disable_fixed = true;
        });
      };

      if (this.adConfig.noFixedVideo === true) {
        inVP();
      } else if (!this.adConfig.hideStaticVideo) {
        isInViewPort(this.adSlotElem, inVP, outVP, {
          threshold: [0]
        });
      } else {
        outVP();
      }

      this.detectFocusScreen(); // bắt sự kiện focus vào màn hình
    }
  }, {
    key: "onCleanAds",
    value: function onCleanAds() {
      plugins_v2_constants.isVideoRunning = false;
      plugins_v2_constants.videoDiscoveryInited = false;
    }
  }, {
    key: "detectFocusScreen",
    value: function detectFocusScreen() {
      var _this10 = this;

      window.addEventListener('focus', function (e) {
        if (document.activeElement == document.body) {
          _this10.isFocus = true;

          _this10.playContent();

          _this10.playVideoAd();
        }
      });
      window.addEventListener('blur', function (e) {
        var documentNow = document;

        if (_this10.adIframe.tagName == "body") {
          documentNow = _this10.adIframe.parentElement;
        }

        if (documentNow.hasFocus()) {
          _this10.isFocus = true;

          _this10.playContent();

          _this10.playVideoAd();
        } else {
          _this10.isFocus = false;

          if (_this10.Widgets) {
            _this10.Widgets.pause();

            _this10.Widgets.showPlayStatus();
          }

          if (_this10.adsManager) _this10.adsManager.pause();
        }
      });
    }
  }, {
    key: "prepare",
    value: function prepare() {
      var _this11 = this;

      var getYoutubeID = function getYoutubeID(url) {
        var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
        var match = url.match(regExp);
        return match && match[7].length === 11 ? match[7] : false;
      };

      var getVimeoID = function getVimeoID(url) {
        var regExp = /(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i;
        var match = url.match(regExp);
        return match && match[1] ? match[1] : false;
      };

      var run_default = function run_default() {
        if (_this11.adConfig.modeTopArticles) {
          if (!_this11.adData.vid || !_this11.adData.vid.contents || _this11.adData.vid.contents.length < 0) return;

          if (_this11.adData.vid && _this11.adData.vid.contents.length > 0) {
            if (_this11.adData.vid && _this11.adData.vid.contents.length > 0) {
              var vidContent = [];
              vidContent.push(_this11.adData.vid.contents[0]);
              _this11.vidData = vidContent;
            }
          }
        } else {
          if (!plugins_v2_constants.defaultWidget && (!_this11.adData.vid.contents || _this11.adData.vid.contents.length < 0)) return;
          _this11.vidData = plugins_v2_constants.defaultWidget;

          if (_this11.adData.vid && _this11.adData.vid.contents && _this11.adData.vid.contents.length > 0) {
            _this11.vidData = _this11.adData.vid.contents;
          }
        }

        _this11.run();
      };

      var buildPlayerContentsFromXMLDom = function buildPlayerContentsFromXMLDom(XMLDom) {
        _this11.vidData = [];
        var items = XMLDom.getElementsByTagName("item");

        if (items.length <= 0) {
          run_default();
          return;
        }

        for (var i = 0; i < items.length; i++) {
          var title, thumb, link, video_url;
          if (!items[i].getElementsByTagName("title")[0]) continue;
          if (!items[i].getElementsByTagName("thumb")[0]) continue;
          if (!items[i].getElementsByTagName("link")[0]) continue;
          if (!items[i].getElementsByTagName("video_url")[0]) continue;
          title = items[i].getElementsByTagName("title")[0].childNodes[0].nodeValue;
          thumb = items[i].getElementsByTagName("thumb")[0].childNodes[0].nodeValue;
          link = items[i].getElementsByTagName("link")[0].childNodes[0].nodeValue;
          video_url = items[i].getElementsByTagName("video_url")[0].childNodes[0].nodeValue;
          var video_id = getYoutubeID(video_url);

          if (video_id !== false) {
            video_url = "/vid/?id=" + video_id + "&t=y";
          } else {
            video_id = getVimeoID(video_url);

            if (video_id !== false) {
              video_url = "/vid/?id=" + video_id + "&t=v";
            }
          }

          var pContent = {
            id: String(i + 1),
            title: title,
            thumb: thumb,
            link: link,
            video_url: {
              "mp4": video_url
            }
          };

          _this11.vidData.push(pContent);
        }

        if (_this11.vidData.length <= 0) {
          run_default();
          return;
        }

        _this11.run();
      };

      if (this.adData.feed_url) {
        var xhr = new XMLHttpRequest();

        xhr.onreadystatechange = function () {
          if (_this11.readyState === 4) {
            if (_this11.status === 200) {
              if (_this11.responseXML) {
                buildPlayerContentsFromXMLDom(_this11.responseXML);
              } else {
                run_default();
              }
            } else {
              run_default();
            }
          }
        };

        xhr.open("GET", "//media." + plugins_v2_constants.rootDomain + this.adData.feed_url, true);
        xhr.timeout = 2000;

        xhr.ontimeout = function () {
          run_default();
        };

        xhr.send();
      } else if (this.adData.vid && JSON.stringify(this.adData.vid.contents).indexOf(".m3u8") !== -1 || plugins_v2_constants.defaultWidget && JSON.stringify(plugins_v2_constants.defaultWidget).indexOf(".m3u8") !== -1) {
        loadScript('//' + plugins_v2_constants.staticDomain + '/plugins/hls.js/hls.min.js', false, function () {
          run_default();
        }, function () {
          run_default();
        });
      } else {
        run_default();
      }
    }
  }, {
    key: "viReportObserver",
    value: function viReportObserver(creativeId, adFormat) {
      var vliWrapper = document.getElementById("vi__adwrapper");

      if (!vliWrapper) {
        return;
      }

      var iframeAd = vliWrapper.getElementsByTagName("iframe")[0];
      var jData = {
        "creativeId": creativeId,
        "adFormat": adFormat
      };

      if (iframeAd) {
        reportingObserver(iframeAd, jData);
      }
    }
  }, {
    key: "init",
    value: function init(adSlot, initFromBanner) {
      var _this12 = this;

      if (!plugins_v2_constants.instreamSlot) return;
      if (!plugins_v2_constants.instreamSlot[adSlot]) return;
      if (!plugins_v2_constants.defaultWidget && !plugins_v2_constants.instreamSlot[adSlot].vid) return;

      if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
        utlis_vilog("[Video Discovery] Inventory Blocked");
        return;
      }

      var availableSlots = document.getElementsByClassName(plugins_v2_constants.adClass);
      if (availableSlots.length === 0) return;

      for (var i = 0; i < availableSlots.length; i++) {
        if (availableSlots[i].dataset.adSlot !== adSlot) continue;
        if (availableSlots[i].hasChildNodes()) continue;
        this.adVidEl = availableSlots[i];

        if (this.adVidEl.id === "") {
          this.adVidEl.id = adSlot;
        }

        break;
      }

      if (!this.adVidEl) return;
      this.adConfig = this.getAdConfig();

      if (initFromBanner) {
        this.adConfig.alwayDisplayAd = false;
      }

      if (this.adConfig.modeTopArticles) {
        this.adConfig.hidePlaylist = true;
      }

      this.thisAdSlot = adSlot;
      this.adData = plugins_v2_constants.instreamSlot[adSlot];
      var showBanner = false;

      if (plugins_v2_constants.dfpApproved === "on") {
        showBanner = validateShowBanner();
      }

      if (plugins_v2_constants.dfpApproved === "off" || showBanner === false) {
        if (!auditFormatSlider()) {
          this.adConfig.fixedOnMobile = true;
        }
      }

      if (plugins_v2_constants.videoDiscoveryInited) {
        utlis_vilog("[Video Discovery] Video Discovery Inited");
        showBanner = true;
      }

      if (showBanner) {
        convertVideoIntoBanner(this.adVidEl, this.adData, adSlot);
        return;
      }

      if (this.adConfig.hideStaticVideo === true && this.adConfig.noFixedVideo === true) return;
      plugins_v2_constants.videoDiscoveryInited = true;

      if (this.adConfig.hideStaticVideo && typeof this.adConfig.scrollPercent === 'number' && this.adConfig.scrollPercent >= 0 && this.adConfig.scrollPercent <= 100) {
        var heightFlag = Math.round(document.body.clientHeight / 100 * this.adConfig.scrollPercent);
        var inited = false;

        if (document.body.scrollTop > heightFlag || document.documentElement.scrollTop > heightFlag) {
          this.prepare();
          inited = true;
        } else {
          window.onscroll = function () {
            if (!inited) {
              if (document.body.scrollTop > heightFlag || document.documentElement.scrollTop > heightFlag) {
                _this12.prepare();

                inited = true;
              }
            }
          };
        }
      } else {
        this.prepare();
      }
    }
  }]);

  return VliVideoDiscovery;
}();


// CONCATENATED MODULE: ./src/plugins_v2/vlivideo/VliTopArticles.js







var VliTopArticles_VliTopArticles = /*#__PURE__*/function () {
  function VliTopArticles() {
    classCallCheck_default()(this, VliTopArticles);

    this.thisAdSlot = null;
    this.adConfig = null;
    this.adElement = null;
    this.adWrapper = null;
    this.adWidth = null;
    this.adHeight = null;
    this.playerHeight = null;
    this.infoHeight = null;
    this.playerContents = null;
    this.autoRunTimeout = null;
    this.playerStatus = "pause";
    this.adData = null;
    this.currentVolume = 0;
    this.adsManager = null;
    this.adDisplayWrapper = null;
    this.adsInViewPort = false;
    this.floorPrice = null; //số lần request bid

    this.numBidRequest = 0; //số lần request bid tối đa

    this.maxBidRequest = 10; //thời gian bid lại nếu trước đó có quảng cáo

    this.refreshTime = plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid_dfp" ? 60 : 15; //thời gian bid lại nếu trước đó KHÔNG có quảng cáo

    this.noBidTime = 5;
    this.adPlayed = false;
    this.adUnitCodes = [];
  }

  createClass_default()(VliTopArticles, [{
    key: "getAdConfig",
    value: function getAdConfig() {
      var defaultConfig = {
        random: true,
        type: null,
        noFixed: false,
        hideStatic: false,
        fixedOnMobile: false,
        sizeStickyVideo: mobileDetect() ? 256 : 410
      };
      cloneDefaultConfig({
        topArticlesConfig: defaultConfig
      });

      if (window[plugins_v2_constants.tagName] && window[plugins_v2_constants.tagName].sizeStickyVideo) {
        defaultConfig.sizeStickyVideo = handlerSizeStickyVideo(window[plugins_v2_constants.tagName].sizeStickyVideo);
      }

      if (!window[plugins_v2_constants.tagName].topArticlesConfig) return defaultConfig;
      var s = window[plugins_v2_constants.tagName].topArticlesConfig;

      for (var key in defaultConfig) {
        if (typeof s[key] === "undefined") s[key] = defaultConfig[key];
      }

      return s;
    }
  }, {
    key: "createWrapper",
    value: function createWrapper(adElem, divId) {
      var html = '<style>#disableFixedTopArticles{display: none;width: 10px; height: 10px; background-color: rgba(0, 0, 0, 0.65); border-radius: 50%; padding: 5px; cursor: pointer}</style>';
      html += '<div id="disableFixedTopArticles" style="display: none;"><svg display="inherit" enable-background="new 0 0 92.132 92.132" style="box-sizing:unset!important;height:100%;width:100%" version="1.1" viewBox="0 0 92.132 92.132" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path class="active-path" d="m2.141 89.13c1.425 1.429 3.299 2.142 5.167 2.142 1.869 0 3.742-0.713 5.167-2.142l33.591-33.592 33.591 33.592c1.426 1.429 3.299 2.142 5.167 2.142 1.867 0 3.74-0.713 5.167-2.142 2.854-2.854 2.854-7.48 0-10.334l-33.593-33.591 31.869-31.869c2.855-2.853 2.855-7.481 0-10.334-2.853-2.855-7.479-2.855-10.334 0l-31.868 31.868-31.867-31.869c-2.854-2.855-7.481-2.855-10.333 0-2.855 2.853-2.855 7.481 0 10.334l31.868 31.869-33.59 33.591c-2.857 2.853-2.857 7.479-2e-3 10.335z" fill="#fff" data-old_color="#ffffff" data-original="#000000"/></svg></div>';
      html += '<iframe class="viTopArticles" id="ifr_' + divId + '" SRC="about:blank" FRAMEBORDER="0" SCROLLING="no" MARGINHEIGHT="0" MARGINWIDTH="0" TOPMARGIN="0" LEFTMARGIN="0" ALLOWTRANSPARENCY="true" style="width:' + this.adWidth + 'px; height: ' + this.adHeight + 'px;"></iframe>';
      adElem.innerHTML = html;
      var iframe = document.getElementById('ifr_' + divId);
      if (plugins_v2_constants.VIdebug) debug_createInfoOverlay(divId, true);
      return getIframeDoc(iframe);
    }
  }, {
    key: "renderWrapper",
    value: function renderWrapper(adWrap) {
      var css_size = this.calcSize();
      var vi_link = '//' + plugins_v2_constants.brandHomepage + '/?ref=' + window.location.hostname;
      var contents = "";
      var progress = "";
      this.playerContents.forEach(function (item, k) {
        contents += '<div class="slider-item ' + (k === 0 ? 'show' : '') + '" style="opacity: ' + (k === 0 ? '1' : '0') + ';" data-item-index="' + k + '">';
        contents += '<div class="item">';
        contents += '<div class="item-image" style="animation-duration: 6s; transition: none 0s ease 0s; transform: scale(1);">';
        contents += '<img style="height:100%; width:100%" src="' + item.thumb + '">';
        contents += '</div>';
        contents += '</div>';
        contents += '</div>';
        progress += '<div class="progress-item" data-item-index="' + k + '"><div class="progress-loader" style="transition: none 0s ease 0s; transform: scale(0, 1);"></div></div>';
      });
      var css = '.playWrapper{height: ' + this.playerHeight + 'px;}.infoWrapper{height:' + this.infoHeight + 'px;}';
      css += 'body{font-family:"Helvetica Neue","Calibri Light",Roboto,sans-serif}.playWrapper{position:relative}.infoWrapper{position:relative;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;border-bottom:1px solid #d8d8d8}.readmore-link{text-decoration:none;position:relative;display:block;cursor:default;width:100%;height:100%;background-color: #fff;}.player{position:relative;width:100%;height:100%}.slider{width:100%;height:100%;position:absolute;z-index:1;overflow:hidden}.slider-item{position:absolute;overflow:hidden;height:100%;width:100%;transition:opacity .5s ease-in-out}.slider-item .item{position:absolute;width:100%;height:100%}.progress{width:100%;position:absolute;z-index:4;display:inline-flex;bottom:48px}.progress-item{width:100%;background-color:#fff;height:4px;margin:10px 8px 10px 0;cursor:pointer}.progress-item:first-of-type{margin-left:8px}.progress-loader{height:100%;background-color:#e02832;width:100%;transform-origin:0 0;animation-duration:6s;transition:none 0s ease 0s;transform:scale(0,1)}.control{display:flex;justify-content:space-between;position:absolute;float:right;bottom:8px;right:8px;width:128px;height:40px;z-index:4}.control-button{display:block;cursor:pointer;height:24px;width:24px;padding:8px;font-size:0}.control-button .left{margin-left:0}.control-button .right{margin-right:0}.control-button svg{width:24px;height:24px;transition:fill .2s ease-out;fill:#fff}.control-button:hover svg{fill:#e02832}.control-button.right svg{-moz-transform:scaleX(-1);-o-transform:scaleX(-1);-webkit-transform:scaleX(-1);transform:scaleX(-1)}.top-article{position:absolute;width:136px;height:29px;font-size:12px;left:16px;top:16px;font-family:inherit;z-index:3}.top-article>div{float:left;height:100%;display:flex;align-items:center;justify-content:center}.top-article .ta-text{color:#0d192d;background-color:#fff;text-transform:uppercase;width:96px}.top-article .ta-slide{color:#fff;background-color:#000;width:40px}.top-article>div>div{white-space:nowrap}.big-play-button{z-index:5;position:absolute;width:80px;height:80px;left:50%;top:50%;transform:translate(-50%,-50%);fill:#e02832;opacity:.8;cursor:pointer}.gradient-container{position:absolute;bottom:0;height:70px;width:100%;background:linear-gradient(to bottom,rgba(255,0,0,0),rgba(13,25,45,.4));z-index:2;pointer-events:none}.gradient-container.top{bottom:auto;top:0;background:linear-gradient(to top,rgba(255,0,0,0),rgba(13,25,45,.4))}.headline-container{height:auto;width:100%;position:absolute;left:10px;z-index:3;top:50%;transform:translateY(-50%);max-width:75%}.headline-container .headline{width:100%;overflow:hidden;font-family:inherit;color:#0d192d;position:relative;font-size:20px;line-height:initial}.headline-container .headline:hover{color:#e02832}.headline-container .headline .vertical-line{background-color:#e02832;width:8px;height:0;float:left;transition:height .5s ease}.headline-container .headline .headline-placeholder{float:left;color:inherit;cursor:pointer;max-width:calc(100% - 8px);min-height:28px;background-color:#f1f1f1;border-top-right-radius:5px;border-bottom-right-radius:5px}.headline-container .headline .headline-placeholder .text{color:inherit;font-family:inherit;height:100%;display:inline-block;margin:5px 10px;max-width:100%;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.readmore{position:absolute;top:50%;transform:translateY(-50%);right:0;font-size:14px;text-transform:uppercase;color:#0d192d;display:inline-flex;font-family:inherit;cursor:pointer;border-radius:2px}.readmore-text{width:93px;height:40px;display:flex;line-height:40px;align-items:center;justify-content:flex-end;text-align:right;font-weight:500}.readmore-icon{width:24px;height:24px;padding:8px 8px 8px 0;display:block;font-size:0;margin-left:2px}.readmore-icon svg{fill:#e02832;width:24px;height:24px;display:block}.size-sm .readmore-text,.size-xs .readmore-text{display:none}.size-sm .progress,.size-xs .progress{bottom:18px}.size-sm .control,.size-xs .control{bottom:50%;right:50%;transform:translate(50%,50%);opacity:0;visibility:hidden;transition:all .4s ease-in-out;transition-property:opacity,visibility}.size-sm .playWrapper:hover .control,.size-xs .playWrapper:hover .control{opacity:1;visibility:visible;transition:all .4s ease-in-out;transition-property:opacity,visibility}.pause .size-sm .playWrapper:hover .control,.pause .size-xs .playWrapper:hover .control{display:none}.size-sm .big-play-button,.size-xs .big-play-button{width:56px;height:56px}.size-sm .headline-container .headline .headline-placeholder .text,.size-xs .headline-container .headline .headline-placeholder .text{font-size:16px}.size-xs .progress{display:none}.size-sm .top-article{width:115px;height:24px;font-size:11px;top:8px;left:8px}.size-sm .top-article .ta-text{width:85px}.size-sm .top-article .ta-slide{width:30px}.size-xs .top-article{width:97px;height:20px;font-size:10px;top:5px;left:5px}.size-xs .top-article .ta-text{width:75px}.size-xs .top-article .ta-slide{width:22px}.vi__custom_logo{position:absolute;top:10px;right:10px;height:20px;max-width:20px;overflow:hidden;-webkit-transition:max-width .5s ease-in-out;transition:max-width .5s ease-in-out;z-index:3;display:-webkit-box;cursor:pointer}.vi__custom_logo .vi__svg_content{display:block;width:20px;height:20px;overflow:hidden}.vi__custom_logo .vi__text_content{height:20px;margin-left:5px;font-size:13px;color:#fff;white-space: nowrap;}.playWrapper:hover .vi__custom_logo{max-width:150px}.adDisplayWrapper{display:none}';
      var html = '<style>' + css + '</style>';
      html += '<div id="widgetWrapper" class="' + css_size + '">';
      html += '<div class="playWrapper">';
      html += '<a href="' + vi_link + '" target="_blank">';
      html += '<div class="vi__custom_logo noclick" id="vi__custom_logo">';
      html += '<span class="vi__svg_content">';
      html += '<img src="//' + plugins_v2_constants.brandIcon + '"/>';
      html += '</span>';
      html += '<span class="vi__text_content">' + plugins_v2_constants.brandName + '</span>';
      html += '</div>';
      html += '</a>';
      html += '<a class="readmore-link" href="' + vi_link + '" target="_blank">';
      html += '<div class="player">';
      html += '<div class="slider">';
      html += contents;
      html += '</div>';
      html += '<div class="progress noclick">';
      html += progress;
      html += '</div>';
      html += '<div class="control noclick">';
      html += '<div class="control-button left" id="button-left">';
      html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-104 -176)"><g transform="translate(124.753 197.331) rotate(180)"><rect style="fill: none;" width="24" height="24" transform="translate(20.753 21.331) rotate(180)"></rect><g><g><rect width="5" height="18" transform="translate(13.753 0.331)"></rect><path d="M8,5V24l15-9.5Z" transform="translate(-9.068 -5.101)"></path></g></g></g></g></svg>';
      html += '</div>';
      html += '<div class="control-button center" id="button-center">';
      html += '<svg style="display: none;" id="button-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g id="ic-pause-large-dark" transform="translate(-96 -232)"><g transform="translate(-128 -292)"><rect width="4.958" height="17.85" transform="translate(234.208 544.85) rotate(180)"></rect><rect width="4.958" height="17.85" transform="translate(243.133 544.85) rotate(180)"></rect><rect style="fill:none" width="24" height="24" transform="translate(224 524)"></rect></g></g></svg>';
      html += '<svg style="display: block;" id="button-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-53 -232)"><g transform="translate(-176 -296)"><rect style="fill: none;" width="24" height="24" transform="translate(229 528)"></rect><path d="M8,5V25L28,15Z" transform="translate(224 525)"></path></g></g></svg>';
      html += '</div>';
      html += '<div class="control-button right" id="button-right">';
      html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-104 -176)"><g transform="translate(124.753 197.331) rotate(180)"><rect style="fill: none;" width="24" height="24" transform="translate(20.753 21.331) rotate(180)"></rect><g><g><rect width="5" height="18" transform="translate(13.753 0.331)"></rect><path d="M8,5V24l15-9.5Z" transform="translate(-9.068 -5.101)"></path></g></g></g></g></svg>';
      html += '</div>';
      html += '</div>';
      html += '<div class="top-article">';
      html += '<div class="ta-text">';
      html += '<div>Top articles</div>';
      html += '</div>';
      html += '<div class="ta-slide">';
      html += '<div>1/5</div>';
      html += '</div>';
      html += '</div>';
      html += '<div class="big-play-button noclick" id="big-play-button">';
      html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80"><defs></defs><g transform="translate(-1328 -1352)"><circle cx="40" cy="40" r="40" transform="translate(1328 1352)"></circle><g transform="translate(1370.753 1402.899) rotate(180)"><g transform="translate(3.608 3)"><path style="fill: #fff;" d="M0,0V32L28.355,16Z" transform="translate(11.499 23.899) rotate(180)"></path></g></g></g></svg>';
      html += '</div>';
      html += '<div class="gradient-container"></div>';
      html += '<div class="gradient-container top"></div>';
      html += '</div>';
      html += "</a>";
      html += '<div class="adDisplayWrapper" id="adDisplayWrapper"></div>';
      html += '</div>';
      html += '<div class="infoWrapper">';
      html += '<a class="readmore-link" href="' + vi_link + '" target="_blank">';
      html += '<div class="headline-container">';
      html += '<div class="headline">';
      html += '<div class="vertical-line" id="vertical-line"></div>';
      html += '<div class="headline-placeholder" id="headline-placeholder">';
      html += '<span class="text" id="article-title">Valueimpression - Bring the real value for each impression</span>';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      html += '<div class="readmore">';
      html += '<div class="readmore-text">';
      html += '<div>READ MORE</div>';
      html += '</div>';
      html += '<div class="readmore-icon">';
      html += '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs></defs><g transform="translate(-56 -152)"><g><path d="M0,9.118,4.213,4.972.058.882.954,0,6,4.963l-.007.007L6,4.978.9,10Z" transform="translate(68 159)"></path><path d="M0,9.118,4.213,4.972.058.882.954,0,6,4.963l-.007.007L6,4.978.9,10Z" transform="translate(63 159)"></path><rect style="fill: none;" width="24" height="24" transform="translate(56 152)"></rect></g></g></svg>';
      html += '</div>';
      html += '</div>';
      html += '</a>';
      html += '</div>';
      html += '</div>';
      adWrap.open();
      adWrap.write(html);
      adWrap.close();
    }
  }, {
    key: "runSlide",
    value: function runSlide(item_index) {
      var _this = this;

      utlis_vilog("[Top Articles] Run slide " + item_index);
      this.playerStatus = "playing";
      setTimeout(function () {
        _this.adWrapper.getElementById("button-left").setAttribute("disabled", "");

        _this.adWrapper.getElementById("button-right").setAttribute("disabled", "");
      }, 500);
      var slideToPlay, showingSlide, thisProgress;
      var slider_items = this.adWrapper.getElementsByClassName('slider-item');

      for (var i = 0; i < slider_items.length; i++) {
        if (slider_items[i].getAttribute("data-item-index") === item_index.toString()) {
          slideToPlay = slider_items[i];
          slider_items[i].querySelector('.item-image').style.transition = 'transform 0s ease 0s';
          slider_items[i].querySelector('.item-image').style.transform = 'scale(1)';
        }

        if (slider_items[i].classList.contains('show')) {
          showingSlide = slider_items[i];
        } else {
          slider_items[i].querySelector('.item-image').style.transition = 'transform 0s ease 0s';
          slider_items[i].querySelector('.item-image').style.transform = 'scale(1)';
        }
      }

      var progress_items = this.adWrapper.getElementsByClassName('progress-item');

      for (var i = 0; i < progress_items.length; i++) {
        progress_items[i].querySelector('.progress-loader').style.transition = 'none 0s ease 0s';
        var data_item_index = parseInt(progress_items[i].getAttribute("data-item-index"));

        if (data_item_index < item_index) {
          progress_items[i].querySelector('.progress-loader').style.transform = 'scale(1, 1)';
        }

        if (data_item_index === item_index) {
          progress_items[i].querySelector('.progress-loader').style.transform = 'scale(0, 1)';
          thisProgress = progress_items[i];
        }

        if (data_item_index > item_index) {
          progress_items[i].querySelector('.progress-loader').style.transform = 'scale(0, 1)';
        }
      }

      if (showingSlide !== slideToPlay) {
        showingSlide.style.opacity = '0';
        showingSlide.classList.remove('show');
      }

      this.adWrapper.querySelector(".top-article .ta-slide div").innerHTML = parseInt(slideToPlay.getAttribute("data-item-index")) + 1 + '/' + slider_items.length;
      this.adWrapper.body.classList.remove('pause');
      this.adWrapper.body.classList.add('playing');
      this.changePlayPauseButton("play");
      slideToPlay.style.opacity = '1';
      slideToPlay.classList.add('show');
      setTimeout(function () {
        slideToPlay.querySelector('.item-image').style.transition = 'transform 5000ms linear 0s';
        slideToPlay.querySelector('.item-image').style.transform = 'scale(1.15)';
        thisProgress.querySelector('.progress-loader').style.transition = 'transform 5000ms linear 0s';
        thisProgress.querySelector('.progress-loader').style.transform = 'scale(1, 1)';
      }, 100);
      var readmore_links = this.adWrapper.getElementsByClassName("readmore-link");

      for (var i = 0; i < readmore_links.length; i++) {
        readmore_links[i].setAttribute("href", this.playerContents[item_index].link);
      }

      this.adWrapper.getElementById("article-title").innerHTML = this.playerContents[item_index].title;
      this.adWrapper.getElementById("vertical-line").style.opacity = '0';
      this.adWrapper.getElementById("vertical-line").style.height = '1px';
      this.adWrapper.getElementById("vertical-line").style.transition = 'none 0s ease';
      this.adWrapper.getElementById("article-title").style.opacity = '0';
      this.adWrapper.getElementById("article-title").style.transition = 'none 0s ease-out';
      this.adWrapper.getElementById("headline-placeholder").style.transform = 'translateX(-100%)';
      this.adWrapper.getElementById("headline-placeholder").style.transition = 'none 0s ease';
      setTimeout(function () {
        setTimeout(function () {
          _this.adWrapper.getElementById("vertical-line").style.opacity = '1';
          _this.adWrapper.getElementById("vertical-line").style.height = _this.adWrapper.getElementById("article-title").clientHeight + 10 + 'px';
          _this.adWrapper.getElementById("vertical-line").style.transition = 'height 500ms ease';
          _this.adWrapper.getElementById("article-title").style.opacity = '1';
          _this.adWrapper.getElementById("article-title").style.transition = 'opacity 300ms ease-out';
        }, 500);
        _this.adWrapper.getElementById("headline-placeholder").style.transform = 'translateX(0%)';
        _this.adWrapper.getElementById("headline-placeholder").style.transition = 'transform 500ms ease-out';
      }, 100);
      this.autoRunTimeout = setTimeout(function () {
        var next_slide_index = parseInt(slideToPlay.getAttribute('data-item-index')) < slider_items.length - 1 ? item_index + 1 : 0;

        _this.runSlide(next_slide_index);
      }, 5000);
    }
  }, {
    key: "init",
    value: function init(adSlot) {
      var _this2 = this;

      if (!plugins_v2_constants.topArticle) return;
      if (!plugins_v2_constants.topArticle[adSlot]) return;

      if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
        utlis_vilog("[Top Articles] Inventory Block");
        return;
      }

      var availableSlots = document.getElementsByClassName(plugins_v2_constants.adClass);
      if (availableSlots.length === 0) return;

      for (var i = 0; i < availableSlots.length; i++) {
        if (availableSlots[i].dataset.adSlot !== adSlot) continue;
        if (availableSlots[i].hasChildNodes()) continue;
        this.adElement = availableSlots[i];

        if (this.adElement.id === "") {
          this.adElement.id = adSlot;
        }

        break;
      }

      if (!this.adElement) return;
      this.adConfig = this.getAdConfig();
      this.thisAdSlot = adSlot;
      this.adData = plugins_v2_constants.topArticle[this.thisAdSlot];

      if (plugins_v2_constants.dfpApproved === "on") {
        var outstreamInContent = false;

        if (window[plugins_v2_constants.tagName].outStreamConfig && !window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead || window[plugins_v2_constants.tagName].outStreamConfig && window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead && window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead === false) {
          outstreamInContent = true;
        }

        var classBaseAd = document.getElementsByClassName(plugins_v2_constants.adClass);
        Array.from(classBaseAd).forEach(function (elem, index) {
          if (elem && elem.getAttribute("data-ad-slot") === "outstream") {
            outstreamInContent = true;
          }
        });

        if (window[plugins_v2_constants.tagName].outStreamConfig && window[plugins_v2_constants.tagName].outStreamConfig.version && window[plugins_v2_constants.tagName].outStreamConfig.version === "v1") {
          outstreamInContent = true;
        }

        var showBanner = auditFormatSlider();

        if (showBanner && outstreamInContent) {
          this.adData.display_type = "banner";
        }
      } else {
        if (!auditFormatSlider()) {
          this.adConfig.fixedOnMobile = true;
        }
      }

      if (this.adData.display_type === "banner") {
        if (!plugins_v2_constants.displaySlot) {
          utlis_vilog("[Top Articles] Not found Displayslot");
          return;
        }

        var geoValidate = false;

        if (!this.adData.geo_target) {
          geoValidate = true;
        } else {
          if (this.adData.geo_target.charAt(0) === "-") {
            //exclude
            if (this.adData.geo_target.indexOf(plugins_v2_constants.VIGeo) === -1) {
              geoValidate = true;
            }
          } else {
            //include
            if (this.adData.geo_target.indexOf(plugins_v2_constants.VIGeo) !== -1) {
              geoValidate = true;
            }
          }
        }

        if (geoValidate) {
          var matched = false;

          for (var key in plugins_v2_constants.displaySlot) {
            if (plugins_v2_constants.displaySlot[key].w === 300 && plugins_v2_constants.displaySlot[key].h === 250) {
              plugins_v2_constants.displaySlot[adSlot] = JSON.parse(JSON.stringify(plugins_v2_constants.displaySlot[key]));
              plugins_v2_constants.displaySlot[adSlot].zid = this.adData.zid;
              plugins_v2_constants.displaySlot[adSlot].noPublisherPb = true;
              plugins_v2_constants.displaySlot[adSlot].display_type = "";
              matched = true;
              break;
            }
          }

          if (matched) {
            var wrap = document.createElement("div");
            wrap.innerHTML = "<div class=\"" + plugins_v2_constants.adClass + "\" data-ad-slot=\"".concat(adSlot, "\"></div>");
            this.adElement.parentNode.insertBefore(wrap, this.adElement.nextSibling);
            this.adElement.remove();
            window[tagApi].display(adSlot);
            return;
          }
        }
      }

      var run_default = function run_default() {
        if (!plugins_v2_constants.topArticle[adSlot].contents || plugins_v2_constants.topArticle[adSlot].contents.length < 0) return;
        _this2.playerContents = plugins_v2_constants.topArticle[_this2.thisAdSlot].contents;

        _this2.main();
      };

      var buildPlayerContentsFromXMLDom = function buildPlayerContentsFromXMLDom(XMLDom) {
        _this2.playerContents = [];
        var items = XMLDom.getElementsByTagName("item");

        if (items.length <= 0) {
          run_default();
          return;
        }

        for (var i = 0; i < items.length; i++) {
          if (!items[i].getElementsByTagName("title")[0]) continue;
          if (!items[i].getElementsByTagName("image")[0]) continue;
          if (!items[i].getElementsByTagName("link")[0]) continue;
          var title = items[i].getElementsByTagName("title")[0].childNodes[0].nodeValue;
          var image = items[i].getElementsByTagName("image")[0].childNodes[0].nodeValue;
          var link = items[i].getElementsByTagName("link")[0].childNodes[0].nodeValue;
          var pContent = {
            title: title,
            thumb: image,
            link: link
          };

          _this2.playerContents.push(pContent);
        }

        if (_this2.playerContents.length <= 0) {
          run_default();
          return;
        }

        _this2.main();
      };

      if (plugins_v2_constants.topArticle[adSlot].feed_url) {
        var xhr = new XMLHttpRequest();

        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4) {
            if (xhr.status === 200) {
              if (xhr.responseXML) {
                buildPlayerContentsFromXMLDom(xhr.responseXML);
              } else {
                run_default();
              }
            } else {
              run_default();
            }
          }
        };

        xhr.open("GET", "//media." + plugins_v2_constants.rootDomain + plugins_v2_constants.topArticle[adSlot].feed_url, true);
        xhr.timeout = 2000;

        xhr.ontimeout = function () {
          run_default();
        };

        xhr.send();
      } else {
        run_default();
      }
    }
  }, {
    key: "main",
    value: function main() {
      var _this3 = this;

      this.floorPrice = this.adData.floorPrice ? this.adData.floorPrice : 0;
      if (this.adConfig.random === true) this.shuffle(this.playerContents);
      this.adWidth = this.adElement.parentNode.offsetWidth;
      if (this.adWidth > 900) this.adWidth = 900;
      if (this.adWidth < 300) this.adWidth = 300;
      this.playerHeight = parseInt(this.adWidth * 9 / 16);
      this.infoHeight = this.calcInfoHeight(this.adWidth);
      this.adHeight = this.playerHeight + this.infoHeight;
      this.adElement.style.height = this.adHeight + 'px';
      this.adElement.style.width = this.adWidth + 'px';
      this.adElement.style.margin = '0 auto';
      this.adElement.style.overflow = 'hidden';
      addVsbAction({
        divID: "TAContentPlayer",
        hidden: function hidden() {
          _this3.pauseSlide();
        },
        watching: function watching() {
          if (!_this3.adsManager) _this3.playSlide();
        }
      });
      this.adWrapper = this.createWrapper(this.adElement, this.thisAdSlot);
      this.renderWrapper(this.adWrapper);
      this.adDisplayWrapper = this.adWrapper.getElementById("adDisplayWrapper");
      this.runSlide(0);
      this.adWrapper.getElementById('button-center').addEventListener("click", function () {
        if (_this3.playerStatus === 'playing') {
          _this3.pauseSlide();
        } else if (_this3.playerStatus === 'pause') {
          _this3.playSlide();
        }
      });
      this.adWrapper.getElementById('big-play-button').addEventListener("click", function () {
        _this3.playSlide();
      });
      this.adWrapper.getElementById('button-right').addEventListener("click", function (event) {
        var curTarget = event.currentTarget;

        if (curTarget.getAttribute("disabled") === 'true') {
          return;
        }

        ;
        curTarget.setAttribute("disabled", "true");
        clearTimeout(_this3.autoRunTimeout);

        var showingSlide = _this3.getShowingSlide();

        var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
        var next_slide_index = parseInt(showingSlide.getAttribute('data-item-index')) < _this3.playerContents.length - 1 ? showing_item_index + 1 : 0;

        _this3.runSlide(next_slide_index);
      });
      this.adWrapper.getElementById('button-left').addEventListener("click", function () {
        var curTarget = event.currentTarget;

        if (curTarget.getAttribute("disabled") === 'true') {
          return;
        }

        ;
        curTarget.setAttribute("disabled", "true");
        clearTimeout(_this3.autoRunTimeout);

        var showingSlide = _this3.getShowingSlide();

        var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
        var prev_slide_index = parseInt(showingSlide.getAttribute('data-item-index')) === 0 ? _this3.playerContents.length - 1 : showing_item_index - 1;

        _this3.runSlide(prev_slide_index);
      });
      var progress_items = this.adWrapper.getElementsByClassName('progress-item');

      for (var i = 0; i < progress_items.length; i++) {
        progress_items[i].addEventListener("click", function () {
          clearTimeout(_this3.autoRunTimeout);
          var data_item_index = parseInt(_this3.getAttribute("data-item-index"));

          _this3.runSlide(data_item_index);
        });
      }

      var readmore_links = this.adWrapper.getElementsByClassName("readmore-link");

      for (var i = 0; i < readmore_links.length; i++) {
        readmore_links[i].addEventListener("click", function (e) {
          if (_this3.hasNoClickClass(e.target)) {
            e.preventDefault();
          }
        });
      }

      var adIframe = document.getElementById("ifr_" + this.thisAdSlot);
      var observeElement = document.getElementById(this.thisAdSlot);
      document.getElementById("disableFixedTopArticles").addEventListener("click", function () {
        inVP();
        adIframe.classList.add('disabled-fixed');
      }); //adDisplayWrapper

      var inView = function inView() {
        utlis_vilog("[Top Articles] Ad in viewport");
        setTimeout(function () {
          if (_this3.adsManager) {
            _this3.adsManager.resume();

            _this3.pauseSlide();
          }
        }, 200);
        _this3.adsInViewPort = true;
      };

      var outView = function outView() {
        utlis_vilog("[Top Articles] Ad out viewport");

        if (_this3.adsManager) {
          _this3.adsManager.pause();
        }

        _this3.adsInViewPort = false;
      };

      isInViewPort(this.adDisplayWrapper, inView, outView);

      var inVP = function inVP() {
        if (_this3.adsManager) _this3.adsManager.resize(_this3.adWidth, _this3.playerHeight, 'NORMAL');
        adIframe.style.position = "";
        adIframe.style.bottom = "";
        adIframe.style.right = "";
        adIframe.style.zIndex = "";
        adIframe.style.width = _this3.adWidth + "px";
        adIframe.style.height = _this3.adHeight + "px";
        _this3.adWrapper.querySelector(".playWrapper").style.height = "";
        _this3.adWrapper.querySelector(".infoWrapper").style.height = "";
        _this3.adWrapper.getElementById("widgetWrapper").className = _this3.calcSize();
        _this3.adWrapper.getElementById("vertical-line").style.height = _this3.adWrapper.getElementById("article-title").clientHeight + 10 + 'px';
        document.getElementById("disableFixedTopArticles").style.cssText = '';
      };

      var outVP = function outVP() {
        if (adIframe.classList.contains('disabled-fixed')) return;
        if (mobileDetect() && !_this3.adConfig.fixedOnMobile) return;
        var mWidth = _this3.adConfig.sizeStickyVideo;
        var mHeight = Math.round(mWidth / 16 * 9);
        if (_this3.adsManager) _this3.adsManager.resize(mWidth, mHeight, 'NORMAL');
        adIframe.style.position = "fixed";
        adIframe.style.bottom = "0";
        adIframe.style.left = "0";
        adIframe.style.zIndex = "2147483647";
        adIframe.style.width = mWidth + "px";
        adIframe.style.height = mHeight + 59 + "px";
        _this3.adWrapper.querySelector(".playWrapper").style.height = mHeight + "px";
        _this3.adWrapper.querySelector(".infoWrapper").style.height = "60px";
        _this3.adWrapper.getElementById("widgetWrapper").className = "size-sm";
        _this3.adWrapper.getElementById("vertical-line").style.height = _this3.adWrapper.getElementById("article-title").clientHeight + 10 + 'px';
        document.getElementById("disableFixedTopArticles").style.cssText = 'display: block; position: fixed; bottom: ' + (mHeight + 59) + 'px; left: ' + (mWidth - 3) + 'px; z-index: 2147483647;';
      };

      if (this.adConfig.noFixed === true) {
        inVP();
      } else if (this.adConfig.hideStatic === true) {
        observeElement.style.maxHeight = "0";
        outVP();
      } else {
        isInViewPort(observeElement, inVP, outVP, {
          threshold: [0]
        });
      }

      addVsbInterval(function () {
        _this3.getAds();
      }, 1000);
    }
  }, {
    key: "changePlayPauseButton",
    value: function changePlayPauseButton(action) {
      if (action === "play") {
        this.adWrapper.getElementById('button-pause').style.display = "block";
        this.adWrapper.getElementById('button-play').style.display = "none";
        this.adWrapper.getElementById('big-play-button').style.display = "none";
      }

      if (action === "pause") {
        this.adWrapper.getElementById('button-pause').style.display = "none";
        this.adWrapper.getElementById('button-play').style.display = "block";
        this.adWrapper.getElementById('big-play-button').style.display = "block";
      }
    }
  }, {
    key: "playSlide",
    value: function playSlide() {
      if (this.playerStatus === 'pause') {
        utlis_vilog("[Top Articles] Slide played");
        var showingSlide = this.getShowingSlide();
        var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
        this.runSlide(showing_item_index);
      }
    }
  }, {
    key: "pauseSlide",
    value: function pauseSlide() {
      if (this.playerStatus === 'playing') {
        utlis_vilog("[Top Articles] Slide paused");
        var showingSlide = this.getShowingSlide();
        var showing_item_index = parseInt(showingSlide.getAttribute('data-item-index'));
        this.playerStatus = "pause";
        clearTimeout(this.autoRunTimeout);
        this.adWrapper.body.classList.add('pause');
        this.adWrapper.body.classList.remove('playing');
        this.changePlayPauseButton("pause");
        var thisProgress;
        var progress_items = this.adWrapper.getElementsByClassName('progress-item');

        for (var i = 0; i < progress_items.length; i++) {
          var data_item_index = parseInt(progress_items[i].getAttribute("data-item-index"));

          if (data_item_index === showing_item_index) {
            thisProgress = progress_items[i];
          }
        }

        setTimeout(function () {
          showingSlide.querySelector('.item-image').style.transition = 'transform 0s ease 0s';
          showingSlide.querySelector('.item-image').style.transform = 'scale(1)';
          thisProgress.querySelector('.progress-loader').style.transition = 'none 0s ease 0s';
          thisProgress.querySelector('.progress-loader').style.transform = 'scale(0, 1)';
        }, 100);
      }
    }
  }, {
    key: "hasNoClickClass",
    value: function hasNoClickClass(element) {
      if (element.classList && element.classList.contains('noclick')) {
        return true;
      } else {
        var parent = element.parentNode;

        if (parent) {
          return this.hasNoClickClass(parent);
        }
      }

      return false;
    }
  }, {
    key: "getShowingSlide",
    value: function getShowingSlide() {
      var showingSlide = null;
      var slider_items = this.adWrapper.getElementsByClassName('slider-item');

      for (var i = 0; i < slider_items.length; i++) {
        if (slider_items[i].classList.contains('show')) {
          showingSlide = slider_items[i];
        }
      }

      return showingSlide;
    }
  }, {
    key: "shuffle",
    value: function shuffle(arr) {
      var ctr = arr.length,
          temp,
          index;

      while (ctr > 0) {
        index = Math.floor(Math.random() * ctr);
        ctr--;
        temp = arr[ctr];
        arr[ctr] = arr[index];
        arr[index] = temp;
      }

      return arr;
    }
  }, {
    key: "calcSize",
    value: function calcSize() {
      var size = "size-md";

      if (this.adWidth < 480) {
        size = "size-sm";
      }

      if (this.adWidth < 360) {
        size = "size-xs";
      }

      return size;
    }
  }, {
    key: "calcInfoHeight",
    value: function calcInfoHeight(adW) {
      var infoH = 100;
      if (adW <= 600) infoH = 80;
      if (adW <= 400) infoH = 60;
      if (adW <= 300) infoH = 60;
      if (adW <= 200) infoH = 45;
      return infoH;
    }
  }, {
    key: "getAds",
    value: function getAds() {
      this.adPlayed = false;
      if (!this.adData) return;
      if (!this.adData.adunit && this.adData.adunitExt) return;
      var adunit = this.adData.adunit;
      var adunitExt = this.adData.adunitExt;

      if (!adunit.mediaTypes || adunit.mediaTypes == null) {
        adunit.mediaTypes = mediaTypesAdFormatVideo('videodiscovery');
      }

      adunit.code = this.thisAdSlot;
      adunit.bids = utlis_buildBids(adunit.bids, this.floorPrice);
      vlipb.removeAdUnit(adunit.code);
      vlipb.addAdUnits(adunit);
      this.adUnitCodes.push(adunit.code);

      if (adunit.bids.length > 0) {
        plugins_v2_constants.auctionLogs[this.thisAdSlot] = {
          bidder: putOutBidders(adunit.bids),
          preAuction: ''
        };
      } // bid Ext


      if (adunitExt) {
        if (!adunitExt.mediaTypes || adunitExt.mediaTypes == null) {
          adunitExt.mediaTypes = mediaTypesAdFormatVideo('videodiscoveryExt');
        }

        adunitExt.bids = utlis_buildBids(adunitExt.bids, this.floorPrice);
        adunitExt.renderer = adunitExt.renderer || {
          url: '',
          render: function render() {}
        };
        vlipb.removeAdUnit(adunitExt.code);
        vlipb.addAdUnits(adunitExt);
        this.adUnitCodes.push(adunitExt.code);

        if (adunitExt.bids.length > 0 && !plugins_v2_constants.auctionLogs[adunitExt.code]) {
          plugins_v2_constants.auctionLogs[adunitExt.code] = {
            bidder: putOutBidders(adunitExt.bids),
            preAuction: ''
          };
        }
      }

      this.adDisplayWrapper.classList.add("running");
      utlis_requestBids(this.adUnitCodes, [], this.bidBackHandler.bind(this), 'toparticles');
      this.numBidRequest++;
    }
  }, {
    key: "bidBackHandler",
    value: function bidBackHandler(adUnitCodes) {
      var _this4 = this;

      var responses = [];
      adUnitCodes.forEach(function (currentDivId) {
        var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

        utlis_vilog("[Top Articles] Response for: " + currentDivId);
        utlis_vilog(_rsp);
        responses = responses.concat(_rsp);
      });
      var responseSorted = sortResponseBids(responses);
      utlis_vilog("[Top Articles] All Sorted Responses");
      utlis_vilog(responseSorted);
      responseSorted = responseSorted.filter(function (bid) {
        console.log("this.floorPrice: " + _this4.floorPrice);

        if (bid.mediaType === "video" && bid.cpm < _this4.floorPrice) {
          vlipb.markWinningBidAsUsed({
            adId: bid.adId
          });
          return false;
        }

        return true;
      });

      if (plugins_v2_constants.videoRequestMode === "dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.topArticles) === false) {
        var bidSelected = null;

        if (responseSorted.length > 0) {
          bidSelected = responseSorted[0];
        }

        var pixelToken = "";
        var adUnitWin = this.adData.adunit;

        if (bidSelected) {
          var pixel = {
            type: "hb_video",
            divID: this.thisAdSlot,
            zoneID: this.adData.zid,
            bidder: bidSelected.bidderCode,
            cpm: bidSelected.cpm
          };
          pixelToken = getPixelToken(pixel);

          if (this.adData.adunit && this.adData.adunit.code == bidSelected.adUnitCode) {
            adUnitWin = this.adData.adunit;
          }

          if (this.adData.adunitExt && this.adData.adunitExt.code == bidSelected.adUnitCode) {
            adUnitWin = this.adData.adunitExt;
          }
        }

        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.topArticles.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "toparticles",
          impression_url: plugins_v2_constants.statsDomain,
          token: pixelToken,
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.adData.zid : "toparticles_" + this.adData.zid;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.topArticles)
          },
          adUnit: adUnitWin,
          bidWon: bidSelected,
          customParams: cust_params
        });
        utlis_vilog("[TOP ARTICLES] New Vast Url: " + vastUrl);
        if (bidSelected) vlipb.markWinningBidAsUsed({
          adId: bidSelected.adId
        });
        var callbacks = {
          start: function start() {
            var dataBid = {
              adId: bidSelected ? bidSelected.adId : "unknown from Adx",
              bidder: bidSelected ? bidSelected.bidder : "Adx",
              creativeId: bidSelected ? bidSelected.creativeId : "unknown from Adx"
            };
            pushInfoDebugOverlay(_this4.thisAdSlot, dataBid);
          },
          error: function error() {
            _this4.startRender(responseSorted);
          }
        };
        this.playVast({
          vastUrl: vastUrl,
          vastXml: null
        }, callbacks);
      } else {
        this.startRender(responseSorted);
      }
    }
  }, {
    key: "startRender",
    value: function startRender() {
      var _this5 = this;

      var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      var vastUrl = null;
      var vastXml = null;
      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {},
        adsVolumeChange: function adsVolumeChange() {}
      };

      if (bids.length > 0) {
        var bidWon = bids[0];
        vlipb.markWinningBidAsUsed({
          adId: bidWon.adId
        });
        bids.splice(0, 1);
        vastUrl = bidWon.vastUrl || null;
        vastXml = bidWon.vastXml || null;

        callbacks.start = function () {
          pushInfoDebugOverlay(_this5.thisAdSlot, bidWon);
        };

        callbacks.error = function (errorCode) {
          _this5.startRender(bids);
        };

        callbacks.impression = function () {
          var pixel = {
            type: "hb_video",
            divID: _this5.thisAdSlot,
            zoneID: _this5.adData.zid,
            bidder: bidWon.bidderCode,
            cpm: bidWon.cpm
          };
          savePixel(pixel);
          utlis_vilog("[Top Articles] Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm);
        };

        data = {
          vastUrl: vastUrl,
          vastXml: vastXml
        };
        this.playVast(data, callbacks);
      } else {
        this.caseTwo();
      }
    }
  }, {
    key: "caseTwo",
    value: function caseTwo() {
      var _this6 = this;

      if (plugins_v2_constants.videoRequestMode === "postbid_dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.topArticles) === false) {
        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.topArticles.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "toparticles",
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.adData.zid : "toparticles_" + this.adData.zid;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.topArticles)
          },
          adUnit: this.adData.adunit,
          customParams: cust_params
        });
        utlis_vilog("[TOP ARTICLES] caseTwo - New Vast Url: " + vastUrl);
        var callbacks = {
          start: function start() {
            var dataBid = {
              adId: "unknown from Adx",
              bidder: "Adx",
              creativeId: "unknown from Adx"
            };
            pushInfoDebugOverlay(_this6.thisAdSlot, dataBid);
          },
          error: function error() {
            _this6.tryWithCustomVast();
          }
        };
        this.playVast({
          vastUrl: vastUrl
        }, callbacks);
      }

      if (plugins_v2_constants.videoRequestMode === "dfp" || plugins_v2_constants.videoRequestMode === "postbid") {
        this.tryWithCustomVast();
      }
    }
  }, {
    key: "tryWithCustomVast",
    value: function tryWithCustomVast() {
      utlis_vilog("[Top Articles] Try with Custom Vast");
      initAnalytic(plugins_v2_constants.pixelID);
      var vastArr = [];
      if (this.adData.vast) vastArr = JSON.parse(JSON.stringify(this.adData.vast));

      for (var i = 0; i < vastArr.length; i++) {
        vastArr[i].link = linkFilter(vastArr[i].link);
      }

      this.renderCustomVast(vastArr);
    }
  }, {
    key: "renderCustomVast",
    value: function renderCustomVast(vastArray) {
      var _this7 = this;

      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {},
        adsVolumeChange: function adsVolumeChange() {}
      };

      if (vastArray.length > 0) {
        var currentVast = vastArray[0];
        vastArray.splice(0, 1);

        if (!currentVast.link || !currentVast.bidder) {
          utlis_vilog("[Top Articles] Custom Vast: vast link|vast bidder empty");
          this.renderCustomVast(vastArray);
          utlis_vilog("[Top Articles] Custom Vast: Try another vast");
        } else {
          callbacks.start = function () {
            var dataBid = {
              adId: "unknown from Custom Vast",
              bidder: "Custom Vast",
              creativeId: "unknown from Custom Vast"
            };
            pushInfoDebugOverlay(_this7.thisAdSlot, dataBid);
            utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Start");
          }, callbacks.complete = function () {
            utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Complete");
          }, callbacks.impression = function () {
            utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Impression");
            pushTracking(plugins_v2_constants.domainName, "OK - " + currentVast.bidder, "ok", "ok");
          }, callbacks.error = function (errorCode) {
            utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Error: " + errorCode);
            pushTracking(plugins_v2_constants.domainName, "ERROR - " + currentVast.bidder, "er", "er");

            _this7.renderCustomVast(vastArray);
          }, callbacks.hidden = function () {
            utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Hidden");
          }, callbacks.adsVolumeChange = function (currentAdsVolumn) {
            utlis_vilog("[Top Articles] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: adsVolumeChange");
          };
          data = {
            vastUrl: currentVast.link,
            vastXml: null
          };
          this.playVast(data, callbacks);
        }
      } else {
        utlis_vilog("[Top Articles] Custom Vast: vastArr[] empty");
        this.adDisplayWrapper.style.cssText = "";
        this.adDisplayWrapper.innerHTML = "";
        this.adDisplayWrapper.classList.remove("running");
        clearVsbAction(this.thisAdSlot);
        this.refreshBid(this.noBidTime);
        this.playSlide();
      }
    }
  }, {
    key: "refreshBid",
    value: function refreshBid(delayTime) {
      var _this8 = this;

      this.adsManager = null;
      if (typeof delayTime === "undefined") return;
      utlis_vilog("[Top Articles] Refresh Bid after " + delayTime + " second");

      if (this.numBidRequest >= this.maxBidRequest) {
        utlis_vilog("[Top Articles] Refresh Bid Limit");
        return;
      }

      noRefreshRubicon("video");
      setTimeout(function () {
        if (plugins_v2_constants.isVisible) {
          _this8.adDisplayWrapper.classList.add("running");

          utlis_requestBids(_this8.adUnitCodes, [], _this8.bidBackHandler.bind(_this8), 'toparticles');
          _this8.numBidRequest++;
        } else {
          var vsbKey = "top_articles_refresh_queue";
          addVsbAction({
            divID: vsbKey,
            hidden: function hidden() {},
            watching: function watching() {
              clearVsbAction(vsbKey);

              _this8.adDisplayWrapper.classList.add("running");

              utlis_requestBids(_this8.adUnitCodes, [], _this8.bidBackHandler.bind(_this8), 'toparticles');
              _this8.numBidRequest++;
            }
          });
        }
      }, delayTime * 1000);
    }
  }, {
    key: "playVast",
    value: function playVast(data, callbacks) {
      var _this9 = this;

      clearVsbAction(this.thisAdSlot);
      utlis_vilog("[Top Articles] Play vast data:");
      utlis_vilog(data);
      var viPlayer = new vlPlayer({
        baseDomain: plugins_v2_constants.rootDomain,
        brandLogo: plugins_v2_constants.brandLogo
      });
      this.adsManager = viPlayer.play({
        type: "instreamBanner",
        vastUrl: data.vastUrl ? data.vastUrl : null,
        vastXml: data.vastXml ? data.vastXml : null,
        adElement: this.adDisplayWrapper,
        volume: this.currentVolume,
        volumeControl: true,
        start: function start() {
          _this9.pauseSlide();

          observeElementInViewport.isInViewport(_this9.adDisplayWrapper).then(function (s) {
            utlis_vilog("[Top Articles] view port detect___" + s);
            if (!s) _this9.adsManager.pause();
          });
          utlis_vilog("[Top Articles] Vast Event Start");
          callbacks.start && callbacks.start();
        },
        complete: function complete() {
          utlis_vilog("[Top Articles] Vast Event Complete");
          callbacks.complete && callbacks.complete();
        },
        error: function error(errorEvent) {
          utlis_vilog("[Top Articles] Vast Event Error");
          callbacks.error && callbacks.error(errorEvent.getErrorCode());
          utlis_vilog(errorEvent);
        },
        impression: function impression() {
          utlis_vilog("[Top Articles] Vast Event Impression");
          _this9.adPlayed = true;
          callbacks.impression && callbacks.impression();
        },
        hidden: function hidden() {
          utlis_vilog("[Top Articles] Vast Event Hidden");

          if (_this9.adPlayed === false) {
            callbacks.error && callbacks.error();
            return;
          }

          _this9.adDisplayWrapper.style.cssText = "";
          _this9.adDisplayWrapper.innerHTML = "";

          _this9.adDisplayWrapper.classList.remove("running");

          clearVsbAction(_this9.thisAdSlot);

          _this9.refreshBid(_this9.refreshTime);

          _this9.playSlide();

          callbacks.hidden && callbacks.hidden();
        },
        adsVolumeChange: function adsVolumeChange(currentAdsVolumn) {
          _this9.currentVolume = currentAdsVolumn;
          utlis_vilog("[Top Articles] Vast Event VolumeChange");
          callbacks.adsVolumeChange && callbacks.adsVolumeChange(currentAdsVolumn);
        }
      });
      addVsbAction({
        divID: this.thisAdSlot,
        hidden: function hidden() {
          utlis_vilog("[Top Articles] visibilChange__out");
          if (_this9.adsManager) _this9.adsManager.pause();
        },
        watching: function watching() {
          utlis_vilog("[Top Articles] visibilChange__active");
          if (_this9.adsManager && _this9.adsInViewPort) _this9.adsManager.resume();
        }
      });
    }
  }]);

  return VliTopArticles;
}();


// CONCATENATED MODULE: ./src/plugins_v2/vlivideo/VliInStreamLib.js








var VliInStreamLib_VliInStreamLib = /*#__PURE__*/function () {
  function VliInStreamLib(adSlot, userConfigs, adContainer, currentVolume, slotCallbacks) {
    classCallCheck_default()(this, VliInStreamLib);

    this.instreamID = adSlot;
    this.player = null;
    this.callbackResp = {
      slotID: this.instreamID
    };
    this.videoSlot = null;
    this.floorPrice = null;
    this.bannerSlot = null;
    this.floorPriceBanner = null;
    this.adPlayed = false;
    this.adSlot = adSlot;
    this.userConfigs = userConfigs;
    this.adContainer = adContainer;
    this.currentVolume = currentVolume;
    this.slotCallbacks = slotCallbacks;
    this.vliVideoContainer = null;
  }

  createClass_default()(VliInStreamLib, [{
    key: "showLoading",
    value: function showLoading() {
      this.adContainer.insertAdjacentHTML('afterbegin', '<style>.instream_ad_loader{ border-radius: inherit; bottom: 0; left: 0; overflow: hidden; position: absolute; right: 0; top: 0; z-index: 99999; background-color: #060606; } @-webkit-keyframes "av-loading-dash" { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0; } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50; } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210; } } @-moz-keyframes "av-loading-dash" { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0; } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50; } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210; } } @-o-keyframes av-loading-dash { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0 } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50 } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210 } } @keyframes "av-loading-dash" { 0% { stroke-dasharray: 1, 210; stroke-dashoffset: 0; } 50% { stroke-dasharray: 130, 220; stroke-dashoffset: -50; } 100% { stroke-dasharray: 170, 220; stroke-dashoffset: -210; } } @-webkit-keyframes "av-loading-rotate" { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg); } } @-moz-keyframes "av-loading-rotate" { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg); } } @-o-keyframes av-loading-rotate { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg) } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg) } } @keyframes "av-loading-rotate" { 0% { stroke: white; -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { stroke: currentColor; -webkit-transform: rotate(360deg); transform: rotate(360deg); } } .instream_ad_loader svg { position: absolute; top: 50%; left: 50%; } .instream_ad_loader svg.circle { fill: transparent; stroke: rgba(255, 255, 255, 0.2); stroke-width: 3; width: 70px; height: 70px; margin-left: -35px; margin-top: -35px; } .instream_ad_loader svg.circle.active { color: #00b3ff; stroke: white; stroke-linecap: round; animation: av-loading-dash 2s ease infinite, av-loading-rotate 2.5s linear infinite; }</style>');
      var preLoader = document.createElement('div');
      preLoader.className = 'instream_ad_loader';
      preLoader.innerHTML = '<svg class="circle" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg><svg class="circle active" width="70" height="70" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="35" r="32"></circle></svg>';
      this.adContainer.appendChild(preLoader);
    }
  }, {
    key: "renderContentHTML",
    value: function renderContentHTML() {
      if (!this.videoSlot || !this.videoSlot.vid || !this.videoSlot.vid.template) return;
      var videoConfig = {
        adSlot: this.adContainer,
        config: this.videoSlot.vid
      };
      this.vliVideoContainer = new VliVideoContainer_VliVideoContainer(videoConfig);
    }
  }, {
    key: "init",
    value: function init() {
      if (plugins_v2_constants.isVideoRunning && plugins_v2_constants.dfpApproved === "on") {
        utlis_vilog("[Instream] Other Video is Running");
        if (this.userConfigs.hidden) this.userConfigs.hidden();
        return;
      }

      if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
        utlis_vilog("[Instream] Inventory Blocked");
        if (this.userConfigs.hidden) this.userConfigs.hidden();
        return;
      }

      if (!plugins_v2_constants.instreamSlot) return;
      if (!plugins_v2_constants.instreamSlot[this.adSlot]) return;
      if (!this.adContainer) return;
      if (this.adContainer.classList.contains("running")) return;
      this.videoSlot = JSON.parse(JSON.stringify(plugins_v2_constants.instreamSlot[this.adSlot]));
      this.floorPrice = this.videoSlot.floorPrice ? this.videoSlot.floorPrice : 0;
      this.floorPriceBanner = this.videoSlot.bannerFloorPrice ? this.videoSlot.bannerFloorPrice : 0;
      var adUnitCodes = [];
      var apstagSlots = [];
      var adunit = this.videoSlot.adunit;
      var adunitExt = this.videoSlot.adunitExt;

      if (!adunit.bids && !adunitExt.bids) {
        if (this.userConfigs.error) this.userConfigs.error();
        if (this.slotCallbacks.error) this.slotCallbacks.error();
        return;
      }

      if (!adunit.mediaTypes || adunit.mediaTypes == null) {
        adunit.mediaTypes = mediaTypesAdFormatVideo('instream');
      }

      this.adContainer.classList.add("running");
      this.showLoading();
      adunit.code = this.adSlot;
      adunit.bids = utlis_buildBids(adunit.bids, this.floorPrice);
      vlipb.removeAdUnit(this.adSlot);
      vlipb.addAdUnits(adunit);
      adUnitCodes.push(adunit.code);

      if (adunit.bids.length > 0 && !plugins_v2_constants.auctionLogs[this.adSlot]) {
        plugins_v2_constants.auctionLogs[this.adSlot] = {
          bidder: putOutBidders(adunit.bids),
          preAuction: ''
        };
      } // bid Ext


      if (adunitExt) {
        if (!adunitExt.mediaTypes || adunitExt.mediaTypes == null) {
          adunitExt.mediaTypes = mediaTypesAdFormatVideo('instreamExt');
        }

        adunitExt.bids = utlis_buildBids(adunitExt.bids, this.floorPrice);
        adunitExt.renderer = adunitExt.renderer || {
          url: '',
          render: function render() {}
        };
        vlipb.removeAdUnit(adunitExt.code);
        vlipb.addAdUnits(adunitExt);
        adUnitCodes.push(adunitExt.code);

        if (adunitExt.bids.length > 0 && !plugins_v2_constants.auctionLogs[adunitExt.code]) {
          plugins_v2_constants.auctionLogs[adunitExt.code] = {
            bidder: putOutBidders(adunitExt.bids),
            preAuction: ''
          };
        }
      } //Add banner unit


      var adContainerWidth = !isInIframe() ? this.adContainer.parentNode.clientWidth : window.innerWidth;
      var adContainerHeight = !isInIframe() ? this.adContainer.parentNode.clientHeight : window.innerHeight;

      if (plugins_v2_constants.displaySlot && adContainerWidth > 300 && adContainerHeight > 250) {
        for (var key in plugins_v2_constants.displaySlot) {
          if (plugins_v2_constants.displaySlot[key].w === 300 && plugins_v2_constants.displaySlot[key].h === 250) {
            this.bannerSlot = JSON.parse(JSON.stringify(plugins_v2_constants.displaySlot[key]));
            var bannerAdUnit = this.bannerSlot.adunit;
            bannerAdUnit.code = this.adSlot + "_banner_" + Math.floor(Math.random() * 10000 + 1);
            bannerAdUnit.bids = getBidsForAdUnit("300_250");
            bannerAdUnit.bids = utlis_buildBids(bannerAdUnit.bids, this.floorPriceBanner);

            if (bannerAdUnit.bids.length > 0 && !plugins_v2_constants.auctionLogs[bannerAdUnit.code]) {
              plugins_v2_constants.auctionLogs[bannerAdUnit.code] = {
                bidder: putOutBidders(bannerAdUnit.bids),
                preAuction: ''
              };
            }

            vlipb.addAdUnits(bannerAdUnit);
            adUnitCodes.push(bannerAdUnit.code);

            if (plugins_v2_constants.amazonEnabled) {
              var apstagSlotSizes = amazonUAMSizeFilter(bannerAdUnit.mediaTypes.banner.sizes);

              if (apstagSlotSizes.length > 0) {
                var apstagSlot = {
                  slotID: bannerAdUnit.code,
                  sizes: apstagSlotSizes,
                  slotName: "Amazon"
                };
                apstagSlots.push(apstagSlot);
              }
            }

            break;
          }
        }
      }

      utlis_requestBids(adUnitCodes, apstagSlots, this.videoBackHandler.bind(this));
      var biddingManager = new bidManager({
        slotId: adSlot.adSlotCode,
        tagId: adSlot.tagId,
        floorPrice: adSlot.floorPrice,
        buildBannerFromNative: adSlot.buildBannerFromNative,
        adUnits: adSlot.adUnits,
        adWidth: adSlot.adWidth,
        adHeight: adSlot.adHeight,
        viewPortDetect: adSlot.viewPortDetect
      });
    }
  }, {
    key: "videoBackHandler",
    value: function videoBackHandler(adUnitCodes) {
      var _this = this;

      plugins_v2_constants.isVideoRunning = true;
      var responses = [];
      adUnitCodes.forEach(function (currentDivId) {
        var _rsp = sortResponse(vlipb.getBidResponsesForAdUnitCode(currentDivId), currentDivId);

        utlis_vilog("[Instream] Response for: " + currentDivId);
        utlis_vilog(_rsp);
        responses = responses.concat(_rsp); // check amazon response

        var amazonResponse = plugins_v2_constants.amazonBidResponses[currentDivId];

        if (amazonResponse) {
          utlis_vilog("[Instream] Amazon Response for: " + currentDivId);
          utlis_vilog(amazonResponse);
          responses = responses.concat(amazonResponse);
        }
      });
      var responseSorted = sortResponseBids(responses);
      utlis_vilog("[Instream] All Sorted Responses");
      utlis_vilog(responseSorted);
      responseSorted = responseSorted.filter(function (bid) {
        if (bid.mediaType === "video" && bid.cpm < _this.floorPrice) {
          vlipb.markWinningBidAsUsed({
            adId: bid.adId
          });
          return false;
        }

        if (bid.mediaType === "banner") {
          if (!bid.amznbid && bid.width > 300 && bid.height > 250) {
            // remove bid have big size
            utlis_vilog("[Instream] Bidwon has big size");
            return false;
          }
        }

        if (bid.mediaType === "banner" && bid.cpm < _this.floorPriceBanner) {
          if (!bid.amznbid) {
            vlipb.markWinningBidAsUsed({
              adId: bid.adId
            });
          }

          return false;
        }

        return true;
      });

      if (plugins_v2_constants.videoRequestMode === "dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.instream) === false) {
        var bidSelected = null;

        if (responseSorted.length > 0) {
          bidSelected = responseSorted[0];
        }

        if (bidSelected && bidSelected.mediaType === "banner") {
          this.startRender(responseSorted);
        } else {
          var pixelToken = "";
          var adUnitWin = this.videoSlot.adunit;

          if (bidSelected) {
            var pixel = {
              type: "hb_video",
              divID: this.instreamID,
              zoneID: this.videoSlot.zid,
              bidder: bidSelected.bidderCode,
              cpm: bidSelected.cpm
            };
            pixelToken = getPixelToken(pixel);

            if (this.videoSlot.adunit && this.videoSlot.adunit.code == bidSelected.adUnitCode) {
              adUnitWin = this.videoSlot.adunit;
            }

            if (this.videoSlot.adunitExt && this.videoSlot.adunitExt.code == bidSelected.adUnitCode) {
              adUnitWin = this.videoSlot.adunitExt;
            }
          }

          var cust_params = {
            vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.instream.accId,
            hb_domain: plugins_v2_constants.domainName,
            section: "blog",
            anotherKey: "anotherValue",
            vli_adtype: "instream",
            impression_url: plugins_v2_constants.statsDomain,
            token: pixelToken,
            vli_network: "true"
          };

          if (plugins_v2_constants.refererDomainID) {
            cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
          } else {
            cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.videoSlot.zid : "instream_" + this.videoSlot.zid;
          }

          if (!bidSelected) {
            cust_params.hb_pb = this.floorPrice;
          }

          var vastUrl = buildDfpVideoUrl({
            params: {
              iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.instream)
            },
            adUnit: adUnitWin,
            bidWon: bidSelected,
            customParams: cust_params
          });
          utlis_vilog("[INSTREAM] New Vast Url: " + vastUrl);
          if (bidSelected) vlipb.markWinningBidAsUsed({
            adId: bidSelected.adId
          });
          var callbacks = {
            start: function start() {
              var dataBid = {
                adId: bidSelected ? bidSelected.adId : "unknown from Adx",
                bidder: bidSelected ? bidSelected.bidder : "Adx",
                creativeId: bidSelected ? bidSelected.creativeId : "unknown from Adx"
              };
              pushInfoDebugOverlay(_this.instreamID, dataBid);
            },
            error: function error() {
              _this.startRender(responseSorted);
            }
          };
          this.playVast({
            vastUrl: vastUrl,
            vastXml: null
          }, callbacks);
        }
      } else {
        this.startRender(responseSorted);
      }
    }
  }, {
    key: "startRender",
    value: function startRender() {
      var _this2 = this;

      var bids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      var vastUrl = null;
      var vastXml = null;
      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {}
      };

      if (bids.length > 0) {
        var bidWon = bids[0];
        vlipb.markWinningBidAsUsed({
          adId: bidWon.adId
        });
        bids.splice(0, 1);

        if (bidWon.mediaType === "video") {
          vastUrl = bidWon.vastUrl || null;
          vastXml = bidWon.vastXml || null;

          callbacks.start = function () {
            pushInfoDebugOverlay(_this2.instreamID, bidWon);
          };

          callbacks.error = function (errorCode) {
            _this2.startRender(bids);
          };

          callbacks.impression = function () {
            var pixel = {
              type: "hb_video",
              divID: _this2.instreamID,
              zoneID: _this2.videoSlot.zid,
              bidder: bidWon.bidderCode,
              cpm: bidWon.cpm
            };
            savePixel(pixel);
            utlis_vilog("Video Win ___ " + pixel.bidder + " ___ " + pixel.cpm);
          };

          data = {
            vastUrl: vastUrl,
            vastXml: vastXml
          };
          this.playVast(data, callbacks);
        } else {
          this.displayBanner(bidWon);
        }
      } else {
        this.caseTwo();
      }
    }
  }, {
    key: "caseTwo",
    value: function caseTwo() {
      var _this3 = this;

      if (plugins_v2_constants.videoRequestMode === "postbid_dfp" && isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.instream) === false) {
        var cust_params = {
          vli_acc: plugins_v2_constants.targetGoogleAccByAdFormat.instream.accId,
          hb_domain: plugins_v2_constants.domainName,
          section: "blog",
          anotherKey: "anotherValue",
          vli_adtype: "instream",
          vli_network: "true"
        };

        if (plugins_v2_constants.refererDomainID) {
          cust_params.vli_ref = plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID;
        } else {
          cust_params.vli_adslot = plugins_v2_constants.useNewAdUnit === 'on' ? this.videoSlot.zid : "instream_" + this.videoSlot.zid;
        }

        var vastUrl = buildDfpVideoUrl({
          params: {
            iu: getDfpAdunitCode("VIDEO", plugins_v2_constants.targetGoogleAccByAdFormat.instream)
          },
          adUnit: this.videoSlot.adunit,
          customParams: cust_params
        });
        utlis_vilog("[INSTREAM] caseTwo - New Vast Url: " + vastUrl);
        var callbacks = {
          start: function start() {
            var dataBid = {
              adId: "unknown from Adx",
              bidder: "Adx",
              creativeId: "unknown from Adx"
            };
            pushInfoDebugOverlay(_this3.instreamID, dataBid);
          },
          error: function error() {
            _this3.displayBanner(null, _this3.tryWithCustomVast.bind(_this3));
          }
        };
        this.playVast({
          vastUrl: vastUrl
        }, callbacks);
      }

      if (plugins_v2_constants.videoRequestMode === "postbid") {
        this.displayBanner(null, this.tryWithCustomVast.bind(this));
      }

      if (plugins_v2_constants.videoRequestMode === "dfp") {
        this.displayBanner(null, this.tryWithCustomVast.bind(this));
      }
    }
  }, {
    key: "tryWithCustomVast",
    value: function tryWithCustomVast() {
      utlis_vilog("[Instream] Try with Custom Vast");
      initAnalytic(plugins_v2_constants.pixelID);
      var vastArr = [];
      if (this.videoSlot.vast) vastArr = JSON.parse(JSON.stringify(this.videoSlot.vast));

      for (var i = 0; i < vastArr.length; i++) {
        vastArr[i].link = linkFilter(vastArr[i].link);
      }

      this.renderCustomVast(vastArr);
    }
  }, {
    key: "renderCustomVast",
    value: function renderCustomVast(vastArray) {
      var _this4 = this;

      var data = {};
      var callbacks = {
        start: function start() {},
        impression: function impression() {},
        error: function error() {},
        hidden: function hidden() {},
        adsVolumeChange: function adsVolumeChange() {}
      };

      if (vastArray.length > 0) {
        var currentVast = vastArray[0];
        vastArray.splice(0, 1);

        if (!currentVast.link || !currentVast.bidder) {
          utlis_vilog("[Instream] Custom Vast: vast link|vast bidder empty");
          this.renderCustomVast(vastArray);
          utlis_vilog("[Instream] Custom Vast: Try another vast");
        } else {
          callbacks.start = function () {
            var dataBid = {
              adId: "unknown from Custom Vast",
              bidder: "Custom Vast",
              creativeId: "unknown from Custom Vast"
            };
            pushInfoDebugOverlay(_this4.instreamID, dataBid);
            utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Start");
          }, callbacks.complete = function () {
            utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Complete");
          }, callbacks.impression = function () {
            utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Impression");
            pushTracking(plugins_v2_constants.domainName, "OK - " + currentVast.bidder, "ok", "ok");
          }, callbacks.error = function (errorCode) {
            utlis_vilog("[Instream] Custom Vast: ++++++ Bidder: " + currentVast.bidder + ", Event: Error: " + errorCode);
            pushTracking(plugins_v2_constants.domainName, "ERROR - " + currentVast.bidder, "er", "er");

            _this4.renderCustomVast(vastArray);
          };
          data = {
            vastUrl: currentVast.link,
            vastXml: null
          };
          this.playVast(data, callbacks);
        }
      } else {
        utlis_vilog("[Instream] Custom Vast: vastArr[] empty");
        utlis_vilog("[Instream] Not found Ad");
        this.adContainer.style.display = "none";
        if (this.userConfigs.error) this.userConfigs.error();
        if (this.slotCallbacks.error) this.slotCallbacks.error();
        this.instreamEndedAds();
      }
    }
  }, {
    key: "playVast",
    value: function playVast(data, callbacks) {
      var _this5 = this;

      clearVsbAction(this.instreamID);
      utlis_vilog("[Instream] Play vast data:");
      utlis_vilog(data);
      var viPlayer = new vlPlayer({
        baseDomain: plugins_v2_constants.rootDomain,
        brandLogo: plugins_v2_constants.brandLogo
      });
      this.player = viPlayer.play({
        vastUrl: data.vastUrl ? data.vastUrl : null,
        vastXml: data.vastXml ? data.vastXml : null,
        adElement: this.adContainer,
        volume: this.currentVolume,
        volumeControl: true,
        loadVideoTimeout: this.userConfigs.timeoutVideo ? this.userConfigs.timeoutVideo * 1000 : null,
        vastLoadTimeout: this.userConfigs.timeoutVast ? this.userConfigs.timeoutVast * 1000 : null,
        loadingText: this.userConfigs.loadingText,
        complete: function complete() {
          utlis_vilog("[Instream] Vast Event Complete");
          if (_this5.userConfigs.complete) _this5.userConfigs.complete(_this5.callbackResp);
          if (_this5.slotCallbacks.complete) _this5.slotCallbacks.complete(_this5.callbackResp);
          callbacks.complete && callbacks.complete();
        },
        start: function start() {
          utlis_vilog("[Instream] Vast Event Start");
          if (_this5.userConfigs.start) _this5.userConfigs.start(_this5.callbackResp);
          callbacks.start && callbacks.start();
          isInViewPort(_this5.adContainer, function () {
            utlis_vilog("[Instream] in viewport");
            if (_this5.player) _this5.player.resume();
          }, function () {
            utlis_vilog("[Instream] out viewport");
            if (_this5.player) _this5.player.pause();
          }, {
            threshold: [80]
          });
        },
        error: function error(errorEvent) {
          utlis_vilog("[Instream] Vast Event Error");
          utlis_vilog(errorEvent);
          callbacks.error && callbacks.error(errorEvent.getErrorCode());
        },
        impression: function impression() {
          utlis_vilog("[Instream] Vast Event Impression");
          _this5.adPlayed = true;
          callbacks.impression && callbacks.impression();
        },
        hidden: function hidden() {
          utlis_vilog("[Instream] Vast Event Hidden");

          if (_this5.adPlayed === false) {
            callbacks.error && callbacks.error();
            return;
          }

          if (_this5.userConfigs.hidden) _this5.userConfigs.hidden(_this5.callbackResp);
          if (_this5.slotCallbacks.hidden) _this5.slotCallbacks.hidden(_this5.callbackResp);
          clearVsbAction(_this5.instreamID);
          callbacks.hidden && callbacks.hidden();

          _this5.instreamEndedAds();
        },
        adsVolumeChange: function adsVolumeChange(currentAdsVolumn) {
          utlis_vilog("[Instream] Vast Event VolumeChange");
          if (_this5.userConfigs.adsVolumeChange) _this5.userConfigs.adsVolumeChange(currentAdsVolumn);
          if (_this5.slotCallbacks.adsVolumeChange) _this5.slotCallbacks.adsVolumeChange(currentAdsVolumn);
        }
      });
      addVsbAction({
        divID: this.instreamID,
        hidden: function hidden() {
          _this5.player.pause();
        },
        watching: function watching() {
          _this5.player.resume();
        }
      });
    }
  }, {
    key: "displayBanner",
    value: function displayBanner() {
      var _this6 = this;

      var bidWon = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var notFillCallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      if (!notFillCallback) {
        notFillCallback = function notFillCallback() {
          _this6.userConfigs.error && _this6.userConfigs.error();
          _this6.slotCallbacks.error && _this6.slotCallbacks.error();
          clearVsbAction(_this6.instreamID);

          _this6.instreamEndedAds();
        };
      }

      if (!this.bannerSlot) {
        notFillCallback && notFillCallback();
        return;
      }

      utlis_vilog("[Instream] Display banner");

      if (this.userConfigs.start) {
        utlis_vilog("[Instream] Banner start Ad");
        this.userConfigs.start && this.userConfigs.start(this.callbackResp);
      }

      var bannerId = this.bannerSlot.adunit.code;
      this.adContainer.style.cssText = "z-index: 9998; position: absolute; width: 100%; height: 100%; top: 0px; left: 0px; background: rgb(0, 0, 0); display: block; padding: 0px; margin: 0px;overflow:hidden;";
      this.adContainer.innerHTML = "<div id=\"".concat(bannerId, "\"></div>\n                            <style>vli{ display:block; } .videoAdUiPreSkipContainer { display: none; opacity: 0; bottom: 12px; cursor: default; padding: 15px 0 15px 15px; pointer-events: auto; position: absolute; right: 0; z-index: 1000; } .videoAdUiPreSkipContainer .skipTime{ display: inline; } .videoAdUiPreSkipButton { background: rgba(0,0,0,0.8); min-width: 155px; padding: 6px; } .videoAdUiPreSkipText { color: #e6e6e6; font-family: arial,sans-serif; font-weight: normal; font-size: 11px; line-height: 21px; padding-right: 0; text-align: center; display: inline-block; width: 100%; vertical-align: middle; } .videoAdUiSkipContainer { display: none; opacity: 0; -webkit-tap-highlight-color: rgba(0,0,0,0); bottom: 12px; cursor: pointer; padding: 15px 0 15px 15px; pointer-events: auto; position: absolute; right: 0; z-index: 1000; } .videoAdUiSkipButton { line-height: normal; min-width: 0; padding: 7px 6px 7px 10px; width: auto; margin: 0; } .videoAdUiAction { -webkit-tap-highlight-color: rgba(0,0,0,0); background: rgba(0,0,0,0.8); border: 1px solid rgba(255,255,255,0.5); border-right: 0; box-sizing: content-box; color: #fff; cursor: pointer; direction: ltr; font-family: arial,sans-serif; font-weight: normal; font-size: 18px; line-height: normal; min-width: 100px; padding: 10px 7px; text-align: center; } .videoAdUiSkipButtonExperimentalText { display: inline-block; font-size: 18px; vertical-align: middle; width: initial; } .videoAdUiSkipIcon { background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAAZElEQVQ4y+3SwQmDQBBGYRFy9mYLSRXWEyvRRtKBbdhDUoTH8HkVllX+u++48GD2zTTNTYiPrnhDXeBnyAT+Zo9EgNUrE9iMmQCLvhTas2jXWY8jvbNPP5OsU5L1my0uPY2bCjtXdo6mqRVtTgAAAABJRU5ErkJggg==\"); background-repeat: no-repeat; display: inline-block; height: 24px; margin-left: 2px; vertical-align: middle; width: 24px; } .videoAdCountdownContainer{ display: none; opacity: 0; color: #e6e6e6; font-family: arial,sans-serif; font-weight: normal; font-size: 12px; line-height: 21px; padding-right: 0; display: block; vertical-align: middle; -webkit-tap-highlight-color: rgba(0,0,0,0); top: 8px; left: 8px; cursor: pointer; pointer-events: auto; position: absolute; z-index: 1000; } .remainingTime{ display: inline-block; }</style>\n                            <vli class=\"videoAdUiSkipWidgetV2\">\n                                <vli class=\"videoAdUiPreSkipContainer\">\n                                    <vli class=\"videoAdUiPreSkipButton\">\n                                        <vli class=\"videoAdUiPreSkipText\">You can skip this ad in <vli class=\"skipTime\">5</vli></vli>\n                                    </vli>\n                                </vli>\n                                <vli class=\"videoAdUiSkipContainer\">\n                                    <button class=\"videoAdUiSkipButton videoAdUiAction\">\n                                        <vli class=\"videoAdUiSkipButtonExperimentalText\">Skip Ad</vli>\n                                        <vli class=\"videoAdUiSkipIcon\"></vli>\n                                    </button>\n                                </vli>\n                                <vli class=\"videoAdCountdownContainer\">Ad (00:<vli class=\"remainingTime\">15</vli>)</vli>\n                            </vli>");
      var adDiv = document.getElementById(bannerId);

      var skipControl = function skipControl() {
        var doneBanner = function doneBanner() {
          _this6.userConfigs.hidden && _this6.userConfigs.hidden(_this6.callbackResp);
          _this6.slotCallbacks.hidden && _this6.slotCallbacks.hidden(_this6.callbackResp);
          setRemainingTime && clearInterval(setRemainingTime);
          countDown && clearInterval(countDown);

          _this6.instreamEndedAds();
        };

        var skipContainer = _this6.adContainer.querySelector(".videoAdUiSkipContainer");

        skipContainer.addEventListener("click", function () {
          doneBanner();
        });

        var countdownContainer = _this6.adContainer.querySelector(".videoAdCountdownContainer");

        countdownContainer.style.display = "block";
        countdownContainer.style.opacity = "1";
        var remainingTime = 15;
        var remainingTimeElement = countdownContainer.querySelector(".remainingTime");
        remainingTimeElement.innerText = remainingTime;
        var setRemainingTime = setInterval(function () {
          if (remainingTime <= 1) {
            _this6.userConfigs.complete && _this6.userConfigs.complete();
            _this6.slotCallbacks.complete && _this6.slotCallbacks.complete();
            doneBanner();
          } else {
            remainingTime--;
            var remainingText = remainingTime;

            if (remainingTime < 10) {
              remainingText = "0" + remainingTime;
            }

            remainingTimeElement.innerText = remainingText;
          }
        }, 1000);

        var preSkipContainer = _this6.adContainer.querySelector(".videoAdUiPreSkipContainer");

        preSkipContainer.style.display = "block";
        preSkipContainer.style.opacity = "1";
        var skipTime = 5;
        var skipTimeElement = preSkipContainer.querySelector(".skipTime");
        skipTimeElement.innerText = skipTime;
        var countDown = setInterval(function () {
          if (skipTime <= 1) {
            preSkipContainer.style.display = "none";
            preSkipContainer.style.opacity = "0";
            skipContainer.style.display = "block";
            skipContainer.style.opacity = "1";
          } else {
            skipTime--;
            skipTimeElement.innerText = skipTime;
          }
        }, 1000);
      };

      var accTargetInstream = true;

      if (isObjectEmpty(plugins_v2_constants.targetGoogleAccByAdFormat.display) === true) {
        accTargetInstream = false;
      }

      var pixel = {
        type: "hb_video",
        divID: this.instreamID,
        zoneID: this.videoSlot.zid,
        bidder: bidWon ? bidWon.bidderCode : "",
        cpm: bidWon ? bidWon.cpm : 0
      };

      var handlerOnBidWon = function handlerOnBidWon(data) {
        if (data.adUnitCode !== bannerId) return;
        savePixel(pixel);
        utlis_vilog("[Instream] ___WIN___" + data.adUnitCode + "__" + data.bidderCode + "__" + data.cpm);
        utlis_vilog(data);

        if (plugins_v2_constants.bannerRequestMode === "dfp") {
          adDiv.style.cssText = 'width:' + data.width + 'px!important;height:' + data.height + 'px!important;margin:0 auto!important;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;';
        }

        skipControl();
        vlipb.offEvent('bidWon', handlerOnBidWon, bannerId);
      };

      vlipb.onEvent('bidWon', handlerOnBidWon, bannerId);

      var onBidWon = function onBidWon(adUnitCode) {
        if (plugins_v2_constants.adRenderAction.bidWon[adUnitCode]) {
          plugins_v2_constants.adRenderAction.bidWon[adUnitCode]();
          delete plugins_v2_constants.adRenderAction.bidWon[adUnitCode];
        }
      };

      plugins_v2_constants.adRenderAction.bidWon[bannerId] = function () {
        utlis_vilog("[Instream] ___WIN___ in SafeFrame");
        skipControl();
        savePixel(pixel);

        if (bidWon.amznbid) {
          var dataBid = {
            adId: "unknown from amz",
            bidder: "amz",
            creativeId: "unknown from amz"
          };
          pushInfoDebugOverlay(_this6.instreamID, dataBid);
        } else {
          pushInfoDebugOverlay(_this6.instreamID, bidWon);
        }
      };

      var renderAmazonBid = function renderAmazonBid() {
        utlis_vilog("[Instream] Render ad amz for " + bannerId);
        adDiv.style.cssText = 'width:' + _this6.bannerSlot.w + 'px!important;height:' + _this6.bannerSlot.h + 'px!important;margin:0 auto!important;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;';
        var ifrDoc = renderIframeForSmartBanner(adDiv, bannerId, _this6.bannerSlot.w, _this6.bannerSlot.h);
        apstag.renderImp(ifrDoc, bidWon.amzniid);
        skipControl();
        onBidWon(bannerId);
      };

      var renderHBBids = function renderHBBids() {
        utlis_vilog("[Instream] Render ad for " + bannerId);
        adDiv.style.cssText = 'width:' + (bidWon.width ? bidWon.width : _this6.bannerSlot.w) + 'px!important;height:' + (bidWon.height ? bidWon.height : _this6.bannerSlot.h) + 'px!important;margin:0 auto!important;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;';

        switch (bidWon.mediaType) {
          case "banner":
            if (plugins_v2_constants.noneSafeFrameBidder.indexOf(bidWon.bidderCode) !== -1) {
              vlipb.renderAd(renderIframeForSmartBanner(adDiv, bannerId, bidWon.width ? bidWon.width : _this6.bannerSlot.w, bidWon.height ? bidWon.height : _this6.bannerSlot.h), bidWon.adId);
            } else {
              if (plugins_v2_constants.safeFrame === 'on') {
                adDiv.innerHTML = '<div id="vli_sf_' + bannerId + '"></div>';
                initSafeFrameRender(onBidWon);
                renderSafeFrame('vli_sf_' + bannerId, {
                  width: bidWon.width ? bidWon.width : _this6.bannerSlot.w,
                  height: bidWon.height ? bidWon.height : _this6.bannerSlot.h
                }, bidWon.ad);
                skipControl();
              } else {
                vlipb.renderAd(renderIframeForSmartBanner(adDiv, bannerId, bidWon.width ? bidWon.width : _this6.bannerSlot.w, bidWon.height ? bidWon.height : _this6.bannerSlot.h), bidWon.adId);
              }
            }

            break;

          case "native":
            var adData = {
              adUnitCode: bannerId,
              adId: bidWon.adId,
              pubUrl: window.location.href,
              width: _this6.bannerSlot.w,
              height: _this6.bannerSlot.h
            };
            renderNativeAd(renderIframeForSmartBanner(adDiv, bannerId, bidWon.width ? bidWon.width : _this6.bannerSlot.w, bidWon.height ? bidWon.height : _this6.bannerSlot.h), adData);
            break;

          default:
            break;
        }

        pushInfoDebugOverlay(_this6.instreamID, bidWon);
      };

      plugins_v2_constants.adRenderAction.gAdRequestTimeout[bannerId] = function () {
        if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp') {
          notFillCallback && notFillCallback();
        }

        if (plugins_v2_constants.bannerRequestMode == 'dfp') {
          if (bidWon) {
            if (bidWon.amznbid) {
              renderAmazonBid();
              var dataBid = {
                adId: "unknown from amz",
                bidder: "amz",
                creativeId: "unknown from amz"
              };
              pushInfoDebugOverlay(_this6.instreamID, dataBid);
            } else {
              renderHBBids();
            }
          } else {
            notFillCallback && notFillCallback();
          }
        }
      };

      if ((plugins_v2_constants.bannerRequestMode == 'dfp' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp') && accTargetInstream) {
        if (plugins_v2_constants.gSlots[bannerId]) googletag.destroySlots([plugins_v2_constants.gSlots[bannerId]]);
        googletag.cmd.push(function () {
          if (bidWon && bidWon.mediaType === "native") {
            pixel.adType = "native";
            plugins_v2_constants.gSlots[bannerId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.display, bannerId), "fluid", bannerId).addService(googletag.pubads());
          } else {
            var adunit = JSON.parse(JSON.stringify(_this6.bannerSlot.adunit));
            plugins_v2_constants.gSlots[bannerId] = googletag.defineSlot(getDfpAdunitCode("BANNER", plugins_v2_constants.targetGoogleAccByAdFormat.display, bannerId), adunit.mediaTypes.banner.sizes, bannerId).addService(googletag.pubads());
          }

          googletag.pubads().addEventListener('slotRenderEnded', function (data) {
            if (data.slot.getSlotElementId() !== bannerId) return;

            if (data.isEmpty === true) {
              notFillCallback && notFillCallback();
            } else {
              if (data.isBackfill === true) {
                utlis_vilog("[Instream] Adx WIN " + bannerId);
                showOnAnalytics({
                  bidder: "Adx_instream_banner",
                  cpm: 0
                });
                skipControl();
                var dataBid = {
                  adId: "unknown from Adx",
                  bidder: "Adx",
                  creativeId: "unknown from Adx"
                };
                pushInfoDebugOverlay(_this6.instreamID, dataBid);
              } else {
                var hasAmazonBid = false;

                if (data.slot.getTargeting("isamzn").length === 1 && data.slot.getTargeting("isamzn")[0] === "1") {
                  renderAmazonBid();
                  hasAmazonBid = true;
                }

                if (data.slot.getTargeting("up_bid").indexOf("true") !== -1 && !hasAmazonBid) {
                  notFillCallback && notFillCallback();
                }
              }
            }

            if (!data.isEmpty && data.isBackfill && data.size !== null && [0, 1].indexOf(data.size[0]) === -1 && [0, 1].indexOf(data.size[1]) === -1) {
              adDiv.style.setProperty('width', data.size[0] + 'px', 'important');
              adDiv.style.setProperty('height', data.size[1] + 'px', 'important');
              adDiv.style.setProperty('position', 'absolute', 'important');
              adDiv.style.setProperty('top', '50%', 'important');
              adDiv.style.setProperty('left', '50%', 'important');
              adDiv.style.setProperty('transform', 'translate(-50%,-50%)', 'important');
            }
          });
        });
      }

      if (plugins_v2_constants.bannerRequestMode == 'dfp' && accTargetInstream) {
        googletag.cmd.push(function () {
          if (plugins_v2_constants.gSlots[bannerId]) {
            if (plugins_v2_constants.refererDomainID) {
              plugins_v2_constants.gSlots[bannerId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
            } else {
              plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adslot", _this6.videoSlot.zid);
            }

            plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adtype", "display");
            plugins_v2_constants.gSlots[bannerId].setTargeting("hb_width", _this6.bannerSlot.w);
            plugins_v2_constants.gSlots[bannerId].setTargeting("hb_height", _this6.bannerSlot.h);
            plugins_v2_constants.gSlots[bannerId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.display.accId);
            plugins_v2_constants.gSlots[bannerId].setTargeting("vli_sf", "1");

            if (bidWon && bidWon.amznbid) {
              plugins_v2_constants.gSlots[bannerId].setTargeting("isamzn", "1");
              plugins_v2_constants.gSlots[bannerId].setTargeting("hb_pb", bidWon.hb_pb);
            } else {
              if (bidWon) {
                adserverTargeting(bidWon, plugins_v2_constants.gSlots[bannerId]);
              }

              if (!bidWon) {
                if (plugins_v2_constants.sendTargeting === "on") {
                  plugins_v2_constants.gSlots[bannerId].setTargeting("up_bid", "true");
                  plugins_v2_constants.gSlots[bannerId].setTargeting("hb_pb", utlis_getCustomHBPB('banner', _this6.floorPriceBanner));
                }
              }
            }

            googletag.pubads().refresh([plugins_v2_constants.gSlots[bannerId]]);
          }
        });
      }

      if (plugins_v2_constants.bannerRequestMode == 'postbid' || plugins_v2_constants.bannerRequestMode == 'postbid_dfp' || !accTargetInstream) {
        if (bidWon) {
          if (bidWon.amznbid) {
            renderAmazonBid();
            var dataBid = {
              adId: "unknown from amz",
              bidder: "amz",
              creativeId: "unknown from amz"
            };
            pushInfoDebugOverlay(this.instreamID, dataBid);
          } else {
            renderHBBids();
          }
        } else {
          if (plugins_v2_constants.bannerRequestMode == 'postbid' || !accTargetInstream) {
            notFillCallback && notFillCallback();
          }

          if (plugins_v2_constants.bannerRequestMode == 'postbid_dfp' && accTargetInstream) {
            utlis_vilog("[Instream] Try get ad from Adx for: " + bannerId);
            googletag.cmd.push(function () {
              if (plugins_v2_constants.gSlots[bannerId]) {
                if (plugins_v2_constants.amazonEnabled) {
                  apstag.setDisplayBids([bannerId]);
                }

                if (plugins_v2_constants.refererDomainID) {
                  plugins_v2_constants.gSlots[bannerId].setTargeting("vli_ref", plugins_v2_constants.refererDomainID + "_" + plugins_v2_constants.domainID);
                } else {
                  plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adslot", _this6.videoSlot.zid);
                }

                plugins_v2_constants.gSlots[bannerId].setTargeting("vli_adtype", "display");
                plugins_v2_constants.gSlots[bannerId].setTargeting("vli_sf", "1");
                plugins_v2_constants.gSlots[bannerId].setTargeting("vli_acc", plugins_v2_constants.targetGoogleAccByAdFormat.display.accId);

                if (plugins_v2_constants.sendTargeting === "on") {
                  plugins_v2_constants.gSlots[bannerId].setTargeting("up_bid", "true");
                  plugins_v2_constants.gSlots[bannerId].setTargeting("hb_pb", utlis_getCustomHBPB('banner', _this6.floorPriceBanner));
                }

                googletag.pubads().refresh([plugins_v2_constants.gSlots[bannerId]]);
              }
            });
          }
        }
      }
    }
  }, {
    key: "instreamEndedAds",
    value: function instreamEndedAds() {
      plugins_v2_constants.isVideoRunning = false;
      plugins_v2_constants.isPlayedInstream = true;
      this.adContainer.style.cssText = "";
      this.adContainer.innerHTML = "";
      this.adContainer.classList.remove("running");

      if (plugins_v2_constants.instreamTag) {
        _eventFire("INSTREAM_ENDED_ADS");
      }

      if (plugins_v2_constants.instreamTag && plugins_v2_constants.funcPlayDiscovery) {
        plugins_v2_constants.funcPlayDiscovery && plugins_v2_constants.funcPlayDiscovery();
      }
    }
  }]);

  return VliInStreamLib;
}();


// CONCATENATED MODULE: ./src/plugins_v2/vlivideo/VliInStream.js







var VliInStream_VliInStream = /*#__PURE__*/function () {
  function VliInStream() {
    classCallCheck_default()(this, VliInStream);
  }

  createClass_default()(VliInStream, [{
    key: "init",
    value: function init(adSlot) {
      var adContainer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var slotCallbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var currentVolume = 1;
      var adslots = document.getElementsByClassName(plugins_v2_constants.adClass);
      if (adslots.length === 0) return;

      if (!adContainer) {
        for (var i = 0; i < adslots.length; i++) {
          if (adslots[i].getAttribute("data-ad-slot") !== adSlot || adslots[i].classList.contains("running")) {
            continue;
          }

          adContainer = adslots[i];
          break;
        }
      }

      if (!adContainer) return;

      if (adContainer.offsetParent === null) {
        utlis_vilog("[Instream] Ad container not visible");
        return;
      }

      if (plugins_v2_constants.VIdebug) {
        debug_createInfoOverlay(adContainer.getAttribute("data-ad-slot"));
      }

      var userConfigs = this.getVideoConfigs(adSlot, adContainer);
      var instrLib = new VliInStreamLib_VliInStreamLib(adSlot, userConfigs, adContainer, currentVolume, slotCallbacks);
      instrLib.init();
    }
  }, {
    key: "getVideoConfigs",
    value: function getVideoConfigs(adSlot, adContainer) {
      var defaultConfig = {
        responsiveMode: false,
        width: 640,
        height: 480,
        timeoutVideo: null,
        timeoutVast: null,
        loadingText: "Loading advertisement..",
        start: function start() {},
        complete: function complete() {},
        error: function error() {},
        hidden: function hidden() {}
      };
      cloneDefaultConfig({
        videoConfig: defaultConfig
      });
      if (!window[plugins_v2_constants.tagName].videoConfig) return defaultConfig;
      var config = {};

      for (var key in defaultConfig) {
        if (typeof window[plugins_v2_constants.tagName].videoConfig[key] === "undefined") {
          config[key] = defaultConfig[key];
        } else {
          config[key] = window[plugins_v2_constants.tagName].videoConfig[key];
        }

        ;
      }

      if (window[plugins_v2_constants.tagName].videoConfig[adSlot]) {
        for (var key in config) {
          if (typeof window[plugins_v2_constants.tagName].videoConfig[adSlot][key] !== "undefined") {
            config[key] = window[plugins_v2_constants.tagName].videoConfig[adSlot][key];
          }

          ;
        }
      }

      if (config.responsiveMode === true) {
        config.width = adContainer.parentNode.offsetWidth;
        config.height = adContainer.parentNode.offsetHeight;
      }

      return config;
    }
  }, {
    key: "render_container",
    value: function render_container() {
      var _this = this;

      var style = document.createElement("style");
      style.innerText = ".vi-instream--container{position: relative;display: inline-block;}";
      style.innerText += ".vi-instream--play-handler{cursor:pointer;z-index:9997;position: absolute;background-color: rgba(0, 0, 0, 0.3); top: 0;left: 0; width: 100%;height: 100%;}";
      style.innerText += ".vi-instream--play-button{width: 100px; height: 100px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); fill:#282828;}";
      style.innerText += ".vi-instream--play-button g{fill: #fff;}";
      document.head.appendChild(style);
      var containerElements = document.getElementsByClassName("vi-instream--container");

      for (var i = 0; i < containerElements.length; i++) {
        var adSlot = containerElements[i].getAttribute("data-ad-slot");
        if (!adSlot) continue;
        containerElements[i].insertAdjacentHTML('afterbegin', '<div class="vi-instream--play-handler" data-ad-slot="' + adSlot + '"><svg class="vi-instream--play-button" enable-background="new 0 0 58 58" version="1.1" viewBox="0 0 58 58" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><circle class="active-path" cx="29" cy="29" r="29" data-old_color="#EBBA16" data-original="#EBBA16"/><g><polygon class="" points="44 29 22 44 22 29.273 22 14" data-old_color="#FFFFFF" data-original="#FFFFFF"/><path class="" d="M22,45c-0.16,0-0.321-0.038-0.467-0.116C21.205,44.711,21,44.371,21,44V14   c0-0.371,0.205-0.711,0.533-0.884c0.328-0.174,0.724-0.15,1.031,0.058l22,15C44.836,28.36,45,28.669,45,29s-0.164,0.64-0.437,0.826   l-22,15C22.394,44.941,22.197,45,22,45z M23,15.893v26.215L42.225,29L23,15.893z" data-old_color="#FFFFFF" data-original="#FFFFFF"/></g></svg></div><div class="' + plugins_v2_constants.adClass + '" data-ad-slot="' + adSlot + '"></div>');
      }

      var play_handler_elems = document.getElementsByClassName("vi-instream--play-handler");

      for (var i = 0; i < play_handler_elems.length; i++) {
        play_handler_elems[i].addEventListener("click", function (event) {
          var curTarget = event.currentTarget;
          var adSlot = curTarget.getAttribute("data-ad-slot");

          _this.init(adSlot);

          curTarget.style.display = "none";
        });
      }
    }
  }]);

  return VliInStream;
}();


// CONCATENATED MODULE: ./src/xuan.js




















window[plugins_v2_constants.tagName] = window[plugins_v2_constants.tagName] || {};
window[plugins_v2_constants.tagName].Init = window[plugins_v2_constants.tagName].Init || [];
window[plugins_v2_constants.tagName].videoInit = window[plugins_v2_constants.tagName].videoInit || [];
window[plugins_v2_constants.tagName].displayInit = window[plugins_v2_constants.tagName].displayInit || [];
window[plugins_v2_constants.tagName].videoConfig = window[plugins_v2_constants.tagName].videoConfig || {};
window[plugins_v2_constants.tagName].outStreamConfig = window[plugins_v2_constants.tagName].outStreamConfig || {};
window[plugins_v2_constants.tagName].outstreamInlineConfig = window[plugins_v2_constants.tagName].outstreamInlineConfig || {};
window[plugins_v2_constants.tagName].videoDiscoverConfig = window[plugins_v2_constants.tagName].videoDiscoverConfig || {};
window[plugins_v2_constants.tagName].displayConfig = window[plugins_v2_constants.tagName].displayConfig || {};
window[plugins_v2_constants.tagName].smartBannerConfig = window[plugins_v2_constants.tagName].smartBannerConfig || {};
window[plugins_v2_constants.tagName].smartVideoConfig = window[plugins_v2_constants.tagName].smartVideoConfig || {};
window[plugins_v2_constants.tagName].topArticlesConfig = window[plugins_v2_constants.tagName].topArticlesConfig || {};
window[plugins_v2_constants.tagName].gdprShowConsentTool = window[plugins_v2_constants.tagName].gdprShowConsentTool === false ? false : true;
window[plugins_v2_constants.tagName].gdprShowConsentToolButton = window[plugins_v2_constants.tagName].gdprShowConsentToolButton === true ? true : false;
window[plugins_v2_constants.tagName].imaLanguage = window[plugins_v2_constants.tagName].imaLanguage || null;
window[plugins_v2_constants.tagName].videoSliderConfig = window[plugins_v2_constants.tagName].videoSliderConfig || {};
window[plugins_v2_constants.tagName].interstitialConfig = window[plugins_v2_constants.tagName].interstitialConfig || {};
window[plugins_v2_constants.tagName].enableGeoLocation = window[plugins_v2_constants.tagName].enableGeoLocation === true ? true : false;
var xuan_tagApi = plugins_v2_constants.tagConfig.tagApi; //public bien "tagApi" de su dung o plugin videoplayer

window.tagApi = xuan_tagApi;

var xuan_jsTag = function jsTag() {
  var vliInStream = new VliInStream_VliInStream();
  var SMBanner = new smartbanner();
  var viSlider = new outstream();
  var userValidate = new validate_user();
  var adSlideEnlarge = new imageslide();
  iframeSupportExtension();

  var _init = function init() {
    if (userValidate.validate() !== validate_user.isOk()) {
      utlis_vilog("User did not pass the test.");
      return;
    }

    userLocation();
    captureError(); //log redirect bid

    saveBidLog(); // Trac

    userTracking(); //Constants.refererDomainID tracking

    if (getUrlParam("vli_ref")) {
      setCookie("__vliref", getUrlParam("vli_ref"), 30);
    }

    if (getUrlParam("vli_ref_sid")) {
      setCookie("__vlirefsid", getUrlParam("vli_ref_sid"), 30);
    }

    plugins_v2_constants.refererSlotID = getCookie("__vlirefsid");
    plugins_v2_constants.refererDomainID = getCookie("__vliref");

    if (901 === plugins_v2_constants.domainID && mobileDetect() || plugins_v2_constants.domainID === 2061) {
      var scr = document.createElement("script");
      scr.setAttribute("data-ad-client", "ca-pub-3275635049946283");
      scr.setAttribute("async", "true");
      scr.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";
      document.head.appendChild(scr);
    }

    if (901 === plugins_v2_constants.domainID) {
      var c = document.createComment("TradeDoubler site verification 3204136");
      document.head.appendChild(c);
    } //tắt cho site gazetadita.al từ 16/10/2020


    if (3615 === plugins_v2_constants.domainID && "AL" === plugins_v2_constants.VIGeo) {
      return;
    } //tắt cho site dailymirror.lk, hitad.lk trong từ 24/04/2019


    if ((1266 === plugins_v2_constants.domainID || 3332 === plugins_v2_constants.domainID) && "LK" === plugins_v2_constants.VIGeo) {
      return;
    } //tắt cho site lankadeepa.lk, saaravita.lk trong 2 tháng từ 01/10/2019


    if ((986 === plugins_v2_constants.domainID || 697 === plugins_v2_constants.domainID) && "LK" === plugins_v2_constants.VIGeo) {
      return;
    }

    if (getUrlParam("__vliddf") == '' && window.location.hostname.search(plugins_v2_constants.domainName) === -1 && [4, 6].indexOf(plugins_v2_constants.domainID) === -1) {
      return;
    }

    if (getUrlParam("__vlidemo") !== '') {
      plugins_v2_constants.demandTest = true;
    }

    if (plugins_v2_constants.caPub) {
      var scri = document.createElement("script");
      scri.setAttribute("data-ad-client", plugins_v2_constants.caPub);
      scri.setAttribute("async", "true");
      scri.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";
      document.head.appendChild(scri);
    }

    if (plugins_v2_constants.convSiteID != 0 && plugins_v2_constants.convLID != 0) {
      var script_opts = document.createElement("script");
      script_opts.setAttribute("type", "text/javascript");
      script_opts.innerHTML = "var cnvr_launcher_options={lid:" + plugins_v2_constants.convLID + "};";
      document.head.appendChild(script_opts); // script links

      var script_links = document.createElement("script");
      script_links.setAttribute("type", "text/javascript");
      script_links.src = "https://secure.cdn.fastclick.net/js/cnvr-launcher/latest/launcher-stub.min.js";
      document.head.appendChild(script_links);
    }

    initCMP();
    start();
  },
      initCMP = function initCMP() {
    if (isInIframe()) return;
    if (!window[plugins_v2_constants.tagName].gdprShowConsentTool || !window.navigator.cookieEnabled) return;

    if (plugins_v2_constants.VIGeo && plugins_v2_constants.VIGeo === "US" && plugins_v2_constants.GeoState.indexOf("CA") !== -1) {
      if (window.__uspapi && typeof window.__uspapi === "function") return;
      utlis_vilog("CCPA Consent required for CA-" + plugins_v2_constants.VIGeo);
      loadCMP();
    }

    if (plugins_v2_constants.isUserInEU) {
      if (window.__tcfapi && typeof window.__tcfapi === "function") return;
      utlis_vilog("GDPR Consent required for geo: " + plugins_v2_constants.VIGeo);
      loadCMP();
    }
  },
      loadCMP = function loadCMP() {
    utlis_vilog("Loading CMP");
    /* Load Stub CMP */

    (function () {
      function makeStub() {
        var TCF_LOCATOR_NAME = '__tcfapiLocator';
        var queue = [];
        var win = window;
        var cmpFrame;

        function addFrame() {
          var doc = win.document;
          var otherCMP = !!win.frames[TCF_LOCATOR_NAME];

          if (!otherCMP) {
            if (doc.body) {
              var iframe = doc.createElement('iframe');
              iframe.style.cssText = 'display:none';
              iframe.name = TCF_LOCATOR_NAME;
              doc.body.appendChild(iframe);
            } else {
              setTimeout(addFrame, 5);
            }
          }

          return !otherCMP;
        }

        function tcfAPIHandler() {
          var gdprApplies;
          var args = arguments;

          if (!args.length) {
            return queue;
          } else if (args[0] === 'setGdprApplies') {
            if (args.length > 3 && args[2] === 2 && typeof args[3] === 'boolean') {
              gdprApplies = args[3];

              if (typeof args[2] === 'function') {
                args[2]('set', true);
              }
            }
          } else if (args[0] === 'ping') {
            var retr = {
              gdprApplies: gdprApplies,
              cmpLoaded: false,
              cmpStatus: 'stub'
            };

            if (typeof args[2] === 'function') {
              args[2](retr);
            }
          } else {
            queue.push(args);
          }
        }

        function postMessageEventHandler(event) {
          var msgIsString = typeof event.data === 'string';
          var json = {};

          try {
            if (msgIsString) {
              json = JSON.parse(event.data);
            } else {
              json = event.data;
            }
          } catch (ignore) {}

          var payload = json.__tcfapiCall;

          if (payload) {
            window.__tcfapi(payload.command, payload.version, function (retValue, success) {
              var returnMsg = {
                __tcfapiReturn: {
                  returnValue: retValue,
                  success: success,
                  callId: payload.callId
                }
              };

              if (msgIsString) {
                returnMsg = JSON.stringify(returnMsg);
              }

              event.source.postMessage(returnMsg, '*');
            }, payload.parameter);
          }
        }

        while (win) {
          try {
            if (win.frames[TCF_LOCATOR_NAME]) {
              cmpFrame = win;
              break;
            }
          } catch (ignore) {}

          if (win === window.top) {
            break;
          }

          win = win.parent;
        }

        if (!cmpFrame) {
          addFrame();
          win.__tcfapi = tcfAPIHandler;
          win.addEventListener('message', postMessageEventHandler, false);
        }
      }

      ;
      makeStub();
      var uspTries = 0;
      var uspTriesLimit = 3;

      var uspStubFunction = function uspStubFunction() {
        var arg = arguments;

        if (typeof_default()(window.__uspapi) !== uspStubFunction) {
          setTimeout(function () {
            if (typeof window.__uspapi !== 'undefined') {
              window.__uspapi.apply(window.__uspapi, arg);
            }
          }, 500);
        }
      };

      var checkIfUspIsReady = function checkIfUspIsReady() {
        uspTries++;

        if (window.__uspapi === uspStubFunction && uspTries < uspTriesLimit) {
          utlis_vilog('USP is not accessible');
        } else {
          clearInterval(uspInterval);
        }
      };

      if (typeof window.__uspapi === 'undefined') {
        window.__uspapi = uspStubFunction;
        var uspInterval = setInterval(checkIfUspIsReady, 6000);
      }
    })();

    if (typeof window.__uspapi === 'function') {
      var showDoNotSellBtn = function showDoNotSellBtn() {
        if (window[plugins_v2_constants.tagName].gdprShowConsentToolButton !== true) return;
        var div = document.createElement("div");
        div.style.cssText = "z-index: 2147483646;cursor:pointer;font-family: Arial, Helvetica, sans-serif; position: fixed; bottom: 10px; left: 10px; font-size: 14px; background-color: rgb(54, 139, 214); padding: 4px 6px; border-radius: 5px;";
        div.innerHTML = '<span style="white-space: nowrap; color: #fff;text-decoration: none;">Do Not Sell My Data</span>';

        div.onclick = function () {
          window.__uspapi('displayUspUi');
        };

        document.body.appendChild(div);
      };

      window.__uspapi('uspPing', 1, function (obj, status) {
        if (status && obj.mode.includes('USP') && obj.jurisdiction.includes(obj.location.toUpperCase())) {
          window.__uspapi("getUSPData", 1, function (uspData, success) {
            if (success) {
              showDoNotSellBtn();
            } else {
              var div = document.createElement("div");
              div.style.cssText = "z-index:2147483646;font-family: Arial, Helvetica, sans-serif;position: fixed; bottom: 0px; left: 0px; background-color: #414042; color: #fff; width: calc(100% - 40px); padding: 20px 20px 20px 20px; text-align: center; font-size: 14px;-webkit-transition: bottom .5s ease-in-out;-moz-transition: bottom .5s ease-in-out;-ms-transition: bottom .5s ease-in-out;-o-transition: bottom .5s ease-in-out;transition: bottom .5s ease-in-out;";
              var div1 = document.createElement("div");
              div1.innerHTML = 'We use cookies and other data collection technologies to provide the best experience for our customers. You may request that your data not be shared with third parties here: ' + "<a style=\"white-space: nowrap; color: #fff; font-weight: 600;text-decoration: none;\" href=\"#\" onclick=\"window.__uspapi('displayUspUi');\">Do Not Sell My Data</a>.";
              var div2 = document.createElement("div");
              div2.style.cssText = "line-height:1;width: 12px; height: 12px; position: absolute; right: 8px; top: 8px; border-radius: 1px; padding: 4px; cursor: pointer; box-shadow: rgba(0, 0, 0, 0.75) 0px 0px 1px 0px; background-color: rgb(104, 182, 49); border-color: rgb(104, 182, 49);";
              div2.innerHTML = '<svg style="vertical-align:unset!important" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 329.26933 329"><g><script class="active-path"/><path d="m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219.0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063.0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063.0-8.34375 8.339844-8.34375 21.824219.0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219.0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937.0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937.0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219.0-30.164063zm0 0" data-original="#000000" class="active-path" fill="#fff"/></g></svg>';

              div2.onclick = function () {
                div.style.bottom = "-" + div.clientHeight + "px";
                setTimeout(function () {
                  div.parentNode.removeChild(div);
                  showDoNotSellBtn();
                }, 500);
              };

              div.appendChild(div1);
              div.appendChild(div2);
              document.body.appendChild(div);

              window.__uspapi('setUspDftData', 1, function (obj, status) {
                if (!status) {
                  utlis_vilog("Error: USP string not updated!");
                }
              });
            }
          });
        }
      });
    }
    /* Init CMP */


    window._isUserInEU = plugins_v2_constants.isUserInEU;
    window._isUserInUS = plugins_v2_constants.VIGeo === "US" && plugins_v2_constants.GeoState.indexOf("CA") !== -1 ? true : false;

    (function () {
      (function () {
        var cmpScriptElement = document.createElement('script');
        var firstScript = document.getElementsByTagName('script')[0];
        cmpScriptElement.async = true;
        cmpScriptElement.type = 'text/javascript';
        var cmpVersion = 'https://' + plugins_v2_constants.staticDomain + '/plugins/cmptcf2/cmp-v2.0.1.js';
        cmpScriptElement.src = cmpVersion;
        firstScript.parentNode.insertBefore(cmpScriptElement, firstScript);
      })();

      (function () {
        var css = "" + ".qc-cmp-button.qc-cmp-secondary-button:hover {" + "   background-color: #368bd6 !important; " + "   border-color: transparent !important; " + "}" + ".qc-cmp-button.qc-cmp-secondary-button:hover { " + "   color: #ffffff !important; " + "}" + " .qc-cmp-button.qc-cmp-secondary-button { " + "   color: #368bd6 !important; " + "}" + ".qc-cmp-button.qc-cmp-secondary-button { " + "   background-color: #eee !important; " + "   border-color: transparent !important; " + "}" + ".qc-cmp2-persistent-link{bottom: 10px!important; left: 10px!important; border-radius: 3px!important; padding: 5px 8px!important;}";

        if (screen.width >= 768 && screen.height <= 400) {
          css = css + "#qc-cmp2-ui{height: 95%;grid-template-rows:none;}.qc-cmp2-consent-info p{max-height:20vh!important;}";
        }

        var stylesElement = document.createElement('style');
        var re = new RegExp('&quote;', 'g');
        css = css.replace(re, '"');

        if (stylesElement.styleSheet) {
          stylesElement.styleSheet.cssText = css;
        } else {
          stylesElement.appendChild(document.createTextNode(css));
        }

        var head = document.head || document.getElementsByTagName('head')[0];
        head.appendChild(stylesElement);
      })();

      var autoDetectedLanguage = 'en';

      function splitLang(lang) {
        return lang.length > 2 ? lang.split('-')[0] : lang;
      }

      ;

      function isSupported(lang) {
        var langs = ['en', 'fr', 'de', 'it', 'es', 'da', 'nl', 'el', 'hu', 'pt', 'ro', 'fi', 'pl', 'sk', 'sv', 'no', 'ru', 'bg', 'ca', 'cs', 'et', 'hr', 'lt', 'lv', 'mt', 'sl', 'tr', 'zh'];
        return langs.indexOf(lang) === -1 ? false : true;
      }

      ;

      if (isSupported(splitLang(document.documentElement.lang))) {
        // Language of CMP box
        autoDetectedLanguage = splitLang(document.documentElement.lang);
      } else if (isSupported(splitLang(navigator.language))) {
        autoDetectedLanguage = splitLang(navigator.language);
      }

      ;

      window.__tcfapi('init', 2, function () {}, {
        'premiumProperties': {},
        'coreUiLabels': {
          'persistentConsentLinkLabel': 'Privacy'
        },
        'premiumUiLabels': {
          'uspDnsTitle': 'Do Not Sell My Data',
          'uspDnsText': ["<p>We, and our partners, use technologies to process personal information, including IP addresses,pseudonymous identifiers associated with cookies, and in some cases mobile ad IDs.This information is processed to personalize content based on your interests, run and optimize marketing campaigns, measure the performance of ads and content, and derive insights about the audiences who engage with ads and content. This data is an integral part of how we operate our site, make revenue to support our staff, and generate relevant content for our audience. You can learn more about our data collection and use practices in our Privacy Policy.</p>"],
          'uspPrivacyPolicyLinkText': 'Privacy Policy',
          'uspDeleteDataLinkText': 'Data Deletion',
          'uspAccessDataLinkText': 'Data Access'
        },
        'theme': {},
        'coreConfig': {
          'initScreenBodyTextOption': 1,
          'consentScope': 'service',
          'lang_': autoDetectedLanguage,
          'defaultToggleValue': 'off',
          'displayUi': 'inEU',
          'displayPersistentConsentLink': window[plugins_v2_constants.tagName].gdprShowConsentToolButton === true ? true : false,
          'initScreenRejectButtonShowing': false,
          'publisherPurposeIds': [],
          'publisherPurposeLegitimateInterestIds': [],
          'publisherSpecialPurposesIds': [1, 2],
          'publisherFeaturesIds': [1, 2, 3],
          'publisherSpecialFeaturesIds': [],
          'stacks': [],
          'softOptInEnabled': false,
          'uiLayout': 'popup',
          'vendorListUpdateFreq': 30,
          'thirdPartyStorageType': 'iframe',
          'showSummaryView': true,
          'persistentConsentLinkLocation': 4,
          // 'cmpAccountId': 'rfM1MHMq1JnPf',
          'privacyMode': ["GDPR", "USP"],
          // 'hashCode': 'TiT/Ov7crl24gXx9waQTjw',
          'publisherCountryCode': 'GB',
          'publisherName': '',
          'vendorPurposeIds': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
          'vendorFeaturesIds': [1, 2, 3],
          'vendorPurposeLegitimateInterestIds': [2, 3, 4, 5, 6, 7, 8, 9, 10],
          'vendorSpecialFeaturesIds': [1, 2],
          'vendorSpecialPurposesIds': [1, 2],
          'googleEnabled': false,
          'uspVersion': 1,
          'uspJurisdiction': ["US"],
          'uspLspact': 'N',
          'uspPrivacyPolicyLink': '/ccpa/privacy.html',
          'uspDeleteDataLink': '/ccpa/delete-data.html',
          'uspAccessDataLink': '/ccpa/access-data.html',
          'suppressCcpaLinks': true
        }
      });
    })();

    window.__VLICMP = true;
  },
      start = function start() {
    viewportDetectInit();
    helpers();
    vsbChange();
    if (plugins_v2_constants.useBidFilter === "on") initBidFilter();
    loadScript('//' + plugins_v2_constants.staticDomain + plugins_v2_constants.prebidJs, 'prebid', loaded, function () {});
    plugins_v2_constants.totalLoad += 1;
    loadScript("//www.googletagservices.com/tag/js/gpt.js", 'googletag', loaded, function () {});

    if (plugins_v2_constants.instreamSlot || plugins_v2_constants.outstreamSlot || plugins_v2_constants.topArticle) {
      plugins_v2_constants.totalLoad += 2;
      loadScript('//' + plugins_v2_constants.staticDomain + '/plugins/vlPlayer/viPlayer_v47.min.js', false, loaded, function () {});
      loadScript("//imasdk.googleapis.com/js/sdkloader/ima3.js", false, function () {
        loaded();
        setImaLanguage();
      }, function () {});
    }

    if (plugins_v2_constants.safeFrame === 'on' && !(window['$sf'] !== undefined && window['$sf'] != null && window['$sf']['host'] != null)) {
      plugins_v2_constants.totalLoad += 1;
      loadScript('//' + plugins_v2_constants.staticDomain + '/plugins/safeframe/src/js/sf_host.min.js', false, loaded, function () {});
    }

    if (plugins_v2_constants.amazonEnabled) {
      plugins_v2_constants.totalLoad += 1;
      loadScript("//c.amazon-adsystem.com/aax2/apstag.js", 'apstag', loaded, function () {});
    }
  },
      setImaLanguage = function setImaLanguage() {
    if (window[plugins_v2_constants.tagName].imaLanguage) google.ima.settings.setLocale(window[plugins_v2_constants.tagName].imaLanguage);
  },
      loaded = function loaded() {
    plugins_v2_constants.inLoading++;

    if (plugins_v2_constants.inLoading == plugins_v2_constants.totalLoad) {
      totalLoaded();
    }
  },
      totalLoaded = function totalLoaded() {
    createPixelEl();
    initApsTag();
    addGlobalEvents();
    var gAdRequestTimeout = {};
    googletag.cmd = googletag.cmd || [];
    googletag.cmd.push(function () {
      // googletag.pubads().disableInitialLoad();
      googletag.pubads().addEventListener('slotRequested', function (event) {
        var adCode = event.slot.getSlotElementId();
        gAdRequestTimeout[adCode] = setTimeout(function () {
          utlis_vilog("DFP request timeout on slotId ".concat(adCode));

          if (plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode]) {
            plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode]();
            delete plugins_v2_constants.adRenderAction.gAdRequestTimeout[adCode];
          }
        }, 2000);
      });
      googletag.pubads().addEventListener('slotResponseReceived', function (event) {
        var adCode = event.slot.getSlotElementId();
        clearTimeout(gAdRequestTimeout[adCode]);
      });
      googletag.pubads().setTargeting("hb_domain", plugins_v2_constants.domainName);
      googletag.pubads().enableSingleRequest();
      googletag.enableServices();
    });
    prebidConfig();

    _eventFire("INIT_SCRIPT");

    initSafeFrameRender(function () {});
    initAdTag();
    initAdTag('display');
    initAdTag('instream');
    adSlideEnlarge.init();

    if (mobileDetect() && window[plugins_v2_constants.tagName].smartBannerConfig.shiftLayout != undefined && window[plugins_v2_constants.tagName].smartBannerConfig.shiftLayout === false) {
      utlis_vilog("[SM] Not shift layout");

      var initSMBanner = function initSMBanner() {
        SMBanner.init();
        window.removeEventListener("scroll", initSMBanner);
      };

      window.addEventListener("scroll", initSMBanner);
    } else {
      utlis_vilog("[SM] Shift layout");
      SMBanner.init();
    }

    if (plugins_v2_constants.instreamSlot && plugins_v2_constants.dfpApproved === "on") {
      var baseClass = document.getElementsByClassName(plugins_v2_constants.adClass);

      if (baseClass) {
        Array.from(baseClass).forEach(function (elem, index) {
          if (elem && plugins_v2_constants.instreamSlot[elem.getAttribute("data-ad-slot")] && plugins_v2_constants.instreamSlot[elem.getAttribute("data-ad-slot")].type === "normal") {
            plugins_v2_constants.instreamTag = true;
          }
        });
      }
    }

    if (plugins_v2_constants.outstreamSlot) {
      if (window[plugins_v2_constants.tagName].outStreamConfig.version && window[plugins_v2_constants.tagName].outStreamConfig.version === "v1") {
        window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead = true;
      }

      if (window[plugins_v2_constants.tagName].outStreamConfig.instantLoad !== false) {
        viSlider.init();
      }
    }

    if (plugins_v2_constants.interstitial) {
      new interstitial().init();
    }

    instream.render_container(); // if (Constants.adHesionSlot)
    //     adHesion.init();

    logTotalSlot(); // logSubdomain();
  },
      initBidFilter = function initBidFilter() {
    var js = "window._BidFilter={site_id:1046,pbjsKey:'vlipb',checkAudio:false};";
    var oScript = document.createElement("script");
    var oScriptText = document.createTextNode(js);
    oScript.appendChild(oScriptText);
    document.head.appendChild(oScript);
    var script = document.createElement('script');
    script.src = "//cdn.bidfilter.com/bidfilter.js";
    document.head.appendChild(script);
  },
      initApsTag = function initApsTag() {
    if (plugins_v2_constants.amazonEnabled) {
      var UAMConfig = {
        pubID: '9cf0c4f1-7630-476b-9141-f4472e005192',
        adServer: 'googletag',
        bidTimeout: plugins_v2_constants.prebidTimeout
      };

      if (plugins_v2_constants.uId.toString() != "0") {
        UAMConfig.schain = {
          complete: 1,
          ver: '1.0',
          nodes: [{
            asi: "interdogmedia.com",
            sid: plugins_v2_constants.uId.toString(),
            hp: 1
          }]
        };
      }

      apstag.init(UAMConfig);
    }
  },
      onAdClicked = function onAdClicked(adFormat) {
    var postBody = {
      "x": "x"
    };
    var device = mobileDetect() ? "m" : "pc";
    ajaxRequest(plugins_v2_constants.logsEngineUrl + "/?type=acl&dId=" + plugins_v2_constants.domainID + "&f=" + adFormat + "&de=" + device + "&os=" + getMobileOperatingSystem(), "POST", "text", 2000, false, JSON.stringify(postBody), function () {}, function () {});
  },
      addGlobalEvents = function addGlobalEvents() {
    _addEventListener("VIDEO_SLIDER_AD_CLICKED", function () {
      onAdClicked("video_slider");
      calculatorFrequencyClickAds();
    });

    _addEventListener("VIDEO_DISCOVERY_AD_CLICKED", function () {
      onAdClicked("video_discovery");
      calculatorFrequencyClickAds();
    });

    _addEventListener("INSTREAM_ENDED_ADS", function () {
      viSlider.instreamEnded = true;
      viSlider.getAds();
    });

    _addEventListener("VIDEO_SLIDER_RE_INITIALIZE", function () {
      plugins_v2_constants.isVideoRunning = false;

      if (window[plugins_v2_constants.tagName].outStreamConfig.version && window[plugins_v2_constants.tagName].outStreamConfig.version === "v1") {
        window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead = true;
      }

      viSlider.init();

      if (window.viSplide) {
        setTimeout(function () {
          window.viSplide.mount();
        }, 1500);
      }
    });

    _addEventListener("INCREASE_DISTANCE_BOTTOM_STICKY_VIDEO", function () {
      try {
        viSlider.increaseBottomStickyAds();
        plugins_v2_constants.distanceBottomDiscovery.increase && plugins_v2_constants.distanceBottomDiscovery.increase();
      } catch (error) {
        utlis_vilog(error);
      }
    });

    _addEventListener("REDUCTION_DISTANCE_BOTTOM_STICKY_VIDEO", function () {
      try {
        viSlider.reductionBottomStickyAds();
        plugins_v2_constants.distanceBottomDiscovery.reduction && plugins_v2_constants.distanceBottomDiscovery.reduction();
      } catch (error) {
        utlis_vilog(error);
      }
    }); // Listen event of Window => intervention, HeavyAdIntervention


    if (window.addEventListener) {
      window.addEventListener("message", function (event) {
        event.isObserver = true;
        handlerReport(event);
      }, false);
    } else {
      window.attachEvent("onmessage", function (event) {
        event.isObserver = true;
        handlerReport(event);
      });
    }
  },
      prebidConfig = function prebidConfig() {
    var vlipbConfig = {
      s2sConfig: {
        accountId: plugins_v2_constants.accountId,
        enabled: true,
        bidders: [],
        timeout: plugins_v2_constants.prebidTimeout,
        adapter: 'prebidServer',
        endpoint: 'https://prebid.adnxs.com/pbs/v1/openrtb2/auction',
        syncEndpoint: 'https://prebid.adnxs.com/pbs/v1/cookie_sync'
      },
      rubicon: {
        singleRequest: true
      },
      cache: {
        url: 'https://pbc.vliplatform.com/cache'
      },
      pubcid: {
        expInterval: 525600
      },
      userSync: plugins_v2_constants.userSyncConfig,
      //debug: true,
      mediaTypePriceGranularity: {
        video: plugins_v2_constants.videoPriceGranularity,
        banner: plugins_v2_constants.bannerPriceGranularity
      },
      currency: {
        "adServerCurrency": "USD",
        "granularityMultiplier": 1,
        "defaultRates": {
          "RUB": {
            "USD": 0.01533
          }
        }
      },
      ortb2: plugins_v2_constants.ortb2
    };

    if (plugins_v2_constants.VIGeo) {
      if (plugins_v2_constants.isUserInEU) {
        vlipbConfig.consentManagement = {
          gdpr: {
            cmpApi: 'iab',
            defaultGdprScope: true,
            timeout: 8000
          }
        };
      } else if (plugins_v2_constants.VIGeo === "US" && plugins_v2_constants.GeoState.indexOf("CA") !== -1) {
        vlipbConfig.consentManagement = {
          usp: {
            cmpApi: 'iab',
            timeout: 3000
          }
        };
      }
    }

    var bidderSettings = {
      standard: {
        adserverTargeting: [{
          key: "hb_bidder",
          val: function val(bidResponse) {
            return bidResponse.bidderCode;
          }
        }, {
          key: "hb_adid",
          val: function val(bidResponse) {
            return bidResponse.adId;
          }
        }, {
          key: "hb_pb",
          val: function val(bidResponse) {
            return utlis_getCustomHBPB(bidResponse.mediaType, bidResponse.cpm, vlipbConfig.currency.granularityMultiplier);
          }
        }, {
          key: 'hb_size',
          val: function val(bidResponse) {
            return getSizeCustomHBSize(bidResponse); // return bidResponse.size;
          }
        }, {
          key: 'hb_source',
          val: function val(bidResponse) {
            return bidResponse.source;
          }
        }, {
          key: 'hb_format',
          val: function val(bidResponse) {
            return bidResponse.mediaType;
          }
        }, {
          key: 'hb_domain',
          val: function val() {
            return plugins_v2_constants.domainName;
          }
        }]
      }
    };

    if (plugins_v2_constants.bidAdjustment) {
      var _loop = function _loop(i) {
        if (plugins_v2_constants.bidAdjustment.hasOwnProperty(i)) {
          bidderSettings[i] = {
            bidCpmAdjustment: function bidCpmAdjustment(bidCpm, bid) {
              return bidCpm * plugins_v2_constants.bidAdjustment[i];
            }
          };
        }
      };

      for (var i in plugins_v2_constants.bidAdjustment) {
        _loop(i);
      }
    }

    vlipb.que.push(function () {
      vlipb.setConfig(vlipbConfig);

      if (plugins_v2_constants.uId.toString() != "0") {
        vlipb.setBidderConfig({
          "bidders": ['rubicon', 'pubmatic', 'sonobi', 'appnexus', 'gumgum', 'oneVideo', '33across', 'eplanning', 'onetag'],
          "config": {
            "schain": {
              "validation": "strict",
              "config": {
                "ver": "1.0",
                "complete": 1,
                "nodes": [{
                  "asi": "interdogmedia.com",
                  "sid": plugins_v2_constants.uId.toString(),
                  "hp": 1
                }]
              }
            }
          }
        });
        vlipb.setBidderConfig({
          "bidders": ['pulsepoint'],
          "config": {
            "schain": {
              "validation": "strict",
              "config": {
                "ver": "1.0",
                "complete": 1,
                "nodes": [{
                  "asi": "h12ukltd.com",
                  "sid": plugins_v2_constants.uId.toString(),
                  "hp": 1
                }]
              }
            }
          }
        });
        vlipb.setBidderConfig({
          "bidders": ['valueimpression', 'quantumdex', 'spotx', 'ix'],
          "config": {
            "schain": {
              "validation": "strict",
              "config": {
                "ver": "1.0",
                "complete": 1,
                "nodes": [{
                  "asi": "valueimpression.com",
                  "sid": plugins_v2_constants.uId.toString(),
                  "hp": 1
                }]
              }
            }
          }
        });
        vlipb.setBidderConfig({
          "bidders": ['openx'],
          "config": {
            "schain": {
              "validation": "strict",
              "config": {
                "ver": "1.0",
                "complete": 1,
                "nodes": [{
                  "asi": "apacdex.com",
                  "sid": plugins_v2_constants.uId.toString(),
                  "hp": 1
                }]
              }
            }
          }
        });
      }

      vlipb.bidderSettings = bidderSettings;
    });
  },
      initAdTag = function initAdTag(type) {
    var adInit = null;

    switch (type) {
      case "display":
        adInit = window[plugins_v2_constants.tagName].displayInit;
        break;

      case "instream":
        adInit = window[plugins_v2_constants.tagName].videoInit;
        break;

      default:
        adInit = window[plugins_v2_constants.tagName].Init;
        break;
    }

    adInit.push = function (a) {
      Array.prototype.push.apply(this, arguments);
      executeAdCmd(adInit);
    };

    executeAdCmd(adInit);
  },
      executeAdCmd = function executeAdCmd(adInit) {
    for (var k = 0; k < adInit.length; k++) {
      adInit[k]();
    }

    adInit.length = 0;
  },
      // refresh = function (adSlot) {
  //     if (!Constants.displaySlot) return;
  //     var adUnitCodes = getDisplayAdCode(adSlot);
  //     if (!adUnitCodes) return;
  //     refreshDisplayAds(adUnitCodes);
  // },
  videoPlayer = function videoPlayer() {
    var loadAds = function loadAds(requestData) {
      var adSlot = requestData.config.adSlot;
      var currentVolume = !requestData.player.muted ? requestData.player.volume : 0;
      var userConfigs = {
        responsiveMode: false,
        width: 640,
        height: 480,
        loadingText: "Loading advertisement..",
        complete: function complete() {},
        error: function error() {
          requestData.callback && requestData.callback();
        },
        hidden: function hidden() {
          requestData.callback && requestData.callback();
        },
        adsVolumeChange: function adsVolumeChange(currentAdsVolumn) {
          requestData.player.volume = currentAdsVolumn;
        }
      };
      var slotCallbacks = {};
      var adContainer = requestData.elements.container;
      var instrLib = instream_instreamLib(adSlot, userConfigs, adContainer, currentVolume, slotCallbacks);
      instrLib.init();
    };

    return {
      loadAds: loadAds
    };
  },
      logTotalSlot = function logTotalSlot() {
    var d = new Date();
    var h = d.getHours();
    var m = d.getMinutes();

    if (h != 9 && m != 0 || h != 21 && m != 0) {
      utlis_vilog("Not the time to log Total Slots");
      return;
    }

    var totalSlot = {};
    var allAdSlotElems = document.getElementsByClassName(plugins_v2_constants.adClass);

    for (var i = 0; i < allAdSlotElems.length; i++) {
      var adSlot = allAdSlotElems[i].getAttribute("data-ad-slot"); //check display

      var dpSlot = plugins_v2_constants.displaySlot && plugins_v2_constants.displaySlot[adSlot];
      if (dpSlot) totalSlot[dpSlot.w + '_' + dpSlot.h] = totalSlot[dpSlot.w + '_' + dpSlot.h] ? totalSlot[dpSlot.w + '_' + dpSlot.h] + 1 : 1; //check instream & video discovery

      var instrSlot = plugins_v2_constants.instreamSlot && plugins_v2_constants.instreamSlot[adSlot];

      if (instrSlot) {
        if (instrSlot.type === "inbanner") totalSlot["video_discovery"] = totalSlot["video_discovery"] ? totalSlot["video_discovery"] + 1 : 1;
        if (instrSlot.type === "normal") totalSlot["instream"] = totalSlot["instream"] ? totalSlot["instream"] + 1 : 1;
      } //check top articles


      var topartSlot = plugins_v2_constants.topArticle && plugins_v2_constants.topArticle[adSlot];
      if (topartSlot) totalSlot["top_articles"] = totalSlot["top_articles"] ? totalSlot["top_articles"] + 1 : 1; //check outstream inline

      var outstrSlot = plugins_v2_constants.outstreamSlot && plugins_v2_constants.outstreamSlot[adSlot];
      if (outstrSlot) totalSlot["outstream_inline"] = totalSlot["outstream_inline"] ? totalSlot["outstream_inline"] + 1 : 1;
    }

    var str = "?d=" + plugins_v2_constants.domainID;
    str += "&url=" + encodeURIComponent(window.location.href);
    str += "&slots=" + encodeURIComponent(JSON.stringify(totalSlot));
    if (str === "") return;
    utlis_vilog("Total slots log param: " + str);
    var img = document.createElement('img');
    img.width = 0;
    img.height = 0;
    img.style.cssText = "display:none";
    img.src = '//logs.' + plugins_v2_constants.rootDomain + '/slots/' + str;
    elementReady("#" + plugins_v2_constants.pixelID, function () {
      var vliPixel = document.getElementById(plugins_v2_constants.pixelID);
      vliPixel.appendChild(img);
    });
  },
      logSubdomain = function logSubdomain() {
    utlis_vilog("Request log subdomain");
    var img = document.createElement('img');
    img.width = 0;
    img.height = 0;
    img.style.cssText = "display:none";
    img.src = '//logs.' + plugins_v2_constants.rootDomain + '/sub/?d=' + plugins_v2_constants.domainName + '&h=' + window.location.hostname;
    elementReady("#" + plugins_v2_constants.pixelID, function () {
      var vliPixel = document.getElementById(plugins_v2_constants.pixelID);
      vliPixel.appendChild(img);
    });
  },
      helpers = function helpers() {
    Number.isInteger = Number.isInteger || function (value) {
      return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
    };

    if (!Array.prototype.indexOf) Array.prototype.indexOf = function (Object, max, min) {
      "use strict";

      return function indexOf(member, fromIndex) {
        if (this === null || this === undefined) throw TypeError("Array.prototype.indexOf called on null or undefined");
        var that = Object(this),
            Len = that.length >>> 0,
            i = min(fromIndex | 0, Len);
        if (i < 0) i = max(0, Len + i);else if (i >= Len) return -1;

        if (member === void 0) {
          for (; i !== Len; ++i) {
            if (that[i] === void 0 && i in that) return i;
          } // undefined

        } else if (member !== member) {
          for (; i !== Len; ++i) {
            if (that[i] !== that[i]) return i;
          } // NaN

        } else for (; i !== Len; ++i) {
          if (that[i] === member) return i;
        } // all else


        return -1; // if the value was not found, then return -1
      };
    }(Object, Math.max, Math.min);

    if (!String.vliformat) {
      String.vliformat = function (format) {
        var args = Array.prototype.slice.call(arguments, 1);
        return format.replace(/{(\d+)}/g, function (match, number) {
          return typeof args[number] != 'undefined' ? args[number] : match;
        });
      };
    }
  };

  var _nativeAd = function nativeAd(options) {
    if (plugins_v2_constants.IPBlocked !== plugins_v2_constants.GoodIP) {
      utlis_vilog("[NativeAd] Inventory Blocked");
      return;
    }

    if (!options || typeof_default()(options) !== "object") return;
    if (!"adSlot" in options) return;
    if (!plugins_v2_constants.nativeSlot) return;
    if (!plugins_v2_constants.nativeSlot[options.adSlot]) return;
    var nativeSlot = plugins_v2_constants.nativeSlot[options.adSlot];
    var adElements = document.getElementsByClassName(plugins_v2_constants.adClass);
    if (adElements.length == 0) return;
    var matchElements = null;
    var c = 0;

    for (var i = 0; i < adElements.length; i++) {
      var element = adElements[i];
      if (element.dataset.adSlot != options.adSlot) continue;

      if (element.id) {
        c++;
        continue;
      }

      matchElements = element;
      break;
    }

    if (!matchElements) return;
    var opts = JSON.parse(JSON.stringify(options));
    c++;
    var adID = opts.adSlot + "_" + c;
    matchElements.id = adID;
    opts.zID = nativeSlot.zid;
    opts.dID = plugins_v2_constants.domainID;
    opts.staticDomain = plugins_v2_constants.staticDomain;
    opts.element_id = adID;
    loadScript("//" + plugins_v2_constants.staticDomain + "/plugins/nativeAd/nativeAd.js", false, function () {
      NativeAd(opts);
    }, function () {});
  };

  var createElementChildAd = function createElementChildAd(adSlot) {
    var element = document.createElement("div");
    element.className = plugins_v2_constants.adClass;
    element.setAttribute("data-ad-slot", adSlot);
    return element;
  };

  var handlerAdSlot = function handlerAdSlot(objSlot) {
    if (objSlot.isEmpty === true) {
      return;
    }

    var typeAd = objSlot.type ? objSlot.type : null;
    var sizeAd = objSlot.size ? objSlot.size : null;
    var adDivParent = document.getElementsByClassName("vliadelement");
    Array.from(adDivParent).forEach(function (item, index) {
      if (item.getAttribute("data-ad-used") != null || !item.getAttribute("data-ad-type")) {
        return;
      }

      if (typeAd != item.getAttribute("data-ad-type")) {
        return;
      }

      utlis_vilog(item.getAttribute("data-ad-type"));

      switch (item.getAttribute("data-ad-type")) {
        case "banner":
          if (!isObjEmpty(plugins_v2_constants.displaySlot)) {
            for (var _i = 0, _Object$entries = Object.entries(plugins_v2_constants.displaySlot); _i < _Object$entries.length; _i++) {
              var _Object$entries$_i = slicedToArray_default()(_Object$entries[_i], 2),
                  adSlot = _Object$entries$_i[0],
                  adSlotObject = _Object$entries$_i[1];

              if (adSlotObject) {
                var _sizeAdSlot = adSlotObject.w + 'x' + adSlotObject.h;

                if (sizeAd == _sizeAdSlot) {
                  var element = createElementChildAd(adSlot);
                  item.appendChild(element);
                  item.setAttribute("data-ad-used", "true");
                  display_displayBanner(adSlot);
                  sizeAd = null;
                }
              }
            }
          }

          break;

        case "video-discovery":
          if (!isObjEmpty(plugins_v2_constants.instreamSlot) && plugins_v2_constants.IPBlocked === plugins_v2_constants.GoodIP) {
            for (var _i2 = 0, _Object$entries2 = Object.entries(plugins_v2_constants.instreamSlot); _i2 < _Object$entries2.length; _i2++) {
              var _Object$entries2$_i = slicedToArray_default()(_Object$entries2[_i2], 2),
                  _adSlot = _Object$entries2$_i[0],
                  _adSlotObject = _Object$entries2$_i[1];

              if (_adSlotObject && _adSlotObject.type === "inbanner") {
                var element = createElementChildAd(_adSlot);
                item.appendChild(element);
                item.setAttribute("data-ad-used", "true");
                new videoDiscovery().init(_adSlot);
                break;
              }
            }
          }

          break;

        case "instream":
          if (!isObjEmpty(plugins_v2_constants.instreamSlot) && plugins_v2_constants.IPBlocked === plugins_v2_constants.GoodIP) {
            for (var _i3 = 0, _Object$entries3 = Object.entries(plugins_v2_constants.instreamSlot); _i3 < _Object$entries3.length; _i3++) {
              var _Object$entries3$_i = slicedToArray_default()(_Object$entries3[_i3], 2),
                  _adSlot2 = _Object$entries3$_i[0],
                  _adSlotObject2 = _Object$entries3$_i[1];

              if (_adSlotObject2 && _adSlotObject2.type === "normal") {
                var element = createElementChildAd(_adSlot2);
                item.appendChild(element);
                item.setAttribute("data-ad-used", "true");
                instream.init(_adSlot2);
                break;
              }
            }
          }

          break;

        case "top-articles":
          if (!isObjEmpty(plugins_v2_constants.topArticle) && plugins_v2_constants.IPBlocked === plugins_v2_constants.GoodIP) {
            for (var _i4 = 0, _Object$entries4 = Object.entries(plugins_v2_constants.topArticle); _i4 < _Object$entries4.length; _i4++) {
              var _Object$entries4$_i = slicedToArray_default()(_Object$entries4[_i4], 2),
                  _adSlot3 = _Object$entries4$_i[0],
                  _adSlotObject3 = _Object$entries4$_i[1];

              if (_adSlotObject3) {
                var element = createElementChildAd(_adSlot3);
                item.appendChild(element);
                item.setAttribute("data-ad-used", "true");
                topArticles().init(_adSlot3);
                break;
              }
            }
          }

          break;
      }
    });
  };

  return {
    assignConfig: assignConfig,
    toggleDebug: function toggleDebug() {
      showDebugAd();
    },
    setTypeRequest: function setTypeRequest(type) {
      setJsTypeRequest(type);
    },
    showAd: function showAd(objSlot) {
      handlerAdSlot(objSlot);
      saveInfoSlots(objSlot);
    },
    getConst: function getConst(value) {
      console.log(JSON.parse(JSON.stringify(plugins_v2_constants[value])));
    },
    getInfo: function getInfo(value) {
      return plugins_v2_constants.baseConstants[value];
    },
    init: function init() {
      _init();

      try {
        var nameSaveInfo = 'vi_SaveInfoSlots';
        var typeInfo = getInfoSlots();

        if (typeInfo) {
          var saveInfo = sessionStorage.getItem(nameSaveInfo);

          if (saveInfo === null) {
            saveInfo = {};
          } else {
            saveInfo = JSON.parse(saveInfo);
            saveInfo[typeInfo] = [];
          }

          sessionStorage.setItem(nameSaveInfo, JSON.stringify(saveInfo));
        }
      } catch (error) {
        console.log(error);
      }
    },
    display: function display(adSlot) {
      if (plugins_v2_constants.jsVersion === "v1") {
        display_displayBanner(adSlot); // if (Constants.adloadType === "lazy_load") {
        //     lazyloadDisplay(adSlot);
        // } else {
        //     display(adSlot);
        // }
      }

      saveInfoSlots(adSlot);
    },
    nativeAd: function nativeAd(options) {
      _nativeAd(options);
    },
    ShowBanner: function ShowBanner(adSlot) {// if (Constants.jsVersion === "v2") single_display.init(adSlot);
      // saveInfoSlots(adSlot);
    },
    refresh: function refresh(adSlot) {
      // refresh(adSlot);
      saveInfoSlots(adSlot);
    },
    startPreRoll: function startPreRoll(adSlot) {
      var adContainer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var slotCallbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      instream.init(adSlot, adContainer, slotCallbacks);
      saveInfoSlots(adSlot);
    },
    initInstreamBanner: function initInstreamBanner(adSlot) {
      videoDiscovery().init(adSlot);
      saveInfoSlots(adSlot);
    },
    VideoDiscovery: function VideoDiscovery(adSlot) {
      videoDiscovery().init(adSlot);
      saveInfoSlots(adSlot);
    },
    OutstreamInline: function OutstreamInline(adSlot) {
      new outstream_inline(adSlot).init();
      saveInfoSlots(adSlot);
    },
    OutstreamSlider: function OutstreamSlider() {
      if (window[plugins_v2_constants.tagName].outStreamConfig.version && window[plugins_v2_constants.tagName].outStreamConfig.version === "v1") {
        window[plugins_v2_constants.tagName].outStreamConfig.disableAdToHead = true;
      }

      viSlider.init();
    },
    TopArticles: function TopArticles(adSlot) {
      topArticles().init(adSlot);
      saveInfoSlots(adSlot);
    },
    pubLinkAPI: function pubLinkAPI(eString) {
      // Email || hashed Email 
      sendEventPubLink(eString);
    },
    enableBidTest: function enableBidTest() {
      if (typeof Storage === 'undefined') {
        utlis_vilog("Failed to enable bid test. Try append bidtest=true to URL");
        return;
      }

      sessionStorage.setItem("bidtest", "true");
      window.location.reload();
    },
    VideoPlayer: videoPlayer,
    SmartBanner: {
      pause: SMBanner.pause,
      "continue": SMBanner["continue"]
    },
    controlPlayerDiscovery: plugins_v2_constants.controlDiscovery,
    initVliInStream: function initVliInStream(adSlot) {
      var adContainer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var slotCallbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      vliInStream.init(adSlot, adContainer, slotCallbacks);
      saveInfoSlots(adSlot);
    },
    initVliTopArticles: function initVliTopArticles(adSlot) {
      new VliTopArticles_VliTopArticles().init(adSlot);
      saveInfoSlots(adSlot);
    },
    initVliVideoDiscovery: function initVliVideoDiscovery(adSlot) {
      new VliVideoDiscovery_VliVideoDiscovery().init(adSlot);
      saveInfoSlots(adSlot);
    },
    initVliVideoContainer: function initVliVideoContainer(config) {
      var videoContainer = document.querySelector("#videocontainer");
      var videoConfig = {
        adSlot: videoContainer,
        config: config // config: Constants.instreamSlot[videoContainer.dataset.adSlot].vid
        // config: Constants.outstreamSlot["vi_413427"].vid
        // config: Constants.topArticle["vi_48378"].vid

      };
      var vliVideo = new VliVideoContainer_VliVideoContainer(videoConfig);
    }
  };
};

if (typeof window[xuan_tagApi] === "undefined") {
  window[xuan_tagApi] = xuan_jsTag();
  window[xuan_tagApi].init();
}

/***/ })
/******/ ]);
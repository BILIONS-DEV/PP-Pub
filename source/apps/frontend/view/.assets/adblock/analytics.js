(()=>{var t="#formFilterAdblock",e="/adblock/analytics";[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new bootstrap.Tooltip(t)}));function a(){var e=$(t),a=e.find(".submit");a.text("Loading...");var o=e.serializeObject();delete o.date_syncfusion,o.inventory_id||(o.inventory_id=0),o.inventory_id=parseInt(o.inventory_id),console.log(o),n(o),$.ajax({type:"POST",url:"/adblock/analytics",data:o}).done((function(t){var e;a.text("Run"),console.log(t),e=t.AdblockAnalytics,Highcharts.chart("highchart-adblock",{chart:{type:"column"},title:{text:""},subtitle:{text:"The total page views with adblock plugins detected"},xAxis:{categories:e.date,crosshair:!0},yAxis:{min:0,title:{text:""}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},colors:["rgb(213, 219, 219)"],series:[{name:"Found",data:e.found}]})}))}function n(t){var a=jQuery.param(t).replaceAll("%5B%5D",""),n=e+"?"+a;window.history.pushState("object or string","Title",n),window.history.replaceState("object or string","Title",n)}$(document).ready((function(){a(),$(t).find(".submit").on("click",(function(t){t.preventDefault(),a()}));var e=new Date;e.getFullYear(),e.getMonth(),e.getDate();new ej.calendars.DateRangePicker({placeholder:"Select a range",format:"dd-MM-yyyy",startDate:new Date((new Date).setDate((new Date).getDate()-10)),endDate:new Date,max:new Date,presets:[{label:"Today",start:new Date,end:new Date},{label:"This Month",start:new Date((new Date).setDate(1)),end:new Date},{label:"Last Month",start:new Date(new Date((new Date).setMonth((new Date).getMonth()-1)).setDate(1)),end:new Date((new Date).setDate(0))},{label:"Last Year",start:new Date((new Date).getFullYear()-1,0,1),end:new Date}],change:function(t){if(t.isInteracted){console.log(t);var e=document.querySelector('[name="startDate"]'),a=document.querySelector('[name="endDate"]');if(t.startDate){var n=t.startDate.getFullYear(),o=(t.startDate.getMonth()+1).toString().padStart(2,"0"),r=t.startDate.getDate().toString().padStart(2,"0");e.value="".concat(n,"-").concat(o,"-").concat(r)}else e.value="";if(t.endDate){var l=t.endDate.getFullYear(),i=(t.endDate.getMonth()+1).toString().padStart(2,"0"),s=t.endDate.getDate().toString().padStart(2,"0");a.value="".concat(l,"-").concat(i,"-").concat(s)}else a.value=""}}}).appendTo("#date_syncfusion")}))})();
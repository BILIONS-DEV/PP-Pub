(()=>{var t="#formFilterAds",e=!0;function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&($("input[name=start]").val(0),$("input[name=order_column]").val(0)),""!==t){var r=$(t),o=r.find(".submit"),n=o.text(),l=o.data("text-loading")||"Loading...",i=r.data("table-id"),s=r.data("url"),d=[];$("table#".concat(i," > thead > tr")).each((function(){$(this).find("th").each((function(){var t=$(this).text().trim(),e=$(this).data("obj-field");d.push({data:e,name:t})}))}));var c,u=r.serializeObject(),p={width:"100%",processing:!0,serverSide:!0,searching:!1,destroy:!0,pagingType:"simple_numbers",language:{info:"_START_ - _END_ of _TOTAL_",infoEmpty:"0 - 0 of 0",lengthMenu:"Rows per page:  _MENU_",paginate:{next:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/> </svg>',previous:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/> </svg>'}},order:[parseInt(u.order_column),u.order_dir],columns:d,columnDefs:[{orderSequence:["desc","asc"],targets:"_all"}],dom:'<"row"<"col-sm-12"tr>><"bottom d-flex p-3 border-top border-gray-200"<"row ms-auto align-items-center px-3"<"col-auto"fl><"col-auto"i><"col-auto"p>>>',ajax:{url:s,type:"POST",contentType:"application/json; charset=utf-8",data:function(t){return a&&(u=r.serializeObject(),t.length=parseInt(u.length),t.start=parseInt(u.start),t.order[0].column=parseInt(u.order_column),t.order[0].dir=u.order_dir),r.find("[name='length']").val(t.length),r.find("[name='start']").val(t.start),r.find("[name='order_column']").val(t.order[0].column),r.find("[name='order_dir']").val(t.order[0].dir),u.length=t.length,u.start=t.start,t.postData=u,JSON.stringify(t)},beforeSend:function(t){a&&o.attr("disabled",!0).text(l)},dataSrc:function(t){return a&&o.attr("disabled",!1).text(n),a=!1,u=r.serializeObject(),e?e=!1:function(t,e){var a=jQuery.param(e).replaceAll("%5B%5D",""),r=t+"?"+a;window.history.pushState("object or string","Title",r),window.history.replaceState("object or string","Title",r)}(s,u),null===t.data?[]:t.data},error:function(t,e){new AlertError(t.responseText),a&&o.attr("disabled",!1).text(n)}},drawCallback:function(){$(".dataTables_paginate > ul.pagination > li > a.page-link").addClass("text-secondary"),$(".dataTables_paginate > ul.pagination > li.active > a").addClass("bg-warning border-warning").css("color","#111111"),$(".dataTables_length > label > select").removeClass().addClass("form-select form-select-sm"),a||$(".table-responsive").css("height","");[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new bootstrap.Tooltip(t)}));$("[data-bs-toggle=popover]").popover({trigger:"manual",html:!0,animation:!1,sanitize:!1,sanitizeFn:function(t){return t}}).on("mouseenter",(function(){var t=this;$(this).popover("show"),$(".popover").on("mouseleave",(function(){$(t).popover("hide")}))})).on("mouseleave",(function(){var t=this;setTimeout((function(){$(".popover:hover").length||$(t).popover("hide")}),300)}))}};c=parseFloat(u.length),jQuery.inArray(c,[10,25,50,100])>=0&&(p.pageLength=c),p.displayStart=parseFloat(u.start),$("#".concat(i)).DataTable(p)}else ErrorWithAlert("filter could not be found")}$(document).ready((function(){$(t).find(".submit").on("click",(function(e){a(t,!0,!0)})),a(t),$("#tableAds").on("click",".block-ad",(function(){var t=$(this),e=t.attr("data-block"),a=t.attr("data-ad"),r=$("#inventory").val();$.ajax({type:"POST",url:"/campaigns/change-status-ad",data:{action:e,id:parseInt(a),inventory:r},error:function(t,e){var a=AjaxErrorMessage(t,e);new AlertError("AJAX ERROR: "+a)}}).done((function(a){0==a.status?AlertError(a.errors[0].message):notifiResult(a),1==a.status&&("on"==e?t.removeClass("btn-custom-unblock").addClass("btn-custom-block").text("BLOCK AD").attr("data-block","off"):t.removeClass("btn-custom-block").addClass("btn-custom-unblock").text("UNBLOCK AD").attr("data-block","on"))}))}))}))})();
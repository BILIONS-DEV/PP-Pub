(()=>{function e(e,n,a){var s=$("#"+e);s.find("input").on("click change blur",(function(e){var n=$(this);n.hasClass("is-invalid")&&n.removeClass("is-invalid").next(".invalid-feedback").empty()})),s.find(".submit").on("click",(function(e){e.preventDefault();var t=$(this),r=t.text(),d=s.serializeObject();$.ajax({url:n,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(d),beforeSend:function(e){t.attr("disabled",!0).text("Loading...")},error:function(e,n){var a=AjaxErrorMessage(e,n);new AlertError("AJAX ERROR: "+a),t.attr("disabled",!1).text(r)},success:function(e){t.attr("disabled",!1).text(r)},complete:function(e){a(e.responseJSON)}})}))}function n(e){switch(e.status){case"error":1===e.errors.length&&""===e.errors[0].id?new AlertError(e.errors[0].message):e.errors.length>0?(new AlertError(e.errors[0].message),$.each(e.errors,(function(e,n){$("#"+n.id).addClass("is-invalid").nextAll("span.invalid-feedback").text(n.message)}))):new AlertError("Error!");break;case"success":NoticeSuccess("Account has been updated successfully");break;default:new AlertError("Undefined")}}function a(e){switch(e){case"bank":default:$("#method_bank").removeClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").addClass("d-none"),$("#method_currency").addClass("d-none");break;case"paypal":$("#method_bank").addClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").removeClass("d-none"),$("#method_currency").addClass("d-none");break;case"payoneer":$("#method_bank").addClass("d-none"),$("#method_payoneer").removeClass("d-none"),$("#method_paypal").addClass("d-none"),$("#method_currency").addClass("d-none");break;case"currency":$("#method_currency").removeClass("d-none"),$("#method_bank").addClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").addClass("d-none")}}$(document).ready((function(){var s,t,r;e("profile","/user/account",n),e("changePassword","/user/changePassword",n),s="/user/billing",t=n,(r=$("#"+"submitBilling")).find("input").on("click change blur",(function(e){var n=$(this);n.hasClass("is-invalid")&&n.removeClass("is-invalid").next(".invalid-feedback").empty()})),r.find(".submit").on("click",(function(e){e.preventDefault();var n=$(this),a=n.text(),d="Loading...",o=r.serializeObject();o.id=parseInt(o.id),o.user_id=parseInt(o.user_id),$.ajax({url:s,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(o),beforeSend:function(e){n.attr("disabled",!0).text(d)},error:function(e,s){var t=AjaxErrorMessage(e,s);new AlertError("AJAX ERROR: "+t),n.attr("disabled",!1).text(a)},success:function(e){n.attr("disabled",!1).text(a)},complete:function(e){t(e.responseJSON)}})})),$("#method").on("change",(function(){a($(this).val())})),a($('select[name="method"] option').filter(":selected").val())}))})();
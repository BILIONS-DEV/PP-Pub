(()=>{function e(e,a,n){var s=$("#"+e);s.find("input").on("click change blur",(function(e){var a=$(this);a.hasClass("is-invalid")&&a.removeClass("is-invalid").next(".invalid-feedback").empty()})),s.find(".submit").on("click",(function(e){e.preventDefault();var t=$(this),r=t.text(),o=s.serializeObject();$.ajax({url:a,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(o),beforeSend:function(e){t.attr("disabled",!0).text("Loading...")},error:function(e,a){var n=AjaxErrorMessage(e,a);new AlertError("AJAX ERROR: "+n),t.attr("disabled",!1).text(r)},success:function(e){t.attr("disabled",!1).text(r)},complete:function(e){n(e.responseJSON)}})}))}function a(e){switch(e.status){case"error":1===e.errors.length&&""===e.errors[0].id?new AlertError(e.errors[0].message):e.errors.length>0?(new AlertError(e.errors[0].message),$.each(e.errors,(function(e,a){$("#"+a.id).addClass("is-invalid").nextAll("span.invalid-feedback").text(a.message)}))):new AlertError("Error!");break;case"success":NoticeSuccess("Account has been updated successfully");break;default:new AlertError("Undefined")}}function n(e){switch(e){case"bank":default:$("#method_bank").removeClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").addClass("d-none"),$("#method_currency").addClass("d-none");break;case"paypal":$("#method_bank").addClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").removeClass("d-none"),$("#method_currency").addClass("d-none");break;case"payoneer":$("#method_bank").addClass("d-none"),$("#method_payoneer").removeClass("d-none"),$("#method_paypal").addClass("d-none"),$("#method_currency").addClass("d-none");break;case"currency":case"BTC":case"BCH":case"USDT":$("#method_currency").removeClass("d-none"),$("#method_bank").addClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").addClass("d-none")}}function s(e){var a="/user/"+e;window.history.pushState("object or string","Title",a),window.history.replaceState("object or string","Title",a)}$(document).ready((function(){var t,r,o;e("profile","/user/account",a),e("changePassword","/user/changePassword",a),t="/user/billing",r=a,(o=$("#"+"submitBilling")).find("input").on("click change blur",(function(e){var a=$(this);a.hasClass("is-invalid")&&a.removeClass("is-invalid").next(".invalid-feedback").empty()})),o.find(".submit").on("click",(function(e){e.preventDefault();var a=$(this),n=a.text(),s="Loading...",i=o.serializeObject();i.id=parseInt(i.id),i.user_id=parseInt(i.user_id),$.ajax({url:t,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(i),beforeSend:function(e){a.attr("disabled",!0).text(s)},error:function(e,s){var t=AjaxErrorMessage(e,s);new AlertError("AJAX ERROR: "+t),a.attr("disabled",!1).text(n)},success:function(e){a.attr("disabled",!1).text(n)},complete:function(e){r(e.responseJSON)}})})),$("#method").on("change",(function(){var e;n((e=$(this)).val()),function(e){var a=e.val();$(".currency-minpay").addClass("d-none"),$(".currency-"+a).removeClass("d-none")}(e)})),$("#tab-profile").on("click",(function(){$("#tab-profile").addClass("active pp-4"),$("#tab-change-password").removeClass("active pp-4"),$("#tab-billing").removeClass("active pp-4"),s("profile")})),$("#tab-change-password").on("click",(function(){$("#tab-profile").removeClass("active pp-4"),$("#tab-change-password").addClass("active pp-4"),$("#tab-billing").removeClass("active pp-4"),s("password")})),$("#tab-billing").on("click",(function(){$("#tab-profile").removeClass("active pp-4"),$("#tab-change-password").removeClass("active pp-4"),$("#tab-billing").addClass("active pp-4"),s("billing")})),n($('select[name="method"] option').filter(":selected").val())}))})();
(()=>{function e(e,r){switch(e.status){case"error":1===e.errors.length&&""===e.errors[0].id?new AlertError(e.errors[0].message):e.errors.length>0&&$.each(e.errors,(function(e,r){$("input#"+r.id).addClass("is-invalid").nextAll(".invalid-feedback").text(r.message)})),new AlertError(e.errors[0].message);break;case"success":NoticeSuccess("You have successfully changed your password, please login!"),setTimeout((function(){window.location.replace("/login")}),1e3);break;default:new AlertError("undefined")}}$(document).ready((function(){var r,s,t;r="/user/new-password",s=e,(t=$("#"+"newPassword")).find("input").on("click change blur",(function(e){var r=$(this);r.hasClass("is-invalid")&&r.removeClass("is-invalid").next("div.invalid-feedback").empty()})),t.find(".submit").on("click",(function(e){e.preventDefault();var n=$(this),a=n.text(),i="Loading...",o=t.serializeObject();$.ajax({url:r,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(o),beforeSend:function(e){n.attr("disabled",!0).text(i)},error:function(e,r){var s=AjaxErrorMessage(e,r);new AlertError("AJAX ERROR: "+s),n.attr("disabled",!1).text(a)},success:function(e){n.attr("disabled",!1).text(a)},complete:function(e){s(e.responseJSON,t)}})}))}))})();
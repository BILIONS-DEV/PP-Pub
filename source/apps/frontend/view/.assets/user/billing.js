(()=>{function e(e){switch(e){case"bank":default:$("#method_bank").removeClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").addClass("d-none");break;case"paypal":$("#method_bank").addClass("d-none"),$("#method_payoneer").addClass("d-none"),$("#method_paypal").removeClass("d-none");break;case"payoneer":$("#method_bank").addClass("d-none"),$("#method_payoneer").removeClass("d-none"),$("#method_paypal").addClass("d-none")}}function a(e){switch(e.status){case"error":1===e.errors.length&&""===e.errors[0].id?new AlertError(e.errors[0].message):e.errors.length>0?($.each(e.errors,(function(e,a){$("#"+a.id).addClass("is-invalid").nextAll("span.invalid-feedback").text(a.message)})),new AlertError(e.errors[0].message)):new AlertError("Error!");break;case"success":NoticeSuccess("Billing has been updated successfully");break;default:new AlertError("Undefined")}}$(document).ready((function(){var n,s,r;$("#method").on("change",(function(){e($(this).val())})),e($('select[name="method"] option').filter(":selected").val()),n="/user/billing",s=a,(r=$("#"+"submitBilling")).find("input").on("click change blur",(function(e){var a=$(this);a.hasClass("is-invalid")&&a.removeClass("is-invalid").next(".invalid-feedback").empty()})),r.find(".submit").on("click",(function(e){e.preventDefault();var a=$(this),t=a.text(),d="Loading...",o=r.serializeObject();o.id=parseInt(o.id),o.user_id=parseInt(o.user_id),$.ajax({url:n,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(o),beforeSend:function(e){a.attr("disabled",!0).text(d)},error:function(e,n){var s=AjaxErrorMessage(e,n);new AlertError("AJAX ERROR: "+s),a.attr("disabled",!1).text(t)},success:function(e){a.attr("disabled",!1).text(t)},complete:function(e){s(e.responseJSON)}})}))}))})();
(()=>{var t="#formFilterAds",e=!0;function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(o&&($("input[name=start]").val(0),$("input[name=order_column]").val(0)),""!==t){var n=$(t),l=n.find(".submit"),i=l.text(),s=l.data("text-loading")||"Loading...",d=n.data("table-id"),c=n.data("url"),u=[];$("table#".concat(d," > thead > tr")).each((function(){$(this).find("th").each((function(){var t=$(this).text().trim(),e=$(this).data("obj-field");u.push({data:e,name:t})}))}));var p,g=n.serializeObject(),h={width:"100%",processing:!0,serverSide:!0,searching:!1,destroy:!0,pagingType:"simple_numbers",language:{info:"_START_ - _END_ of _TOTAL_",infoEmpty:"0 - 0 of 0",lengthMenu:"Rows per page:  _MENU_",paginate:{next:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/> </svg>',previous:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/> </svg>'}},order:[parseInt(g.order_column),g.order_dir],columns:u,columnDefs:[{orderSequence:["desc","asc"],targets:"_all"}],dom:'<"row"<"col-sm-12"tr>><"bottom d-flex p-3 border-top border-gray-200"<"row ms-auto align-items-center px-3"<"col-auto"fl><"col-auto"i><"col-auto"p>>>',ajax:{url:c,type:"POST",contentType:"application/json; charset=utf-8",data:function(t){return a&&(g=n.serializeObject(),t.length=parseInt(g.length),t.start=parseInt(g.start),t.order[0].column=parseInt(g.order_column),t.order[0].dir=g.order_dir),n.find("[name='length']").val(t.length),n.find("[name='start']").val(t.start),n.find("[name='order_column']").val(t.order[0].column),n.find("[name='order_dir']").val(t.order[0].dir),g.length=t.length,g.start=t.start,t.postData=g,JSON.stringify(t)},beforeSend:function(t){a&&l.attr("disabled",!0).text(s)},dataSrc:function(t){return a&&l.attr("disabled",!1).text(i),a=!1,g=n.serializeObject(),e?e=!1:r(c,g),null===t.data?[]:t.data},error:function(t,e){new AlertError(t.responseText),a&&l.attr("disabled",!1).text(i)}},drawCallback:function(){$(".dataTables_paginate > ul.pagination > li > a.page-link").addClass("text-secondary"),$(".dataTables_paginate > ul.pagination > li.active > a").addClass("bg-warning border-warning").css("color","#111111"),$(".dataTables_length > label > select").removeClass().addClass("form-select form-select-sm"),a||$(".table-responsive").css("height","");[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new bootstrap.Tooltip(t)}));$("[data-bs-toggle=popover]").popover({trigger:"manual",html:!0,animation:!1,sanitize:!1,sanitizeFn:function(t){return t}}).on("mouseenter",(function(){var t=this;$(this).popover("show"),$(".popover").on("mouseleave",(function(){$(t).popover("hide")}))})).on("mouseleave",(function(){var t=this;setTimeout((function(){$(".popover:hover").length||$(t).popover("hide")}),300)}))}};p=parseFloat(g.length),jQuery.inArray(p,[10,25,50,100])>=0&&(h.pageLength=p),h.displayStart=parseFloat(g.start),$("#".concat(d)).DataTable(h)}else ErrorWithAlert("filter could not be found")}function r(t,e){var a=t+"?"+jQuery.param(e).replaceAll("%5B%5D","");window.history.pushState("object or string","Title",a),window.history.replaceState("object or string","Title",a)}$(document).ready((function(){$(t).find(".submit").on("click",(function(e){a(t,!0,!0)})),a(t),$("#tableAds").on("click",".block-ad",(function(){var t=$(this),e=t.attr("data-block"),a=t.attr("data-ad"),r=$("#inventory").val();$.ajax({type:"POST",url:"/campaigns/change-status-ad",data:{action:e,id:parseInt(a),inventory:r},error:function(t,e){var a=AjaxErrorMessage(t,e);new AlertError("AJAX ERROR: "+a)}}).done((function(a){0==a.status?AlertError(a.errors[0].message):notifiResult(a),1==a.status&&("on"==e?t.removeClass("btn-custom-unblock").addClass("btn-custom-block").text("BLOCK AD").attr("data-block","off"):t.removeClass("btn-custom-block").addClass("btn-custom-unblock").text("UNBLOCK AD").attr("data-block","on"))}))}))}))})();
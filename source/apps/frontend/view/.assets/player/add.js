(()=>{var e=[".jpg",".jpeg",".bmp",".gif",".png"],o=15728640;function a(){var e=$("#type").val(),o=$("#player_layout").val(),a=$("#auto_skip").is(":checked"),n=$(".box-auto-skip"),s=$(".box-time-to-skip"),t=$(".box-show-auto-skips-button"),d=$(".box-number-of-pre-roll"),l=$(".box-delay");"9"===e&&"9"!=o?(n.removeClass("d-none"),a?(s.removeClass("d-none"),t.removeClass("d-none"),d.removeClass("d-none"),l.addClass("d-none")):(s.addClass("d-none"),t.addClass("d-none"),d.addClass("d-none"),l.removeClass("d-none"))):(n.addClass("d-none"),s.addClass("d-none"),t.addClass("d-none"),d.addClass("d-none"),l.removeClass("d-none"))}function n(){var e=$("#type").val(),o=$("#player_layout").val(),a=$("#show_main_title");"9"===e&&"9"!=o||"4"===e?(a.removeClass("disabled"),a.prop("disabled",!1),a.next().removeClass("disabled")):(a.addClass("disabled"),a.prop("disabled",!0),a.next().addClass("disabled"));var n=$("#show_content_title");"9"===e&&"9"!=o?(n.removeClass("disabled"),n.prop("disabled",!1),n.next().removeClass("disabled"),$("#show-content-title").closest("div").removeClass("d-none"),n.removeClass("disabled"),n.prop("disabled",!1),n.next().removeClass("disabled")):"4"===e?(n.removeClass("disabled"),n.prop("disabled",!1),n.next().removeClass("disabled"),$("#show-content-title").closest("div").addClass("d-none"),n.addClass("disabled"),n.prop("disabled",!0),n.next().addClass("disabled")):(n.addClass("disabled"),n.prop("disabled",!0),n.next().addClass("disabled"));var s=$("#show_sub_title");"4"===e?($("#show-sub-title").removeClass("d-none"),s.removeClass("disabled"),s.prop("disabled",!1),s.next().removeClass("disabled")):($("#show-sub-title").addClass("d-none"),s.addClass("disabled"),s.prop("disabled",!0),s.next().addClass("disabled"));var t=$("#show_action_button");"4"===e?($("#show-action-button").removeClass("d-none"),t.removeClass("disabled"),t.prop("disabled",!1),t.next().removeClass("disabled")):($("#show-action-button").addClass("d-none"),t.addClass("disabled"),t.prop("disabled",!0),t.next().addClass("disabled"));var d=$("#show_content_description"),l=$(".box-show-content-desc");"9"===e&&("3"===o||"4"===o||"5"===o||"7"===o)?(l.removeClass("d-none"),d.removeClass("disabled"),d.prop("disabled",!1),d.next().removeClass("disabled")):(l.addClass("d-none"),d.addClass("disabled"),d.prop("disabled",!0),d.next().addClass("disabled"));var i=$("#show_controls");"9"===e&&"9"!=o?(i.removeClass("disabled"),i.prop("disabled",!1),i.next().removeClass("disabled"),i.closest("div").removeClass("d-none"),i.removeClass("disabled"),i.prop("disabled",!1),i.next().removeClass("disabled")):"4"===e?(i.removeClass("disabled"),i.prop("disabled",!1),i.next().removeClass("disabled"),i.closest("div").addClass("d-none"),i.addClass("disabled"),i.prop("disabled",!0),i.next().addClass("disabled")):(i.addClass("disabled"),i.prop("disabled",!0),i.next().addClass("disabled"));var r=$("#main_title_text");("9"===e&&"9"!==o||"4"===e)&&a.is(":checked")?(r.removeClass("disabled"),r.prop("disabled",!1),r.next().removeClass("disabled")):(r.addClass("disabled"),r.prop("disabled",!0),r.next().addClass("disabled"));var p=$("#sub_title_text");"9"!==e&&"4"!==e||!s.is(":checked")?(p.addClass("disabled"),p.prop("disabled",!0),p.next().addClass("disabled")):(p.removeClass("disabled"),p.prop("disabled",!1),p.next().removeClass("disabled"));var _=$("#action_button_text");"4"===e?$(".action-button-text").removeClass("d-none"):$(".action-button-text").addClass("d-none"),"4"===e&&t.is(":checked")?(_.removeClass("disabled"),_.prop("disabled",!1),_.next().removeClass("disabled")):(_.addClass("disabled"),_.prop("disabled",!0),_.next().addClass("disabled"))}function s(){var e=$("#position_desktop").val(),o=$(".position_desktop");o.addClass("d-none"),"1"===e?o=$(".position_desktop_bottom_right"):"2"===e?o=$(".position_desktop_bottom_left"):"3"===e?o=$(".position_desktop_top_right"):"4"===e&&(o=$(".position_desktop_top_left")),o.removeClass("d-none")}function t(){var e=$("#position_mobile").val(),o=$(".position_mobile");o.addClass("d-none"),"1"===e?o=$(".position_mobile_bottom_right"):"2"===e&&(o=$(".position_mobile_bottom_left")),o.removeClass("d-none")}function d(){var e=$("#floating_on_desktop").is(":checked"),o=$(".floating_on_desktop");e?(o.removeClass("disabled"),o.prop("disabled",!1),o.next().removeClass("disabled")):(o.addClass("disabled"),o.prop("disabled",!0),o.next().addClass("disabled"))}function l(){var e=$("#floating_on_mobile").is(":checked"),o=$(".floating_on_mobile");e?(o.removeClass("disabled"),o.prop("disabled",!1),o.next().removeClass("disabled")):(o.addClass("disabled"),o.prop("disabled",!0),o.next().addClass("disabled"))}function i(){var e=$('input[name="size"]:checked').val(),o=$(".box-width"),a=$(".box-ratio");"1"===e?(o.addClass("d-none"),a.removeClass("d-none")):"2"===e&&(a.addClass("d-none"),o.removeClass("d-none"))}function r(){if("8"!==$("#type").val())return $(".box-native").addClass("d-none"),$(".customize-native").addClass("d-none"),$(".customize-default").removeClass("d-none"),$(".advertise-default").removeClass("d-none"),$(".adsbypubpower").removeClass("d-none"),$("#resizeWrapper").addClass("d-none"),void $("#tab-advertiring").removeClass("d-none");$(".box-native").removeClass("d-none"),$(".customize-native").removeClass("d-none"),$(".customize-default").addClass("d-none"),$(".advertise-default").addClass("d-none"),$(".adsbypubpower").addClass("d-none"),$("#resizeWrapper").removeClass("d-none"),$("#tab-advertiring").addClass("d-none"),p(),function(){try{var e=document.getElementById("resizeWrapper");if(!e)return;var o=0,a=0,n=function(n){o=n.clientX;var d=window.getComputedStyle(e);a=parseInt(d.width,10),document.addEventListener("mousemove",s),document.addEventListener("mouseup",t)},s=function(n){var s=n.clientX-o;e.style.width=a+s+"px",_()},t=function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)};document.querySelector(".resizer").addEventListener("mousedown",n)}catch(e){}_()}(),c(),$("#ad_style").change((function(){c(),p()})),b(),$("input[name=mode]").change((function(){b(),p()})),$(".multi-row-input").change((function(){p()})),$("#ad-size").change((function(){p()})),$(".multi-column-input").change((function(){p()})),$(".input-color").change((function(){p()}))}function p(){$(".adsbypocpoc").remove(),$("#adsPlacement").append('<div class="adsbypocpoc" data-ad-slot="preview"></div>');var e=$("#native_background").val(),o=$("#native_advertiser_name").val(),a=$("#native_cta_button").val(),n=$("#native_title_color").val(),s=parseInt($(".multi-column-input").val()),t=parseInt($(".multi-row-input").val()),d=$("#ad-size").find("option:selected").text(),l=$('input[name="mode"]:checked').val(),i=$("#ad_style").val(),r="grid";"multiple"==i?(d="1x1",r="grid"):(s=1,t=1,r="standard"),(ppocTag.Init=window.ppocTag.Init||[]).push((function(){ppocAPITag.previewTemplate({configs:{appearance:{background:e,colorAdvertiser:o,colorButtonCTA:a,colorHeadline:n,sponsoredBrand:!1},layout:{template:r,columns:s,rows:t,size:d},mode:l,type:i}})})),console.log({appearance:{background:e,colorAdvertiser:o,colorButtonCTA:a,colorHeadline:n,sponsoredBrand:!1},layout:{template:r,columns:s,rows:t,size:d},mode:l,type:i})}function _(){if(document.querySelector("#adsPlacement")){var e=document.querySelector("#adsPlacement").offsetWidth,o=document.querySelector("#adsPlacement").offsetHeight;document.getElementById("p_height").innerHTML=o,document.getElementById("p_width").innerHTML=e}}function b(){"auto"==$('input[name="mode"]:checked').val()?$(".box-optimize-layout").addClass("d-none"):$(".box-optimize-layout").removeClass("d-none")}function c(){"multiple"==$("#ad_style").val()?($(".box-style-multiple").removeClass("d-none"),$(".box-style-single").addClass("d-none")):($(".box-style-multiple").addClass("d-none"),$(".box-style-single").removeClass("d-none"))}function v(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=$("#"+e);n.find("input").on("input",(function(e){var o=$(this);o.hasClass("is-invalid")&&(o.removeClass("is-invalid").next(".invalid-feedback").empty(),o.parent().removeClass("is-invalid").next(".invalid-feedback").empty())})),n.find("textarea").on("input",(function(e){var o=$(this);o.hasClass("is-invalid")&&o.removeClass("is-invalid").next(".invalid-feedback").empty()})),n.find(".submit").on("click",(function(e){e.preventDefault();var s=$(this),t=s.text(),d=n.serializeObject();d=m(d),$.ajax({url:a,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(d),beforeSend:function(e){s.attr("disabled",!0).text("Loading...")},error:function(e,o){var a=AjaxErrorMessage(e,o);new AlertError("AJAX ERROR: "+a),s.attr("disabled",!1).text(t)},success:function(e){s.attr("disabled",!1).text(t)},complete:function(e){o(e.responseJSON,n)}})}))}function m(e){return e.type=parseInt(e.type),e.vast_retry=parseInt(e.vast_retry),e.delay=parseInt(e.delay),e.time_to_skip=parseInt(e.time_to_skip),e.max_width=parseInt(e.max_width),e.width=parseInt(e.width),e.floating_width=parseInt(e.floating_width),e.floating_width_mobile=parseInt(e.floating_width_mobile),e.margin_bottom_desktop=parseInt(e.margin_bottom_desktop),e.margin_bottom_mobile=parseInt(e.margin_bottom_mobile),e.margin_left_desktop=parseInt(e.margin_left_desktop),e.margin_left_mobile=parseInt(e.margin_left_mobile),e.margin_right_desktop=parseInt(e.margin_right_desktop),e.margin_right_mobile=parseInt(e.margin_right_mobile),e.margin_top_desktop=parseInt(e.margin_top_desktop),e.columns_position=parseInt(e.columns_position),e.columns_number=parseInt(e.columns_number),e.player_layout=parseInt(e.player_layout),e.show_auto_skip_button=parseInt(e.show_auto_skip_button),e.number_of_pre_roll_ads=parseInt(e.number_of_pre_roll_ads),e.floating_position_desktop=parseInt(e.floating_position_desktop),e.floating_position_mobile=parseInt(e.floating_position_mobile),e.play_mode=parseInt(e.play_mode),e.advertisement_scenario=parseInt(e.advertisement_scenario),e.size=parseInt(e.size),e.auto_start=parseInt(e.auto_start),e.main_title_top_article=e.main_title_text,e.link=$("#preview-logo").attr("src"),"on"===e.close_floating_button_mobile?e.close_floating_button_mobile=1:e.close_floating_button_mobile=2,"on"===e.close_floating_button_desktop?e.close_floating_button_desktop=1:e.close_floating_button_desktop=2,"on"===e.default_sound_mode?e.default_sound_mode=1:e.default_sound_mode=2,"on"===e.description_enable?e.description_enable=1:e.description_enable=2,"on"===e.show_controls?e.show_controls=1:e.show_controls=2,"on"===e.floating_on_desktop?e.floating_on_desktop=1:e.floating_on_desktop=2,"on"===e.floating_on_mobile?e.floating_on_mobile=1:e.floating_on_mobile=2,"on"===e.main_title?e.main_title=1:e.main_title=2,"on"===e.sub_title?e.sub_title=1:e.sub_title=2,"on"===e.action_button?e.action_button=1:e.action_button=2,"on"===e.title_enable?e.title_enable=1:e.title_enable=2,"on"===e.pubpower_logo?e.pubpower_logo=1:e.pubpower_logo=2,"on"===e.powered_by?e.powered_by=1:e.powered_by=2,"on"===e.powered_by_top_article?e.powered_by_top_article=1:e.powered_by_top_article=2,"on"===e.share_button?e.share_button=1:e.share_button=2,"on"===e.video_config?e.video_config=1:e.video_config=2,"on"===e.show_stats?e.show_stats=1:e.show_stats=2,"on"===e.fullscreen_button?e.fullscreen_button=1:e.fullscreen_button=2,"on"===e.next_prev_arrows_button?e.next_prev_arrows_button=1:e.next_prev_arrows_button=2,"on"===e.next_prev_time?e.next_prev_time=1:e.next_prev_time=2,e.custom_logo_top_article=1,e.custom_logo=1,"on"===e.enable_logo?e.enable_logo=1:e.enable_logo=2,e.enable_logo_top_article=e.enable_logo,"on"===e.auto_skip?e.auto_skip=1:e.auto_skip=2,"on"===e.float_on_bottom?e.float_on_bottom=1:e.float_on_bottom=2,"on"===e.floating_on_view?e.floating_on_view=1:e.floating_on_view=2,"on"===e.float_on_bottom_mobile?e.float_on_bottom_mobile=1:e.float_on_bottom_mobile=2,"on"===e.floating_on_view_mobile?e.floating_on_view_mobile=1:e.floating_on_view_mobile=2,"on"===e.floating_on_impression?e.floating_on_impression=1:e.floating_on_impression=2,"on"===e.floating_on_ad_fetched?e.floating_on_ad_fetched=1:e.floating_on_ad_fetched=2,"on"===e.floating_on_ad_fetched_mobile?e.floating_on_ad_fetched_mobile=1:e.floating_on_ad_fetched_mobile=2,"on"===e.wait_for_ad?e.wait_for_ad=1:e.wait_for_ad=2,"on"===e.pre_roll?e.pre_roll=1:e.pre_roll=2,"on"===e.mid_roll?e.mid_roll=1:e.mid_roll=2,"on"===e.post_roll?e.post_roll=1:e.post_roll=2,"8"!=e.type&&8!=e.type||(e.title_color=$("#native_title_color").val(),e.background_color=$("#native_background").val(),e.action_button_color=$("#native_cta_button").val(),e.advertiser_color=$("#native_advertiser_name").val()),e.ad_size=parseInt(e.ad_size),e.rows=parseInt(e.rows),e.columns=parseInt(e.columns),e}function u(e,o){switch(e.status){case"error":1===e.errors.length&&""===e.errors[0].id?new AlertError(e.errors[0].message):e.errors.length>0?($.each(e.errors,(function(e,o){var a=$("#"+o.id);a.addClass("is-invalid").nextAll("span.invalid-feedback").text(o.message),a.parent().addClass("is-invalid").nextAll("span.invalid-feedback").text(o.message)})),"floating_width_mobile"===e.errors[0].id?$(".play_mode[data-type='mobile']").click():"floating_width"===e.errors[0].id&&$(".play_mode[data-type='desktop']").click(),$("#"+e.errors[0].id).focus(),$("#"+e.errors[0].id).prev("label").focus(),new AlertError(e.errors[0].message,(function(){$("#"+e.errors[0].id).focus(),$("#"+e.errors[0].id).prev("label").focus()}))):new AlertError("Error!");break;case"success":NoticeSuccess("Template has been created successfully"),setTimeout((function(){window.location.replace("/player/template")}),1e3);break;default:new AlertError("Undefined")}}function f(){var e=$("#formTemplate").serializeObject();e=m(e),$.ajax({url:"/player/template/preview",type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(e),success:function(e){document.querySelector("#videocontainer").innerHTML="","Pin Zone"===e.template.adType?"undefined"!=typeof powerAPITag&&powerAPITag.initPinzoneTemplate(e):"Outstream"===e.template.adType?("undefined"!=typeof powerAPITag&&powerAPITag.initPowerVideoContainer(e),$("#videocontainer").css("min-height","490px")):"undefined"!=typeof powerAPITag&&powerAPITag.initPowerVideoContainer(e)}})}function C(){var e;r(),"9"===$("#type").val()?$(".box-player-layout").removeClass("d-none"):$(".box-player-layout").addClass("d-none"),i(),"8"===$("#type").val()?$(".box-player-mode").addClass("d-none"):$(".box-player-mode").removeClass("d-none"),"8"===$("#type").val()?$(".box-player-size").addClass("d-none"):$(".box-player-size").removeClass("d-none"),d(),l(),"9"===(e=$("#type").val())||"4"===e?($(".box-float-on-view").removeClass("d-none"),$(".box-float-on-view-mobile").removeClass("d-none")):($(".box-float-on-view").addClass("d-none"),$(".box-float-on-view-mobile").addClass("d-none")),s(),t(),n(),function(){var e=$("#type").val(),o=$("#player_layout").val(),a=$(".input-color");"9"===e&&"9"!=o?(a.removeClass("disabled"),a.prop("disabled",!1)):(a.addClass("disabled"),a.prop("disabled",!0));var n=$(".box-controls-color");"9"===e&&"9"!=o?(n.removeClass("d-none"),(n=$("#control_color")).removeClass("disabled"),n.prop("disabled",!1),n.prev().removeClass("disabled")):"9"===e&&"9"==o?(n.removeClass("d-none"),(n=$("#control_color")).addClass("disabled"),n.prop("disabled",!0),n.prev().addClass("disabled")):n.addClass("d-none");var s=$(".box-background-color");"9"===e&&"9"!=o?(s.removeClass("d-none"),(s=$("#background_color")).removeClass("disabled"),s.prop("disabled",!1),s.prev().removeClass("disabled")):"9"===e&&"9"==o&&(s.removeClass("d-none"),(s=$("#background_color")).addClass("disabled"),s.prop("disabled",!0),s.prev().addClass("disabled"));var t=$(".box-title-color");"9"===e&&"9"!=o?(t.removeClass("d-none"),(t=$("#title_color")).removeClass("disabled"),t.prop("disabled",!1),t.prev().removeClass("disabled")):"9"===e&&"9"==o&&(t.removeClass("d-none"),(t=$("#title_color")).addClass("disabled"),t.prop("disabled",!0),t.prev().addClass("disabled"));var d=$(".box-description-color");"9"===e&&"9"!=o?"3"===o||"4"===o||"5"===o||"7"===o?(d.removeClass("d-none"),(d=$("#description_color")).removeClass("disabled"),d.prop("disabled",!1),d.prev().removeClass("disabled")):d.addClass("d-none"):"9"===e&&"9"==o?(d.removeClass("d-none"),(d=$("#description_color")).addClass("disabled"),d.prop("disabled",!0),d.prev().addClass("disabled")):d.addClass("d-none");var l=$(".box-theme-color");"4"===e?l.removeClass("d-none"):l.addClass("d-none");var i=$(".box-title-background-color");"4"===e?i.removeClass("d-none"):i.addClass("d-none");var r=$(".box-main-title-background-color");"4"===e?r.removeClass("d-none"):r.addClass("d-none");var p=$(".box-main-title-color");"4"===e?p.removeClass("d-none"):p.addClass("d-none");var _=$(".box-title-hover-background-color");"4"===e?_.removeClass("d-none"):_.addClass("d-none");var b=$(".box-action-button-color");"4"===e?b.removeClass("d-none"):b.addClass("d-none")}(),function(){var e=$("#type").val(),o=$("#player_layout").val(),a=$(".controls");"9"===e&&"9"!=o?(a.removeClass("disabled"),a.prop("disabled",!1),a.next().removeClass("disabled")):(a.addClass("disabled"),a.prop("disabled",!0),a.next().addClass("disabled"))}(),function(){var e=$("#type").val(),o=$("#player_layout").val(),a=$(".logo-config");"9"===e&&"9"!=o||"4"===e?(a.removeClass("disabled"),a.prop("disabled",!1),a.next().removeClass("disabled")):(a.addClass("disabled"),a.prop("disabled",!0),a.next().addClass("disabled"))}(),function(){var e=$("#type").val(),o=$("#player_layout").val(),a=$(".box-columns-number"),n=$("#columns_number_two");"9"===e&&"6"===o?(a.removeClass("d-none"),n.prop("checked",!0)):a.addClass("d-none")}(),function(){var e=$("#type").val(),o=$("#player_layout").val(),a=$(".box-columns-position"),n=$("#columns_position_right");"9"!==e||"6"!==o&&"7"!==o?a.addClass("d-none"):(a.removeClass("d-none"),n.prop("checked",!0))}(),a(),function(){var e=$("#type").val(),o=$("#player_layout").val();"4"===e?($("#customize-controls").addClass("d-none"),$("#fullscreen_button").prop("disabled",!0),$("#next_prev_arrows").prop("disabled",!0),$("#next_prev_10_sec").prop("disabled",!0),$("#video_config").prop("disabled",!0),$("#show_view_likes").prop("disabled",!0),$("#share_button").prop("disabled",!0)):"9"===e&&"9"===o?($("#fullscreen_button").prop("disabled",!0),$("#next_prev_arrows").prop("disabled",!0),$("#next_prev_10_sec").prop("disabled",!0),$("#video_config").prop("disabled",!0),$("#show_view_likes").prop("disabled",!0),$("#share_button").prop("disabled",!0)):($("#customize-controls").removeClass("d-none"),$("#fullscreen_button").prop("disabled",!1),$("#next_prev_arrows").prop("disabled",!1),$("#next_prev_10_sec").prop("disabled",!1),$("#video_config").prop("disabled",!1),$("#show_view_likes").prop("disabled",!1),$("#share_button").prop("disabled",!1))}(),function(){var e=$("#type").val(),o=$("#player_layout").val();"4"===e?$("#powered_by_pubpower").prop("disabled",!0).closest("div").addClass("d-none"):"9"===e&&"9"===o?$("#powered_by_pubpower").prop("disabled",!0):$("#powered_by_pubpower").prop("disabled",!1).closest("div").removeClass("d-none")}(),function(){var e=$("#type").val(),o=$("#player_layout").val();"9"===e&&"9"!=o?$("#pubpower_logo").closest("div").removeClass("d-none"):$("#pubpower_logo").closest("div").addClass("d-none")}(),"4"===$("#type").val()?($(".sub-title-text").removeClass("d-none"),$("#sub_title_text").prop("disabled",!1)):($(".sub-title-text").addClass("d-none"),$("#sub_title_text").prop("disabled",!0)),function(){var e=$("#type").val(),o=($("#player_layout").val(),$("#main_title_text"));"4"===e?o.val("Top Articles"):o.val("FEATURED VIDEOS")}(),f()}function g(e,a){new FormData;var n=e.target.files[0];n.size>o?new AlertError("You uploaded file over 10mb, please choose another file!"):function(e,o){var a=new Date,n="assets/img/"+a.getFullYear()+a.getMonth()+a.getDate()+"/"+e.name;$.ajax({type:"POST",url:"/user/getPresingedUrl",data:{path:n},beforeSend:function(e){o.find(".btn-add-logo").addClass("disabled"),o.find(".spinner-border").removeClass("d-none")},error:function(e,a){o.find(".btn-add-logo").removeClass("disabled"),o.find(".spinner-border").addClass("d-none"),notifiResult(a)}}).done((function(a){"success"==a.status&&a.url&&fetch(a.url,{method:"PUT",body:e}).then((function(){!function(e,o){$.ajax({type:"POST",url:"/user/moveFileMinio",data:{path:e},beforeSend:function(e){o.find(".btn-add-logo").addClass("disabled"),o.find(".spinner-border").removeClass("d-none")},error:function(e,a){o.find(".btn-add-logo").removeClass("disabled"),o.find(".spinner-border").addClass("d-none"),$("#logo").val(""),notifiResult(a)}}).done((function(a){$("#logo").attr("value",e),$("#preview-logo").attr("src","https://s3.pubpowerplatform.io/s5-pubpower/"+e).removeClass("d-none"),o.find(".btn-add-logo").removeClass("disabled"),o.find(".spinner-border").addClass("d-none")}))}(n,o)})).catch((function(e){console.error(e)})),"error"==a.status&&a.message&&notifiError(a.message)}))}(n,a.closest("#nav-customize"))}$(document).ready((function(){var o;$('[data-bs-toggle="popover"]').popover({html:!0,sanitize:!1}),new v("formTemplate",u,"/player/template/add"),C(),$(".template-tab").on("click",".nav-link",(function(){$(".template-tab").find(".nav-link").removeClass("pp-4"),$(this).addClass("pp-4"),$(".nav-link").removeClass("at-1"),"1"!==$(this).attr("data-tab")&&$(this).addClass("at-1")})),$("#type").on("change",(function(){C()})),$(".slide").on("click",(function(){$(".slide").removeClass("selected"),$(this).addClass("selected");var e=$(this).data("value");$(this).prevAll("#player_layout").attr("value",e),C()})),$("input[type=radio][name=size]").change((function(){i()})),$(".play_mode").on("click",(function(){$(".play_mode").removeClass("pt52"),$(this).addClass("pt52");var e=$(this).data("type");$(".box-play-mode").addClass("d-none"),$(".box-"+e).removeClass("d-none")})),$("#floating_on_desktop").change((function(){d(),f()})),$("#floating_on_mobile").change((function(){l(),f()})),$("#position_desktop").on("change",(function(){s(),f()})),$("#position_mobile").on("change",(function(){t(),f()})),$("#show_main_title").change((function(){n()})),$("#show_sub_title").change((function(){n()})),$("#show_action_button").change((function(){n()})),(o=$(".input-color")).on("input",(function(){$(this).next("input").val($(this).val())})),o.on("change",(function(){f()})),o.next("input").on("input",(function(e){$(this).prev("input").val(e.target.value)})),o.next("change",(function(){f()})),$(".btn-add-logo").on("click",(function(){$("#logo").click()})),$("#logo").on("change",(function(o){!function(e,o,a){var n=e[0];if("file"===n.type){var s=n.value;if(s.length>0){for(var t=!1,d=0;d<o.length;d++){var l=o[d];if(s.substr(s.length-l.length,l.length).toLowerCase()===l.toLowerCase()){t=!0,g(a,e);break}}if(!t)new AlertError("Sorry, "+s+" is invalid, allowed extensions are: "+o.join(", "))}}}($(this),e,o)})),$("#auto_skip").change((function(){a(),f()})),$("input").on("change",(function(){f()}))}))})();
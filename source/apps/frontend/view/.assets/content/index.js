(()=>{var t="#formFilterContent",e="#tableContents",a="/content",n=!0,o="https://ul.pubpowerplatform.io";function i(){var o,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=$(t),s=l.find(".submit"),c=s.text(),d="Loading...",u=l.serializeObject(),p={processing:!0,serverSide:!0,searching:!1,destroy:!0,pagingType:"simple",language:{info:"_START_ - _END_ of _TOTAL_",infoEmpty:"0 - 0 of 0",lengthMenu:"Rows per page:  _MENU_",paginate:{next:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/> </svg>',previous:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/> </svg>'}},order:[],dom:'<"row"<"col-sm-12"tr>><"bottom d-flex p-3 border-top border-gray-200"<"row ms-auto align-items-center px-3"<"col-auto"fl><"col-auto"i><"col-auto"p>>>',ajax:{url:a,type:"POST",contentType:"application/json; charset=utf-8",data:function(t){return u.length=t.length,u.start=t.start,t.postData=u,JSON.stringify(t)},beforeSend:function(t){i&&s.attr("disabled",!0).text(d)},dataSrc:function(t){return i&&s.attr("disabled",!1).text(c),i=!1,n?n=!1:r(u),null===t.data?[]:t.data},error:function(t,e){new AlertError(t.responseText),i&&s.attr("disabled",!1).text(c)}},columns:[{data:"title",name:"Content"},{data:"type",name:"Type"},{data:"action",name:"Action"}],drawCallback:function(){$(".dataTables_paginate > ul.pagination > li > a.page-link").addClass("text-secondary"),$(".dataTables_paginate > ul.pagination > li.active > a").addClass("bg-warning border-warning").css("color","#111111"),$(".dataTables_length > label > select").removeClass().addClass("form-select form-select-sm"),i||$(".table-responsive").css("height","");[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new bootstrap.Tooltip(t)}))}};o=parseFloat(u.length),jQuery.inArray(o,[10,25,50,100])>=0&&(p.pageLength=o),i||(p.displayStart=parseFloat(u.start)),$(e).DataTable(p)}function r(t){var e="/content?"+jQuery.param(t).replaceAll("%5B%5D","");window.history.pushState("object or string","Title",e),window.history.replaceState("object or string","Title",e)}$(document).ready((function(){$(e).on("click","tbody td div.btn-group a.remove",(function(t){var e=$(this).data("id");confirm('Are you sure delete!"')&&function(t){var e="/content/del";$.ajax({url:e,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify({id:t}),beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined")},error:function(t,e){var a=AjaxErrorMessage(t,e);new AlertError("AJAX ERROR: "+a)}}).done((function(t){switch(t.status){case"success":NoticeSuccess("Content has been removed successfully"),i(!1);break;case"err":new AlertError(t.message)}}))}(e)})),$(t).find(".submit").on("click",(function(t){t.preventDefault(),i(!0)})),i(!1),$(e).on("click","tbody td div.link_video div.d-block a",(function(t){var e,a,n;t.preventDefault(),e=$(this),a=e.data("id"),n=document.getElementsByClassName("link_video_".concat(a)),$(".link_video_".concat(a)).css("display","block"),$("span#".concat(a)).on("click",(function(){$(".link_video_".concat(a)).css("display","block")})),$("span.close").on("click",(function(){$(".link_video_".concat(a)).css("display","none")})),window.onclick=function(t){t.target==n[0]&&$(".link_video_".concat(a)).css("display","none")},function(t){var e=t.data("id"),a=o+t.data("url");if(Hls.isSupported()){var n=document.getElementById("video_".concat(e)),i=new Hls;i.attachMedia(n),i.on(Hls.Events.MEDIA_ATTACHED,(function(){i.loadSource("".concat(a)),i.on(Hls.Events.MANIFEST_PARSED,(function(t,e){}))}))}}($(this))}))}))})();
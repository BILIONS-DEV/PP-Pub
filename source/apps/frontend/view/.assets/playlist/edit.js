(()=>{var e=[];function t(e){!function(e){var t=$(e.idBox).find("."+e.btnRemove),a=parseInt($(e.idType+":checked").val());t.each((function(t,n){var l=parseInt(n.id),i=n.name;switch(e.list_selected.push({id:l,name:i}),e.optionAjax){case p.optionAjax:1==a?r.language.includes(l)||r.language.push(l):r.exclude_language.includes(l)||r.exclude_language.push(l);break;case u.optionAjax:1==a?r.channels.includes(l)||r.channels.push(l):r.exclude_channels.includes(l)||r.exclude_channels.push(l);break;case v.optionAjax:1==a?r.keywords.includes(l)||r.keywords.push(l):r.exclude_keywords.includes(l)||r.exclude_keywords.push(l)}}))}(e),function(e){e.isMoreData=$(e.idSearch).val(),e.page=1,l(e)}(e),a(e),s(e),function(e){$(e.idSelect).on("click","button."+e.btnInclude,(function(t){!function(e,t,a){t.preventDefault();var n=parseInt(e.data("id")),l=e.attr("name"),s=$(a.idSelect).find("div[id = '".concat(n,"']"));s.remove(),d(n,l,a),function(e,t,a){var n=parseInt($(a.idType+":checked").val());switch(a.optionAjax){case p.optionAjax:1==n?-1===t&&r.language.push(e):-1===t&&r.exclude_language.push(e);break;case u.optionAjax:1==n?-1===t&&r.channels.push(e):-1===t&&r.exclude_channels.push(e);break;case v.optionAjax:1==n?-1===t&&r.keywords.push(e):-1===t&&r.exclude_keywords.push(e)}}(n,-1,a),$(a.idBox).find("."+a.btnRemove).length>0&&$(a.idType).closest("div").removeClass("cursor-not-allowed").find("label").removeClass("disabled");a.optionAjax===p.optionAjax&&(i(u),i(h),i(v),i(g));a.optionAjax===u.optionAjax&&(i(h),i(v),i(g));a.optionAjax===v.optionAjax&&i(g)}($(this),t,e),function(e){var t=$(e.idSelect).get(0);350===t.scrollHeight&&e.isMoreData&&(e.search=$(e.idSearch).val(),e.isSearch=!1,l(e))}(e),function(e){var t=$(e.idSelect).find("div.target-item"),a=$("."+e.boxEmpty);t.length>0?a.length>0?a.attr("hidden",!0):$(e.idSelect).append('<div class="list-group list-group-flush my-n3 pt-3 '.concat(e.boxEmpty,'" hidden>\n        <div class="list-group-item">\n            <div class="d-flex flex-row align-items-center px-md-2">\n                <div class="col p-0 text-center"><h6 class="m-0 font-weight-semibold fs-12">No data available</h6></div>\n            </div>\n        </div>\n    </div>')):a.length>0?a.attr("hidden",!1):$(e.idSelect).append('<div class="list-group list-group-flush my-n3 pt-3 '.concat(e.boxEmpty,'">\n        <div class="list-group-item">\n            <div class="d-flex flex-row align-items-center px-md-2">\n                <div class="col p-0 text-center"><h6 class="m-0 font-weight-semibold fs-12">No data available</h6></div>\n            </div>\n        </div>\n    </div>'))}(e),$(this).hasClass("add_inventory")&&$(".domain-card").removeClass("domain-card-invalid")})),$(e.idSearch).on("input",(function(){e.page=1,e.isSearch=!0,e.lastPage=!1,e.search=$(this).val(),l(e),n(e)})),$(e.idSearch).on("keyup keypress",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),$(e.block).on("click","a."+e.btnRemoveAll,(function(t){t.preventDefault(),function(e){switch(e.list_selected.map((function(t){var a,n,l;a=t.id,n=t.name,l=e,$(l.idSelect).append('<div class="dm20 target-item" id="'.concat(a,'">\n        <span>').concat(n,'</span>\n        <button class="').concat(l.btnInclude,'" data-id="').concat(a,'" name="').concat(n,'" type="button">\n            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">\n                <path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"></path>\n            </svg>\n        </button>\n    </div>'))})),e.list_selected=[],i(e),e.idSelect){case p.idSelect:r.language=[],r.exclude_language=[],i(u),i(h),i(v),i(g);break;case u.idSelect:r.channels=[],r.exclude_channels=[],i(h),i(v),i(g);break;case v.idSelect:r.keywords=[],r.exclude_keywords=[],i(g)}}(e)})),$(e.idBox).on("click","button."+e.btnRemove,(function(t){!function(e,t,a){t.preventDefault();var n=parseInt(e.attr("id")),s=e.attr("name"),o=$(a.idBox).find("div[id = '".concat(n,"']"));o.remove(),d(n,s,a),0==$(a.idBox).find("."+a.btnRemove).length&&($(a.idType+'[value="1"]').prop("checked",!0),$(a.idType).closest("div").addClass("cursor-not-allowed").find("label").addClass("disabled"));var c=parseInt($(a.idType+":checked").val());switch(a.optionAjax){case p.optionAjax:if(1==c){var x=r.language.indexOf(n);x>-1&&r.language.splice(x,1)}else{var _=r.exclude_language.indexOf(n);_>-1&&r.exclude_language.splice(_,1)}p.page=1,p.isSearch=!0,l(p),i(u),i(h),i(v),i(g);break;case u.optionAjax:if(1==c){var f=r.channels.indexOf(n);f>-1&&r.channels.splice(f,1)}else{var y=r.exclude_channels.indexOf(n);y>-1&&r.exclude_channels.splice(y,1)}u.page=1,u.isSearch=!0,l(u),i(h),i(v),i(g);break;case v.optionAjax:if(1==c){var m=r.keywords.indexOf(n);m>-1&&r.keywords.splice(m,1)}else{var b=r.exclude_keywords.indexOf(n);b>-1&&r.exclude_keywords.splice(b,1)}v.page=1,v.isSearch=!0,l(v),i(g);break;default:l(a)}}($(this),t,e)}))}(e),n(e)}function a(e){if(0===e.list_selected.length)$(e.idBox).html(""),$(e.idBox).append('<div id="'.concat(e.idEmpty,'" class="d-flex flex-row align-items-center px-md-2" style="height: 25px">\n            <div class="col p-0"><h6\n                        class="m-0 font-weight-semibold fs-12 text-center">\n                    No data selected</h6></div>\n        </div>'));else{var t="#"+e.idEmpty;$(t).remove()}}function n(e){$(e.idSelect).on("scroll",(function(){var t=$(this).get(0),a=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e+t+1>=a}(Math.round(t.scrollTop),t.clientHeight,t.scrollHeight);a&&e.isMoreData&&(e.search=$(e.idSearch).val(),e.isSearch=!1,e.checkLoadMore||l(e))}))}function l(e){var t;e.checkLoadMore=!0,t=0===e.page?e.page+1:e.page;var a=[];e.list_selected.map((function(e){a.push(e.id)})),1==t&&$(e.idSelect).html(""),$.ajax({url:e.urlAjax,type:"GET",data:{key:t,search:e.search,option:e.optionAjax,filter:JSON.stringify(r),selected:JSON.stringify(a)},success:function(a){1==t&&$(e.idSelect).html(""),e.isSearch&&$(e.idSelect).html(""),$(e.idSelect).append(a.data),e.isMoreData=a.is_more_data,!0===a.is_more_data&&(e.page=a.current_page+1),function(e){e.list_selected.map((function(t){$(e.idSelect).find("div[id = '".concat(t.id,"']")).remove()}))}(e),s(e),e.checkLoadMore=!1,e.lastPage=a.last_page,function(e,t,a){t<30&&1===a||(e.lastPage||t>30||0===t)&&($("."+e.boxEmpty).remove(),$(e.idSelect).append('<div class="list-group list-group-flush my-n3 pt-3 '.concat(e.boxEmpty,'">\n        <div class="list-group-item">\n            <div id="').concat(e.idEmptyLoad,'" class="d-flex flex-row align-items-center px-md-2">\n                <div class="col p-0 text-center"><h6 class="m-0 font-weight-semibold fs-12">No data available</h6></div>\n            </div>\n        </div>\n    </div>')))}(e,a.total,a.current_page),e.idSelect==g.idSelect&&(a.total_all&&a.total_all>0?($("#total_video").removeClass("d-none"),$(".number-v").text($("#list_videos").find(".target-item").length),$(".total-v").text(a.total_all),$(".box_empty_video").addClass("d-none")):($("#total_video").addClass("d-none"),$(".box_empty_video").removeClass("d-none")))},error:function(e){console.log(e)}})}function i(e){$(e.idSelect).html(""),$(e.idBox).html(""),$(e.idType+'[value="1"]').prop("checked",!0),e.page=1,e.isSearch=!1,e.isMoreData=!0,e.list_selected=[],l(e),a(e),s(e),0==$(e.idBox).find("."+e.btnRemove).length&&($(e.idType+'[value="1"]').prop("checked",!0),$(e.idType).closest("div").addClass("cursor-not-allowed").find("label").addClass("disabled"))}function s(e){var t=e.list_selected.map((function(e){return" ".concat(e.name)})).join(),a=t.length;if(a>40){$(e.text).prev().attr("hidden",!0);var n=t.substring(0,39);$(e.text).html(n+"....")}else if(a>0)$(e.text).prev().attr("hidden",!0),$(e.text).html(t);else switch($(e.text).prev().removeAttr("hidden"),e){case p:$(e.text).html("all language");break;case u:$(e.text).html("all channels");break;case h:$(e.text).html("all categories");break;case g:$(e.text).html("all videos");break;case v:$(e.text).html("all keywords")}}function d(e,t,n){var l=n.list_selected.map((function(e){return e.id})).indexOf(e);-1===l?(n.list_selected.push({id:e,name:t}),function(e,t,a){$(a.idBox).append('<div class="dm20 target-item item_selected" id="'.concat(e,'">\n            <span>').concat(t,'</span>\n            <button class="').concat(a.btnRemove,'" id="').concat(e,'" name="').concat(t,'" type="button">\n                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-dash-lg" viewBox="0 0 16 16">\n                    <path d="M0 8a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1z"></path>\n                </svg>\n            </button>\n        </div>'))}(e,t,n)):n.list_selected.splice(l,1),s(n),a(n)}function o(){$("#content").find("option").removeAttr("disabled"),$("#content").find("option").each((function(){var t=$(this).attr("value");e.includes(t)&&$(this).attr("disabled","disabled")}))}function c(e){switch(e.status){case"error":1===e.errors.length&&""===e.errors[0].id?new AlertError(e.errors[0].message):e.errors.length>0?($.each(e.errors,(function(e,t){var a=$("#"+t.id);a.addClass("is-invalid").nextAll("span.invalid-feedback").text(t.message),a.next().find(".select2-selection").addClass("select2-is-invalid")})),$("#"+e.errors[0].id).focus(),$("#"+e.errors[0].id).prev("label").focus()):new AlertError("Error!");break;case"success":NoticeSuccess("Playlist has been updated successfully");break;default:new AlertError("Undefined")}}$(document).ready((function(){var t;$("#show-content-select .content").each((function(){var t=$(this).attr("data-content-id");e.push(t)})),o(),t="/playlist/collapse",$("#createPlaylist").on("show.bs.collapse",".collapse",(function(e){var a=e.target.id;!function(e,t,a,n){$.ajax({url:e,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify({is_collapse:2,box_collapse:t,page_type:n,page_id:a}),beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined")},error:function(e,t){}}).done((function(e){}))}(t,a,0,"add")})),$("#createPlaylist").on("hide.bs.collapse",".collapse",(function(e){var a=e.target.id;!function(e,t,a,n){$.ajax({url:e,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify({is_collapse:1,box_collapse:t,page_type:n,page_id:a}),beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined")},error:function(e,t){}}).done((function(e){}))}(t,a,0,"add")})),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=$("#"+e);n.find("input").on("click change blur",(function(e){var t=$(this);t.hasClass("is-invalid")&&t.removeClass("is-invalid").next(".invalid-feedback").empty()})),n.find("textarea").on("click change blur",(function(e){var t=$(this);t.hasClass("is-invalid")&&t.removeClass("is-invalid").next(".invalid-feedback").empty()})),n.find(".select2").on("select2:open",(function(e){var t=$(this);t.next().find(".select2-selection").hasClass("select2-is-invalid")&&(t.next().find(".select2-selection").removeClass("select2-is-invalid"),t.removeClass("is-invalid").next(".invalid-feedback").empty())})),n.find(".submit").on("click",(function(e){e.preventDefault();var l=$(this),i=l.text(),s="Loading...",d=n.serializeObject();d.videos_limit=parseInt(d.videos_limit),d.listLanguage=p.list_selected,d.listChannels=u.list_selected,d.listCategory=h.list_selected,d.listKeywords=v.list_selected,d.listVideos=g.list_selected,d.type_category=parseInt(d.type_category),d.type_channels=parseInt(d.type_channels),d.type_keywords=parseInt(d.type_keywords),d.type_language=parseInt(d.type_language),d.type_videos=parseInt(d.type_videos),d.id=parseInt(d.id),$.ajax({url:a,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(d),beforeSend:function(e){l.attr("disabled",!0).text(s)},error:function(e,t){var a=AjaxErrorMessage(e,t);new AlertError("AJAX ERROR: "+a),l.attr("disabled",!1).text(i)},success:function(e){l.attr("disabled",!1).text(i)},complete:function(e){t(e.responseJSON,n)}})}))}("editPlaylist",c,"/playlist/edit"),$("div > #content").on("select2:select",(function(t){!function(t,a){var n=t.params.data;if(e.indexOf(n.id)>-1)return;$("#content option:selected").attr("data-desc");var l=$("#content option:selected").attr("data-thumb");e.push(n.id),a.parent().append('<input type="hidden" name="content" value="${data.id}">'),func.appendContentSelect(n.id,n.text,l),o()}(t,$(this))})),$(".playlist-tab").on("click",".nav-link",(function(){$(".playlist-tab").find(".nav-link").removeClass("pp-4"),$(this).addClass("pp-4"),"1"!=$(this).attr("data-tab")?$(this).addClass("at-1"):$(".playlist-tab").find(".at-1").removeClass("at-1")})),$('[data-toggle="collapse"]').on("click",(function(){var e=$(this);console.log($(this)),e.toggleClass("dm14"),e.hasClass("dm14")?e.find(".dm23").find("button").html('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-dash-lg" viewBox="0 0 16 16">\n<path d="M0 8a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1z">\n</path>\n</svg>'):e.find(".dm23").find("button").html('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">\n<path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"></path>\n</svg>'),$("#nav-target").find('[data-toggle="collapse"]').each((function(){e[0]!=$(this)[0]&&($(this).removeClass("dm14"),$(this).find(".dm23").find("button").html('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">\n<path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"></path>\n</svg>'))}))})),$('input[type="radio"]').on("change",(function(){!function(){var e=$(p.idBox).find("."+p.btnRemove),t=parseInt($(p.idType+":checked").val());e.each((function(e,a){var n=parseInt(a.id);1==t?(r.language.includes(n)||r.language.push(n),r.exclude_language.indexOf(n)>-1&&r.exclude_language.splice(r.exclude_language.indexOf(n))):(r.exclude_language.includes(n)||r.exclude_language.push(n),r.language.indexOf(n)>-1&&r.language.splice(r.language.indexOf(n)))}));var a=$(u.idBox).find("."+u.btnRemove);t=parseInt($(u.idType+":checked").val()),a.each((function(e,a){var n=parseInt(a.id);1==t?(r.channels.includes(n)||r.channels.push(n),r.exclude_channels.indexOf(n)>-1&&r.exclude_channels.splice(r.exclude_channels.indexOf(n))):(r.exclude_channels.includes(n)||r.exclude_channels.push(n),r.channels.indexOf(n)>-1&&r.channels.splice(r.channels.indexOf(n)))}));var n=$(v.idBox).find("."+v.btnRemove);t=parseInt($(v.idType+":checked").val()),n.each((function(e,a){var n=parseInt(a.id);1==t?(r.keywords.includes(n)||r.keywords.push(n),r.exclude_keywords.indexOf(n)>-1&&r.exclude_keywords.splice(r.exclude_keywords.indexOf(n))):(r.exclude_keywords.includes(n)||r.exclude_keywords.push(n),r.keywords.indexOf(n)>-1&&r.keywords.splice(r.keywords.indexOf(n)))}))}(),$(this).hasClass(p.idType.replace(".",""))&&(i(u),i(h),i(v),i(g)),$(this).hasClass(u.idType.replace(".",""))&&(i(h),i(v),i(g)),$(this).hasClass(v.idType.replace(".",""))&&i(g)})),[p,u,h,v,g].forEach((function(e){0==$(e.idBox).find("."+e.btnRemove).length&&($(e.idType+'[value="1"]').prop("checked",!0),$(e.idType).closest("div").addClass("cursor-not-allowed").find("label").addClass("disabled"))}))})),$(document).ready((function(){t(p),t(u),t(h),t(v),t(g)}));var r={language:[],exclude_language:[],channels:[],exclude_channels:[],keywords:[],exclude_keywords:[]},p={idSelect:"#list_language",idBox:".box_language",idType:".type_language",idIsMoreData:"#is_more_language",isMoreData:!1,lastPage:!1,page:2,isSearch:!1,search:"",idSearch:"#search_language",urlAjax:"/target/loadPlaylist",optionAjax:"language",filterAjax:[],list_selected:[],btnInclude:"add_language",btnRemove:"remove_language",idEmpty:"empty_language",idEmptyLoad:"load_empty_language",checkLoadMore:!1,text:"#text_for_language",btnRemoveAll:"remove_all_language",btnSelectAll:"select_all_language",block:".block_language",container:".container_language",boxEmpty:"box_empty_language"},u={idSelect:"#list_channels",idBox:".box_channels",idType:".type_channels",idIsMoreData:"#is_more_channels",isMoreData:!1,lastPage:!1,page:2,isSearch:!1,search:"",idSearch:"#search_channels",urlAjax:"/target/loadPlaylist",optionAjax:"channels",filterAjax:[],list_selected:[],btnInclude:"add_channels",btnRemove:"remove_channels",idEmpty:"empty_channels",idEmptyLoad:"load_empty_channels",checkLoadMore:!1,text:"#text_for_channels",btnRemoveAll:"remove_all_channels",btnSelectAll:"select_all_channels",block:".block_channels",container:".container_channels",boxEmpty:"box_empty_channels"},h={idSelect:"#list_category",idBox:".box_category",idType:".type_category",idIsMoreData:"#is_more_category",isMoreData:!1,lastPage:!1,page:2,isSearch:!1,search:"",idSearch:"#search_category",urlAjax:"/target/loadPlaylist",optionAjax:"category",filterAjax:[],list_selected:[],btnInclude:"add_category",btnRemove:"remove_category",idEmpty:"empty_category",text:"#text_for_category",btnRemoveAll:"remove_all_category",btnSelectAll:"select_all_category",block:".block_category",container:".container_category",boxEmpty:"box_empty_category"},v={idSelect:"#list_keywords",idBox:".box_keywords",idType:".type_keywords",idIsMoreData:"#is_more_keywords",isMoreData:!1,lastPage:!1,page:2,isSearch:!1,search:"",idSearch:"#search_keywords",urlAjax:"/target/loadPlaylist",optionAjax:"keywords",filterAjax:[],list_selected:[],btnInclude:"add_keywords",btnRemove:"remove_keywords",idEmpty:"empty_keywords",idEmptyLoad:"load_empty_keywords",checkLoadMore:!1,text:"#text_for_keywords",btnRemoveAll:"remove_all_keywords",btnSelectAll:"select_all_keywords",block:".block_keywords",container:".container_keywords",boxEmpty:"box_empty_keywords"},g={idSelect:"#list_videos",idBox:".box_videos",idType:".type_videos",idIsMoreData:"#is_more_videos",isMoreData:!1,lastPage:!1,page:2,isSearch:!1,search:"",idSearch:"#search_videos",urlAjax:"/target/loadPlaylist",optionAjax:"videos",list_selected:[],btnInclude:"add_videos",btnRemove:"remove_videos",idEmpty:"empty_videos",idEmptyLoad:"load_empty_videos",checkLoadMore:!1,text:"#text_for_videos",btnRemoveAll:"remove_all_videos",btnSelectAll:"select_all_videos",block:".block_videos",container:".container_videos",boxEmpty:"box_empty_videos"}})();
(()=>{var e=[];function a(e){!function(e){var a=$(e.idBox).find("."+e.btnRemove),t=parseInt($(e.idType+":checked").val());a.each((function(a,n){var l=parseInt(n.id),i=n.name;switch(e.list_selected.push({id:l,name:i}),e.optionAjax){case r.optionAjax:1==t?c.language.includes(l)||c.language.push(l):c.exclude_language.includes(l)||c.exclude_language.push(l);break;case p.optionAjax:1==t?c.channels.includes(l)||c.channels.push(l):c.exclude_channels.includes(l)||c.exclude_channels.push(l);break;case h.optionAjax:1==t?c.keywords.includes(l)||c.keywords.push(l):c.exclude_keywords.includes(l)||c.exclude_keywords.push(l)}}))}(e),function(e){e.isMoreData=$(e.idSearch).val(),e.page=1,l(e)}(e),t(e),function(e){$(e.idSelect).on("click","button."+e.btnInclude,(function(a){!function(e,a,t){a.preventDefault();var n=parseInt(e.data("id")),l=e.attr("name");$(t.idSelect).find("div[id = '".concat(n,"']")).remove(),o(n,l,t),function(e,a,t){var n=parseInt($(t.idType+":checked").val());switch(t.optionAjax){case r.optionAjax:1==n?-1===a&&c.language.push(e):-1===a&&c.exclude_language.push(e);break;case p.optionAjax:1==n?-1===a&&c.channels.push(e):-1===a&&c.exclude_channels.push(e);break;case h.optionAjax:1==n?-1===a&&c.keywords.push(e):-1===a&&c.exclude_keywords.push(e)}}(n,-1,t),$(t.idBox).find("."+t.btnRemove).length>0&&$(t.idType).closest("div").removeClass("cursor-not-allowed").find("label").removeClass("disabled");t.optionAjax===r.optionAjax&&(i(p),i(u),i(v),i(h));t.optionAjax===p.optionAjax&&(i(u),i(v),i(h));t.optionAjax===h.optionAjax&&i(v)}($(this),a,e),function(e){350===$(e.idSelect).get(0).scrollHeight&&e.isMoreData&&(e.search=$(e.idSearch).val(),e.isSearch=!1,l(e))}(e),function(e){var a=$(e.idSelect).find("div.target-item"),t=$("."+e.boxEmpty);a.length>0?t.length>0?t.attr("hidden",!0):$(e.idSelect).append('<div class="list-group list-group-flush my-n3 pt-3 '.concat(e.boxEmpty,'" hidden>\n        <div class="list-group-item">\n            <div class="d-flex flex-row align-items-center px-md-2">\n                <div class="col p-0 text-center"><h6 class="m-0 font-weight-semibold fs-12">No data available</h6></div>\n            </div>\n        </div>\n    </div>')):t.length>0?t.attr("hidden",!1):$(e.idSelect).append('<div class="list-group list-group-flush my-n3 pt-3 '.concat(e.boxEmpty,'">\n        <div class="list-group-item">\n            <div class="d-flex flex-row align-items-center px-md-2">\n                <div class="col p-0 text-center"><h6 class="m-0 font-weight-semibold fs-12">No data available</h6></div>\n            </div>\n        </div>\n    </div>'))}(e),$(this).hasClass("add_inventory")&&$(".domain-card").removeClass("domain-card-invalid")})),$(e.idSearch).on("input",(function(){e.page=1,e.isSearch=!0,e.lastPage=!1,e.search=$(this).val(),l(e),n(e)})),$(e.idSearch).on("keyup keypress",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),$(e.block).on("click","a."+e.btnRemoveAll,(function(a){a.preventDefault(),function(e){switch(e.list_selected.map((function(a){var t,n,l;t=a.id,n=a.name,l=e,$(l.idSelect).append('<div class="dm20 target-item" id="'.concat(t,'">\n        <span>').concat(n,'</span>\n        <button class="').concat(l.btnInclude,'" data-id="').concat(t,'" name="').concat(n,'" type="button">\n            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">\n                <path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"></path>\n            </svg>\n        </button>\n    </div>'))})),e.list_selected=[],i(e),e.idSelect){case r.idSelect:c.language=[],c.exclude_language=[],i(p),i(u),i(h),i(v);break;case p.idSelect:c.channels=[],c.exclude_channels=[],i(u),i(h),i(v);break;case h.idSelect:c.keywords=[],c.exclude_keywords=[],i(v)}}(e)})),$(e.idBox).on("click","button."+e.btnRemove,(function(a){!function(e,a,t){a.preventDefault();var n=parseInt(e.attr("id")),s=e.attr("name");$(t.idBox).find("div[id = '".concat(n,"']")).remove(),o(n,s,t),0==$(t.idBox).find("."+t.btnRemove).length&&($(t.idType+'[value="1"]').prop("checked",!0),$(t.idType).closest("div").addClass("cursor-not-allowed").find("label").addClass("disabled"));var d=parseInt($(t.idType+":checked").val());switch(t.optionAjax){case r.optionAjax:if(1==d){var g=c.language.indexOf(n);g>-1&&c.language.splice(g,1)}else{var x=c.exclude_language.indexOf(n);x>-1&&c.exclude_language.splice(x,1)}r.page=1,r.isSearch=!0,l(r),i(p),i(u),i(h),i(v);break;case p.optionAjax:if(1==d){var _=c.channels.indexOf(n);_>-1&&c.channels.splice(_,1)}else{var f=c.exclude_channels.indexOf(n);f>-1&&c.exclude_channels.splice(f,1)}p.page=1,p.isSearch=!0,l(p),i(u),i(h),i(v);break;case h.optionAjax:if(1==d){var y=c.keywords.indexOf(n);y>-1&&c.keywords.splice(y,1)}else{var m=c.exclude_keywords.indexOf(n);m>-1&&c.exclude_keywords.splice(m,1)}h.page=1,h.isSearch=!0,l(h),i(v);break;default:l(t)}}($(this),a,e)}))}(e),n(e)}function t(e){if(0===e.list_selected.length)$(e.idBox).html(""),$(e.idBox).append('<div id="'.concat(e.idEmpty,'" class="d-flex flex-row align-items-center px-md-2" style="height: 25px">\n            <div class="col p-0"><h6\n                        class="m-0 font-weight-semibold fs-12 text-center">\n                    No data selected</h6></div>\n        </div>'));else{var a="#"+e.idEmpty;$(a).remove()}}function n(e){$(e.idSelect).on("scroll",(function(){var a=$(this).get(0),t=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e+a+1>=t}(Math.round(a.scrollTop),a.clientHeight,a.scrollHeight);t&&e.isMoreData&&(e.search=$(e.idSearch).val(),e.isSearch=!1,e.checkLoadMore||l(e))}))}function l(e){var a;e.checkLoadMore=!0,a=0===e.page?e.page+1:e.page;var t=[];e.list_selected.map((function(e){t.push(e.id)})),1==a&&$(e.idSelect).html(""),$.ajax({url:e.urlAjax,type:"GET",data:{key:a,search:e.search,option:e.optionAjax,filter:JSON.stringify(c),selected:JSON.stringify(t)},success:function(t){1==a&&$(e.idSelect).html(""),e.isSearch&&$(e.idSelect).html(""),$(e.idSelect).append(t.data),e.isMoreData=t.is_more_data,!0===t.is_more_data&&(e.page=t.current_page+1),function(e){e.list_selected.map((function(a){$(e.idSelect).find("div[id = '".concat(a.id,"']")).remove()}))}(e),s(e),e.checkLoadMore=!1,e.lastPage=t.last_page,function(e,a,t){a<30&&1===t||(e.lastPage||a>30||0===a)&&($("."+e.boxEmpty).remove(),$(e.idSelect).append('<div class="list-group list-group-flush my-n3 pt-3 '.concat(e.boxEmpty,'">\n        <div class="list-group-item">\n            <div id="').concat(e.idEmptyLoad,'" class="d-flex flex-row align-items-center px-md-2">\n                <div class="col p-0 text-center"><h6 class="m-0 font-weight-semibold fs-12">No data available</h6></div>\n            </div>\n        </div>\n    </div>')))}(e,t.total,t.current_page),e.idSelect==v.idSelect&&(t.total_all&&t.total_all>0?($("#total_video").removeClass("d-none"),$(".number-v").text($("#list_videos").find(".target-item").length),$(".total-v").text(t.total_all),$(".box_empty_video").addClass("d-none")):($("#total_video").addClass("d-none"),$(".box_empty_video").removeClass("d-none")))},error:function(e){console.log(e)}})}function i(e){$(e.idSelect).html(""),$(e.idBox).html(""),$(e.idType+'[value="1"]').prop("checked",!0),e.page=1,e.isSearch=!1,e.isMoreData=!0,e.list_selected=[],l(e),t(e),s(e),0==$(e.idBox).find("."+e.btnRemove).length&&($(e.idType+'[value="1"]').prop("checked",!0),$(e.idType).closest("div").addClass("cursor-not-allowed").find("label").addClass("disabled"))}function s(e){var a=e.list_selected.map((function(e){return" ".concat(e.name)})).join(),t=a.length;if(t>40){$(e.text).prev().attr("hidden",!0);var n=a.substring(0,39);$(e.text).html(n+"....")}else if(t>0)$(e.text).prev().attr("hidden",!0),$(e.text).html(a);else switch($(e.text).prev().removeAttr("hidden"),e){case r:$(e.text).html("all language");break;case p:$(e.text).html("all channels");break;case u:$(e.text).html("all categories");break;case v:$(e.text).html("all videos");break;case h:$(e.text).html("all keywords")}}function o(e,a,n){var l=n.list_selected.map((function(e){return e.id})).indexOf(e);-1===l?(n.list_selected.push({id:e,name:a}),function(e,a,t){$(t.idBox).append('<div class="dm20 target-item item_selected" id="'.concat(e,'">\n            <span>').concat(a,'</span>\n            <button class="').concat(t.btnRemove,'" id="').concat(e,'" name="').concat(a,'" type="button">\n                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-dash-lg" viewBox="0 0 16 16">\n                    <path d="M0 8a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1z"></path>\n                </svg>\n            </button>\n        </div>'))}(e,a,n)):n.list_selected.splice(l,1),s(n),t(n)}function d(e,a){switch(e.status){case"error":1===e.errors.length&&""===e.errors[0].id?new AlertError(e.errors[0].message):e.errors.length>0?($.each(e.errors,(function(e,a){var t=$("#"+a.id);t.addClass("is-invalid").nextAll("span.invalid-feedback").text(a.message),t.next().find(".select2-selection").addClass("select2-is-invalid")})),$("#"+e.errors[0].id).focus(),$("#"+e.errors[0].id).prev("label").focus()):new AlertError("Error!");break;case"success":NoticeSuccess("Playlist has been created successfully"),setTimeout((function(){window.location.replace("/playlist")}),1e3);break;default:new AlertError("Undefined")}}$(document).ready((function(){var a;a="/playlist/collapse",$("#createPlaylist").on("show.bs.collapse",".collapse",(function(e){var t=e.target.id;!function(e,a,t,n){$.ajax({url:e,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify({is_collapse:2,box_collapse:a,page_type:n,page_id:t}),beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined")},error:function(e,a){}}).done((function(e){}))}(a,t,0,"add")})),$("#createPlaylist").on("hide.bs.collapse",".collapse",(function(e){var t=e.target.id;!function(e,a,t,n){$.ajax({url:e,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify({is_collapse:1,box_collapse:a,page_type:n,page_id:t}),beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined")},error:function(e,a){}}).done((function(e){}))}(a,t,0,"add")})),function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=$("#"+e);n.find("input").on("click change blur",(function(e){var a=$(this);a.hasClass("is-invalid")&&a.removeClass("is-invalid").next(".invalid-feedback").empty()})),n.find("textarea").on("click change blur",(function(e){var a=$(this);a.hasClass("is-invalid")&&a.removeClass("is-invalid").next(".invalid-feedback").empty()})),n.find(".select2").on("select2:open",(function(e){var a=$(this);a.next().find(".select2-selection").hasClass("select2-is-invalid")&&(a.next().find(".select2-selection").removeClass("select2-is-invalid"),a.removeClass("is-invalid").next(".invalid-feedback").empty())})),n.find(".submit").on("click",(function(e){e.preventDefault();var l=$(this),i=l.text(),s="Loading...",o=n.serializeObject();o.videos_limit=parseInt(o.videos_limit),o.listLanguage=r.list_selected,o.listChannels=p.list_selected,o.listCategory=u.list_selected,o.listKeywords=h.list_selected,o.listVideos=v.list_selected,o.type_category=parseInt(o.type_category),o.type_channels=parseInt(o.type_channels),o.type_keywords=parseInt(o.type_keywords),o.type_language=parseInt(o.type_language),o.type_videos=parseInt(o.type_videos),$.ajax({url:t,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify(o),beforeSend:function(e){l.attr("disabled",!0).text(s)},error:function(e,a){var t=AjaxErrorMessage(e,a);new AlertError("AJAX ERROR: "+t),l.attr("disabled",!1).text(i)},success:function(e){l.attr("disabled",!1).text(i)},complete:function(e){a(e.responseJSON,n)}})}))}("createPlaylist",d,"/playlist/add"),$("div > #content").on("select2:select",(function(a){!function(a,t){var n=a.params.data;if(e.indexOf(n.id)>-1)return;$("#content option:selected").attr("data-desc");var l=$("#content option:selected").attr("data-thumb");e.push(n.id),t.parent().append('<input type="hidden" name="content" value="${data.id}">'),func.appendContentSelect(n.id,n.text,l),$("#content").find("option").removeAttr("disabled"),$("#content").find("option").each((function(){var a=$(this).attr("value");e.includes(a)&&$(this).attr("disabled","disabled")})),$("#content").select2()}(a,$(this))})),$(".playlist-tab").on("click",".nav-link",(function(){$(".playlist-tab").find(".nav-link").removeClass("pp-4"),$(this).addClass("pp-4"),"1"!=$(this).attr("data-tab")?$(this).addClass("at-1"):$(".playlist-tab").find(".at-1").removeClass("at-1")})),$('[data-toggle="collapse"]').on("click",(function(){var e=$(this);console.log($(this)),e.toggleClass("dm14"),e.hasClass("dm14")?e.find(".dm23").find("button").html('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-dash-lg" viewBox="0 0 16 16">\n<path d="M0 8a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1z">\n</path>\n</svg>'):e.find(".dm23").find("button").html('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">\n<path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"></path>\n</svg>'),$("#nav-target").find('[data-toggle="collapse"]').each((function(){e[0]!=$(this)[0]&&($(this).removeClass("dm14"),$(this).find(".dm23").find("button").html('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">\n<path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"></path>\n</svg>'))}))})),$('input[type="radio"]').on("change",(function(){!function(){var e=$(r.idBox).find("."+r.btnRemove),a=parseInt($(r.idType+":checked").val());e.each((function(e,t){var n=parseInt(t.id);1==a?(c.language.includes(n)||c.language.push(n),c.exclude_language.indexOf(n)>-1&&c.exclude_language.splice(c.exclude_language.indexOf(n))):(c.exclude_language.includes(n)||c.exclude_language.push(n),c.language.indexOf(n)>-1&&c.language.splice(c.language.indexOf(n)))}));var t=$(p.idBox).find("."+p.btnRemove);a=parseInt($(p.idType+":checked").val()),t.each((function(e,t){var n=parseInt(t.id);1==a?(c.channels.includes(n)||c.channels.push(n),c.exclude_channels.indexOf(n)>-1&&c.exclude_channels.splice(c.exclude_channels.indexOf(n))):(c.exclude_channels.includes(n)||c.exclude_channels.push(n),c.channels.indexOf(n)>-1&&c.channels.splice(c.channels.indexOf(n)))}));var n=$(h.idBox).find("."+h.btnRemove);a=parseInt($(h.idType+":checked").val()),n.each((function(e,t){var n=parseInt(t.id);1==a?(c.keywords.includes(n)||c.keywords.push(n),c.exclude_keywords.indexOf(n)>-1&&c.exclude_keywords.splice(c.exclude_keywords.indexOf(n))):(c.exclude_keywords.includes(n)||c.exclude_keywords.push(n),c.keywords.indexOf(n)>-1&&c.keywords.splice(c.keywords.indexOf(n)))}))}(),$(this).hasClass(r.idType.replace(".",""))&&(i(p),i(u),i(v),i(h)),$(this).hasClass(p.idType.replace(".",""))&&(i(u),i(v),i(h)),$(this).hasClass(h.idType.replace(".",""))&&i(v)})),[r,p,u,h,v].forEach((function(e){0==$(e.idBox).find("."+e.btnRemove).length&&($(e.idType+'[value="1"]').prop("checked",!0),$(e.idType).closest("div").addClass("cursor-not-allowed").find("label").addClass("disabled"))}))})),$(document).ready((function(){a(r),a(p),a(u),a(h),a(v)}));var c={language:[],exclude_language:[],channels:[],exclude_channels:[],keywords:[],exclude_keywords:[]},r={idSelect:"#list_language",idBox:".box_language",idType:".type_language",idIsMoreData:"#is_more_language",isMoreData:!0,lastPage:!1,page:1,isSearch:!1,search:"",idSearch:"#search_language",urlAjax:"/target/loadPlaylist",optionAjax:"language",filterAjax:[],list_selected:[],btnInclude:"add_language",btnRemove:"remove_language",idEmpty:"empty_language",idEmptyLoad:"load_empty_language",checkLoadMore:!1,text:"#text_for_language",btnRemoveAll:"remove_all_language",btnSelectAll:"select_all_language",block:".block_language",container:".container_language",boxEmpty:"box_empty_language"},p={idSelect:"#list_channels",idBox:".box_channels",idType:".type_channels",idIsMoreData:"#is_more_channels",isMoreData:!0,lastPage:!1,page:1,isSearch:!1,search:"",idSearch:"#search_channels",urlAjax:"/target/loadPlaylist",optionAjax:"channels",filterAjax:[],list_selected:[],btnInclude:"add_channels",btnRemove:"remove_channels",idEmpty:"empty_channels",idEmptyLoad:"load_empty_channels",checkLoadMore:!1,text:"#text_for_channels",btnRemoveAll:"remove_all_channels",btnSelectAll:"select_all_channels",block:".block_channels",container:".container_channels",boxEmpty:"box_empty_channels"},u={idSelect:"#list_category",idBox:".box_category",idType:".type_category",idIsMoreData:"#is_more_category",isMoreData:!0,lastPage:!1,page:1,isSearch:!1,search:"",idSearch:"#search_category",urlAjax:"/target/loadPlaylist",optionAjax:"category",filterAjax:[],list_selected:[],btnInclude:"add_category",btnRemove:"remove_category",idEmpty:"empty_category",text:"#text_for_category",btnRemoveAll:"remove_all_category",btnSelectAll:"select_all_category",block:".block_category",container:".container_category",boxEmpty:"box_empty_category"},h={idSelect:"#list_keywords",idBox:".box_keywords",idType:".type_keywords",idIsMoreData:"#is_more_keywords",isMoreData:!0,lastPage:!1,page:1,isSearch:!1,search:"",idSearch:"#search_keywords",urlAjax:"/target/loadPlaylist",optionAjax:"keywords",filterAjax:[],list_selected:[],btnInclude:"add_keywords",btnRemove:"remove_keywords",idEmpty:"empty_keywords",idEmptyLoad:"load_empty_keywords",checkLoadMore:!1,text:"#text_for_keywords",btnRemoveAll:"remove_all_keywords",btnSelectAll:"select_all_keywords",block:".block_keywords",container:".container_keywords",boxEmpty:"box_empty_keywords"},v={idSelect:"#list_videos",idBox:".box_videos",idType:".type_videos",idIsMoreData:"#is_more_videos",isMoreData:!0,lastPage:!1,page:1,isSearch:!1,search:"",idSearch:"#search_videos",urlAjax:"/target/loadPlaylist",optionAjax:"videos",list_selected:[],btnInclude:"add_videos",btnRemove:"remove_videos",idEmpty:"empty_videos",idEmptyLoad:"load_empty_videos",checkLoadMore:!1,text:"#text_for_videos",btnRemoveAll:"remove_all_videos",btnSelectAll:"select_all_videos",block:".block_videos",container:".container_videos",boxEmpty:"box_empty_videos"}})();
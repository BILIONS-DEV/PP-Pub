(()=>{var e="#formFilterBidder",t="#tableBidders",a="/line-item-v2",r=!0,n=[],i=[],l=[],s=[],c=[],o=[];function d(){var n,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=$(e),s=l.find(".submit"),c=s.text(),o=l.serializeObject(),d={processing:!0,serverSide:!0,searching:!1,destroy:!0,pagingType:"simple",language:{info:"_START_ - _END_ of _TOTAL_",infoEmpty:"0 - 0 of 0",lengthMenu:"Rows per page:  _MENU_",paginate:{next:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/> </svg>',previous:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/> </svg>'}},order:[],dom:'<"row"<"col-sm-12"tr>><"bottom d-flex p-3 border-top border-gray-200"<"row ms-auto align-items-center px-3"<"col-auto"fl><"col-auto"i><"col-auto"p>>>',ajax:{url:"/line-item-v2",type:"POST",contentType:"application/json; charset=utf-8",data:function(e){return o.length=e.length,o.start=e.start,e.postData=o,JSON.stringify(e)},beforeSend:function(e){i&&s.attr("disabled",!0).text("Loading...")},dataSrc:function(e){var t,n,l;return i&&s.attr("disabled",!1).text(c),i=!1,r?r=!1:(t=o,n=jQuery.param(t).replaceAll("%5B%5D",""),l=a+"?"+n,window.history.pushState("object or string","Title",l),window.history.replaceState("object or string","Title",l)),null===e.data?[]:e.data},error:function(e,t){new AlertError(e.responseText),i&&s.attr("disabled",!1).text(c)}},columns:[{data:"name",name:"Name"},{data:"target",name:"Target"},{data:"status",name:"Status"},{data:"server_type",name:"Type"},{data:"priority",name:"Priority"},{data:"action",name:"Action"}],drawCallback:function(e){$(".dataTables_paginate > ul.pagination > li > a.page-link").addClass("text-secondary"),$(".dataTables_paginate > ul.pagination > li.active > a").addClass("bg-warning border-warning").css("color","#111111"),$(".dataTables_length > label > select").removeClass().addClass("form-select form-select-sm"),i||$(".table-responsive").css("height","");[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}));$("[data-bs-toggle=popover]").popover({trigger:"manual",html:!0,animation:!0,sanitize:!1,sanitizeFn:function(e){return e}}).on("mouseenter",(function(){var e=this;$(this).popover("show"),$(".popover").on("mouseleave",(function(){$(e).popover("hide")}))})).on("mouseleave",(function(){var e=this;setTimeout((function(){$(".popover:hover").length||$(e).popover("hide")}),100)}))}};n=parseFloat(o.length),jQuery.inArray(n,[10,25,50,100])>=0&&(d.pageLength=n),i||(d.displayStart=parseFloat(o.start)),$(t).DataTable(d)}function u(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return e.id})).indexOf(e)}$(document).ready((function(){$("select.selectpicker").selectpicker("refresh"),$(e).find(".submit").on("click",(function(e){e.preventDefault(),d(!0)})),$(t).on("click","tbody td div.btn-group a.remove",(function(e){var t=$(this).data("id");confirm('Are you sure delete!"')&&function(e){var t="/line-item-v2/del";$.ajax({url:t,type:"POST",dataType:"JSON",contentType:"application/json",data:JSON.stringify({id:e}),beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined")},error:function(e,t){var a=AjaxErrorMessage(e,t);new AlertError("AJAX ERROR: "+a)}}).done((function(e){switch(e.status){case"success":NoticeSuccess("Line item has been removed successfully"),d(!1);break;case"err":new AlertError(e.message)}}))}(t)})),d(!1),function(){try{$("select.search-domain").selectpicker({liveSearch:!0}).ajaxSelectPicker({ajax:{url:"/line-item-v2/searchDomain",type:"GET",data:function(){return{q:"{{{q}}}"}}},locale:{emptyTitle:"All",statusInitialized:""},cache:!1,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!0,preserveSelected:!1,preprocessData:function(e){n.map((function(t,a){var r=u(e,t.id);-1===r?e.push(n[a]):e[r].selected=!0}));for(var t=[],a=e.length,r=0;r<a;r++){var i=e[r];t.push({value:i.id,text:i.name,disabled:!1,selected:i.selected})}return t}})}catch(e){console.log(e)}}(),function(){try{$("select.search-adformat").selectpicker({liveSearch:!0}).ajaxSelectPicker({ajax:{url:"/line-item-v2/searchAdFormat",type:"GET",data:function(){return{q:"{{{q}}}"}}},locale:{emptyTitle:"All",statusInitialized:""},cache:!1,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!0,preserveSelected:!1,preprocessData:function(e){i.map((function(t,a){var r=u(e,t.id);-1===r?e.push(i[a]):e[r].selected=!0}));for(var t=[],a=e.length,r=0;r<a;r++){var n=e[r];t.push({value:n.id,text:n.name,disabled:!1,selected:n.selected})}return t}})}catch(e){console.log(e)}}(),function(){try{$("select.search-adtag").selectpicker({liveSearch:!0}).ajaxSelectPicker({ajax:{url:"/line-item-v2/searchAdTag",type:"GET",data:function(){return{q:"{{{q}}}"}}},locale:{emptyTitle:"All",statusInitialized:""},cache:!1,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!0,preserveSelected:!1,preprocessData:function(e){s.map((function(t,a){var r=u(e,t.id);-1===r?e.push(s[a]):e[r].selected=!0}));for(var t=[],a=e.length,r=0;r<a;r++){var n=e[r];t.push({value:n.id,text:n.name,disabled:!1,selected:n.selected})}return t}})}catch(e){console.log(e)}}(),function(){try{$("select.search-adsize").selectpicker({liveSearch:!0}).ajaxSelectPicker({ajax:{url:"/line-item-v2/searchAdSize",type:"GET",data:function(){return{q:"{{{q}}}"}}},locale:{emptyTitle:"All",statusInitialized:""},cache:!1,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!0,preserveSelected:!1,preprocessData:function(e){l.map((function(t,a){var r=u(e,t.id);-1===r?e.push(l[a]):e[r].selected=!0}));for(var t=[],a=e.length,r=0;r<a;r++){var n=e[r];t.push({value:n.id,text:n.name,disabled:!1,selected:n.selected})}return t}})}catch(e){console.log(e)}}(),function(){try{$("select.search-country").selectpicker({liveSearch:!0}).ajaxSelectPicker({ajax:{url:"/line-item-v2/searchCountry",type:"GET",data:function(){return{q:"{{{q}}}"}}},locale:{emptyTitle:"All",statusInitialized:""},cache:!1,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!0,preserveSelected:!1,preprocessData:function(e){o.map((function(t,a){var r=u(e,t.id);-1===r?e.push(o[a]):e[r].selected=!0}));for(var t=[],a=e.length,r=0;r<a;r++){var n=e[r];t.push({value:n.id,text:n.name,disabled:!1,selected:n.selected})}return t}})}catch(e){console.log(e)}}(),function(){try{$("select.search-device").selectpicker({liveSearch:!0}).ajaxSelectPicker({ajax:{url:"/line-item-v2/searchDevice",type:"GET",data:function(){return{q:"{{{q}}}"}}},locale:{emptyTitle:"All",statusInitialized:""},cache:!1,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!0,preserveSelected:!1,preprocessData:function(e){c.map((function(t,a){var r=u(e,t.id);-1===r?e.push(c[a]):e[r].selected=!0}));for(var t=[],a=e.length,r=0;r<a;r++){var n=e[r];t.push({value:n.id,text:n.name,disabled:!1,selected:n.selected})}return t}})}catch(e){console.log(e)}}(),$("select.search-domain :selected").each((function(){n.push({id:parseInt($(this).val()),name:$(this).text(),selected:!0})})),$("select.search-adformat :selected").each((function(){i.push({id:parseInt($(this).val()),name:$(this).text(),selected:!0})})),$("select.search-adsize :selected").each((function(){l.push({id:parseInt($(this).val()),name:$(this).text(),selected:!0})})),$("select.search-adtag :selected").each((function(){s.push({id:parseInt($(this).val()),name:$(this).text(),selected:!0})})),$("select.search-device :selected").each((function(){c.push({id:parseInt($(this).val()),name:$(this).text(),selected:!0})})),$("select.search-country :selected").each((function(){o.push({id:parseInt($(this).val()),name:$(this).text(),selected:!0})})),s.length>0?($("#inventory").val("default").attr("disabled",!0).selectpicker("refresh"),$("#ad_format").val("default").attr("disabled",!0).selectpicker("refresh"),$("#ad_size").val("default").attr("disabled",!0).selectpicker("refresh")):($("#inventory").attr("disabled",!1).selectpicker("refresh"),$("#ad_format").attr("disabled",!1).selectpicker("refresh"),$("#ad_size").attr("disabled",!1).selectpicker("refresh")),$("select.search-domain").on("changed.bs.select",(function(e,t,a,r){if(null!==t&&null!==a){var i=$(this).find("option").eq(t).text(),l=parseInt($(this).find("option").eq(t).val()),s=n.map((function(e){return e.id})).indexOf(l);-1===s?n.push({id:l,name:i,selected:!0}):n.splice(s,1)}})),$("select.search-adformat").on("changed.bs.select",(function(e,t,a,r){if(null!==t&&null!==a){var n=$(this).find("option").eq(t).text(),l=parseInt($(this).find("option").eq(t).val()),s=i.map((function(e){return e.id})).indexOf(l);-1===s?i.push({id:l,name:n,selected:!0}):i.splice(s,1)}})),$("select.search-adsize").on("changed.bs.select",(function(e,t,a,r){if(null!==t&&null!==a){var n=$(this).find("option").eq(t).text(),i=parseInt($(this).find("option").eq(t).val()),s=l.map((function(e){return e.id})).indexOf(i);-1===s?l.push({id:i,name:n,selected:!0}):l.splice(s,1)}})),$("select.search-adtag").on("changed.bs.select",(function(e,t,a,r){if(null!==t&&null!==a){var n=$(this).find("option").eq(t).text(),i=parseInt($(this).find("option").eq(t).val()),l=s.map((function(e){return e.id})).indexOf(i);-1===l?s.push({id:i,name:n,selected:!0}):s.splice(l,1),s.length>0?($("#inventory").val("default").attr("disabled",!0).selectpicker("refresh"),$("#ad_format").val("default").attr("disabled",!0).selectpicker("refresh"),$("#ad_size").val("default").attr("disabled",!0).selectpicker("refresh")):($("#inventory").attr("disabled",!1).selectpicker("refresh"),$("#ad_format").attr("disabled",!1).selectpicker("refresh"),$("#ad_size").attr("disabled",!1).selectpicker("refresh"))}})),$("select.search-country").on("changed.bs.select",(function(e,t,a,r){if(null!==t&&null!==a){var n=$(this).find("option").eq(t).text(),i=parseInt($(this).find("option").eq(t).val()),l=o.map((function(e){return e.id})).indexOf(i);-1===l?o.push({id:i,name:n,selected:!0}):o.splice(l,1)}})),$("select.search-device").on("changed.bs.select",(function(e,t,a,r){if(null!==t&&null!==a){var n=$(this).find("option").eq(t).text(),i=parseInt($(this).find("option").eq(t).val()),l=c.map((function(e){return e.id})).indexOf(i);-1===l?c.push({id:i,name:n,selected:!0}):c.splice(l,1)}}))}))})();